var lw=Object.create;var gc=Object.defineProperty;var dw=Object.getOwnPropertyDescriptor;var fw=Object.getOwnPropertyNames;var hw=Object.getPrototypeOf,gw=Object.prototype.hasOwnProperty;var pw=t=>gc(t,"__esModule",{value:!0});var T=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var mw=(t,e,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of fw(e))!gw.call(t,r)&&r!=="default"&&gc(t,r,{get:()=>e[r],enumerable:!(n=dw(e,r))||n.enumerable});return t},vw=t=>mw(pw(gc(t!=null?lw(hw(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var co=T((xE,ad)=>{var yw="2.0.0",_w=256,ww=Number.MAX_SAFE_INTEGER||9007199254740991,bw=16;ad.exports={SEMVER_SPEC_VERSION:yw,MAX_LENGTH:_w,MAX_SAFE_INTEGER:ww,MAX_SAFE_COMPONENT_LENGTH:bw}});var uo=T((IE,cd)=>{var Rw=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};cd.exports=Rw});var $r=T((gr,ud)=>{var{MAX_SAFE_COMPONENT_LENGTH:pc}=co(),Cw=uo();gr=ud.exports={};var Sw=gr.re=[],U=gr.src=[],B=gr.t={},Dw=0,fe=(t,e,n)=>{let r=Dw++;Cw(t,r,e),B[t]=r,U[r]=e,Sw[r]=new RegExp(e,n?"g":void 0)};fe("NUMERICIDENTIFIER","0|[1-9]\\d*");fe("NUMERICIDENTIFIERLOOSE","[0-9]+");fe("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");fe("MAINVERSION",`(${U[B.NUMERICIDENTIFIER]})\\.(${U[B.NUMERICIDENTIFIER]})\\.(${U[B.NUMERICIDENTIFIER]})`);fe("MAINVERSIONLOOSE",`(${U[B.NUMERICIDENTIFIERLOOSE]})\\.(${U[B.NUMERICIDENTIFIERLOOSE]})\\.(${U[B.NUMERICIDENTIFIERLOOSE]})`);fe("PRERELEASEIDENTIFIER",`(?:${U[B.NUMERICIDENTIFIER]}|${U[B.NONNUMERICIDENTIFIER]})`);fe("PRERELEASEIDENTIFIERLOOSE",`(?:${U[B.NUMERICIDENTIFIERLOOSE]}|${U[B.NONNUMERICIDENTIFIER]})`);fe("PRERELEASE",`(?:-(${U[B.PRERELEASEIDENTIFIER]}(?:\\.${U[B.PRERELEASEIDENTIFIER]})*))`);fe("PRERELEASELOOSE",`(?:-?(${U[B.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${U[B.PRERELEASEIDENTIFIERLOOSE]})*))`);fe("BUILDIDENTIFIER","[0-9A-Za-z-]+");fe("BUILD",`(?:\\+(${U[B.BUILDIDENTIFIER]}(?:\\.${U[B.BUILDIDENTIFIER]})*))`);fe("FULLPLAIN",`v?${U[B.MAINVERSION]}${U[B.PRERELEASE]}?${U[B.BUILD]}?`);fe("FULL",`^${U[B.FULLPLAIN]}$`);fe("LOOSEPLAIN",`[v=\\s]*${U[B.MAINVERSIONLOOSE]}${U[B.PRERELEASELOOSE]}?${U[B.BUILD]}?`);fe("LOOSE",`^${U[B.LOOSEPLAIN]}$`);fe("GTLT","((?:<|>)?=?)");fe("XRANGEIDENTIFIERLOOSE",`${U[B.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);fe("XRANGEIDENTIFIER",`${U[B.NUMERICIDENTIFIER]}|x|X|\\*`);fe("XRANGEPLAIN",`[v=\\s]*(${U[B.XRANGEIDENTIFIER]})(?:\\.(${U[B.XRANGEIDENTIFIER]})(?:\\.(${U[B.XRANGEIDENTIFIER]})(?:${U[B.PRERELEASE]})?${U[B.BUILD]}?)?)?`);fe("XRANGEPLAINLOOSE",`[v=\\s]*(${U[B.XRANGEIDENTIFIERLOOSE]})(?:\\.(${U[B.XRANGEIDENTIFIERLOOSE]})(?:\\.(${U[B.XRANGEIDENTIFIERLOOSE]})(?:${U[B.PRERELEASELOOSE]})?${U[B.BUILD]}?)?)?`);fe("XRANGE",`^${U[B.GTLT]}\\s*${U[B.XRANGEPLAIN]}$`);fe("XRANGELOOSE",`^${U[B.GTLT]}\\s*${U[B.XRANGEPLAINLOOSE]}$`);fe("COERCE",`(^|[^\\d])(\\d{1,${pc}})(?:\\.(\\d{1,${pc}}))?(?:\\.(\\d{1,${pc}}))?(?:$|[^\\d])`);fe("COERCERTL",U[B.COERCE],!0);fe("LONETILDE","(?:~>?)");fe("TILDETRIM",`(\\s*)${U[B.LONETILDE]}\\s+`,!0);gr.tildeTrimReplace="$1~";fe("TILDE",`^${U[B.LONETILDE]}${U[B.XRANGEPLAIN]}$`);fe("TILDELOOSE",`^${U[B.LONETILDE]}${U[B.XRANGEPLAINLOOSE]}$`);fe("LONECARET","(?:\\^)");fe("CARETTRIM",`(\\s*)${U[B.LONECARET]}\\s+`,!0);gr.caretTrimReplace="$1^";fe("CARET",`^${U[B.LONECARET]}${U[B.XRANGEPLAIN]}$`);fe("CARETLOOSE",`^${U[B.LONECARET]}${U[B.XRANGEPLAINLOOSE]}$`);fe("COMPARATORLOOSE",`^${U[B.GTLT]}\\s*(${U[B.LOOSEPLAIN]})$|^$`);fe("COMPARATOR",`^${U[B.GTLT]}\\s*(${U[B.FULLPLAIN]})$|^$`);fe("COMPARATORTRIM",`(\\s*)${U[B.GTLT]}\\s*(${U[B.LOOSEPLAIN]}|${U[B.XRANGEPLAIN]})`,!0);gr.comparatorTrimReplace="$1$2$3";fe("HYPHENRANGE",`^\\s*(${U[B.XRANGEPLAIN]})\\s+-\\s+(${U[B.XRANGEPLAIN]})\\s*$`);fe("HYPHENRANGELOOSE",`^\\s*(${U[B.XRANGEPLAINLOOSE]})\\s+-\\s+(${U[B.XRANGEPLAINLOOSE]})\\s*$`);fe("STAR","(<|>)?=?\\s*\\*");fe("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");fe("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var lo=T((NE,ld)=>{var Pw=["includePrerelease","loose","rtl"],Tw=t=>t?typeof t!="object"?{loose:!0}:Pw.filter(e=>t[e]).reduce((e,n)=>(e[n]=!0,e),{}):{};ld.exports=Tw});var ms=T((AE,hd)=>{var dd=/^[0-9]+$/,fd=(t,e)=>{let n=dd.test(t),r=dd.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},qw=(t,e)=>fd(e,t);hd.exports={compareIdentifiers:fd,rcompareIdentifiers:qw}});var ft=T((LE,vd)=>{var vs=uo(),{MAX_LENGTH:gd,MAX_SAFE_INTEGER:ys}=co(),{re:pd,t:md}=$r(),Ew=lo(),{compareIdentifiers:di}=ms(),Gt=class{constructor(e,n){if(n=Ew(n),e instanceof Gt){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>gd)throw new TypeError(`version is longer than ${gd} characters`);vs("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=e.trim().match(n.loose?pd[md.LOOSE]:pd[md.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>ys||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ys||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ys||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<ys)return s}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(vs("SemVer.compare",this.version,this.options,e),!(e instanceof Gt)){if(typeof e=="string"&&e===this.version)return 0;e=new Gt(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Gt||(e=new Gt(e,this.options)),di(this.major,e.major)||di(this.minor,e.minor)||di(this.patch,e.patch)}comparePre(e){if(e instanceof Gt||(e=new Gt(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],i=e.prerelease[n];if(vs("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return di(r,i)}while(++n)}compareBuild(e){e instanceof Gt||(e=new Gt(e,this.options));let n=0;do{let r=this.build[n],i=e.build[n];if(vs("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return di(r,i)}while(++n)}inc(e,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n),this.inc("pre",n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n),this.inc("pre",n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let r=this.prerelease.length;for(;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}n&&(di(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=[n,0]):this.prerelease=[n,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};vd.exports=Gt});var Hr=T((jE,bd)=>{var{MAX_LENGTH:Ow}=co(),{re:yd,t:_d}=$r(),wd=ft(),Fw=lo(),kw=(t,e)=>{if(e=Fw(e),t instanceof wd)return t;if(typeof t!="string"||t.length>Ow||!(e.loose?yd[_d.LOOSE]:yd[_d.FULL]).test(t))return null;try{return new wd(t,e)}catch{return null}};bd.exports=kw});var Cd=T((WE,Rd)=>{var Mw=Hr(),xw=(t,e)=>{let n=Mw(t,e);return n?n.version:null};Rd.exports=xw});var Dd=T(($E,Sd)=>{var Iw=Hr(),Nw=(t,e)=>{let n=Iw(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};Sd.exports=Nw});var qd=T((HE,Td)=>{var Pd=ft(),Aw=(t,e,n,r)=>{typeof n=="string"&&(r=n,n=void 0);try{return new Pd(t instanceof Pd?t.version:t,n).inc(e,r).version}catch{return null}};Td.exports=Aw});var Xt=T((zE,Od)=>{var Ed=ft(),Lw=(t,e,n)=>new Ed(t,n).compare(new Ed(e,n));Od.exports=Lw});var _s=T((KE,Fd)=>{var jw=Xt(),Ww=(t,e,n)=>jw(t,e,n)===0;Fd.exports=Ww});var xd=T((UE,Md)=>{var kd=Hr(),$w=_s(),Hw=(t,e)=>{if($w(t,e))return null;{let n=kd(t),r=kd(e),i=n.prerelease.length||r.prerelease.length,s=i?"pre":"",o=i?"prerelease":"";for(let a in n)if((a==="major"||a==="minor"||a==="patch")&&n[a]!==r[a])return s+a;return o}};Md.exports=Hw});var Nd=T((BE,Id)=>{var zw=ft(),Kw=(t,e)=>new zw(t,e).major;Id.exports=Kw});var Ld=T((GE,Ad)=>{var Uw=ft(),Bw=(t,e)=>new Uw(t,e).minor;Ad.exports=Bw});var Wd=T((XE,jd)=>{var Gw=ft(),Xw=(t,e)=>new Gw(t,e).patch;jd.exports=Xw});var Hd=T((VE,$d)=>{var Vw=Hr(),Jw=(t,e)=>{let n=Vw(t,e);return n&&n.prerelease.length?n.prerelease:null};$d.exports=Jw});var Kd=T((JE,zd)=>{var Qw=Xt(),Yw=(t,e,n)=>Qw(e,t,n);zd.exports=Yw});var Bd=T((QE,Ud)=>{var Zw=Xt(),eb=(t,e)=>Zw(t,e,!0);Ud.exports=eb});var ws=T((YE,Xd)=>{var Gd=ft(),tb=(t,e,n)=>{let r=new Gd(t,n),i=new Gd(e,n);return r.compare(i)||r.compareBuild(i)};Xd.exports=tb});var Jd=T((ZE,Vd)=>{var nb=ws(),rb=(t,e)=>t.sort((n,r)=>nb(n,r,e));Vd.exports=rb});var Yd=T((eO,Qd)=>{var ib=ws(),ob=(t,e)=>t.sort((n,r)=>ib(r,n,e));Qd.exports=ob});var fo=T((tO,Zd)=>{var sb=Xt(),ab=(t,e,n)=>sb(t,e,n)>0;Zd.exports=ab});var bs=T((nO,ef)=>{var cb=Xt(),ub=(t,e,n)=>cb(t,e,n)<0;ef.exports=ub});var mc=T((rO,tf)=>{var lb=Xt(),db=(t,e,n)=>lb(t,e,n)!==0;tf.exports=db});var Rs=T((iO,nf)=>{var fb=Xt(),hb=(t,e,n)=>fb(t,e,n)>=0;nf.exports=hb});var Cs=T((oO,rf)=>{var gb=Xt(),pb=(t,e,n)=>gb(t,e,n)<=0;rf.exports=pb});var vc=T((sO,of)=>{var mb=_s(),vb=mc(),yb=fo(),_b=Rs(),wb=bs(),bb=Cs(),Rb=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return mb(t,n,r);case"!=":return vb(t,n,r);case">":return yb(t,n,r);case">=":return _b(t,n,r);case"<":return wb(t,n,r);case"<=":return bb(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};of.exports=Rb});var af=T((aO,sf)=>{var Cb=ft(),Sb=Hr(),{re:Ss,t:Ds}=$r(),Db=(t,e)=>{if(t instanceof Cb)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(Ss[Ds.COERCE]);else{let r;for(;(r=Ss[Ds.COERCERTL].exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||r.index+r[0].length!==n.index+n[0].length)&&(n=r),Ss[Ds.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;Ss[Ds.COERCERTL].lastIndex=-1}return n===null?null:Sb(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,e)};sf.exports=Db});var uf=T((cO,cf)=>{"use strict";cf.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var df=T((uO,lf)=>{"use strict";lf.exports=be;be.Node=zr;be.create=be;function be(t){var e=this;if(e instanceof be||(e=new be),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)e.push(arguments[n]);return e}be.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;return e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null,e};be.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};be.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};be.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Tb(this,arguments[t]);return this.length};be.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)qb(this,arguments[t]);return this.length};be.prototype.pop=function(){if(!!this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};be.prototype.shift=function(){if(!!this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};be.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,r=0;n!==null;r++)t.call(e,n.value,r,this),n=n.next};be.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,r=this.length-1;n!==null;r--)t.call(e,n.value,r,this),n=n.prev};be.prototype.get=function(t){for(var e=0,n=this.head;n!==null&&e<t;e++)n=n.next;if(e===t&&n!==null)return n.value};be.prototype.getReverse=function(t){for(var e=0,n=this.tail;n!==null&&e<t;e++)n=n.prev;if(e===t&&n!==null)return n.value};be.prototype.map=function(t,e){e=e||this;for(var n=new be,r=this.head;r!==null;)n.push(t.call(e,r.value,this)),r=r.next;return n};be.prototype.mapReverse=function(t,e){e=e||this;for(var n=new be,r=this.tail;r!==null;)n.push(t.call(e,r.value,this)),r=r.prev;return n};be.prototype.reduce=function(t,e){var n,r=this.head;if(arguments.length>1)n=e;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)n=t(n,r.value,i),r=r.next;return n};be.prototype.reduceReverse=function(t,e){var n,r=this.tail;if(arguments.length>1)n=e;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)n=t(n,r.value,i),r=r.prev;return n};be.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;n!==null;e++)t[e]=n.value,n=n.next;return t};be.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;n!==null;e++)t[e]=n.value,n=n.prev;return t};be.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new be;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=0,i=this.head;i!==null&&r<t;r++)i=i.next;for(;i!==null&&r<e;r++,i=i.next)n.push(i.value);return n};be.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new be;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=this.length,i=this.tail;i!==null&&r>e;r--)i=i.prev;for(;i!==null&&r>t;r--,i=i.prev)n.push(i.value);return n};be.prototype.splice=function(t,e,...n){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var r=0,i=this.head;i!==null&&r<t;r++)i=i.next;for(var s=[],r=0;i&&r<e;r++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=Pb(this,i,n[r]);return s};be.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=e,this.tail=t,this};function Pb(t,e,n){var r=e===t.head?new zr(n,null,e,t):new zr(n,e,e.next,t);return r.next===null&&(t.tail=r),r.prev===null&&(t.head=r),t.length++,r}function Tb(t,e){t.tail=new zr(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function qb(t,e){t.head=new zr(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function zr(t,e,n,r){if(!(this instanceof zr))return new zr(t,e,n,r);this.list=r,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{uf()(be)}catch{}});var yf=T((lO,vf)=>{"use strict";var Eb=df(),Kr=Symbol("max"),Gn=Symbol("length"),fi=Symbol("lengthCalculator"),ho=Symbol("allowStale"),Ur=Symbol("maxAge"),Xn=Symbol("dispose"),ff=Symbol("noDisposeOnSet"),nt=Symbol("lruList"),un=Symbol("cache"),hf=Symbol("updateAgeOnGet"),yc=()=>1,gf=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let n=this[Kr]=e.max||1/0,r=e.length||yc;if(this[fi]=typeof r!="function"?yc:r,this[ho]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Ur]=e.maxAge||0,this[Xn]=e.dispose,this[ff]=e.noDisposeOnSet||!1,this[hf]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Kr]=e||1/0,go(this)}get max(){return this[Kr]}set allowStale(e){this[ho]=!!e}get allowStale(){return this[ho]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Ur]=e,go(this)}get maxAge(){return this[Ur]}set lengthCalculator(e){typeof e!="function"&&(e=yc),e!==this[fi]&&(this[fi]=e,this[Gn]=0,this[nt].forEach(n=>{n.length=this[fi](n.value,n.key),this[Gn]+=n.length})),go(this)}get lengthCalculator(){return this[fi]}get length(){return this[Gn]}get itemCount(){return this[nt].length}rforEach(e,n){n=n||this;for(let r=this[nt].tail;r!==null;){let i=r.prev;mf(this,e,r,n),r=i}}forEach(e,n){n=n||this;for(let r=this[nt].head;r!==null;){let i=r.next;mf(this,e,r,n),r=i}}keys(){return this[nt].toArray().map(e=>e.key)}values(){return this[nt].toArray().map(e=>e.value)}reset(){this[Xn]&&this[nt]&&this[nt].length&&this[nt].forEach(e=>this[Xn](e.key,e.value)),this[un]=new Map,this[nt]=new Eb,this[Gn]=0}dump(){return this[nt].map(e=>Ps(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[nt]}set(e,n,r){if(r=r||this[Ur],r&&typeof r!="number")throw new TypeError("maxAge must be a number");let i=r?Date.now():0,s=this[fi](n,e);if(this[un].has(e)){if(s>this[Kr])return hi(this,this[un].get(e)),!1;let c=this[un].get(e).value;return this[Xn]&&(this[ff]||this[Xn](e,c.value)),c.now=i,c.maxAge=r,c.value=n,this[Gn]+=s-c.length,c.length=s,this.get(e),go(this),!0}let o=new pf(e,n,s,i,r);return o.length>this[Kr]?(this[Xn]&&this[Xn](e,n),!1):(this[Gn]+=o.length,this[nt].unshift(o),this[un].set(e,this[nt].head),go(this),!0)}has(e){if(!this[un].has(e))return!1;let n=this[un].get(e).value;return!Ps(this,n)}get(e){return _c(this,e,!0)}peek(e){return _c(this,e,!1)}pop(){let e=this[nt].tail;return e?(hi(this,e),e.value):null}del(e){hi(this,this[un].get(e))}load(e){this.reset();let n=Date.now();for(let r=e.length-1;r>=0;r--){let i=e[r],s=i.e||0;if(s===0)this.set(i.k,i.v);else{let o=s-n;o>0&&this.set(i.k,i.v,o)}}}prune(){this[un].forEach((e,n)=>_c(this,n,!1))}},_c=(t,e,n)=>{let r=t[un].get(e);if(r){let i=r.value;if(Ps(t,i)){if(hi(t,r),!t[ho])return}else n&&(t[hf]&&(r.value.now=Date.now()),t[nt].unshiftNode(r));return i.value}},Ps=(t,e)=>{if(!e||!e.maxAge&&!t[Ur])return!1;let n=Date.now()-e.now;return e.maxAge?n>e.maxAge:t[Ur]&&n>t[Ur]},go=t=>{if(t[Gn]>t[Kr])for(let e=t[nt].tail;t[Gn]>t[Kr]&&e!==null;){let n=e.prev;hi(t,e),e=n}},hi=(t,e)=>{if(e){let n=e.value;t[Xn]&&t[Xn](n.key,n.value),t[Gn]-=n.length,t[un].delete(n.key),t[nt].removeNode(e)}},pf=class{constructor(e,n,r,i,s){this.key=e,this.value=n,this.length=r,this.now=i,this.maxAge=s||0}},mf=(t,e,n,r)=>{let i=n.value;Ps(t,i)&&(hi(t,n),t[ho]||(i=void 0)),i&&e.call(r,i.value,i.key,t)};vf.exports=gf});var Vt=T((dO,Rf)=>{var gi=class{constructor(e,n){if(n=Fb(n),e instanceof gi)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new gi(e.raw,n);if(e instanceof wc)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e,this.set=e.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(i=>!wf(i[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&Nb(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let r=`parseRange:${Object.keys(this.options).join(",")}:${e}`,i=_f.get(r);if(i)return i;let s=this.options.loose,o=s?St[pt.HYPHENRANGELOOSE]:St[pt.HYPHENRANGE];e=e.replace(o,Bb(this.options.includePrerelease)),We("hyphen replace",e),e=e.replace(St[pt.COMPARATORTRIM],Mb),We("comparator trim",e),e=e.replace(St[pt.TILDETRIM],xb),e=e.replace(St[pt.CARETTRIM],Ib),e=e.split(/\s+/).join(" ");let a=e.split(" ").map(p=>Ab(p,this.options)).join(" ").split(/\s+/).map(p=>Ub(p,this.options));s&&(a=a.filter(p=>(We("loose invalid filter",p,this.options),!!p.match(St[pt.COMPARATORLOOSE])))),We("range list",a);let c=new Map,d=a.map(p=>new wc(p,this.options));for(let p of d){if(wf(p))return[p];c.set(p.value,p)}c.size>1&&c.has("")&&c.delete("");let h=[...c.values()];return _f.set(r,h),h}intersects(e,n){if(!(e instanceof gi))throw new TypeError("a Range is required");return this.set.some(r=>bf(r,n)&&e.set.some(i=>bf(i,n)&&r.every(s=>i.every(o=>s.intersects(o,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new kb(e,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(Gb(this.set[n],e,this.options))return!0;return!1}};Rf.exports=gi;var Ob=yf(),_f=new Ob({max:1e3}),Fb=lo(),wc=po(),We=uo(),kb=ft(),{re:St,t:pt,comparatorTrimReplace:Mb,tildeTrimReplace:xb,caretTrimReplace:Ib}=$r(),wf=t=>t.value==="<0.0.0-0",Nb=t=>t.value==="",bf=(t,e)=>{let n=!0,r=t.slice(),i=r.pop();for(;n&&r.length;)n=r.every(s=>i.intersects(s,e)),i=r.pop();return n},Ab=(t,e)=>(We("comp",t,e),t=Wb(t,e),We("caret",t),t=Lb(t,e),We("tildes",t),t=Hb(t,e),We("xrange",t),t=Kb(t,e),We("stars",t),t),mt=t=>!t||t.toLowerCase()==="x"||t==="*",Lb=(t,e)=>t.trim().split(/\s+/).map(n=>jb(n,e)).join(" "),jb=(t,e)=>{let n=e.loose?St[pt.TILDELOOSE]:St[pt.TILDE];return t.replace(n,(r,i,s,o,a)=>{We("tilde",t,r,i,s,o,a);let c;return mt(i)?c="":mt(s)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:mt(o)?c=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:a?(We("replaceTilde pr",a),c=`>=${i}.${s}.${o}-${a} <${i}.${+s+1}.0-0`):c=`>=${i}.${s}.${o} <${i}.${+s+1}.0-0`,We("tilde return",c),c})},Wb=(t,e)=>t.trim().split(/\s+/).map(n=>$b(n,e)).join(" "),$b=(t,e)=>{We("caret",t,e);let n=e.loose?St[pt.CARETLOOSE]:St[pt.CARET],r=e.includePrerelease?"-0":"";return t.replace(n,(i,s,o,a,c)=>{We("caret",t,i,s,o,a,c);let d;return mt(s)?d="":mt(o)?d=`>=${s}.0.0${r} <${+s+1}.0.0-0`:mt(a)?s==="0"?d=`>=${s}.${o}.0${r} <${s}.${+o+1}.0-0`:d=`>=${s}.${o}.0${r} <${+s+1}.0.0-0`:c?(We("replaceCaret pr",c),s==="0"?o==="0"?d=`>=${s}.${o}.${a}-${c} <${s}.${o}.${+a+1}-0`:d=`>=${s}.${o}.${a}-${c} <${s}.${+o+1}.0-0`:d=`>=${s}.${o}.${a}-${c} <${+s+1}.0.0-0`):(We("no pr"),s==="0"?o==="0"?d=`>=${s}.${o}.${a}${r} <${s}.${o}.${+a+1}-0`:d=`>=${s}.${o}.${a}${r} <${s}.${+o+1}.0-0`:d=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),We("caret return",d),d})},Hb=(t,e)=>(We("replaceXRanges",t,e),t.split(/\s+/).map(n=>zb(n,e)).join(" ")),zb=(t,e)=>{t=t.trim();let n=e.loose?St[pt.XRANGELOOSE]:St[pt.XRANGE];return t.replace(n,(r,i,s,o,a,c)=>{We("xRange",t,r,i,s,o,a,c);let d=mt(s),h=d||mt(o),p=h||mt(a),m=p;return i==="="&&m&&(i=""),c=e.includePrerelease?"-0":"",d?i===">"||i==="<"?r="<0.0.0-0":r="*":i&&m?(h&&(o=0),a=0,i===">"?(i=">=",h?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",h?s=+s+1:o=+o+1),i==="<"&&(c="-0"),r=`${i+s}.${o}.${a}${c}`):h?r=`>=${s}.0.0${c} <${+s+1}.0.0-0`:p&&(r=`>=${s}.${o}.0${c} <${s}.${+o+1}.0-0`),We("xRange return",r),r})},Kb=(t,e)=>(We("replaceStars",t,e),t.trim().replace(St[pt.STAR],"")),Ub=(t,e)=>(We("replaceGTE0",t,e),t.trim().replace(St[e.includePrerelease?pt.GTE0PRE:pt.GTE0],"")),Bb=t=>(e,n,r,i,s,o,a,c,d,h,p,m,v)=>(mt(r)?n="":mt(i)?n=`>=${r}.0.0${t?"-0":""}`:mt(s)?n=`>=${r}.${i}.0${t?"-0":""}`:o?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,mt(d)?c="":mt(h)?c=`<${+d+1}.0.0-0`:mt(p)?c=`<${d}.${+h+1}.0-0`:m?c=`<=${d}.${h}.${p}-${m}`:t?c=`<${d}.${h}.${+p+1}-0`:c=`<=${c}`,`${n} ${c}`.trim()),Gb=(t,e,n)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let r=0;r<t.length;r++)if(We(t[r].semver),t[r].semver!==wc.ANY&&t[r].semver.prerelease.length>0){let i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var po=T((fO,Tf)=>{var mo=Symbol("SemVer ANY"),vo=class{static get ANY(){return mo}constructor(e,n){if(n=Xb(n),e instanceof vo){if(e.loose===!!n.loose)return e;e=e.value}Rc("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===mo?this.value="":this.value=this.operator+this.semver.version,Rc("comp",this)}parse(e){let n=this.options.loose?Cf[Sf.COMPARATORLOOSE]:Cf[Sf.COMPARATOR],r=e.match(n);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new Df(r[2],this.options.loose):this.semver=mo}toString(){return this.value}test(e){if(Rc("Comparator.test",e,this.options.loose),this.semver===mo||e===mo)return!0;if(typeof e=="string")try{e=new Df(e,this.options)}catch{return!1}return bc(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof vo))throw new TypeError("a Comparator is required");if((!n||typeof n!="object")&&(n={loose:!!n,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new Pf(e.value,n).test(this.value);if(e.operator==="")return e.value===""?!0:new Pf(this.value,n).test(e.semver);let r=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),s=this.semver.version===e.semver.version,o=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=bc(this.semver,"<",e.semver,n)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),c=bc(this.semver,">",e.semver,n)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return r||i||s&&o||a||c}};Tf.exports=vo;var Xb=lo(),{re:Cf,t:Sf}=$r(),bc=vc(),Rc=uo(),Df=ft(),Pf=Vt()});var yo=T((hO,qf)=>{var Vb=Vt(),Jb=(t,e,n)=>{try{e=new Vb(e,n)}catch{return!1}return e.test(t)};qf.exports=Jb});var Of=T((gO,Ef)=>{var Qb=Vt(),Yb=(t,e)=>new Qb(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));Ef.exports=Yb});var kf=T((pO,Ff)=>{var Zb=ft(),eR=Vt(),tR=(t,e,n)=>{let r=null,i=null,s=null;try{s=new eR(e,n)}catch{return null}return t.forEach(o=>{s.test(o)&&(!r||i.compare(o)===-1)&&(r=o,i=new Zb(r,n))}),r};Ff.exports=tR});var xf=T((mO,Mf)=>{var nR=ft(),rR=Vt(),iR=(t,e,n)=>{let r=null,i=null,s=null;try{s=new rR(e,n)}catch{return null}return t.forEach(o=>{s.test(o)&&(!r||i.compare(o)===1)&&(r=o,i=new nR(r,n))}),r};Mf.exports=iR});var Af=T((vO,Nf)=>{var Cc=ft(),oR=Vt(),If=fo(),sR=(t,e)=>{t=new oR(t,e);let n=new Cc("0.0.0");if(t.test(n)||(n=new Cc("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){let i=t.set[r],s=null;i.forEach(o=>{let a=new Cc(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||If(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!n||If(n,s))&&(n=s)}return n&&t.test(n)?n:null};Nf.exports=sR});var jf=T((yO,Lf)=>{var aR=Vt(),cR=(t,e)=>{try{return new aR(t,e).range||"*"}catch{return null}};Lf.exports=cR});var Ts=T((_O,zf)=>{var uR=ft(),Wf=po(),{ANY:lR}=Wf,dR=Vt(),fR=yo(),$f=fo(),Hf=bs(),hR=Cs(),gR=Rs(),pR=(t,e,n,r)=>{t=new uR(t,r),e=new dR(e,r);let i,s,o,a,c;switch(n){case">":i=$f,s=hR,o=Hf,a=">",c=">=";break;case"<":i=Hf,s=gR,o=$f,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(fR(t,e,r))return!1;for(let d=0;d<e.set.length;++d){let h=e.set[d],p=null,m=null;if(h.forEach(v=>{v.semver===lR&&(v=new Wf(">=0.0.0")),p=p||v,m=m||v,i(v.semver,p.semver,r)?p=v:o(v.semver,m.semver,r)&&(m=v)}),p.operator===a||p.operator===c||(!m.operator||m.operator===a)&&s(t,m.semver))return!1;if(m.operator===c&&o(t,m.semver))return!1}return!0};zf.exports=pR});var Uf=T((wO,Kf)=>{var mR=Ts(),vR=(t,e,n)=>mR(t,e,">",n);Kf.exports=vR});var Gf=T((bO,Bf)=>{var yR=Ts(),_R=(t,e,n)=>yR(t,e,"<",n);Bf.exports=_R});var Jf=T((RO,Vf)=>{var Xf=Vt(),wR=(t,e,n)=>(t=new Xf(t,n),e=new Xf(e,n),t.intersects(e));Vf.exports=wR});var Yf=T((CO,Qf)=>{var bR=yo(),RR=Xt();Qf.exports=(t,e,n)=>{let r=[],i=null,s=null,o=t.sort((h,p)=>RR(h,p,n));for(let h of o)bR(h,e,n)?(s=h,i||(i=h)):(s&&r.push([i,s]),s=null,i=null);i&&r.push([i,null]);let a=[];for(let[h,p]of r)h===p?a.push(h):!p&&h===o[0]?a.push("*"):p?h===o[0]?a.push(`<=${p}`):a.push(`${h} - ${p}`):a.push(`>=${h}`);let c=a.join(" || "),d=typeof e.raw=="string"?e.raw:String(e);return c.length<d.length?c:e}});var rh=T((SO,nh)=>{var Zf=Vt(),qs=po(),{ANY:Sc}=qs,_o=yo(),Dc=Xt(),CR=(t,e,n={})=>{if(t===e)return!0;t=new Zf(t,n),e=new Zf(e,n);let r=!1;e:for(let i of t.set){for(let s of e.set){let o=SR(i,s,n);if(r=r||o!==null,o)continue e}if(r)return!1}return!0},SR=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Sc){if(e.length===1&&e[0].semver===Sc)return!0;n.includePrerelease?t=[new qs(">=0.0.0-0")]:t=[new qs(">=0.0.0")]}if(e.length===1&&e[0].semver===Sc){if(n.includePrerelease)return!0;e=[new qs(">=0.0.0")]}let r=new Set,i,s;for(let v of t)v.operator===">"||v.operator===">="?i=eh(i,v,n):v.operator==="<"||v.operator==="<="?s=th(s,v,n):r.add(v.semver);if(r.size>1)return null;let o;if(i&&s){if(o=Dc(i.semver,s.semver,n),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let v of r){if(i&&!_o(v,String(i),n)||s&&!_o(v,String(s),n))return null;for(let O of e)if(!_o(v,String(O),n))return!1;return!0}let a,c,d,h,p=s&&!n.includePrerelease&&s.semver.prerelease.length?s.semver:!1,m=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;p&&p.prerelease.length===1&&s.operator==="<"&&p.prerelease[0]===0&&(p=!1);for(let v of e){if(h=h||v.operator===">"||v.operator===">=",d=d||v.operator==="<"||v.operator==="<=",i){if(m&&v.semver.prerelease&&v.semver.prerelease.length&&v.semver.major===m.major&&v.semver.minor===m.minor&&v.semver.patch===m.patch&&(m=!1),v.operator===">"||v.operator===">="){if(a=eh(i,v,n),a===v&&a!==i)return!1}else if(i.operator===">="&&!_o(i.semver,String(v),n))return!1}if(s){if(p&&v.semver.prerelease&&v.semver.prerelease.length&&v.semver.major===p.major&&v.semver.minor===p.minor&&v.semver.patch===p.patch&&(p=!1),v.operator==="<"||v.operator==="<="){if(c=th(s,v,n),c===v&&c!==s)return!1}else if(s.operator==="<="&&!_o(s.semver,String(v),n))return!1}if(!v.operator&&(s||i)&&o!==0)return!1}return!(i&&d&&!s&&o!==0||s&&h&&!i&&o!==0||m||p)},eh=(t,e,n)=>{if(!t)return e;let r=Dc(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},th=(t,e,n)=>{if(!t)return e;let r=Dc(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t};nh.exports=CR});var Tc=T((DO,ih)=>{var Pc=$r();ih.exports={re:Pc.re,src:Pc.src,tokens:Pc.t,SEMVER_SPEC_VERSION:co().SEMVER_SPEC_VERSION,SemVer:ft(),compareIdentifiers:ms().compareIdentifiers,rcompareIdentifiers:ms().rcompareIdentifiers,parse:Hr(),valid:Cd(),clean:Dd(),inc:qd(),diff:xd(),major:Nd(),minor:Ld(),patch:Wd(),prerelease:Hd(),compare:Xt(),rcompare:Kd(),compareLoose:Bd(),compareBuild:ws(),sort:Jd(),rsort:Yd(),gt:fo(),lt:bs(),eq:_s(),neq:mc(),gte:Rs(),lte:Cs(),cmp:vc(),coerce:af(),Comparator:po(),Range:Vt(),satisfies:yo(),toComparators:Of(),maxSatisfying:kf(),minSatisfying:xf(),minVersion:Af(),validRange:jf(),outside:Ts(),gtr:Uf(),ltr:Gf(),intersects:Jf(),simplifyRange:Yf(),subset:rh()}});var pr=T(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.asPromise=ze.thenable=ze.typedArray=ze.stringArray=ze.array=ze.func=ze.error=ze.number=ze.string=ze.boolean=void 0;function DR(t){return t===!0||t===!1}ze.boolean=DR;function oh(t){return typeof t=="string"||t instanceof String}ze.string=oh;function PR(t){return typeof t=="number"||t instanceof Number}ze.number=PR;function TR(t){return t instanceof Error}ze.error=TR;function sh(t){return typeof t=="function"}ze.func=sh;function ah(t){return Array.isArray(t)}ze.array=ah;function qR(t){return ah(t)&&t.every(e=>oh(e))}ze.stringArray=qR;function ER(t,e){return Array.isArray(t)&&t.every(e)}ze.typedArray=ER;function ch(t){return t&&sh(t.then)}ze.thenable=ch;function OR(t){return t instanceof Promise?t:ch(t)?new Promise((e,n)=>{t.then(r=>e(r),r=>n(r))}):Promise.resolve(t)}ze.asPromise=OR});var Vn=T(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});var qc;function Ec(){if(qc===void 0)throw new Error("No runtime abstraction layer installed");return qc}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");qc=n}t.install=e})(Ec||(Ec={}));Oc.default=Ec});var Fc=T(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});wo.Disposable=void 0;var FR;(function(t){function e(n){return{dispose:n}}t.create=e})(FR=wo.Disposable||(wo.Disposable={}))});var lh=T(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.AbstractMessageBuffer=void 0;var kR=13,MR=10,xR=`\r
`,uh=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,n=0,r=0,i=0;e:for(;n<this._chunks.length;){let c=this._chunks[n];r=0;t:for(;r<c.length;){switch(c[r]){case kR:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case MR:switch(e){case 1:e=2;break;case 3:e=4,r++;break e;default:e=0}break;default:e=0}r++}i+=c.byteLength,n++}if(e!==4)return;let s=this._read(i+r),o=new Map,a=this.toString(s,"ascii").split(xR);if(a.length<2)return o;for(let c=0;c<a.length-2;c++){let d=a[c],h=d.indexOf(":");if(h===-1)throw new Error("Message header must separate key and value using :");let p=d.substr(0,h),m=d.substr(h+1).trim();o.set(p,m)}return o}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],o=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,o}let n=this.allocNative(e),r=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let o=s.slice(0,e);n.set(o,r),r+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e}else n.set(s,r),r+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return n}};Es.AbstractMessageBuffer=uh});var ph=T(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});var IR=Vn(),dh=require("util"),Br=Fc(),NR=lh(),bo=class extends NR.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return bo.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new dh.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};bo.emptyBuffer=Buffer.allocUnsafe(0);var fh=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Br.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Br.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Br.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),Br.Disposable.create(()=>this.stream.off("data",e))}},hh=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Br.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Br.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Br.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,i)=>{let s=o=>{o==null?r():i(o)};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s)})}end(){this.stream.end()}},gh=Object.freeze({messageBuffer:Object.freeze({create:t=>new bo(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new dh.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new fh(t),asWritableStream:t=>new hh(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){return setTimeout(t,e,...n)},clearTimeout(t){clearTimeout(t)},setImmediate(t,...e){return setImmediate(t,...e)},clearImmediate(t){clearImmediate(t)}})});function kc(){return gh}(function(t){function e(){IR.default.install(gh)}t.install=e})(kc||(kc={}));Mc.default=kc});var pi=T(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.stringArray=ht.array=ht.func=ht.error=ht.number=ht.string=ht.boolean=void 0;function AR(t){return t===!0||t===!1}ht.boolean=AR;function mh(t){return typeof t=="string"||t instanceof String}ht.string=mh;function LR(t){return typeof t=="number"||t instanceof Number}ht.number=LR;function jR(t){return t instanceof Error}ht.error=jR;function WR(t){return typeof t=="function"}ht.func=WR;function vh(t){return Array.isArray(t)}ht.array=vh;function $R(t){return vh(t)&&t.every(e=>mh(e))}ht.stringArray=$R});var xc=T(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.isResponseMessage=G.isNotificationMessage=G.isRequestMessage=G.NotificationType9=G.NotificationType8=G.NotificationType7=G.NotificationType6=G.NotificationType5=G.NotificationType4=G.NotificationType3=G.NotificationType2=G.NotificationType1=G.NotificationType0=G.NotificationType=G.RequestType9=G.RequestType8=G.RequestType7=G.RequestType6=G.RequestType5=G.RequestType4=G.RequestType3=G.RequestType2=G.RequestType1=G.RequestType=G.RequestType0=G.AbstractMessageSignature=G.ParameterStructures=G.ResponseError=G.ErrorCodes=void 0;var Gr=pi(),yh;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=t.jsonrpcReservedErrorRangeStart,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=t.jsonrpcReservedErrorRangeEnd})(yh=G.ErrorCodes||(G.ErrorCodes={}));var Os=class extends Error{constructor(e,n,r){super(n);this.code=Gr.number(e)?e:yh.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,Os.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};G.ResponseError=Os;var at=class{constructor(e){this.kind=e}static is(e){return e===at.auto||e===at.byName||e===at.byPosition}toString(){return this.kind}};G.ParameterStructures=at;at.auto=new at("auto");at.byPosition=new at("byPosition");at.byName=new at("byName");var Ae=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return at.auto}};G.AbstractMessageSignature=Ae;var _h=class extends Ae{constructor(e){super(e,0)}};G.RequestType0=_h;var wh=class extends Ae{constructor(e,n=at.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};G.RequestType=wh;var bh=class extends Ae{constructor(e,n=at.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};G.RequestType1=bh;var Rh=class extends Ae{constructor(e){super(e,2)}};G.RequestType2=Rh;var Ch=class extends Ae{constructor(e){super(e,3)}};G.RequestType3=Ch;var Sh=class extends Ae{constructor(e){super(e,4)}};G.RequestType4=Sh;var Dh=class extends Ae{constructor(e){super(e,5)}};G.RequestType5=Dh;var Ph=class extends Ae{constructor(e){super(e,6)}};G.RequestType6=Ph;var Th=class extends Ae{constructor(e){super(e,7)}};G.RequestType7=Th;var qh=class extends Ae{constructor(e){super(e,8)}};G.RequestType8=qh;var Eh=class extends Ae{constructor(e){super(e,9)}};G.RequestType9=Eh;var Oh=class extends Ae{constructor(e,n=at.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};G.NotificationType=Oh;var Fh=class extends Ae{constructor(e){super(e,0)}};G.NotificationType0=Fh;var kh=class extends Ae{constructor(e,n=at.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};G.NotificationType1=kh;var Mh=class extends Ae{constructor(e){super(e,2)}};G.NotificationType2=Mh;var xh=class extends Ae{constructor(e){super(e,3)}};G.NotificationType3=xh;var Ih=class extends Ae{constructor(e){super(e,4)}};G.NotificationType4=Ih;var Nh=class extends Ae{constructor(e){super(e,5)}};G.NotificationType5=Nh;var Ah=class extends Ae{constructor(e){super(e,6)}};G.NotificationType6=Ah;var Lh=class extends Ae{constructor(e){super(e,7)}};G.NotificationType7=Lh;var jh=class extends Ae{constructor(e){super(e,8)}};G.NotificationType8=jh;var Wh=class extends Ae{constructor(e){super(e,9)}};G.NotificationType9=Wh;function HR(t){let e=t;return e&&Gr.string(e.method)&&(Gr.string(e.id)||Gr.number(e.id))}G.isRequestMessage=HR;function zR(t){let e=t;return e&&Gr.string(e.method)&&t.id===void 0}G.isNotificationMessage=zR;function KR(t){let e=t;return e&&(e.result!==void 0||!!e.error)&&(Gr.string(e.id)||Gr.number(e.id)||e.id===null)}G.isResponseMessage=KR});var mi=T(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.Emitter=Xr.Event=void 0;var UR=Vn(),BR;(function(t){let e={dispose(){}};t.None=function(){return e}})(BR=Xr.Event||(Xr.Event={}));var $h=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,o=r.length;s<o;s++)try{n.push(r[s].apply(i[s],e))}catch(a){UR.default().console.error(a)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Ro=class{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new $h),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let i={dispose:()=>{!this._callbacks||(this._callbacks.remove(e,n),i.dispose=Ro._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Xr.Emitter=Ro;Ro._noop=function(){}});var Lc=T(Vr=>{"use strict";Object.defineProperty(Vr,"__esModule",{value:!0});Vr.CancellationTokenSource=Vr.CancellationToken=void 0;var Hh=Vn(),GR=pi(),Ic=mi(),Nc;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Ic.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Ic.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||GR.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(Nc=Vr.CancellationToken||(Vr.CancellationToken={}));var XR=Object.freeze(function(t,e){let n=Hh.default().timer.setTimeout(t.bind(e),0);return{dispose(){Hh.default().timer.clearTimeout(n)}}}),Ac=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?XR:(this._emitter||(this._emitter=new Ic.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},zh=class{get token(){return this._token||(this._token=new Ac),this._token}cancel(){this._token?this._token.cancel():this._token=Nc.Cancelled}dispose(){this._token?this._token instanceof Ac&&this._token.dispose():this._token=Nc.None}};Vr.CancellationTokenSource=zh});var Uh=T(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});Jn.ReadableStreamMessageReader=Jn.AbstractMessageReader=Jn.MessageReader=void 0;var Fs=Vn(),vi=pi(),jc=mi(),VR;(function(t){function e(n){let r=n;return r&&vi.func(r.listen)&&vi.func(r.dispose)&&vi.func(r.onError)&&vi.func(r.onClose)&&vi.func(r.onPartialMessage)}t.is=e})(VR=Jn.MessageReader||(Jn.MessageReader={}));var Wc=class{constructor(){this.errorEmitter=new jc.Emitter,this.closeEmitter=new jc.Emitter,this.partialMessageEmitter=new jc.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${vi.string(e.message)?e.message:"unknown"}`)}};Jn.AbstractMessageReader=Wc;var $c;(function(t){function e(n){var r;let i,s,o,a=new Map,c,d=new Map;if(n===void 0||typeof n=="string")i=n??"utf-8";else{if(i=(r=n.charset)!==null&&r!==void 0?r:"utf-8",n.contentDecoder!==void 0&&(o=n.contentDecoder,a.set(o.name,o)),n.contentDecoders!==void 0)for(let h of n.contentDecoders)a.set(h.name,h);if(n.contentTypeDecoder!==void 0&&(c=n.contentTypeDecoder,d.set(c.name,c)),n.contentTypeDecoders!==void 0)for(let h of n.contentTypeDecoders)d.set(h.name,h)}return c===void 0&&(c=Fs.default().applicationJson.decoder,d.set(c.name,c)),{charset:i,contentDecoder:o,contentDecoders:a,contentTypeDecoder:c,contentTypeDecoders:d}}t.fromOptions=e})($c||($c={}));var Kh=class extends Wc{constructor(e,n){super();this.readable=e,this.options=$c.fromOptions(n),this.buffer=Fs.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let s=i.get("Content-Length");if(!s)throw new Error("Header must provide a Content-Length property.");let o=parseInt(s);if(isNaN(o))throw new Error("Content-Length value must be a number.");this.nextMessageLength=o}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let r;this.options.contentDecoder!==void 0?r=this.options.contentDecoder.decode(n):r=Promise.resolve(n),r.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(s=>{this.callback(s)},s=>{this.fireError(s)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(Fs.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=Fs.default().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Jn.ReadableStreamMessageReader=Kh});var Gh=T(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.Semaphore=void 0;var JR=Vn(),Bh=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||JR.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};ks.Semaphore=Bh});var Yh=T(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});Qn.WriteableStreamMessageWriter=Qn.AbstractMessageWriter=Qn.MessageWriter=void 0;var Xh=Vn(),Co=pi(),QR=Gh(),Vh=mi(),YR="Content-Length: ",Jh=`\r
`,ZR;(function(t){function e(n){let r=n;return r&&Co.func(r.dispose)&&Co.func(r.onClose)&&Co.func(r.onError)&&Co.func(r.write)}t.is=e})(ZR=Qn.MessageWriter||(Qn.MessageWriter={}));var Hc=class{constructor(){this.errorEmitter=new Vh.Emitter,this.closeEmitter=new Vh.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Co.string(e.message)?e.message:"unknown"}`)}};Qn.AbstractMessageWriter=Hc;var zc;(function(t){function e(n){var r,i;return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:Xh.default().applicationJson.encoder}:{charset:(r=n.charset)!==null&&r!==void 0?r:"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:(i=n.contentTypeEncoder)!==null&&i!==void 0?i:Xh.default().applicationJson.encoder}}t.fromOptions=e})(zc||(zc={}));var Qh=class extends Hc{constructor(e,n){super();this.writable=e,this.options=zc.fromOptions(n),this.errorCount=0,this.writeSemaphore=new QR.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(YR,r.byteLength.toString(),Jh),i.push(Jh),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};Qn.WriteableStreamMessageWriter=Qh});var eg=T(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});Yn.LRUCache=Yn.LinkedMap=Yn.Touch=void 0;var vt;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(vt=Yn.Touch||(Yn.Touch={}));var Kc=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,n=vt.None){let r=this._map.get(e);if(!!r)return n!==vt.None&&this.touch(r,n),r.value}set(e,n,r=vt.None){let i=this._map.get(e);if(i)i.value=n,r!==vt.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case vt.None:this.addItemLast(i);break;case vt.First:this.addItemFirst(i);break;case vt.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(!!n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.key,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}values(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.value,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}entries(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:[r.key,r.value],done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==vt.First&&n!==vt.Last)){if(n===vt.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===vt.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};Yn.LinkedMap=Kc;var Zh=class extends Kc{constructor(e,n=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=vt.AsNew){return super.get(e,n)}peek(e){return super.get(e,vt.None)}set(e,n){return super.set(e,n,vt.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Yn.LRUCache=Zh});var sg=T(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.createMessageConnection=re.ConnectionOptions=re.CancellationStrategy=re.CancellationSenderStrategy=re.CancellationReceiverStrategy=re.ConnectionStrategy=re.ConnectionError=re.ConnectionErrors=re.LogTraceNotification=re.SetTraceNotification=re.TraceFormat=re.Trace=re.NullLogger=re.ProgressType=void 0;var tg=Vn(),rt=pi(),te=xc(),ng=eg(),So=mi(),Uc=Lc(),Do;(function(t){t.type=new te.NotificationType("$/cancelRequest")})(Do||(Do={}));var Ms;(function(t){t.type=new te.NotificationType("$/progress")})(Ms||(Ms={}));var rg=class{constructor(){}};re.ProgressType=rg;var Bc;(function(t){function e(n){return rt.func(n)}t.is=e})(Bc||(Bc={}));re.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Xe;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Verbose=2]="Verbose"})(Xe=re.Trace||(re.Trace={}));(function(t){function e(r){if(!rt.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(Xe=re.Trace||(re.Trace={}));var ln;(function(t){t.Text="text",t.JSON="json"})(ln=re.TraceFormat||(re.TraceFormat={}));(function(t){function e(n){return n=n.toLowerCase(),n==="json"?t.JSON:t.Text}t.fromString=e})(ln=re.TraceFormat||(re.TraceFormat={}));var ig;(function(t){t.type=new te.NotificationType("$/setTrace")})(ig=re.SetTraceNotification||(re.SetTraceNotification={}));var Gc;(function(t){t.type=new te.NotificationType("$/logTrace")})(Gc=re.LogTraceNotification||(re.LogTraceNotification={}));var xs;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(xs=re.ConnectionErrors||(re.ConnectionErrors={}));var Jr=class extends Error{constructor(e,n){super(n);this.code=e,Object.setPrototypeOf(this,Jr.prototype)}};re.ConnectionError=Jr;var og;(function(t){function e(n){let r=n;return r&&rt.func(r.cancelUndispatched)}t.is=e})(og=re.ConnectionStrategy||(re.ConnectionStrategy={}));var Xc;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new Uc.CancellationTokenSource}});function e(n){let r=n;return r&&rt.func(r.createCancellationTokenSource)}t.is=e})(Xc=re.CancellationReceiverStrategy||(re.CancellationReceiverStrategy={}));var Vc;(function(t){t.Message=Object.freeze({sendCancellation(n,r){n.sendNotification(Do.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&rt.func(r.sendCancellation)&&rt.func(r.cleanup)}t.is=e})(Vc=re.CancellationSenderStrategy||(re.CancellationSenderStrategy={}));var Jc;(function(t){t.Message=Object.freeze({receiver:Xc.Message,sender:Vc.Message});function e(n){let r=n;return r&&Xc.is(r.receiver)&&Vc.is(r.sender)}t.is=e})(Jc=re.CancellationStrategy||(re.CancellationStrategy={}));var eC;(function(t){function e(n){let r=n;return r&&(Jc.is(r.cancellationStrategy)||og.is(r.connectionStrategy))}t.is=e})(eC=re.ConnectionOptions||(re.ConnectionOptions={}));var dn;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(dn||(dn={}));function tC(t,e,n,r){let i=n!==void 0?n:re.NullLogger,s=0,o=0,a=0,c="2.0",d,h=Object.create(null),p,m=Object.create(null),v=new Map,O,F=new ng.LinkedMap,N=Object.create(null),b=Object.create(null),w=Xe.Off,q=ln.Text,k,W=dn.New,ee=new So.Emitter,ve=new So.Emitter,we=new So.Emitter,ke=new So.Emitter,j=new So.Emitter,x=r&&r.cancellationStrategy?r.cancellationStrategy:Jc.Message;function L(D){if(D===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+D.toString()}function z(D){return D===null?"res-unknown-"+(++a).toString():"res-"+D.toString()}function de(){return"not-"+(++o).toString()}function Z(D,_){te.isRequestMessage(_)?D.set(L(_.id),_):te.isResponseMessage(_)?D.set(z(_.id),_):D.set(de(),_)}function le(D){}function ne(){return W===dn.Listening}function Ie(){return W===dn.Closed}function Te(){return W===dn.Disposed}function tt(){(W===dn.New||W===dn.Listening)&&(W=dn.Closed,ve.fire(void 0))}function Ze(D){ee.fire([D,void 0,void 0])}function cn(D){ee.fire(D)}t.onClose(tt),t.onError(Ze),e.onClose(tt),e.onError(cn);function ar(){O||F.size===0||(O=tg.default().timer.setImmediate(()=>{O=void 0,cr()}))}function cr(){if(F.size===0)return;let D=F.shift();try{te.isRequestMessage(D)?zn(D):te.isNotificationMessage(D)?Pn(D):te.isResponseMessage(D)?Dn(D):Kn(D)}finally{ar()}}let Hn=D=>{try{if(te.isNotificationMessage(D)&&D.method===Do.type.method){let _=L(D.params.id),g=F.get(_);if(te.isRequestMessage(g)){let R=r==null?void 0:r.connectionStrategy,P=R&&R.cancelUndispatched?R.cancelUndispatched(g,le):le(g);if(P&&(P.error!==void 0||P.result!==void 0)){F.delete(_),P.id=g.id,Ht(P,D.method,Date.now()),e.write(P);return}}}Z(F,D)}finally{ar()}};function zn(D){if(Te())return;function _(E,$,V){let oe={jsonrpc:c,id:D.id};E instanceof te.ResponseError?oe.error=E.toJson():oe.result=E===void 0?null:E,Ht(oe,$,V),e.write(oe)}function g(E,$,V){let oe={jsonrpc:c,id:D.id,error:E.toJson()};Ht(oe,$,V),e.write(oe)}function R(E,$,V){E===void 0&&(E=null);let oe={jsonrpc:c,id:D.id,result:E};Ht(oe,$,V),e.write(oe)}lr(D);let P=h[D.method],u,l;P&&(u=P.type,l=P.handler);let S=Date.now();if(l||d){let E=String(D.id),$=x.receiver.createCancellationTokenSource(E);b[E]=$;try{let V;if(l)if(D.params===void 0){if(u!==void 0&&u.numberOfParams!==0){g(new te.ResponseError(te.ErrorCodes.InvalidParams,`Request ${D.method} defines ${u.numberOfParams} params but recevied none.`),D.method,S);return}V=l($.token)}else if(Array.isArray(D.params)){if(u!==void 0&&u.parameterStructures===te.ParameterStructures.byName){g(new te.ResponseError(te.ErrorCodes.InvalidParams,`Request ${D.method} defines parameters by name but received parameters by position`),D.method,S);return}V=l(...D.params,$.token)}else{if(u!==void 0&&u.parameterStructures===te.ParameterStructures.byPosition){g(new te.ResponseError(te.ErrorCodes.InvalidParams,`Request ${D.method} defines parameters by position but received parameters by name`),D.method,S);return}V=l(D.params,$.token)}else d&&(V=d(D.method,D.params,$.token));let oe=V;V?oe.then?oe.then(qe=>{delete b[E],_(qe,D.method,S)},qe=>{delete b[E],qe instanceof te.ResponseError?g(qe,D.method,S):qe&&rt.string(qe.message)?g(new te.ResponseError(te.ErrorCodes.InternalError,`Request ${D.method} failed with message: ${qe.message}`),D.method,S):g(new te.ResponseError(te.ErrorCodes.InternalError,`Request ${D.method} failed unexpectedly without providing any details.`),D.method,S)}):(delete b[E],_(V,D.method,S)):(delete b[E],R(V,D.method,S))}catch(V){delete b[E],V instanceof te.ResponseError?_(V,D.method,S):V&&rt.string(V.message)?g(new te.ResponseError(te.ErrorCodes.InternalError,`Request ${D.method} failed with message: ${V.message}`),D.method,S):g(new te.ResponseError(te.ErrorCodes.InternalError,`Request ${D.method} failed unexpectedly without providing any details.`),D.method,S)}}else g(new te.ResponseError(te.ErrorCodes.MethodNotFound,`Unhandled method ${D.method}`),D.method,S)}function Dn(D){if(!Te())if(D.id===null)D.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(D.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let _=String(D.id),g=N[_];if(Ar(D,g),g){delete N[_];try{if(D.error){let R=D.error;g.reject(new te.ResponseError(R.code,R.message,R.data))}else if(D.result!==void 0)g.resolve(D.result);else throw new Error("Should never happen.")}catch(R){R.message?i.error(`Response handler '${g.method}' failed with message: ${R.message}`):i.error(`Response handler '${g.method}' failed unexpectedly.`)}}}}function Pn(D){if(Te())return;let _,g;if(D.method===Do.type.method)g=R=>{let P=R.id,u=b[String(P)];u&&u.cancel()};else{let R=m[D.method];R&&(g=R.handler,_=R.type)}if(g||p)try{zt(D),g?D.params===void 0?(_!==void 0&&_.numberOfParams!==0&&_.parameterStructures!==te.ParameterStructures.byName&&i.error(`Notification ${D.method} defines ${_.numberOfParams} params but recevied none.`),g()):Array.isArray(D.params)?(_!==void 0&&(_.parameterStructures===te.ParameterStructures.byName&&i.error(`Notification ${D.method} defines parameters by name but received parameters by position`),_.numberOfParams!==D.params.length&&i.error(`Notification ${D.method} defines ${_.numberOfParams} params but received ${D.params.length} argumennts`)),g(...D.params)):(_!==void 0&&_.parameterStructures===te.ParameterStructures.byPosition&&i.error(`Notification ${D.method} defines parameters by position but received parameters by name`),g(D.params)):p&&p(D.method,D.params)}catch(R){R.message?i.error(`Notification handler '${D.method}' failed with message: ${R.message}`):i.error(`Notification handler '${D.method}' failed unexpectedly.`)}else we.fire(D)}function Kn(D){if(!D){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(D,null,4)}`);let _=D;if(rt.string(_.id)||rt.number(_.id)){let g=String(_.id),R=N[g];R&&R.reject(new Error("The received response has neither a result nor an error property."))}}function ur(D){if(!(w===Xe.Off||!k))if(q===ln.Text){let _;w===Xe.Verbose&&D.params&&(_=`Params: ${JSON.stringify(D.params,null,4)}

`),k.log(`Sending request '${D.method} - (${D.id})'.`,_)}else Ke("send-request",D)}function Nr(D){if(!(w===Xe.Off||!k))if(q===ln.Text){let _;w===Xe.Verbose&&(D.params?_=`Params: ${JSON.stringify(D.params,null,4)}

`:_=`No parameters provided.

`),k.log(`Sending notification '${D.method}'.`,_)}else Ke("send-notification",D)}function Ht(D,_,g){if(!(w===Xe.Off||!k))if(q===ln.Text){let R;w===Xe.Verbose&&(D.error&&D.error.data?R=`Error data: ${JSON.stringify(D.error.data,null,4)}

`:D.result?R=`Result: ${JSON.stringify(D.result,null,4)}

`:D.error===void 0&&(R=`No result returned.

`)),k.log(`Sending response '${_} - (${D.id})'. Processing request took ${Date.now()-g}ms`,R)}else Ke("send-response",D)}function lr(D){if(!(w===Xe.Off||!k))if(q===ln.Text){let _;w===Xe.Verbose&&D.params&&(_=`Params: ${JSON.stringify(D.params,null,4)}

`),k.log(`Received request '${D.method} - (${D.id})'.`,_)}else Ke("receive-request",D)}function zt(D){if(!(w===Xe.Off||!k||D.method===Gc.type.method))if(q===ln.Text){let _;w===Xe.Verbose&&(D.params?_=`Params: ${JSON.stringify(D.params,null,4)}

`:_=`No parameters provided.

`),k.log(`Received notification '${D.method}'.`,_)}else Ke("receive-notification",D)}function Ar(D,_){if(!(w===Xe.Off||!k))if(q===ln.Text){let g;if(w===Xe.Verbose&&(D.error&&D.error.data?g=`Error data: ${JSON.stringify(D.error.data,null,4)}

`:D.result?g=`Result: ${JSON.stringify(D.result,null,4)}

`:D.error===void 0&&(g=`No result returned.

`)),_){let R=D.error?` Request failed: ${D.error.message} (${D.error.code}).`:"";k.log(`Received response '${_.method} - (${D.id})' in ${Date.now()-_.timerStart}ms.${R}`,g)}else k.log(`Received response ${D.id} without active response promise.`,g)}else Ke("receive-response",D)}function Ke(D,_){if(!k||w===Xe.Off)return;let g={isLSPMessage:!0,type:D,message:_,timestamp:Date.now()};k.log(g)}function Ct(){if(Ie())throw new Jr(xs.Closed,"Connection is closed.");if(Te())throw new Jr(xs.Disposed,"Connection is disposed.")}function dr(){if(ne())throw new Jr(xs.AlreadyListening,"Connection is already listening")}function Lr(){if(!ne())throw new Error("Call listen() first.")}function Kt(D){return D===void 0?null:D}function fr(D){if(D!==null)return D}function Un(D){return D!=null&&!Array.isArray(D)&&typeof D=="object"}function Ut(D,_){switch(D){case te.ParameterStructures.auto:return Un(_)?fr(_):[Kt(_)];case te.ParameterStructures.byName:if(!Un(_))throw new Error("Recevied parameters by name but param is not an object literal.");return fr(_);case te.ParameterStructures.byPosition:return[Kt(_)];default:throw new Error(`Unknown parameter structure ${D.toString()}`)}}function Bn(D,_){let g,R=D.numberOfParams;switch(R){case 0:g=void 0;break;case 1:g=Ut(D.parameterStructures,_[0]);break;default:g=[];for(let P=0;P<_.length&&P<R;P++)g.push(Kt(_[P]));if(_.length<R)for(let P=_.length;P<R;P++)g.push(null);break}return g}let Bt={sendNotification:(D,..._)=>{Ct();let g,R;if(rt.string(D)){g=D;let u=_[0],l=0,S=te.ParameterStructures.auto;te.ParameterStructures.is(u)&&(l=1,S=u);let E=_.length,$=E-l;switch($){case 0:R=void 0;break;case 1:R=Ut(S,_[l]);break;default:if(S===te.ParameterStructures.byName)throw new Error(`Recevied ${$} parameters for 'by Name' notification parameter structure.`);R=_.slice(l,E).map(V=>Kt(V));break}}else{let u=_;g=D.method,R=Bn(D,u)}let P={jsonrpc:c,method:g,params:R};Nr(P),e.write(P)},onNotification:(D,_)=>{Ct();let g;return rt.func(D)?p=D:_&&(rt.string(D)?(g=D,m[D]={type:void 0,handler:_}):(g=D.method,m[D.method]={type:D,handler:_})),{dispose:()=>{g!==void 0?delete m[g]:p=void 0}}},onProgress:(D,_,g)=>{if(v.has(_))throw new Error(`Progress handler for token ${_} already registered`);return v.set(_,g),{dispose:()=>{v.delete(_)}}},sendProgress:(D,_,g)=>{Bt.sendNotification(Ms.type,{token:_,value:g})},onUnhandledProgress:ke.event,sendRequest:(D,..._)=>{Ct(),Lr();let g,R,P;if(rt.string(D)){g=D;let E=_[0],$=_[_.length-1],V=0,oe=te.ParameterStructures.auto;te.ParameterStructures.is(E)&&(V=1,oe=E);let qe=_.length;Uc.CancellationToken.is($)&&(qe=qe-1,P=$);let Ue=qe-V;switch(Ue){case 0:R=void 0;break;case 1:R=Ut(oe,_[V]);break;default:if(oe===te.ParameterStructures.byName)throw new Error(`Recevied ${Ue} parameters for 'by Name' request parameter structure.`);R=_.slice(V,qe).map(Be=>Kt(Be));break}}else{let E=_;g=D.method,R=Bn(D,E);let $=D.numberOfParams;P=Uc.CancellationToken.is(E[$])?E[$]:void 0}let u=s++,l;return P&&(l=P.onCancellationRequested(()=>{x.sender.sendCancellation(Bt,u)})),new Promise((E,$)=>{let V={jsonrpc:c,id:u,method:g,params:R},oe=Be=>{E(Be),x.sender.cleanup(u),l==null||l.dispose()},qe=Be=>{$(Be),x.sender.cleanup(u),l==null||l.dispose()},Ue={method:g,timerStart:Date.now(),resolve:oe,reject:qe};ur(V);try{e.write(V)}catch(Be){Ue.reject(new te.ResponseError(te.ErrorCodes.MessageWriteError,Be.message?Be.message:"Unknown reason")),Ue=null}Ue&&(N[String(u)]=Ue)})},onRequest:(D,_)=>{Ct();let g=null;return Bc.is(D)?(g=void 0,d=D):rt.string(D)?(g=null,_!==void 0&&(g=D,h[D]={handler:_,type:void 0})):_!==void 0&&(g=D.method,h[D.method]={type:D,handler:_}),{dispose:()=>{g!==null&&(g!==void 0?delete h[g]:d=void 0)}}},trace:(D,_,g)=>{let R=!1,P=ln.Text;g!==void 0&&(rt.boolean(g)?R=g:(R=g.sendNotification||!1,P=g.traceFormat||ln.Text)),w=D,q=P,w===Xe.Off?k=void 0:k=_,R&&!Ie()&&!Te()&&Bt.sendNotification(ig.type,{value:Xe.toString(D)})},onError:ee.event,onClose:ve.event,onUnhandledNotification:we.event,onDispose:j.event,end:()=>{e.end()},dispose:()=>{if(Te())return;W=dn.Disposed,j.fire(void 0);let D=new Error("Connection got disposed.");Object.keys(N).forEach(_=>{N[_].reject(D)}),N=Object.create(null),b=Object.create(null),F=new ng.LinkedMap,rt.func(e.dispose)&&e.dispose(),rt.func(t.dispose)&&t.dispose()},listen:()=>{Ct(),dr(),W=dn.Listening,t.listen(Hn)},inspect:()=>{tg.default().console.log("inspect")}};return Bt.onNotification(Gc.type,D=>{w===Xe.Off||!k||k.log(D.message,w===Xe.Verbose?D.verbose:void 0)}),Bt.onNotification(Ms.type,D=>{let _=v.get(D.token);_?_(D.value):ke.fire(D)}),Bt}re.createMessageConnection=tC});var Zc=T(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.CancellationSenderStrategy=I.CancellationReceiverStrategy=I.ConnectionError=I.ConnectionErrors=I.LogTraceNotification=I.SetTraceNotification=I.TraceFormat=I.Trace=I.ProgressType=I.createMessageConnection=I.NullLogger=I.ConnectionOptions=I.ConnectionStrategy=I.WriteableStreamMessageWriter=I.AbstractMessageWriter=I.MessageWriter=I.ReadableStreamMessageReader=I.AbstractMessageReader=I.MessageReader=I.CancellationToken=I.CancellationTokenSource=I.Emitter=I.Event=I.Disposable=I.ParameterStructures=I.NotificationType9=I.NotificationType8=I.NotificationType7=I.NotificationType6=I.NotificationType5=I.NotificationType4=I.NotificationType3=I.NotificationType2=I.NotificationType1=I.NotificationType0=I.NotificationType=I.ErrorCodes=I.ResponseError=I.RequestType9=I.RequestType8=I.RequestType7=I.RequestType6=I.RequestType5=I.RequestType4=I.RequestType3=I.RequestType2=I.RequestType1=I.RequestType0=I.RequestType=I.RAL=void 0;I.CancellationStrategy=void 0;var Ne=xc();Object.defineProperty(I,"RequestType",{enumerable:!0,get:function(){return Ne.RequestType}});Object.defineProperty(I,"RequestType0",{enumerable:!0,get:function(){return Ne.RequestType0}});Object.defineProperty(I,"RequestType1",{enumerable:!0,get:function(){return Ne.RequestType1}});Object.defineProperty(I,"RequestType2",{enumerable:!0,get:function(){return Ne.RequestType2}});Object.defineProperty(I,"RequestType3",{enumerable:!0,get:function(){return Ne.RequestType3}});Object.defineProperty(I,"RequestType4",{enumerable:!0,get:function(){return Ne.RequestType4}});Object.defineProperty(I,"RequestType5",{enumerable:!0,get:function(){return Ne.RequestType5}});Object.defineProperty(I,"RequestType6",{enumerable:!0,get:function(){return Ne.RequestType6}});Object.defineProperty(I,"RequestType7",{enumerable:!0,get:function(){return Ne.RequestType7}});Object.defineProperty(I,"RequestType8",{enumerable:!0,get:function(){return Ne.RequestType8}});Object.defineProperty(I,"RequestType9",{enumerable:!0,get:function(){return Ne.RequestType9}});Object.defineProperty(I,"ResponseError",{enumerable:!0,get:function(){return Ne.ResponseError}});Object.defineProperty(I,"ErrorCodes",{enumerable:!0,get:function(){return Ne.ErrorCodes}});Object.defineProperty(I,"NotificationType",{enumerable:!0,get:function(){return Ne.NotificationType}});Object.defineProperty(I,"NotificationType0",{enumerable:!0,get:function(){return Ne.NotificationType0}});Object.defineProperty(I,"NotificationType1",{enumerable:!0,get:function(){return Ne.NotificationType1}});Object.defineProperty(I,"NotificationType2",{enumerable:!0,get:function(){return Ne.NotificationType2}});Object.defineProperty(I,"NotificationType3",{enumerable:!0,get:function(){return Ne.NotificationType3}});Object.defineProperty(I,"NotificationType4",{enumerable:!0,get:function(){return Ne.NotificationType4}});Object.defineProperty(I,"NotificationType5",{enumerable:!0,get:function(){return Ne.NotificationType5}});Object.defineProperty(I,"NotificationType6",{enumerable:!0,get:function(){return Ne.NotificationType6}});Object.defineProperty(I,"NotificationType7",{enumerable:!0,get:function(){return Ne.NotificationType7}});Object.defineProperty(I,"NotificationType8",{enumerable:!0,get:function(){return Ne.NotificationType8}});Object.defineProperty(I,"NotificationType9",{enumerable:!0,get:function(){return Ne.NotificationType9}});Object.defineProperty(I,"ParameterStructures",{enumerable:!0,get:function(){return Ne.ParameterStructures}});var nC=Fc();Object.defineProperty(I,"Disposable",{enumerable:!0,get:function(){return nC.Disposable}});var ag=mi();Object.defineProperty(I,"Event",{enumerable:!0,get:function(){return ag.Event}});Object.defineProperty(I,"Emitter",{enumerable:!0,get:function(){return ag.Emitter}});var cg=Lc();Object.defineProperty(I,"CancellationTokenSource",{enumerable:!0,get:function(){return cg.CancellationTokenSource}});Object.defineProperty(I,"CancellationToken",{enumerable:!0,get:function(){return cg.CancellationToken}});var Qc=Uh();Object.defineProperty(I,"MessageReader",{enumerable:!0,get:function(){return Qc.MessageReader}});Object.defineProperty(I,"AbstractMessageReader",{enumerable:!0,get:function(){return Qc.AbstractMessageReader}});Object.defineProperty(I,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Qc.ReadableStreamMessageReader}});var Yc=Yh();Object.defineProperty(I,"MessageWriter",{enumerable:!0,get:function(){return Yc.MessageWriter}});Object.defineProperty(I,"AbstractMessageWriter",{enumerable:!0,get:function(){return Yc.AbstractMessageWriter}});Object.defineProperty(I,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return Yc.WriteableStreamMessageWriter}});var Dt=sg();Object.defineProperty(I,"ConnectionStrategy",{enumerable:!0,get:function(){return Dt.ConnectionStrategy}});Object.defineProperty(I,"ConnectionOptions",{enumerable:!0,get:function(){return Dt.ConnectionOptions}});Object.defineProperty(I,"NullLogger",{enumerable:!0,get:function(){return Dt.NullLogger}});Object.defineProperty(I,"createMessageConnection",{enumerable:!0,get:function(){return Dt.createMessageConnection}});Object.defineProperty(I,"ProgressType",{enumerable:!0,get:function(){return Dt.ProgressType}});Object.defineProperty(I,"Trace",{enumerable:!0,get:function(){return Dt.Trace}});Object.defineProperty(I,"TraceFormat",{enumerable:!0,get:function(){return Dt.TraceFormat}});Object.defineProperty(I,"SetTraceNotification",{enumerable:!0,get:function(){return Dt.SetTraceNotification}});Object.defineProperty(I,"LogTraceNotification",{enumerable:!0,get:function(){return Dt.LogTraceNotification}});Object.defineProperty(I,"ConnectionErrors",{enumerable:!0,get:function(){return Dt.ConnectionErrors}});Object.defineProperty(I,"ConnectionError",{enumerable:!0,get:function(){return Dt.ConnectionError}});Object.defineProperty(I,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Dt.CancellationReceiverStrategy}});Object.defineProperty(I,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Dt.CancellationSenderStrategy}});Object.defineProperty(I,"CancellationStrategy",{enumerable:!0,get:function(){return Dt.CancellationStrategy}});var rC=Vn();I.RAL=rC.default});var bi=T(Ce=>{"use strict";var iC=Ce&&Ce.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),oC=Ce&&Ce.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&iC(e,t,n)};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.createMessageConnection=Ce.createServerSocketTransport=Ce.createClientSocketTransport=Ce.createServerPipeTransport=Ce.createClientPipeTransport=Ce.generateRandomPipeName=Ce.StreamMessageWriter=Ce.StreamMessageReader=Ce.SocketMessageWriter=Ce.SocketMessageReader=Ce.IPCMessageWriter=Ce.IPCMessageReader=void 0;var yi=ph();yi.default.install();var Tn=Zc(),ug=require("path"),sC=require("os"),aC=require("crypto"),Is=require("net");oC(Zc(),Ce);var lg=class extends Tn.AbstractMessageReader{constructor(e){super();this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Tn.Disposable.create(()=>this.process.off("message",e))}};Ce.IPCMessageReader=lg;var dg=class extends Tn.AbstractMessageWriter{constructor(e){super();this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};Ce.IPCMessageWriter=dg;var _i=class extends Tn.ReadableStreamMessageReader{constructor(e,n="utf-8"){super(yi.default().stream.asReadableStream(e),n)}};Ce.SocketMessageReader=_i;var wi=class extends Tn.WriteableStreamMessageWriter{constructor(e,n){super(yi.default().stream.asWritableStream(e),n);this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Ce.SocketMessageWriter=wi;var eu=class extends Tn.ReadableStreamMessageReader{constructor(e,n){super(yi.default().stream.asReadableStream(e),n)}};Ce.StreamMessageReader=eu;var tu=class extends Tn.WriteableStreamMessageWriter{constructor(e,n){super(yi.default().stream.asWritableStream(e),n)}};Ce.StreamMessageWriter=tu;var fg=process.env.XDG_RUNTIME_DIR,cC=new Map([["linux",107],["darwin",103]]);function uC(){let t=aC.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;fg?e=ug.join(fg,`vscode-ipc-${t}.sock`):e=ug.join(sC.tmpdir(),`vscode-${t}.sock`);let n=cC.get(process.platform);return n!==void 0&&e.length>=n&&yi.default().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}Ce.generateRandomPipeName=uC;function lC(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let o=Is.createServer(a=>{o.close(),n([new _i(a,e),new wi(a,e)])});o.on("error",s),o.listen(t,()=>{o.removeListener("error",s),i({onConnected:()=>r})})})}Ce.createClientPipeTransport=lC;function dC(t,e="utf-8"){let n=Is.createConnection(t);return[new _i(n,e),new wi(n,e)]}Ce.createServerPipeTransport=dC;function fC(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let o=Is.createServer(a=>{o.close(),n([new _i(a,e),new wi(a,e)])});o.on("error",s),o.listen(t,"127.0.0.1",()=>{o.removeListener("error",s),i({onConnected:()=>r})})})}Ce.createClientSocketTransport=fC;function hC(t,e="utf-8"){let n=Is.createConnection(t,"127.0.0.1");return[new _i(n,e),new wi(n,e)]}Ce.createServerSocketTransport=hC;function gC(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function pC(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function mC(t,e,n,r){n||(n=Tn.NullLogger);let i=gC(t)?new eu(t):t,s=pC(e)?new tu(e):e;return Tn.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),Tn.createMessageConnection(i,s,n,r)}Ce.createMessageConnection=mC});var nu=T((HO,hg)=>{"use strict";hg.exports=bi()});var mr=T((gg,Ns)=>{(function(t){if(typeof Ns=="object"&&typeof Ns.exports=="object"){var e=t(require,gg);e!==void 0&&(Ns.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionKind=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=void 0;var n;(function(g){g.MIN_VALUE=-2147483648,g.MAX_VALUE=2147483647})(n=e.integer||(e.integer={}));var r;(function(g){g.MIN_VALUE=0,g.MAX_VALUE=2147483647})(r=e.uinteger||(e.uinteger={}));var i;(function(g){function R(u,l){return u===Number.MAX_VALUE&&(u=r.MAX_VALUE),l===Number.MAX_VALUE&&(l=r.MAX_VALUE),{line:u,character:l}}g.create=R;function P(u){var l=u;return _.objectLiteral(l)&&_.uinteger(l.line)&&_.uinteger(l.character)}g.is=P})(i=e.Position||(e.Position={}));var s;(function(g){function R(u,l,S,E){if(_.uinteger(u)&&_.uinteger(l)&&_.uinteger(S)&&_.uinteger(E))return{start:i.create(u,l),end:i.create(S,E)};if(i.is(u)&&i.is(l))return{start:u,end:l};throw new Error("Range#create called with invalid arguments["+u+", "+l+", "+S+", "+E+"]")}g.create=R;function P(u){var l=u;return _.objectLiteral(l)&&i.is(l.start)&&i.is(l.end)}g.is=P})(s=e.Range||(e.Range={}));var o;(function(g){function R(u,l){return{uri:u,range:l}}g.create=R;function P(u){var l=u;return _.defined(l)&&s.is(l.range)&&(_.string(l.uri)||_.undefined(l.uri))}g.is=P})(o=e.Location||(e.Location={}));var a;(function(g){function R(u,l,S,E){return{targetUri:u,targetRange:l,targetSelectionRange:S,originSelectionRange:E}}g.create=R;function P(u){var l=u;return _.defined(l)&&s.is(l.targetRange)&&_.string(l.targetUri)&&(s.is(l.targetSelectionRange)||_.undefined(l.targetSelectionRange))&&(s.is(l.originSelectionRange)||_.undefined(l.originSelectionRange))}g.is=P})(a=e.LocationLink||(e.LocationLink={}));var c;(function(g){function R(u,l,S,E){return{red:u,green:l,blue:S,alpha:E}}g.create=R;function P(u){var l=u;return _.numberRange(l.red,0,1)&&_.numberRange(l.green,0,1)&&_.numberRange(l.blue,0,1)&&_.numberRange(l.alpha,0,1)}g.is=P})(c=e.Color||(e.Color={}));var d;(function(g){function R(u,l){return{range:u,color:l}}g.create=R;function P(u){var l=u;return s.is(l.range)&&c.is(l.color)}g.is=P})(d=e.ColorInformation||(e.ColorInformation={}));var h;(function(g){function R(u,l,S){return{label:u,textEdit:l,additionalTextEdits:S}}g.create=R;function P(u){var l=u;return _.string(l.label)&&(_.undefined(l.textEdit)||q.is(l))&&(_.undefined(l.additionalTextEdits)||_.typedArray(l.additionalTextEdits,q.is))}g.is=P})(h=e.ColorPresentation||(e.ColorPresentation={}));var p;(function(g){g.Comment="comment",g.Imports="imports",g.Region="region"})(p=e.FoldingRangeKind||(e.FoldingRangeKind={}));var m;(function(g){function R(u,l,S,E,$){var V={startLine:u,endLine:l};return _.defined(S)&&(V.startCharacter=S),_.defined(E)&&(V.endCharacter=E),_.defined($)&&(V.kind=$),V}g.create=R;function P(u){var l=u;return _.uinteger(l.startLine)&&_.uinteger(l.startLine)&&(_.undefined(l.startCharacter)||_.uinteger(l.startCharacter))&&(_.undefined(l.endCharacter)||_.uinteger(l.endCharacter))&&(_.undefined(l.kind)||_.string(l.kind))}g.is=P})(m=e.FoldingRange||(e.FoldingRange={}));var v;(function(g){function R(u,l){return{location:u,message:l}}g.create=R;function P(u){var l=u;return _.defined(l)&&o.is(l.location)&&_.string(l.message)}g.is=P})(v=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var O;(function(g){g.Error=1,g.Warning=2,g.Information=3,g.Hint=4})(O=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var F;(function(g){g.Unnecessary=1,g.Deprecated=2})(F=e.DiagnosticTag||(e.DiagnosticTag={}));var N;(function(g){function R(P){var u=P;return u!=null&&_.string(u.href)}g.is=R})(N=e.CodeDescription||(e.CodeDescription={}));var b;(function(g){function R(u,l,S,E,$,V){var oe={range:u,message:l};return _.defined(S)&&(oe.severity=S),_.defined(E)&&(oe.code=E),_.defined($)&&(oe.source=$),_.defined(V)&&(oe.relatedInformation=V),oe}g.create=R;function P(u){var l,S=u;return _.defined(S)&&s.is(S.range)&&_.string(S.message)&&(_.number(S.severity)||_.undefined(S.severity))&&(_.integer(S.code)||_.string(S.code)||_.undefined(S.code))&&(_.undefined(S.codeDescription)||_.string((l=S.codeDescription)===null||l===void 0?void 0:l.href))&&(_.string(S.source)||_.undefined(S.source))&&(_.undefined(S.relatedInformation)||_.typedArray(S.relatedInformation,v.is))}g.is=P})(b=e.Diagnostic||(e.Diagnostic={}));var w;(function(g){function R(u,l){for(var S=[],E=2;E<arguments.length;E++)S[E-2]=arguments[E];var $={title:u,command:l};return _.defined(S)&&S.length>0&&($.arguments=S),$}g.create=R;function P(u){var l=u;return _.defined(l)&&_.string(l.title)&&_.string(l.command)}g.is=P})(w=e.Command||(e.Command={}));var q;(function(g){function R(S,E){return{range:S,newText:E}}g.replace=R;function P(S,E){return{range:{start:S,end:S},newText:E}}g.insert=P;function u(S){return{range:S,newText:""}}g.del=u;function l(S){var E=S;return _.objectLiteral(E)&&_.string(E.newText)&&s.is(E.range)}g.is=l})(q=e.TextEdit||(e.TextEdit={}));var k;(function(g){function R(u,l,S){var E={label:u};return l!==void 0&&(E.needsConfirmation=l),S!==void 0&&(E.description=S),E}g.create=R;function P(u){var l=u;return l!==void 0&&_.objectLiteral(l)&&_.string(l.label)&&(_.boolean(l.needsConfirmation)||l.needsConfirmation===void 0)&&(_.string(l.description)||l.description===void 0)}g.is=P})(k=e.ChangeAnnotation||(e.ChangeAnnotation={}));var W;(function(g){function R(P){var u=P;return typeof u=="string"}g.is=R})(W=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var ee;(function(g){function R(S,E,$){return{range:S,newText:E,annotationId:$}}g.replace=R;function P(S,E,$){return{range:{start:S,end:S},newText:E,annotationId:$}}g.insert=P;function u(S,E){return{range:S,newText:"",annotationId:E}}g.del=u;function l(S){var E=S;return q.is(E)&&(k.is(E.annotationId)||W.is(E.annotationId))}g.is=l})(ee=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var ve;(function(g){function R(u,l){return{textDocument:u,edits:l}}g.create=R;function P(u){var l=u;return _.defined(l)&&ne.is(l.textDocument)&&Array.isArray(l.edits)}g.is=P})(ve=e.TextDocumentEdit||(e.TextDocumentEdit={}));var we;(function(g){function R(u,l,S){var E={kind:"create",uri:u};return l!==void 0&&(l.overwrite!==void 0||l.ignoreIfExists!==void 0)&&(E.options=l),S!==void 0&&(E.annotationId=S),E}g.create=R;function P(u){var l=u;return l&&l.kind==="create"&&_.string(l.uri)&&(l.options===void 0||(l.options.overwrite===void 0||_.boolean(l.options.overwrite))&&(l.options.ignoreIfExists===void 0||_.boolean(l.options.ignoreIfExists)))&&(l.annotationId===void 0||W.is(l.annotationId))}g.is=P})(we=e.CreateFile||(e.CreateFile={}));var ke;(function(g){function R(u,l,S,E){var $={kind:"rename",oldUri:u,newUri:l};return S!==void 0&&(S.overwrite!==void 0||S.ignoreIfExists!==void 0)&&($.options=S),E!==void 0&&($.annotationId=E),$}g.create=R;function P(u){var l=u;return l&&l.kind==="rename"&&_.string(l.oldUri)&&_.string(l.newUri)&&(l.options===void 0||(l.options.overwrite===void 0||_.boolean(l.options.overwrite))&&(l.options.ignoreIfExists===void 0||_.boolean(l.options.ignoreIfExists)))&&(l.annotationId===void 0||W.is(l.annotationId))}g.is=P})(ke=e.RenameFile||(e.RenameFile={}));var j;(function(g){function R(u,l,S){var E={kind:"delete",uri:u};return l!==void 0&&(l.recursive!==void 0||l.ignoreIfNotExists!==void 0)&&(E.options=l),S!==void 0&&(E.annotationId=S),E}g.create=R;function P(u){var l=u;return l&&l.kind==="delete"&&_.string(l.uri)&&(l.options===void 0||(l.options.recursive===void 0||_.boolean(l.options.recursive))&&(l.options.ignoreIfNotExists===void 0||_.boolean(l.options.ignoreIfNotExists)))&&(l.annotationId===void 0||W.is(l.annotationId))}g.is=P})(j=e.DeleteFile||(e.DeleteFile={}));var x;(function(g){function R(P){var u=P;return u&&(u.changes!==void 0||u.documentChanges!==void 0)&&(u.documentChanges===void 0||u.documentChanges.every(function(l){return _.string(l.kind)?we.is(l)||ke.is(l)||j.is(l):ve.is(l)}))}g.is=R})(x=e.WorkspaceEdit||(e.WorkspaceEdit={}));var L=function(){function g(R,P){this.edits=R,this.changeAnnotations=P}return g.prototype.insert=function(R,P,u){var l,S;if(u===void 0?l=q.insert(R,P):W.is(u)?(S=u,l=ee.insert(R,P,u)):(this.assertChangeAnnotations(this.changeAnnotations),S=this.changeAnnotations.manage(u),l=ee.insert(R,P,S)),this.edits.push(l),S!==void 0)return S},g.prototype.replace=function(R,P,u){var l,S;if(u===void 0?l=q.replace(R,P):W.is(u)?(S=u,l=ee.replace(R,P,u)):(this.assertChangeAnnotations(this.changeAnnotations),S=this.changeAnnotations.manage(u),l=ee.replace(R,P,S)),this.edits.push(l),S!==void 0)return S},g.prototype.delete=function(R,P){var u,l;if(P===void 0?u=q.del(R):W.is(P)?(l=P,u=ee.del(R,P)):(this.assertChangeAnnotations(this.changeAnnotations),l=this.changeAnnotations.manage(P),u=ee.del(R,l)),this.edits.push(u),l!==void 0)return l},g.prototype.add=function(R){this.edits.push(R)},g.prototype.all=function(){return this.edits},g.prototype.clear=function(){this.edits.splice(0,this.edits.length)},g.prototype.assertChangeAnnotations=function(R){if(R===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},g}(),z=function(){function g(R){this._annotations=R===void 0?Object.create(null):R,this._counter=0,this._size=0}return g.prototype.all=function(){return this._annotations},Object.defineProperty(g.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),g.prototype.manage=function(R,P){var u;if(W.is(R)?u=R:(u=this.nextId(),P=R),this._annotations[u]!==void 0)throw new Error("Id "+u+" is already in use.");if(P===void 0)throw new Error("No annotation provided for id "+u);return this._annotations[u]=P,this._size++,u},g.prototype.nextId=function(){return this._counter++,this._counter.toString()},g}(),de=function(){function g(R){var P=this;this._textEditChanges=Object.create(null),R!==void 0?(this._workspaceEdit=R,R.documentChanges?(this._changeAnnotations=new z(R.changeAnnotations),R.changeAnnotations=this._changeAnnotations.all(),R.documentChanges.forEach(function(u){if(ve.is(u)){var l=new L(u.edits,P._changeAnnotations);P._textEditChanges[u.textDocument.uri]=l}})):R.changes&&Object.keys(R.changes).forEach(function(u){var l=new L(R.changes[u]);P._textEditChanges[u]=l})):this._workspaceEdit={}}return Object.defineProperty(g.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),g.prototype.getTextEditChange=function(R){if(ne.is(R)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var P={uri:R.uri,version:R.version},u=this._textEditChanges[P.uri];if(!u){var l=[],S={textDocument:P,edits:l};this._workspaceEdit.documentChanges.push(S),u=new L(l,this._changeAnnotations),this._textEditChanges[P.uri]=u}return u}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var u=this._textEditChanges[R];if(!u){var l=[];this._workspaceEdit.changes[R]=l,u=new L(l),this._textEditChanges[R]=u}return u}},g.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new z,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},g.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},g.prototype.createFile=function(R,P,u){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var l;k.is(P)||W.is(P)?l=P:u=P;var S,E;if(l===void 0?S=we.create(R,u):(E=W.is(l)?l:this._changeAnnotations.manage(l),S=we.create(R,u,E)),this._workspaceEdit.documentChanges.push(S),E!==void 0)return E},g.prototype.renameFile=function(R,P,u,l){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S;k.is(u)||W.is(u)?S=u:l=u;var E,$;if(S===void 0?E=ke.create(R,P,l):($=W.is(S)?S:this._changeAnnotations.manage(S),E=ke.create(R,P,l,$)),this._workspaceEdit.documentChanges.push(E),$!==void 0)return $},g.prototype.deleteFile=function(R,P,u){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var l;k.is(P)||W.is(P)?l=P:u=P;var S,E;if(l===void 0?S=j.create(R,u):(E=W.is(l)?l:this._changeAnnotations.manage(l),S=j.create(R,u,E)),this._workspaceEdit.documentChanges.push(S),E!==void 0)return E},g}();e.WorkspaceChange=de;var Z;(function(g){function R(u){return{uri:u}}g.create=R;function P(u){var l=u;return _.defined(l)&&_.string(l.uri)}g.is=P})(Z=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var le;(function(g){function R(u,l){return{uri:u,version:l}}g.create=R;function P(u){var l=u;return _.defined(l)&&_.string(l.uri)&&_.integer(l.version)}g.is=P})(le=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var ne;(function(g){function R(u,l){return{uri:u,version:l}}g.create=R;function P(u){var l=u;return _.defined(l)&&_.string(l.uri)&&(l.version===null||_.integer(l.version))}g.is=P})(ne=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var Ie;(function(g){function R(u,l,S,E){return{uri:u,languageId:l,version:S,text:E}}g.create=R;function P(u){var l=u;return _.defined(l)&&_.string(l.uri)&&_.string(l.languageId)&&_.integer(l.version)&&_.string(l.text)}g.is=P})(Ie=e.TextDocumentItem||(e.TextDocumentItem={}));var Te;(function(g){g.PlainText="plaintext",g.Markdown="markdown"})(Te=e.MarkupKind||(e.MarkupKind={})),function(g){function R(P){var u=P;return u===g.PlainText||u===g.Markdown}g.is=R}(Te=e.MarkupKind||(e.MarkupKind={}));var tt;(function(g){function R(P){var u=P;return _.objectLiteral(P)&&Te.is(u.kind)&&_.string(u.value)}g.is=R})(tt=e.MarkupContent||(e.MarkupContent={}));var Ze;(function(g){g.Text=1,g.Method=2,g.Function=3,g.Constructor=4,g.Field=5,g.Variable=6,g.Class=7,g.Interface=8,g.Module=9,g.Property=10,g.Unit=11,g.Value=12,g.Enum=13,g.Keyword=14,g.Snippet=15,g.Color=16,g.File=17,g.Reference=18,g.Folder=19,g.EnumMember=20,g.Constant=21,g.Struct=22,g.Event=23,g.Operator=24,g.TypeParameter=25})(Ze=e.CompletionItemKind||(e.CompletionItemKind={}));var cn;(function(g){g.PlainText=1,g.Snippet=2})(cn=e.InsertTextFormat||(e.InsertTextFormat={}));var ar;(function(g){g.Deprecated=1})(ar=e.CompletionItemTag||(e.CompletionItemTag={}));var cr;(function(g){function R(u,l,S){return{newText:u,insert:l,replace:S}}g.create=R;function P(u){var l=u;return l&&_.string(l.newText)&&s.is(l.insert)&&s.is(l.replace)}g.is=P})(cr=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var Hn;(function(g){g.asIs=1,g.adjustIndentation=2})(Hn=e.InsertTextMode||(e.InsertTextMode={}));var zn;(function(g){function R(P){return{label:P}}g.create=R})(zn=e.CompletionItem||(e.CompletionItem={}));var Dn;(function(g){function R(P,u){return{items:P||[],isIncomplete:!!u}}g.create=R})(Dn=e.CompletionList||(e.CompletionList={}));var Pn;(function(g){function R(u){return u.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}g.fromPlainText=R;function P(u){var l=u;return _.string(l)||_.objectLiteral(l)&&_.string(l.language)&&_.string(l.value)}g.is=P})(Pn=e.MarkedString||(e.MarkedString={}));var Kn;(function(g){function R(P){var u=P;return!!u&&_.objectLiteral(u)&&(tt.is(u.contents)||Pn.is(u.contents)||_.typedArray(u.contents,Pn.is))&&(P.range===void 0||s.is(P.range))}g.is=R})(Kn=e.Hover||(e.Hover={}));var ur;(function(g){function R(P,u){return u?{label:P,documentation:u}:{label:P}}g.create=R})(ur=e.ParameterInformation||(e.ParameterInformation={}));var Nr;(function(g){function R(P,u){for(var l=[],S=2;S<arguments.length;S++)l[S-2]=arguments[S];var E={label:P};return _.defined(u)&&(E.documentation=u),_.defined(l)?E.parameters=l:E.parameters=[],E}g.create=R})(Nr=e.SignatureInformation||(e.SignatureInformation={}));var Ht;(function(g){g.Text=1,g.Read=2,g.Write=3})(Ht=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var lr;(function(g){function R(P,u){var l={range:P};return _.number(u)&&(l.kind=u),l}g.create=R})(lr=e.DocumentHighlight||(e.DocumentHighlight={}));var zt;(function(g){g.File=1,g.Module=2,g.Namespace=3,g.Package=4,g.Class=5,g.Method=6,g.Property=7,g.Field=8,g.Constructor=9,g.Enum=10,g.Interface=11,g.Function=12,g.Variable=13,g.Constant=14,g.String=15,g.Number=16,g.Boolean=17,g.Array=18,g.Object=19,g.Key=20,g.Null=21,g.EnumMember=22,g.Struct=23,g.Event=24,g.Operator=25,g.TypeParameter=26})(zt=e.SymbolKind||(e.SymbolKind={}));var Ar;(function(g){g.Deprecated=1})(Ar=e.SymbolTag||(e.SymbolTag={}));var Ke;(function(g){function R(P,u,l,S,E){var $={name:P,kind:u,location:{uri:S,range:l}};return E&&($.containerName=E),$}g.create=R})(Ke=e.SymbolInformation||(e.SymbolInformation={}));var Ct;(function(g){function R(u,l,S,E,$,V){var oe={name:u,detail:l,kind:S,range:E,selectionRange:$};return V!==void 0&&(oe.children=V),oe}g.create=R;function P(u){var l=u;return l&&_.string(l.name)&&_.number(l.kind)&&s.is(l.range)&&s.is(l.selectionRange)&&(l.detail===void 0||_.string(l.detail))&&(l.deprecated===void 0||_.boolean(l.deprecated))&&(l.children===void 0||Array.isArray(l.children))&&(l.tags===void 0||Array.isArray(l.tags))}g.is=P})(Ct=e.DocumentSymbol||(e.DocumentSymbol={}));var dr;(function(g){g.Empty="",g.QuickFix="quickfix",g.Refactor="refactor",g.RefactorExtract="refactor.extract",g.RefactorInline="refactor.inline",g.RefactorRewrite="refactor.rewrite",g.Source="source",g.SourceOrganizeImports="source.organizeImports",g.SourceFixAll="source.fixAll"})(dr=e.CodeActionKind||(e.CodeActionKind={}));var Lr;(function(g){function R(u,l){var S={diagnostics:u};return l!=null&&(S.only=l),S}g.create=R;function P(u){var l=u;return _.defined(l)&&_.typedArray(l.diagnostics,b.is)&&(l.only===void 0||_.typedArray(l.only,_.string))}g.is=P})(Lr=e.CodeActionContext||(e.CodeActionContext={}));var Kt;(function(g){function R(u,l,S){var E={title:u},$=!0;return typeof l=="string"?($=!1,E.kind=l):w.is(l)?E.command=l:E.edit=l,$&&S!==void 0&&(E.kind=S),E}g.create=R;function P(u){var l=u;return l&&_.string(l.title)&&(l.diagnostics===void 0||_.typedArray(l.diagnostics,b.is))&&(l.kind===void 0||_.string(l.kind))&&(l.edit!==void 0||l.command!==void 0)&&(l.command===void 0||w.is(l.command))&&(l.isPreferred===void 0||_.boolean(l.isPreferred))&&(l.edit===void 0||x.is(l.edit))}g.is=P})(Kt=e.CodeAction||(e.CodeAction={}));var fr;(function(g){function R(u,l){var S={range:u};return _.defined(l)&&(S.data=l),S}g.create=R;function P(u){var l=u;return _.defined(l)&&s.is(l.range)&&(_.undefined(l.command)||w.is(l.command))}g.is=P})(fr=e.CodeLens||(e.CodeLens={}));var Un;(function(g){function R(u,l){return{tabSize:u,insertSpaces:l}}g.create=R;function P(u){var l=u;return _.defined(l)&&_.uinteger(l.tabSize)&&_.boolean(l.insertSpaces)}g.is=P})(Un=e.FormattingOptions||(e.FormattingOptions={}));var Ut;(function(g){function R(u,l,S){return{range:u,target:l,data:S}}g.create=R;function P(u){var l=u;return _.defined(l)&&s.is(l.range)&&(_.undefined(l.target)||_.string(l.target))}g.is=P})(Ut=e.DocumentLink||(e.DocumentLink={}));var Bn;(function(g){function R(u,l){return{range:u,parent:l}}g.create=R;function P(u){var l=u;return l!==void 0&&s.is(l.range)&&(l.parent===void 0||g.is(l.parent))}g.is=P})(Bn=e.SelectionRange||(e.SelectionRange={})),e.EOL=[`
`,`\r
`,"\r"];var Bt;(function(g){function R(S,E,$,V){return new D(S,E,$,V)}g.create=R;function P(S){var E=S;return!!(_.defined(E)&&_.string(E.uri)&&(_.undefined(E.languageId)||_.string(E.languageId))&&_.uinteger(E.lineCount)&&_.func(E.getText)&&_.func(E.positionAt)&&_.func(E.offsetAt))}g.is=P;function u(S,E){for(var $=S.getText(),V=l(E,function(hr,jr){var ps=hr.range.start.line-jr.range.start.line;return ps===0?hr.range.start.character-jr.range.start.character:ps}),oe=$.length,qe=V.length-1;qe>=0;qe--){var Ue=V[qe],Be=S.offsetAt(Ue.range.start),me=S.offsetAt(Ue.range.end);if(me<=oe)$=$.substring(0,Be)+Ue.newText+$.substring(me,$.length);else throw new Error("Overlapping edit");oe=Be}return $}g.applyEdits=u;function l(S,E){if(S.length<=1)return S;var $=S.length/2|0,V=S.slice(0,$),oe=S.slice($);l(V,E),l(oe,E);for(var qe=0,Ue=0,Be=0;qe<V.length&&Ue<oe.length;){var me=E(V[qe],oe[Ue]);me<=0?S[Be++]=V[qe++]:S[Be++]=oe[Ue++]}for(;qe<V.length;)S[Be++]=V[qe++];for(;Ue<oe.length;)S[Be++]=oe[Ue++];return S}})(Bt=e.TextDocument||(e.TextDocument={}));var D=function(){function g(R,P,u,l){this._uri=R,this._languageId=P,this._version=u,this._content=l,this._lineOffsets=void 0}return Object.defineProperty(g.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),g.prototype.getText=function(R){if(R){var P=this.offsetAt(R.start),u=this.offsetAt(R.end);return this._content.substring(P,u)}return this._content},g.prototype.update=function(R,P){this._content=R.text,this._version=P,this._lineOffsets=void 0},g.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var R=[],P=this._content,u=!0,l=0;l<P.length;l++){u&&(R.push(l),u=!1);var S=P.charAt(l);u=S==="\r"||S===`
`,S==="\r"&&l+1<P.length&&P.charAt(l+1)===`
`&&l++}u&&P.length>0&&R.push(P.length),this._lineOffsets=R}return this._lineOffsets},g.prototype.positionAt=function(R){R=Math.max(Math.min(R,this._content.length),0);var P=this.getLineOffsets(),u=0,l=P.length;if(l===0)return i.create(0,R);for(;u<l;){var S=Math.floor((u+l)/2);P[S]>R?l=S:u=S+1}var E=u-1;return i.create(E,R-P[E])},g.prototype.offsetAt=function(R){var P=this.getLineOffsets();if(R.line>=P.length)return this._content.length;if(R.line<0)return 0;var u=P[R.line],l=R.line+1<P.length?P[R.line+1]:this._content.length;return Math.max(Math.min(u+R.character,l),u)},Object.defineProperty(g.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),g}(),_;(function(g){var R=Object.prototype.toString;function P(me){return typeof me!="undefined"}g.defined=P;function u(me){return typeof me=="undefined"}g.undefined=u;function l(me){return me===!0||me===!1}g.boolean=l;function S(me){return R.call(me)==="[object String]"}g.string=S;function E(me){return R.call(me)==="[object Number]"}g.number=E;function $(me,hr,jr){return R.call(me)==="[object Number]"&&hr<=me&&me<=jr}g.numberRange=$;function V(me){return R.call(me)==="[object Number]"&&-2147483648<=me&&me<=2147483647}g.integer=V;function oe(me){return R.call(me)==="[object Number]"&&0<=me&&me<=2147483647}g.uinteger=oe;function qe(me){return R.call(me)==="[object Function]"}g.func=qe;function Ue(me){return me!==null&&typeof me=="object"}g.objectLiteral=Ue;function Be(me,hr){return Array.isArray(me)&&me.every(hr)}g.typedArray=Be})(_||(_={}))})});var it=T(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.ProtocolNotificationType=Jt.ProtocolNotificationType0=Jt.ProtocolRequestType=Jt.ProtocolRequestType0=Jt.RegistrationType=void 0;var Ri=bi(),pg=class{constructor(e){this.method=e}};Jt.RegistrationType=pg;var mg=class extends Ri.RequestType0{constructor(e){super(e)}};Jt.ProtocolRequestType0=mg;var vg=class extends Ri.RequestType{constructor(e){super(e,Ri.ParameterStructures.byName)}};Jt.ProtocolRequestType=vg;var yg=class extends Ri.NotificationType0{constructor(e){super(e)}};Jt.ProtocolNotificationType0=yg;var _g=class extends Ri.NotificationType{constructor(e){super(e,Ri.ParameterStructures.byName)}};Jt.ProtocolNotificationType=_g});var Rg=T(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.objectLiteral=Ve.typedArray=Ve.stringArray=Ve.array=Ve.func=Ve.error=Ve.number=Ve.string=Ve.boolean=void 0;function vC(t){return t===!0||t===!1}Ve.boolean=vC;function wg(t){return typeof t=="string"||t instanceof String}Ve.string=wg;function yC(t){return typeof t=="number"||t instanceof Number}Ve.number=yC;function _C(t){return t instanceof Error}Ve.error=_C;function wC(t){return typeof t=="function"}Ve.func=wC;function bg(t){return Array.isArray(t)}Ve.array=bg;function bC(t){return bg(t)&&t.every(e=>wg(e))}Ve.stringArray=bC;function RC(t,e){return Array.isArray(t)&&t.every(e)}Ve.typedArray=RC;function CC(t){return t!==null&&typeof t=="object"}Ve.objectLiteral=CC});var Cg=T(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});Po.ImplementationRequest=void 0;var SC=it(),DC;(function(t){t.method="textDocument/implementation",t.type=new SC.ProtocolRequestType(t.method)})(DC=Po.ImplementationRequest||(Po.ImplementationRequest={}))});var Sg=T(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});To.TypeDefinitionRequest=void 0;var PC=it(),TC;(function(t){t.method="textDocument/typeDefinition",t.type=new PC.ProtocolRequestType(t.method)})(TC=To.TypeDefinitionRequest||(To.TypeDefinitionRequest={}))});var Pg=T(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.DidChangeWorkspaceFoldersNotification=vr.WorkspaceFoldersRequest=void 0;var Dg=it(),qC;(function(t){t.type=new Dg.ProtocolRequestType0("workspace/workspaceFolders")})(qC=vr.WorkspaceFoldersRequest||(vr.WorkspaceFoldersRequest={}));var EC;(function(t){t.type=new Dg.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(EC=vr.DidChangeWorkspaceFoldersNotification||(vr.DidChangeWorkspaceFoldersNotification={}))});var Tg=T(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.ConfigurationRequest=void 0;var OC=it(),FC;(function(t){t.type=new OC.ProtocolRequestType("workspace/configuration")})(FC=qo.ConfigurationRequest||(qo.ConfigurationRequest={}))});var Eg=T(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.ColorPresentationRequest=yr.DocumentColorRequest=void 0;var qg=it(),kC;(function(t){t.method="textDocument/documentColor",t.type=new qg.ProtocolRequestType(t.method)})(kC=yr.DocumentColorRequest||(yr.DocumentColorRequest={}));var MC;(function(t){t.type=new qg.ProtocolRequestType("textDocument/colorPresentation")})(MC=yr.ColorPresentationRequest||(yr.ColorPresentationRequest={}))});var Og=T(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});_r.FoldingRangeRequest=_r.FoldingRangeKind=void 0;var xC=it(),IC;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(IC=_r.FoldingRangeKind||(_r.FoldingRangeKind={}));var NC;(function(t){t.method="textDocument/foldingRange",t.type=new xC.ProtocolRequestType(t.method)})(NC=_r.FoldingRangeRequest||(_r.FoldingRangeRequest={}))});var Fg=T(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.DeclarationRequest=void 0;var AC=it(),LC;(function(t){t.method="textDocument/declaration",t.type=new AC.ProtocolRequestType(t.method)})(LC=Eo.DeclarationRequest||(Eo.DeclarationRequest={}))});var kg=T(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.SelectionRangeRequest=void 0;var jC=it(),WC;(function(t){t.method="textDocument/selectionRange",t.type=new jC.ProtocolRequestType(t.method)})(WC=Oo.SelectionRangeRequest||(Oo.SelectionRangeRequest={}))});var xg=T(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.WorkDoneProgressCancelNotification=fn.WorkDoneProgressCreateRequest=fn.WorkDoneProgress=void 0;var $C=bi(),Mg=it(),HC;(function(t){t.type=new $C.ProgressType;function e(n){return n===t.type}t.is=e})(HC=fn.WorkDoneProgress||(fn.WorkDoneProgress={}));var zC;(function(t){t.type=new Mg.ProtocolRequestType("window/workDoneProgress/create")})(zC=fn.WorkDoneProgressCreateRequest||(fn.WorkDoneProgressCreateRequest={}));var KC;(function(t){t.type=new Mg.ProtocolNotificationType("window/workDoneProgress/cancel")})(KC=fn.WorkDoneProgressCancelNotification||(fn.WorkDoneProgressCancelNotification={}))});var Ig=T(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.CallHierarchyOutgoingCallsRequest=hn.CallHierarchyIncomingCallsRequest=hn.CallHierarchyPrepareRequest=void 0;var ru=it(),UC;(function(t){t.method="textDocument/prepareCallHierarchy",t.type=new ru.ProtocolRequestType(t.method)})(UC=hn.CallHierarchyPrepareRequest||(hn.CallHierarchyPrepareRequest={}));var BC;(function(t){t.method="callHierarchy/incomingCalls",t.type=new ru.ProtocolRequestType(t.method)})(BC=hn.CallHierarchyIncomingCallsRequest||(hn.CallHierarchyIncomingCallsRequest={}));var GC;(function(t){t.method="callHierarchy/outgoingCalls",t.type=new ru.ProtocolRequestType(t.method)})(GC=hn.CallHierarchyOutgoingCallsRequest||(hn.CallHierarchyOutgoingCallsRequest={}))});var Ng=T(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.SemanticTokensRefreshRequest=Ee.SemanticTokensRangeRequest=Ee.SemanticTokensDeltaRequest=Ee.SemanticTokensRequest=Ee.SemanticTokensRegistrationType=Ee.TokenFormat=Ee.SemanticTokens=Ee.SemanticTokenModifiers=Ee.SemanticTokenTypes=void 0;var Fo=it(),XC;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator"})(XC=Ee.SemanticTokenTypes||(Ee.SemanticTokenTypes={}));var VC;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(VC=Ee.SemanticTokenModifiers||(Ee.SemanticTokenModifiers={}));var JC;(function(t){function e(n){let r=n;return r!==void 0&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(JC=Ee.SemanticTokens||(Ee.SemanticTokens={}));var QC;(function(t){t.Relative="relative"})(QC=Ee.TokenFormat||(Ee.TokenFormat={}));var YC;(function(t){t.method="textDocument/semanticTokens",t.type=new Fo.RegistrationType(t.method)})(YC=Ee.SemanticTokensRegistrationType||(Ee.SemanticTokensRegistrationType={}));var ZC;(function(t){t.method="textDocument/semanticTokens/full",t.type=new Fo.ProtocolRequestType(t.method)})(ZC=Ee.SemanticTokensRequest||(Ee.SemanticTokensRequest={}));var eS;(function(t){t.method="textDocument/semanticTokens/full/delta",t.type=new Fo.ProtocolRequestType(t.method)})(eS=Ee.SemanticTokensDeltaRequest||(Ee.SemanticTokensDeltaRequest={}));var tS;(function(t){t.method="textDocument/semanticTokens/range",t.type=new Fo.ProtocolRequestType(t.method)})(tS=Ee.SemanticTokensRangeRequest||(Ee.SemanticTokensRangeRequest={}));var nS;(function(t){t.method="workspace/semanticTokens/refresh",t.type=new Fo.ProtocolRequestType0(t.method)})(nS=Ee.SemanticTokensRefreshRequest||(Ee.SemanticTokensRefreshRequest={}))});var Ag=T(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.ShowDocumentRequest=void 0;var rS=it(),iS;(function(t){t.method="window/showDocument",t.type=new rS.ProtocolRequestType(t.method)})(iS=ko.ShowDocumentRequest||(ko.ShowDocumentRequest={}))});var Lg=T(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.LinkedEditingRangeRequest=void 0;var oS=it(),sS;(function(t){t.method="textDocument/linkedEditingRange",t.type=new oS.ProtocolRequestType(t.method)})(sS=Mo.LinkedEditingRangeRequest||(Mo.LinkedEditingRangeRequest={}))});var jg=T($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.WillDeleteFilesRequest=$e.DidDeleteFilesNotification=$e.DidRenameFilesNotification=$e.WillRenameFilesRequest=$e.DidCreateFilesNotification=$e.WillCreateFilesRequest=$e.FileOperationPatternKind=void 0;var Ci=it(),aS;(function(t){t.file="file",t.folder="folder"})(aS=$e.FileOperationPatternKind||($e.FileOperationPatternKind={}));var cS;(function(t){t.method="workspace/willCreateFiles",t.type=new Ci.ProtocolRequestType(t.method)})(cS=$e.WillCreateFilesRequest||($e.WillCreateFilesRequest={}));var uS;(function(t){t.method="workspace/didCreateFiles",t.type=new Ci.ProtocolNotificationType(t.method)})(uS=$e.DidCreateFilesNotification||($e.DidCreateFilesNotification={}));var lS;(function(t){t.method="workspace/willRenameFiles",t.type=new Ci.ProtocolRequestType(t.method)})(lS=$e.WillRenameFilesRequest||($e.WillRenameFilesRequest={}));var dS;(function(t){t.method="workspace/didRenameFiles",t.type=new Ci.ProtocolNotificationType(t.method)})(dS=$e.DidRenameFilesNotification||($e.DidRenameFilesNotification={}));var fS;(function(t){t.method="workspace/didDeleteFiles",t.type=new Ci.ProtocolNotificationType(t.method)})(fS=$e.DidDeleteFilesNotification||($e.DidDeleteFilesNotification={}));var hS;(function(t){t.method="workspace/willDeleteFiles",t.type=new Ci.ProtocolRequestType(t.method)})(hS=$e.WillDeleteFilesRequest||($e.WillDeleteFilesRequest={}))});var Wg=T(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.MonikerRequest=gn.MonikerKind=gn.UniquenessLevel=void 0;var gS=it(),pS;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(pS=gn.UniquenessLevel||(gn.UniquenessLevel={}));var mS;(function(t){t.import="import",t.export="export",t.local="local"})(mS=gn.MonikerKind||(gn.MonikerKind={}));var vS;(function(t){t.method="textDocument/moniker",t.type=new gS.ProtocolRequestType(t.method)})(vS=gn.MonikerRequest||(gn.MonikerRequest={}))});var Ug=T(y=>{"use strict";Object.defineProperty(y,"__esModule",{value:!0});y.DocumentLinkRequest=y.CodeLensRefreshRequest=y.CodeLensResolveRequest=y.CodeLensRequest=y.WorkspaceSymbolRequest=y.CodeActionResolveRequest=y.CodeActionRequest=y.DocumentSymbolRequest=y.DocumentHighlightRequest=y.ReferencesRequest=y.DefinitionRequest=y.SignatureHelpRequest=y.SignatureHelpTriggerKind=y.HoverRequest=y.CompletionResolveRequest=y.CompletionRequest=y.CompletionTriggerKind=y.PublishDiagnosticsNotification=y.WatchKind=y.FileChangeType=y.DidChangeWatchedFilesNotification=y.WillSaveTextDocumentWaitUntilRequest=y.WillSaveTextDocumentNotification=y.TextDocumentSaveReason=y.DidSaveTextDocumentNotification=y.DidCloseTextDocumentNotification=y.DidChangeTextDocumentNotification=y.TextDocumentContentChangeEvent=y.DidOpenTextDocumentNotification=y.TextDocumentSyncKind=y.TelemetryEventNotification=y.LogMessageNotification=y.ShowMessageRequest=y.ShowMessageNotification=y.MessageType=y.DidChangeConfigurationNotification=y.ExitNotification=y.ShutdownRequest=y.InitializedNotification=y.InitializeError=y.InitializeRequest=y.WorkDoneProgressOptions=y.TextDocumentRegistrationOptions=y.StaticRegistrationOptions=y.FailureHandlingKind=y.ResourceOperationKind=y.UnregistrationRequest=y.RegistrationRequest=y.DocumentSelector=y.DocumentFilter=void 0;y.MonikerRequest=y.MonikerKind=y.UniquenessLevel=y.WillDeleteFilesRequest=y.DidDeleteFilesNotification=y.WillRenameFilesRequest=y.DidRenameFilesNotification=y.WillCreateFilesRequest=y.DidCreateFilesNotification=y.FileOperationPatternKind=y.LinkedEditingRangeRequest=y.ShowDocumentRequest=y.SemanticTokensRegistrationType=y.SemanticTokensRefreshRequest=y.SemanticTokensRangeRequest=y.SemanticTokensDeltaRequest=y.SemanticTokensRequest=y.TokenFormat=y.SemanticTokens=y.SemanticTokenModifiers=y.SemanticTokenTypes=y.CallHierarchyPrepareRequest=y.CallHierarchyOutgoingCallsRequest=y.CallHierarchyIncomingCallsRequest=y.WorkDoneProgressCancelNotification=y.WorkDoneProgressCreateRequest=y.WorkDoneProgress=y.SelectionRangeRequest=y.DeclarationRequest=y.FoldingRangeRequest=y.ColorPresentationRequest=y.DocumentColorRequest=y.ConfigurationRequest=y.DidChangeWorkspaceFoldersNotification=y.WorkspaceFoldersRequest=y.TypeDefinitionRequest=y.ImplementationRequest=y.ApplyWorkspaceEditRequest=y.ExecuteCommandRequest=y.PrepareRenameRequest=y.RenameRequest=y.PrepareSupportDefaultBehavior=y.DocumentOnTypeFormattingRequest=y.DocumentRangeFormattingRequest=y.DocumentFormattingRequest=y.DocumentLinkResolveRequest=void 0;var wr=Rg(),se=it(),yS=Cg();Object.defineProperty(y,"ImplementationRequest",{enumerable:!0,get:function(){return yS.ImplementationRequest}});var _S=Sg();Object.defineProperty(y,"TypeDefinitionRequest",{enumerable:!0,get:function(){return _S.TypeDefinitionRequest}});var $g=Pg();Object.defineProperty(y,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return $g.WorkspaceFoldersRequest}});Object.defineProperty(y,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return $g.DidChangeWorkspaceFoldersNotification}});var wS=Tg();Object.defineProperty(y,"ConfigurationRequest",{enumerable:!0,get:function(){return wS.ConfigurationRequest}});var Hg=Eg();Object.defineProperty(y,"DocumentColorRequest",{enumerable:!0,get:function(){return Hg.DocumentColorRequest}});Object.defineProperty(y,"ColorPresentationRequest",{enumerable:!0,get:function(){return Hg.ColorPresentationRequest}});var bS=Og();Object.defineProperty(y,"FoldingRangeRequest",{enumerable:!0,get:function(){return bS.FoldingRangeRequest}});var RS=Fg();Object.defineProperty(y,"DeclarationRequest",{enumerable:!0,get:function(){return RS.DeclarationRequest}});var CS=kg();Object.defineProperty(y,"SelectionRangeRequest",{enumerable:!0,get:function(){return CS.SelectionRangeRequest}});var iu=xg();Object.defineProperty(y,"WorkDoneProgress",{enumerable:!0,get:function(){return iu.WorkDoneProgress}});Object.defineProperty(y,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return iu.WorkDoneProgressCreateRequest}});Object.defineProperty(y,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return iu.WorkDoneProgressCancelNotification}});var ou=Ig();Object.defineProperty(y,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return ou.CallHierarchyIncomingCallsRequest}});Object.defineProperty(y,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return ou.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(y,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return ou.CallHierarchyPrepareRequest}});var Zn=Ng();Object.defineProperty(y,"SemanticTokenTypes",{enumerable:!0,get:function(){return Zn.SemanticTokenTypes}});Object.defineProperty(y,"SemanticTokenModifiers",{enumerable:!0,get:function(){return Zn.SemanticTokenModifiers}});Object.defineProperty(y,"SemanticTokens",{enumerable:!0,get:function(){return Zn.SemanticTokens}});Object.defineProperty(y,"TokenFormat",{enumerable:!0,get:function(){return Zn.TokenFormat}});Object.defineProperty(y,"SemanticTokensRequest",{enumerable:!0,get:function(){return Zn.SemanticTokensRequest}});Object.defineProperty(y,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Zn.SemanticTokensDeltaRequest}});Object.defineProperty(y,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Zn.SemanticTokensRangeRequest}});Object.defineProperty(y,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Zn.SemanticTokensRefreshRequest}});Object.defineProperty(y,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Zn.SemanticTokensRegistrationType}});var SS=Ag();Object.defineProperty(y,"ShowDocumentRequest",{enumerable:!0,get:function(){return SS.ShowDocumentRequest}});var DS=Lg();Object.defineProperty(y,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return DS.LinkedEditingRangeRequest}});var Qr=jg();Object.defineProperty(y,"FileOperationPatternKind",{enumerable:!0,get:function(){return Qr.FileOperationPatternKind}});Object.defineProperty(y,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Qr.DidCreateFilesNotification}});Object.defineProperty(y,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Qr.WillCreateFilesRequest}});Object.defineProperty(y,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Qr.DidRenameFilesNotification}});Object.defineProperty(y,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Qr.WillRenameFilesRequest}});Object.defineProperty(y,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Qr.DidDeleteFilesNotification}});Object.defineProperty(y,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Qr.WillDeleteFilesRequest}});var su=Wg();Object.defineProperty(y,"UniquenessLevel",{enumerable:!0,get:function(){return su.UniquenessLevel}});Object.defineProperty(y,"MonikerKind",{enumerable:!0,get:function(){return su.MonikerKind}});Object.defineProperty(y,"MonikerRequest",{enumerable:!0,get:function(){return su.MonikerRequest}});var zg;(function(t){function e(n){let r=n;return wr.string(r.language)||wr.string(r.scheme)||wr.string(r.pattern)}t.is=e})(zg=y.DocumentFilter||(y.DocumentFilter={}));var Kg;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!wr.string(r)&&!zg.is(r))return!1;return!0}t.is=e})(Kg=y.DocumentSelector||(y.DocumentSelector={}));var PS;(function(t){t.type=new se.ProtocolRequestType("client/registerCapability")})(PS=y.RegistrationRequest||(y.RegistrationRequest={}));var TS;(function(t){t.type=new se.ProtocolRequestType("client/unregisterCapability")})(TS=y.UnregistrationRequest||(y.UnregistrationRequest={}));var qS;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(qS=y.ResourceOperationKind||(y.ResourceOperationKind={}));var ES;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(ES=y.FailureHandlingKind||(y.FailureHandlingKind={}));var OS;(function(t){function e(n){let r=n;return r&&wr.string(r.id)&&r.id.length>0}t.hasId=e})(OS=y.StaticRegistrationOptions||(y.StaticRegistrationOptions={}));var FS;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||Kg.is(r.documentSelector))}t.is=e})(FS=y.TextDocumentRegistrationOptions||(y.TextDocumentRegistrationOptions={}));var kS;(function(t){function e(r){let i=r;return wr.objectLiteral(i)&&(i.workDoneProgress===void 0||wr.boolean(i.workDoneProgress))}t.is=e;function n(r){let i=r;return i&&wr.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=n})(kS=y.WorkDoneProgressOptions||(y.WorkDoneProgressOptions={}));var MS;(function(t){t.type=new se.ProtocolRequestType("initialize")})(MS=y.InitializeRequest||(y.InitializeRequest={}));var xS;(function(t){t.unknownProtocolVersion=1})(xS=y.InitializeError||(y.InitializeError={}));var IS;(function(t){t.type=new se.ProtocolNotificationType("initialized")})(IS=y.InitializedNotification||(y.InitializedNotification={}));var NS;(function(t){t.type=new se.ProtocolRequestType0("shutdown")})(NS=y.ShutdownRequest||(y.ShutdownRequest={}));var AS;(function(t){t.type=new se.ProtocolNotificationType0("exit")})(AS=y.ExitNotification||(y.ExitNotification={}));var LS;(function(t){t.type=new se.ProtocolNotificationType("workspace/didChangeConfiguration")})(LS=y.DidChangeConfigurationNotification||(y.DidChangeConfigurationNotification={}));var jS;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(jS=y.MessageType||(y.MessageType={}));var WS;(function(t){t.type=new se.ProtocolNotificationType("window/showMessage")})(WS=y.ShowMessageNotification||(y.ShowMessageNotification={}));var $S;(function(t){t.type=new se.ProtocolRequestType("window/showMessageRequest")})($S=y.ShowMessageRequest||(y.ShowMessageRequest={}));var HS;(function(t){t.type=new se.ProtocolNotificationType("window/logMessage")})(HS=y.LogMessageNotification||(y.LogMessageNotification={}));var zS;(function(t){t.type=new se.ProtocolNotificationType("telemetry/event")})(zS=y.TelemetryEventNotification||(y.TelemetryEventNotification={}));var KS;(function(t){t.None=0,t.Full=1,t.Incremental=2})(KS=y.TextDocumentSyncKind||(y.TextDocumentSyncKind={}));var US;(function(t){t.method="textDocument/didOpen",t.type=new se.ProtocolNotificationType(t.method)})(US=y.DidOpenTextDocumentNotification||(y.DidOpenTextDocumentNotification={}));var BS;(function(t){function e(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=n})(BS=y.TextDocumentContentChangeEvent||(y.TextDocumentContentChangeEvent={}));var GS;(function(t){t.method="textDocument/didChange",t.type=new se.ProtocolNotificationType(t.method)})(GS=y.DidChangeTextDocumentNotification||(y.DidChangeTextDocumentNotification={}));var XS;(function(t){t.method="textDocument/didClose",t.type=new se.ProtocolNotificationType(t.method)})(XS=y.DidCloseTextDocumentNotification||(y.DidCloseTextDocumentNotification={}));var VS;(function(t){t.method="textDocument/didSave",t.type=new se.ProtocolNotificationType(t.method)})(VS=y.DidSaveTextDocumentNotification||(y.DidSaveTextDocumentNotification={}));var JS;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(JS=y.TextDocumentSaveReason||(y.TextDocumentSaveReason={}));var QS;(function(t){t.method="textDocument/willSave",t.type=new se.ProtocolNotificationType(t.method)})(QS=y.WillSaveTextDocumentNotification||(y.WillSaveTextDocumentNotification={}));var YS;(function(t){t.method="textDocument/willSaveWaitUntil",t.type=new se.ProtocolRequestType(t.method)})(YS=y.WillSaveTextDocumentWaitUntilRequest||(y.WillSaveTextDocumentWaitUntilRequest={}));var ZS;(function(t){t.type=new se.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(ZS=y.DidChangeWatchedFilesNotification||(y.DidChangeWatchedFilesNotification={}));var eD;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(eD=y.FileChangeType||(y.FileChangeType={}));var tD;(function(t){t.Create=1,t.Change=2,t.Delete=4})(tD=y.WatchKind||(y.WatchKind={}));var nD;(function(t){t.type=new se.ProtocolNotificationType("textDocument/publishDiagnostics")})(nD=y.PublishDiagnosticsNotification||(y.PublishDiagnosticsNotification={}));var rD;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(rD=y.CompletionTriggerKind||(y.CompletionTriggerKind={}));var iD;(function(t){t.method="textDocument/completion",t.type=new se.ProtocolRequestType(t.method)})(iD=y.CompletionRequest||(y.CompletionRequest={}));var oD;(function(t){t.method="completionItem/resolve",t.type=new se.ProtocolRequestType(t.method)})(oD=y.CompletionResolveRequest||(y.CompletionResolveRequest={}));var sD;(function(t){t.method="textDocument/hover",t.type=new se.ProtocolRequestType(t.method)})(sD=y.HoverRequest||(y.HoverRequest={}));var aD;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(aD=y.SignatureHelpTriggerKind||(y.SignatureHelpTriggerKind={}));var cD;(function(t){t.method="textDocument/signatureHelp",t.type=new se.ProtocolRequestType(t.method)})(cD=y.SignatureHelpRequest||(y.SignatureHelpRequest={}));var uD;(function(t){t.method="textDocument/definition",t.type=new se.ProtocolRequestType(t.method)})(uD=y.DefinitionRequest||(y.DefinitionRequest={}));var lD;(function(t){t.method="textDocument/references",t.type=new se.ProtocolRequestType(t.method)})(lD=y.ReferencesRequest||(y.ReferencesRequest={}));var dD;(function(t){t.method="textDocument/documentHighlight",t.type=new se.ProtocolRequestType(t.method)})(dD=y.DocumentHighlightRequest||(y.DocumentHighlightRequest={}));var fD;(function(t){t.method="textDocument/documentSymbol",t.type=new se.ProtocolRequestType(t.method)})(fD=y.DocumentSymbolRequest||(y.DocumentSymbolRequest={}));var hD;(function(t){t.method="textDocument/codeAction",t.type=new se.ProtocolRequestType(t.method)})(hD=y.CodeActionRequest||(y.CodeActionRequest={}));var gD;(function(t){t.method="codeAction/resolve",t.type=new se.ProtocolRequestType(t.method)})(gD=y.CodeActionResolveRequest||(y.CodeActionResolveRequest={}));var pD;(function(t){t.method="workspace/symbol",t.type=new se.ProtocolRequestType(t.method)})(pD=y.WorkspaceSymbolRequest||(y.WorkspaceSymbolRequest={}));var mD;(function(t){t.method="textDocument/codeLens",t.type=new se.ProtocolRequestType(t.method)})(mD=y.CodeLensRequest||(y.CodeLensRequest={}));var vD;(function(t){t.method="codeLens/resolve",t.type=new se.ProtocolRequestType(t.method)})(vD=y.CodeLensResolveRequest||(y.CodeLensResolveRequest={}));var yD;(function(t){t.method="workspace/codeLens/refresh",t.type=new se.ProtocolRequestType0(t.method)})(yD=y.CodeLensRefreshRequest||(y.CodeLensRefreshRequest={}));var _D;(function(t){t.method="textDocument/documentLink",t.type=new se.ProtocolRequestType(t.method)})(_D=y.DocumentLinkRequest||(y.DocumentLinkRequest={}));var wD;(function(t){t.method="documentLink/resolve",t.type=new se.ProtocolRequestType(t.method)})(wD=y.DocumentLinkResolveRequest||(y.DocumentLinkResolveRequest={}));var bD;(function(t){t.method="textDocument/formatting",t.type=new se.ProtocolRequestType(t.method)})(bD=y.DocumentFormattingRequest||(y.DocumentFormattingRequest={}));var RD;(function(t){t.method="textDocument/rangeFormatting",t.type=new se.ProtocolRequestType(t.method)})(RD=y.DocumentRangeFormattingRequest||(y.DocumentRangeFormattingRequest={}));var CD;(function(t){t.method="textDocument/onTypeFormatting",t.type=new se.ProtocolRequestType(t.method)})(CD=y.DocumentOnTypeFormattingRequest||(y.DocumentOnTypeFormattingRequest={}));var SD;(function(t){t.Identifier=1})(SD=y.PrepareSupportDefaultBehavior||(y.PrepareSupportDefaultBehavior={}));var DD;(function(t){t.method="textDocument/rename",t.type=new se.ProtocolRequestType(t.method)})(DD=y.RenameRequest||(y.RenameRequest={}));var PD;(function(t){t.method="textDocument/prepareRename",t.type=new se.ProtocolRequestType(t.method)})(PD=y.PrepareRenameRequest||(y.PrepareRenameRequest={}));var TD;(function(t){t.type=new se.ProtocolRequestType("workspace/executeCommand")})(TD=y.ExecuteCommandRequest||(y.ExecuteCommandRequest={}));var qD;(function(t){t.type=new se.ProtocolRequestType("workspace/applyEdit")})(qD=y.ApplyWorkspaceEditRequest||(y.ApplyWorkspaceEditRequest={}))});var Gg=T(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.createProtocolConnection=void 0;var Bg=bi();function ED(t,e,n,r){return Bg.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),Bg.createMessageConnection(t,e,n,r)}As.createProtocolConnection=ED});var Xg=T(yt=>{"use strict";var OD=yt&&yt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Ls=yt&&yt.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&OD(e,t,n)};Object.defineProperty(yt,"__esModule",{value:!0});yt.LSPErrorCodes=yt.createProtocolConnection=void 0;Ls(bi(),yt);Ls(mr(),yt);Ls(it(),yt);Ls(Ug(),yt);var FD=Gg();Object.defineProperty(yt,"createProtocolConnection",{enumerable:!0,get:function(){return FD.createProtocolConnection}});var kD;(function(t){t.lspReservedErrorRangeStart=-32899,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(kD=yt.LSPErrorCodes||(yt.LSPErrorCodes={}))});var ie=T(qn=>{"use strict";var MD=qn&&qn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Vg=qn&&qn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&MD(e,t,n)};Object.defineProperty(qn,"__esModule",{value:!0});qn.createProtocolConnection=void 0;var xD=nu();Vg(nu(),qn);Vg(Xg(),qn);function ID(t,e,n,r){return xD.createMessageConnection(t,e,n,r)}qn.createProtocolConnection=ID});var cu=T(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.toJSONObject=Di.ConfigurationFeature=void 0;var au=require("vscode"),ND=ie(),Jg=class{constructor(e){this._client=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(ND.ConfigurationRequest.type,(n,r)=>{let i=o=>{let a=[];for(let c of o.items){let d=c.scopeUri!==void 0&&c.scopeUri!==null?this._client.protocol2CodeConverter.asUri(c.scopeUri):void 0;a.push(this.getConfiguration(d,c.section!==null?c.section:void 0))}return a},s=e.clientOptions.middleware.workspace;return s&&s.configuration?s.configuration(n,r,i):i(n,r)})}getConfiguration(e,n){let r=null;if(n){let i=n.lastIndexOf(".");if(i===-1)r=Si(au.workspace.getConfiguration(void 0,e).get(n));else{let s=au.workspace.getConfiguration(n.substr(0,i),e);s&&(r=Si(s.get(n.substr(i+1))))}}else{let i=au.workspace.getConfiguration(void 0,e);r={};for(let s of Object.keys(i))i.has(s)&&(r[s]=Si(i.get(s)))}return r===void 0&&(r=null),r}dispose(){}};Di.ConfigurationFeature=Jg;function Si(t){if(t){if(Array.isArray(t))return t.map(Si);if(typeof t=="object"){let e=Object.create(null);for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Si(t[n]));return e}}return t}Di.toJSONObject=Si});var lu=T(uu=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});var AD=require("vscode"),Qg=class extends AD.CompletionItem{constructor(e){super(e)}};uu.default=Qg});var fu=T(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});var LD=require("vscode"),Yg=class extends LD.CodeLens{constructor(e){super(e)}};du.default=Yg});var gu=T(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});var jD=require("vscode"),Zg=class extends jD.DocumentLink{constructor(e,n){super(e,n)}};hu.default=Zg});var mu=T(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});var WD=require("vscode"),ep=class extends WD.CodeAction{constructor(e,n){super(e);this.data=n}};pu.default=ep});var yu=T(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});Yr.ProtocolDiagnostic=Yr.DiagnosticCode=void 0;var $D=require("vscode"),vu=pr(),HD;(function(t){function e(n){let r=n;return r!=null&&(vu.number(r.value)||vu.string(r.value))&&vu.string(r.target)}t.is=e})(HD=Yr.DiagnosticCode||(Yr.DiagnosticCode={}));var tp=class extends $D.Diagnostic{constructor(e,n,r,i){super(e,n,r);this.data=i,this.hasDiagnosticCode=!1}};Yr.ProtocolDiagnostic=tp});var wu=T(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});var zD=require("vscode"),np=class extends zD.CallHierarchyItem{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s,o);a!==void 0&&(this.data=a)}};_u.default=np});var ip=T(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.createConverter=void 0;var ot=require("vscode"),Se=ie(),xo=pr(),KD=lu(),UD=fu(),BD=gu(),GD=mu(),rp=yu(),XD=wu(),VD=ie(),bu;(function(t){function e(n){let r=n;return r&&!!r.inserting&&!!r.replacing}t.is=e})(bu||(bu={}));function JD(t){let n=t||(u=>u.toString());function r(u){return n(u)}function i(u){return{uri:n(u.uri)}}function s(u){return{uri:n(u.uri),version:u.version}}function o(u){return{textDocument:{uri:n(u.uri),languageId:u.languageId,version:u.version,text:u.getText()}}}function a(u){let l=u;return!!l.document&&!!l.contentChanges}function c(u){let l=u;return!!l.uri&&!!l.version}function d(u){if(c(u))return{textDocument:{uri:n(u.uri),version:u.version},contentChanges:[{text:u.getText()}]};if(a(u)){let l=u.document;return{textDocument:{uri:n(l.uri),version:l.version},contentChanges:u.contentChanges.map(E=>{let $=E.range;return{range:{start:{line:$.start.line,character:$.start.character},end:{line:$.end.line,character:$.end.character}},rangeLength:E.rangeLength,text:E.text}})}}else throw Error("Unsupported text document change parameter")}function h(u){return{textDocument:i(u)}}function p(u,l=!1){let S={textDocument:i(u)};return l&&(S.text=u.getText()),S}function m(u){switch(u){case ot.TextDocumentSaveReason.Manual:return Se.TextDocumentSaveReason.Manual;case ot.TextDocumentSaveReason.AfterDelay:return Se.TextDocumentSaveReason.AfterDelay;case ot.TextDocumentSaveReason.FocusOut:return Se.TextDocumentSaveReason.FocusOut}return Se.TextDocumentSaveReason.Manual}function v(u){return{textDocument:i(u.document),reason:m(u.reason)}}function O(u){return{files:u.files.map(l=>({uri:n(l)}))}}function F(u){return{files:u.files.map(l=>({oldUri:n(l.oldUri),newUri:n(l.newUri)}))}}function N(u){return{files:u.files.map(l=>({uri:n(l)}))}}function b(u){return{files:u.files.map(l=>({uri:n(l)}))}}function w(u){return{files:u.files.map(l=>({oldUri:n(l.oldUri),newUri:n(l.newUri)}))}}function q(u){return{files:u.files.map(l=>({uri:n(l)}))}}function k(u,l){return{textDocument:i(u),position:de(l)}}function W(u){switch(u){case ot.CompletionTriggerKind.TriggerCharacter:return Se.CompletionTriggerKind.TriggerCharacter;case ot.CompletionTriggerKind.TriggerForIncompleteCompletions:return Se.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return Se.CompletionTriggerKind.Invoked}}function ee(u,l,S){return{textDocument:i(u),position:de(l),context:{triggerKind:W(S.triggerKind),triggerCharacter:S.triggerCharacter}}}function ve(u){switch(u){case ot.SignatureHelpTriggerKind.Invoke:return Se.SignatureHelpTriggerKind.Invoked;case ot.SignatureHelpTriggerKind.TriggerCharacter:return Se.SignatureHelpTriggerKind.TriggerCharacter;case ot.SignatureHelpTriggerKind.ContentChange:return Se.SignatureHelpTriggerKind.ContentChange}}function we(u){return{label:u.label}}function ke(u){return u.map(we)}function j(u){return{label:u.label,parameters:ke(u.parameters)}}function x(u){return u.map(j)}function L(u){return u===void 0?u:{signatures:x(u.signatures),activeSignature:u.activeSignature,activeParameter:u.activeParameter}}function z(u,l,S){return{textDocument:i(u),position:de(l),context:{isRetrigger:S.isRetrigger,triggerCharacter:S.triggerCharacter,triggerKind:ve(S.triggerKind),activeSignatureHelp:L(S.activeSignatureHelp)}}}function de(u){return{line:u.line,character:u.character}}function Z(u){return u==null?u:{line:u.line,character:u.character}}function le(u){let l=[];for(let S of u)l.push(Z(S));return l}function ne(u){return u==null?u:{start:Z(u.start),end:Z(u.end)}}function Ie(u){return u==null?u:Se.Location.create(r(u.uri),ne(u.range))}function Te(u){switch(u){case ot.DiagnosticSeverity.Error:return Se.DiagnosticSeverity.Error;case ot.DiagnosticSeverity.Warning:return Se.DiagnosticSeverity.Warning;case ot.DiagnosticSeverity.Information:return Se.DiagnosticSeverity.Information;case ot.DiagnosticSeverity.Hint:return Se.DiagnosticSeverity.Hint}}function tt(u){if(!u)return;let l=[];for(let S of u){let E=Ze(S);E!==void 0&&l.push(E)}return l.length>0?l:void 0}function Ze(u){switch(u){case ot.DiagnosticTag.Unnecessary:return Se.DiagnosticTag.Unnecessary;case ot.DiagnosticTag.Deprecated:return Se.DiagnosticTag.Deprecated;default:return}}function cn(u){return{message:u.message,location:Ie(u.location)}}function ar(u){return u.map(cn)}function cr(u){if(u!=null)return xo.number(u)||xo.string(u)?u:{value:u.value,target:r(u.target)}}function Hn(u){let l=Se.Diagnostic.create(ne(u.range),u.message),S=u instanceof rp.ProtocolDiagnostic?u:void 0;S!==void 0&&S.data!==void 0&&(l.data=S.data);let E=cr(u.code);return rp.DiagnosticCode.is(E)?S!==void 0&&S.hasDiagnosticCode?l.code=E:(l.code=E.value,l.codeDescription={href:E.target}):l.code=E,xo.number(u.severity)&&(l.severity=Te(u.severity)),Array.isArray(u.tags)&&(l.tags=tt(u.tags)),u.relatedInformation&&(l.relatedInformation=ar(u.relatedInformation)),u.source&&(l.source=u.source),l}function zn(u){return u==null?u:u.map(Hn)}function Dn(u,l){switch(u){case"$string":return l;case Se.MarkupKind.PlainText:return{kind:u,value:l};case Se.MarkupKind.Markdown:return{kind:u,value:l.value};default:return`Unsupported Markup content received. Kind is: ${u}`}}function Pn(u){switch(u){case ot.CompletionItemTag.Deprecated:return Se.CompletionItemTag.Deprecated}}function Kn(u){if(u===void 0)return u;let l=[];for(let S of u){let E=Pn(S);E!==void 0&&l.push(E)}return l}function ur(u,l){return l!==void 0?l:u+1}function Nr(u){let l={label:u.label},S=u instanceof KD.default?u:void 0;u.detail&&(l.detail=u.detail),u.documentation&&(!S||S.documentationFormat==="$string"?l.documentation=u.documentation:l.documentation=Dn(S.documentationFormat,u.documentation)),u.filterText&&(l.filterText=u.filterText),Ht(l,u),xo.number(u.kind)&&(l.kind=ur(u.kind,S&&S.originalItemKind)),u.sortText&&(l.sortText=u.sortText),u.additionalTextEdits&&(l.additionalTextEdits=Ar(u.additionalTextEdits)),u.commitCharacters&&(l.commitCharacters=u.commitCharacters.slice()),u.command&&(l.command=Ut(u.command)),(u.preselect===!0||u.preselect===!1)&&(l.preselect=u.preselect);let E=Kn(u.tags);if(S){if(S.data!==void 0&&(l.data=S.data),S.deprecated===!0||S.deprecated===!1){if(S.deprecated===!0&&E!==void 0&&E.length>0){let $=E.indexOf(ot.CompletionItemTag.Deprecated);$!==-1&&E.splice($,1)}l.deprecated=S.deprecated}S.insertTextMode!==void 0&&(l.insertTextMode=S.insertTextMode)}return E!==void 0&&E.length>0&&(l.tags=E),l.insertTextMode===void 0&&u.keepWhitespace===!0&&(l.insertTextMode=VD.InsertTextMode.adjustIndentation),l}function Ht(u,l){let S=Se.InsertTextFormat.PlainText,E,$;l.textEdit?(E=l.textEdit.newText,$=l.textEdit.range):l.insertText instanceof ot.SnippetString?(S=Se.InsertTextFormat.Snippet,E=l.insertText.value):E=l.insertText,l.range&&($=l.range),u.insertTextFormat=S,l.fromEdit&&E!==void 0&&$!==void 0?u.textEdit=lr(E,$):u.insertText=E}function lr(u,l){return bu.is(l)?Se.InsertReplaceEdit.create(u,ne(l.inserting),ne(l.replacing)):{newText:u,range:ne(l)}}function zt(u){return{range:ne(u.range),newText:u.newText}}function Ar(u){return u==null?u:u.map(zt)}function Ke(u){return u<=ot.SymbolKind.TypeParameter?u+1:Se.SymbolKind.Property}function Ct(u){return u}function dr(u){return u.map(Ct)}function Lr(u,l,S){return{textDocument:i(u),position:de(l),context:{includeDeclaration:S.includeDeclaration}}}function Kt(u){let l=Se.CodeAction.create(u.title);if(u instanceof GD.default&&u.data!==void 0&&(l.data=u.data),u.kind!==void 0&&(l.kind=Un(u.kind)),u.diagnostics!==void 0&&(l.diagnostics=zn(u.diagnostics)),u.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return u.command!==void 0&&(l.command=Ut(u.command)),u.isPreferred!==void 0&&(l.isPreferred=u.isPreferred),u.disabled!==void 0&&(l.disabled={reason:u.disabled.reason}),l}function fr(u){if(u==null)return u;let l;return u.only&&xo.string(u.only.value)&&(l=[u.only.value]),Se.CodeActionContext.create(zn(u.diagnostics),l)}function Un(u){if(u!=null)return u.value}function Ut(u){let l=Se.Command.create(u.title,u.command);return u.arguments&&(l.arguments=u.arguments),l}function Bn(u){let l=Se.CodeLens.create(ne(u.range));return u.command&&(l.command=Ut(u.command)),u instanceof UD.default&&u.data&&(l.data=u.data),l}function Bt(u,l){let S={tabSize:u.tabSize,insertSpaces:u.insertSpaces};return l.trimTrailingWhitespace&&(S.trimTrailingWhitespace=!0),l.trimFinalNewlines&&(S.trimFinalNewlines=!0),l.insertFinalNewline&&(S.insertFinalNewline=!0),S}function D(u){return{textDocument:i(u)}}function _(u){return{textDocument:i(u)}}function g(u){let l=Se.DocumentLink.create(ne(u.range));u.target&&(l.target=r(u.target)),u.tooltip!==void 0&&(l.tooltip=u.tooltip);let S=u instanceof BD.default?u:void 0;return S&&S.data&&(l.data=S.data),l}function R(u){return{textDocument:i(u)}}function P(u){let l={name:u.name,kind:Ke(u.kind),uri:r(u.uri),range:ne(u.range),selectionRange:ne(u.selectionRange)};return u.detail!==void 0&&u.detail.length>0&&(l.detail=u.detail),u.tags!==void 0&&(l.tags=dr(u.tags)),u instanceof XD.default&&u.data!==void 0&&(l.data=u.data),l}return{asUri:r,asTextDocumentIdentifier:i,asVersionedTextDocumentIdentifier:s,asOpenTextDocumentParams:o,asChangeTextDocumentParams:d,asCloseTextDocumentParams:h,asSaveTextDocumentParams:p,asWillSaveTextDocumentParams:v,asDidCreateFilesParams:O,asDidRenameFilesParams:F,asDidDeleteFilesParams:N,asWillCreateFilesParams:b,asWillRenameFilesParams:w,asWillDeleteFilesParams:q,asTextDocumentPositionParams:k,asCompletionParams:ee,asSignatureHelpParams:z,asWorkerPosition:de,asRange:ne,asPosition:Z,asPositions:le,asLocation:Ie,asDiagnosticSeverity:Te,asDiagnosticTag:Ze,asDiagnostic:Hn,asDiagnostics:zn,asCompletionItem:Nr,asTextEdit:zt,asSymbolKind:Ke,asSymbolTag:Ct,asSymbolTags:dr,asReferenceParams:Lr,asCodeAction:Kt,asCodeActionContext:fr,asCommand:Ut,asCodeLens:Bn,asFormattingOptions:Bt,asDocumentSymbolParams:D,asCodeLensParams:_,asDocumentLink:g,asDocumentLinkParams:R,asCallHierarchyItem:P}}js.createConverter=JD});var ap=T($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.createConverter=void 0;var X=require("vscode"),he=ie(),pn=pr(),QD=lu(),YD=fu(),ZD=gu(),eP=mu(),op=yu(),tP=wu(),sp=ie(),Ws;(function(t){function e(n){let r=n;return r&&pn.string(r.language)&&pn.string(r.value)}t.is=e})(Ws||(Ws={}));function nP(t,e){let r=t||(f=>X.Uri.parse(f));function i(f){return r(f)}function s(f){return f.map(o)}function o(f){let M=new op.ProtocolDiagnostic(m(f.range),f.message,O(f.severity),f.data);return f.code!==void 0&&(he.CodeDescription.is(f.codeDescription)?M.code={value:f.code,target:i(f.codeDescription.href)}:op.DiagnosticCode.is(f.code)?(M.hasDiagnosticCode=!0,M.code={value:f.code.value,target:i(f.code.target)}):M.code=f.code),f.source&&(M.source=f.source),f.relatedInformation&&(M.relatedInformation=a(f.relatedInformation)),Array.isArray(f.tags)&&(M.tags=d(f.tags)),M}function a(f){return f.map(c)}function c(f){return new X.DiagnosticRelatedInformation(ne(f.location),f.message)}function d(f){if(!f)return;let M=[];for(let Q of f){let _e=h(Q);_e!==void 0&&M.push(_e)}return M.length>0?M:void 0}function h(f){switch(f){case he.DiagnosticTag.Unnecessary:return X.DiagnosticTag.Unnecessary;case he.DiagnosticTag.Deprecated:return X.DiagnosticTag.Deprecated;default:return}}function p(f){if(!!f)return new X.Position(f.line,f.character)}function m(f){if(!!f)return new X.Range(p(f.start),p(f.end))}function v(f){return f.map(M=>m(M))}function O(f){if(f==null)return X.DiagnosticSeverity.Error;switch(f){case he.DiagnosticSeverity.Error:return X.DiagnosticSeverity.Error;case he.DiagnosticSeverity.Warning:return X.DiagnosticSeverity.Warning;case he.DiagnosticSeverity.Information:return X.DiagnosticSeverity.Information;case he.DiagnosticSeverity.Hint:return X.DiagnosticSeverity.Hint}return X.DiagnosticSeverity.Error}function F(f){if(pn.string(f))return b(f);if(Ws.is(f))return b().appendCodeblock(f.value,f.language);if(Array.isArray(f)){let M=[];for(let Q of f){let _e=b();Ws.is(Q)?_e.appendCodeblock(Q.value,Q.language):_e.appendMarkdown(Q),M.push(_e)}return M}else{let M;switch(f.kind){case he.MarkupKind.Markdown:return b(f.value);case he.MarkupKind.PlainText:return M=b(),M.appendText(f.value),M;default:return M=b(),M.appendText(`Unsupported Markup content received. Kind is: ${f.kind}`),M}}}function N(f){if(pn.string(f))return f;switch(f.kind){case he.MarkupKind.Markdown:return b(f.value);case he.MarkupKind.PlainText:return f.value;default:return`Unsupported Markup content received. Kind is: ${f.kind}`}}function b(f){let M=new X.MarkdownString(f);return e===!0&&(M.isTrusted=e),M}function w(f){if(!!f)return new X.Hover(F(f.contents),m(f.range))}function q(f){if(!f)return;if(Array.isArray(f))return f.map(ve);let M=f;return new X.CompletionList(M.items.map(ve),M.isIncomplete)}function k(f){return he.CompletionItemKind.Text<=f&&f<=he.CompletionItemKind.TypeParameter?[f-1,void 0]:[X.CompletionItemKind.Text,f]}function W(f){switch(f){case he.CompletionItemTag.Deprecated:return X.CompletionItemTag.Deprecated}}function ee(f){if(f==null)return[];let M=[];for(let Q of f){let _e=W(Q);_e!==void 0&&M.push(_e)}return M}function ve(f){let M=ee(f.tags),Q=new QD.default(f.label);f.detail&&(Q.detail=f.detail),f.documentation&&(Q.documentation=N(f.documentation),Q.documentationFormat=pn.string(f.documentation)?"$string":f.documentation.kind),f.filterText&&(Q.filterText=f.filterText);let _e=we(f);if(_e&&(Q.insertText=_e.text,Q.range=_e.range,Q.fromEdit=_e.fromEdit),pn.number(f.kind)){let[Fe,Wr]=k(f.kind);Q.kind=Fe,Wr&&(Q.originalItemKind=Wr)}return f.sortText&&(Q.sortText=f.sortText),f.additionalTextEdits&&(Q.additionalTextEdits=x(f.additionalTextEdits)),pn.stringArray(f.commitCharacters)&&(Q.commitCharacters=f.commitCharacters.slice()),f.command&&(Q.command=zt(f.command)),(f.deprecated===!0||f.deprecated===!1)&&(Q.deprecated=f.deprecated,f.deprecated===!0&&M.push(X.CompletionItemTag.Deprecated)),(f.preselect===!0||f.preselect===!1)&&(Q.preselect=f.preselect),f.data!==void 0&&(Q.data=f.data),M.length>0&&(Q.tags=M),f.insertTextMode!==void 0&&(Q.insertTextMode=f.insertTextMode,f.insertTextMode===sp.InsertTextMode.asIs&&(Q.keepWhitespace=!0)),Q}function we(f){return f.textEdit?f.insertTextFormat===he.InsertTextFormat.Snippet?{text:new X.SnippetString(f.textEdit.newText),range:ke(f.textEdit),fromEdit:!0}:{text:f.textEdit.newText,range:ke(f.textEdit),fromEdit:!0}:f.insertText?f.insertTextFormat===he.InsertTextFormat.Snippet?{text:new X.SnippetString(f.insertText),fromEdit:!1}:{text:f.insertText,fromEdit:!1}:void 0}function ke(f){return he.InsertReplaceEdit.is(f)?{inserting:m(f.insert),replacing:m(f.replace)}:m(f.range)}function j(f){if(!!f)return new X.TextEdit(m(f.range),f.newText)}function x(f){if(!!f)return f.map(j)}function L(f){if(!f)return;let M=new X.SignatureHelp;return pn.number(f.activeSignature)?M.activeSignature=f.activeSignature:M.activeSignature=0,pn.number(f.activeParameter)?M.activeParameter=f.activeParameter:M.activeParameter=0,f.signatures&&(M.signatures=z(f.signatures)),M}function z(f){return f.map(de)}function de(f){let M=new X.SignatureInformation(f.label);return f.documentation!==void 0&&(M.documentation=N(f.documentation)),f.parameters!==void 0&&(M.parameters=Z(f.parameters)),f.activeParameter!==void 0&&(M.activeParameter=f.activeParameter),M}function Z(f){return f.map(le)}function le(f){let M=new X.ParameterInformation(f.label);return f.documentation&&(M.documentation=N(f.documentation)),M}function ne(f){if(!!f)return new X.Location(r(f.uri),m(f.range))}function Ie(f){if(!!f)return Ze(f)}function Te(f){if(!!f)return Ze(f)}function tt(f){if(!f)return;let M={targetUri:r(f.targetUri),targetRange:m(f.targetRange),originSelectionRange:m(f.originSelectionRange),targetSelectionRange:m(f.targetSelectionRange)};if(!M.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return M}function Ze(f){if(!!f)return pn.array(f)?f.length===0?[]:he.LocationLink.is(f[0])?f.map(Q=>tt(Q)):f.map(Q=>ne(Q)):he.LocationLink.is(f)?[tt(f)]:ne(f)}function cn(f){if(!!f)return f.map(M=>ne(M))}function ar(f){if(!!f)return f.map(cr)}function cr(f){let M=new X.DocumentHighlight(m(f.range));return pn.number(f.kind)&&(M.kind=Hn(f.kind)),M}function Hn(f){switch(f){case he.DocumentHighlightKind.Text:return X.DocumentHighlightKind.Text;case he.DocumentHighlightKind.Read:return X.DocumentHighlightKind.Read;case he.DocumentHighlightKind.Write:return X.DocumentHighlightKind.Write}return X.DocumentHighlightKind.Text}function zn(f,M){if(!!f)return f.map(Q=>ur(Q,M))}function Dn(f){return f<=he.SymbolKind.TypeParameter?f-1:X.SymbolKind.Property}function Pn(f){switch(f){case he.SymbolTag.Deprecated:return X.SymbolTag.Deprecated;default:return}}function Kn(f){if(f==null)return;let M=[];for(let Q of f){let _e=Pn(Q);_e!==void 0&&M.push(_e)}return M.length===0?void 0:M}function ur(f,M){let Q=new X.SymbolInformation(f.name,Dn(f.kind),m(f.location.range),f.location.uri?r(f.location.uri):M);return lr(Q,f),f.containerName&&(Q.containerName=f.containerName),Q}function Nr(f){if(f!=null)return f.map(Ht)}function Ht(f){let M=new X.DocumentSymbol(f.name,f.detail||"",Dn(f.kind),m(f.range),m(f.selectionRange));if(lr(M,f),f.children!==void 0&&f.children.length>0){let Q=[];for(let _e of f.children)Q.push(Ht(_e));M.children=Q}return M}function lr(f,M){f.tags=Kn(M.tags),M.deprecated&&(f.tags?f.tags.includes(X.SymbolTag.Deprecated)||(f.tags=f.tags.concat(X.SymbolTag.Deprecated)):f.tags=[X.SymbolTag.Deprecated])}function zt(f){let M={title:f.title,command:f.command};return f.arguments&&(M.arguments=f.arguments),M}function Ar(f){if(!!f)return f.map(zt)}let Ke=new Map;Ke.set(he.CodeActionKind.Empty,X.CodeActionKind.Empty),Ke.set(he.CodeActionKind.QuickFix,X.CodeActionKind.QuickFix),Ke.set(he.CodeActionKind.Refactor,X.CodeActionKind.Refactor),Ke.set(he.CodeActionKind.RefactorExtract,X.CodeActionKind.RefactorExtract),Ke.set(he.CodeActionKind.RefactorInline,X.CodeActionKind.RefactorInline),Ke.set(he.CodeActionKind.RefactorRewrite,X.CodeActionKind.RefactorRewrite),Ke.set(he.CodeActionKind.Source,X.CodeActionKind.Source),Ke.set(he.CodeActionKind.SourceOrganizeImports,X.CodeActionKind.SourceOrganizeImports);function Ct(f){if(f==null)return;let M=Ke.get(f);if(M)return M;let Q=f.split(".");M=X.CodeActionKind.Empty;for(let _e of Q)M=M.append(_e);return M}function dr(f){if(f!=null)return f.map(M=>Ct(M))}function Lr(f){if(f==null)return;let M=new eP.default(f.title,f.data);return f.kind!==void 0&&(M.kind=Ct(f.kind)),f.diagnostics!==void 0&&(M.diagnostics=s(f.diagnostics)),f.edit!==void 0&&(M.edit=Un(f.edit)),f.command!==void 0&&(M.command=zt(f.command)),f.isPreferred!==void 0&&(M.isPreferred=f.isPreferred),f.disabled!==void 0&&(M.disabled={reason:f.disabled.reason}),M}function Kt(f){if(!f)return;let M=new YD.default(m(f.range));return f.command&&(M.command=zt(f.command)),f.data!==void 0&&f.data!==null&&(M.data=f.data),M}function fr(f){if(!!f)return f.map(M=>Kt(M))}function Un(f){if(!f)return;let M=new Map;if(f.changeAnnotations!==void 0)for(let Fe of Object.keys(f.changeAnnotations)){let Wr=Ut(f.changeAnnotations[Fe]);M.set(Fe,Wr)}let Q=Fe=>{if(Fe!==void 0)return M.get(Fe)},_e=new X.WorkspaceEdit;if(f.documentChanges)for(let Fe of f.documentChanges)if(he.CreateFile.is(Fe))_e.createFile(r(Fe.uri),Fe.options,Q(Fe.annotationId));else if(he.RenameFile.is(Fe))_e.renameFile(r(Fe.oldUri),r(Fe.newUri),Fe.options,Q(Fe.annotationId));else if(he.DeleteFile.is(Fe))_e.deleteFile(r(Fe.uri),Fe.options,Q(Fe.annotationId));else if(he.TextDocumentEdit.is(Fe)){let Wr=r(Fe.textDocument.uri);for(let li of Fe.edits)sp.AnnotatedTextEdit.is(li)?_e.replace(Wr,m(li.range),li.newText,Q(li.annotationId)):_e.replace(Wr,m(li.range),li.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(Fe,void 0,4)}`);else f.changes&&Object.keys(f.changes).forEach(Fe=>{_e.set(r(Fe),x(f.changes[Fe]))});return _e}function Ut(f){if(f!==void 0)return{label:f.label,needsConfirmation:!!f.needsConfirmation,description:f.description}}function Bn(f){let M=m(f.range),Q=f.target?i(f.target):void 0,_e=new ZD.default(M,Q);return f.tooltip!==void 0&&(_e.tooltip=f.tooltip),f.data!==void 0&&f.data!==null&&(_e.data=f.data),_e}function Bt(f){if(!!f)return f.map(Bn)}function D(f){return new X.Color(f.red,f.green,f.blue,f.alpha)}function _(f){return new X.ColorInformation(m(f.range),D(f.color))}function g(f){if(Array.isArray(f))return f.map(_)}function R(f){let M=new X.ColorPresentation(f.label);return M.additionalTextEdits=x(f.additionalTextEdits),f.textEdit&&(M.textEdit=j(f.textEdit)),M}function P(f){if(Array.isArray(f))return f.map(R)}function u(f){if(f)switch(f){case he.FoldingRangeKind.Comment:return X.FoldingRangeKind.Comment;case he.FoldingRangeKind.Imports:return X.FoldingRangeKind.Imports;case he.FoldingRangeKind.Region:return X.FoldingRangeKind.Region}}function l(f){return new X.FoldingRange(f.startLine,f.endLine,u(f.kind))}function S(f){if(Array.isArray(f))return f.map(l)}function E(f){return new X.SelectionRange(m(f.range),f.parent?E(f.parent):void 0)}function $(f){if(!Array.isArray(f))return[];let M=[];for(let Q of f)M.push(E(Q));return M}function V(f){if(f===null)return;let M=new tP.default(Dn(f.kind),f.name,f.detail||"",i(f.uri),m(f.range),m(f.selectionRange),f.data);return f.tags!==void 0&&(M.tags=Kn(f.tags)),M}function oe(f){if(f!==null)return f.map(M=>V(M))}function qe(f){return new X.CallHierarchyIncomingCall(V(f.from),v(f.fromRanges))}function Ue(f){if(f!==null)return f.map(M=>qe(M))}function Be(f){return new X.CallHierarchyOutgoingCall(V(f.to),v(f.fromRanges))}function me(f){if(f!==null)return f.map(M=>Be(M))}function hr(f){if(f!=null)return new X.SemanticTokens(new Uint32Array(f.data),f.resultId)}function jr(f){return new X.SemanticTokensEdit(f.start,f.deleteCount,f.data!==void 0?new Uint32Array(f.data):void 0)}function ps(f){if(f!=null)return new X.SemanticTokensEdits(f.edits.map(jr),f.resultId)}function aw(f){return f}function cw(f){if(f!=null)return new X.LinkedEditingRanges(v(f.ranges),uw(f.wordPattern))}function uw(f){if(f!=null)return new RegExp(f)}return{asUri:i,asDiagnostics:s,asDiagnostic:o,asRange:m,asRanges:v,asPosition:p,asDiagnosticSeverity:O,asDiagnosticTag:h,asHover:w,asCompletionResult:q,asCompletionItem:ve,asTextEdit:j,asTextEdits:x,asSignatureHelp:L,asSignatureInformations:z,asSignatureInformation:de,asParameterInformations:Z,asParameterInformation:le,asDeclarationResult:Ie,asDefinitionResult:Te,asLocation:ne,asReferences:cn,asDocumentHighlights:ar,asDocumentHighlight:cr,asDocumentHighlightKind:Hn,asSymbolKind:Dn,asSymbolTag:Pn,asSymbolTags:Kn,asSymbolInformations:zn,asSymbolInformation:ur,asDocumentSymbols:Nr,asDocumentSymbol:Ht,asCommand:zt,asCommands:Ar,asCodeAction:Lr,asCodeActionKind:Ct,asCodeActionKinds:dr,asCodeLens:Kt,asCodeLenses:fr,asWorkspaceEdit:Un,asDocumentLink:Bn,asDocumentLinks:Bt,asFoldingRangeKind:u,asFoldingRange:l,asFoldingRanges:S,asColor:D,asColorInformation:_,asColorInformations:g,asColorPresentation:R,asColorPresentations:P,asSelectionRange:E,asSelectionRanges:$,asSemanticTokensLegend:aw,asSemanticTokens:hr,asSemanticTokensEdit:jr,asSemanticTokensEdits:ps,asCallHierarchyItem:V,asCallHierarchyItems:oe,asCallHierarchyIncomingCall:qe,asCallHierarchyIncomingCalls:Ue,asCallHierarchyOutgoingCall:Be,asCallHierarchyOutgoingCalls:me,asLinkedEditingRanges:cw}}$s.createConverter=nP});var lp=T(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.Delayer=void 0;var cp=ie(),up=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,n=this.defaultDelay){return this.task=e,n>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(r=>{this.onSuccess=r}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var r=this.task();return this.task=void 0,r})),(n>=0||this.timeout===void 0)&&(this.timeout=cp.RAL().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},n>=0?n:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(cp.RAL().timer.clearTimeout(this.timeout),this.timeout=void 0)}};Hs.Delayer=up});var Ks=T(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.generateUuid=Qt.parse=Qt.isUUID=Qt.v4=Qt.empty=void 0;var zs=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},ge=class extends zs{constructor(){super([ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex(),"-",ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex(),"-","4",ge._randomHex(),ge._randomHex(),ge._randomHex(),"-",ge._oneOf(ge._timeHighBits),ge._randomHex(),ge._randomHex(),ge._randomHex(),"-",ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex(),ge._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return ge._oneOf(ge._chars)}};ge._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];ge._timeHighBits=["8","9","a","b"];Qt.empty=new zs("00000000-0000-0000-0000-000000000000");function dp(){return new ge}Qt.v4=dp;var rP=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function fp(t){return rP.test(t)}Qt.isUUID=fp;function iP(t){if(!fp(t))throw new Error("invalid uuid");return new zs(t)}Qt.parse=iP;function oP(){return dp().asHex()}Qt.generateUuid=oP});var Ru=T(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.ProgressPart=void 0;var hp=require("vscode"),gp=ie(),pp=pr(),mp=class{constructor(e,n,r){this._client=e,this._token=n,this._reported=0,this._disposable=this._client.onProgress(gp.WorkDoneProgress.type,this._token,i=>{switch(i.kind){case"begin":this.begin(i);break;case"report":this.report(i);break;case"end":this.done(),r&&r(this);break}})}begin(e){hp.window.withProgress({location:hp.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(n,r)=>(this._progress=n,this._infinite=e.percentage===void 0,this._cancellationToken=r,this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(gp.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((i,s)=>{this._resolve=i,this._reject=s})))}report(e){if(this._infinite&&pp.string(e.message))this._progress.report({message:e.message});else if(pp.number(e.percentage)){let n=Math.max(0,Math.min(e.percentage,100)),r=Math.max(0,n-this._reported);this._progress.report({message:e.message,increment:r}),this._reported+=r}}cancel(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._reject&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._resolve&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}};Us.ProgressPart=mp});var At=T(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.BaseLanguageClient=Ge.MessageTransports=Ge.TextDocumentFeature=Ge.State=Ge.RevealOutputChannelOn=Ge.CloseAction=Ge.ErrorAction=void 0;var K=require("vscode"),C=ie(),sP=cu(),aP=ip(),cP=ap(),Me=pr(),vp=lp(),xe=Ks(),uP=Ru(),yp=class{error(e){C.RAL().console.error(e)}warn(e){C.RAL().console.warn(e)}info(e){C.RAL().console.info(e)}log(e){C.RAL().console.log(e)}};function lP(t,e,n,r,i){let s=new yp,o=C.createProtocolConnection(t,e,s,i);return o.onError(c=>{n(c[0],c[1],c[2])}),o.onClose(r),{listen:()=>o.listen(),sendRequest:(c,...d)=>o.sendRequest(Me.string(c)?c:c.method,...d),onRequest:(c,d)=>o.onRequest(Me.string(c)?c:c.method,d),sendNotification:(c,d)=>o.sendNotification(Me.string(c)?c:c.method,d),onNotification:(c,d)=>o.onNotification(Me.string(c)?c:c.method,d),onProgress:o.onProgress,sendProgress:o.sendProgress,trace:(c,d,h)=>{let p={sendNotification:!1,traceFormat:C.TraceFormat.Text};h===void 0?o.trace(c,d,p):(Me.boolean(h),o.trace(c,d,h))},initialize:c=>o.sendRequest(C.InitializeRequest.type,c),shutdown:()=>o.sendRequest(C.ShutdownRequest.type,void 0),exit:()=>o.sendNotification(C.ExitNotification.type),onLogMessage:c=>o.onNotification(C.LogMessageNotification.type,c),onShowMessage:c=>o.onNotification(C.ShowMessageNotification.type,c),onTelemetry:c=>o.onNotification(C.TelemetryEventNotification.type,c),didChangeConfiguration:c=>o.sendNotification(C.DidChangeConfigurationNotification.type,c),didChangeWatchedFiles:c=>o.sendNotification(C.DidChangeWatchedFilesNotification.type,c),didOpenTextDocument:c=>o.sendNotification(C.DidOpenTextDocumentNotification.type,c),didChangeTextDocument:c=>o.sendNotification(C.DidChangeTextDocumentNotification.type,c),didCloseTextDocument:c=>o.sendNotification(C.DidCloseTextDocumentNotification.type,c),didSaveTextDocument:c=>o.sendNotification(C.DidSaveTextDocumentNotification.type,c),onDiagnostics:c=>o.onNotification(C.PublishDiagnosticsNotification.type,c),end:()=>o.end(),dispose:()=>o.dispose()}}var Bs;(function(t){t[t.Continue=1]="Continue",t[t.Shutdown=2]="Shutdown"})(Bs=Ge.ErrorAction||(Ge.ErrorAction={}));var Zr;(function(t){t[t.DoNotRestart=1]="DoNotRestart",t[t.Restart=2]="Restart"})(Zr=Ge.CloseAction||(Ge.CloseAction={}));var _p=class{constructor(e,n){this.name=e,this.maxRestartCount=n,this.restarts=[]}error(e,n,r){return r&&r<=3?Bs.Continue:Bs.Shutdown}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?Zr.Restart:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?(K.window.showErrorMessage(`The ${this.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted.`),Zr.DoNotRestart):(this.restarts.shift(),Zr.Restart)}},Io;(function(t){t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t[t.Never=4]="Never"})(Io=Ge.RevealOutputChannelOn||(Ge.RevealOutputChannelOn={}));var Gs;(function(t){t[t.Stopped=1]="Stopped",t[t.Starting=3]="Starting",t[t.Running=2]="Running"})(Gs=Ge.State||(Ge.State={}));var Le;(function(t){t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.StartFailed=2]="StartFailed",t[t.Running=3]="Running",t[t.Stopping=4]="Stopping",t[t.Stopped=5]="Stopped"})(Le||(Le={}));var wp=[C.SymbolKind.File,C.SymbolKind.Module,C.SymbolKind.Namespace,C.SymbolKind.Package,C.SymbolKind.Class,C.SymbolKind.Method,C.SymbolKind.Property,C.SymbolKind.Field,C.SymbolKind.Constructor,C.SymbolKind.Enum,C.SymbolKind.Interface,C.SymbolKind.Function,C.SymbolKind.Variable,C.SymbolKind.Constant,C.SymbolKind.String,C.SymbolKind.Number,C.SymbolKind.Boolean,C.SymbolKind.Array,C.SymbolKind.Object,C.SymbolKind.Key,C.SymbolKind.Null,C.SymbolKind.EnumMember,C.SymbolKind.Struct,C.SymbolKind.Event,C.SymbolKind.Operator,C.SymbolKind.TypeParameter],dP=[C.CompletionItemKind.Text,C.CompletionItemKind.Method,C.CompletionItemKind.Function,C.CompletionItemKind.Constructor,C.CompletionItemKind.Field,C.CompletionItemKind.Variable,C.CompletionItemKind.Class,C.CompletionItemKind.Interface,C.CompletionItemKind.Module,C.CompletionItemKind.Property,C.CompletionItemKind.Unit,C.CompletionItemKind.Value,C.CompletionItemKind.Enum,C.CompletionItemKind.Keyword,C.CompletionItemKind.Snippet,C.CompletionItemKind.Color,C.CompletionItemKind.File,C.CompletionItemKind.Reference,C.CompletionItemKind.Folder,C.CompletionItemKind.EnumMember,C.CompletionItemKind.Constant,C.CompletionItemKind.Struct,C.CompletionItemKind.Event,C.CompletionItemKind.Operator,C.CompletionItemKind.TypeParameter],bp=[C.SymbolTag.Deprecated];function J(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var No;(function(t){function e(n){let r=K.workspace.getConfiguration("files",n);return{trimTrailingWhitespace:r.get("trimTrailingWhitespace"),trimFinalNewlines:r.get("trimFinalNewlines"),insertFinalNewline:r.get("insertFinalNewline")}}t.fromConfiguration=e})(No||(No={}));var Cu;(function(t){function e(n){let r=n;return r&&Me.func(r.register)&&Me.func(r.unregister)&&Me.func(r.dispose)&&r.registrationType!==void 0}t.is=e})(Cu||(Cu={}));var En=class{constructor(e,n,r,i,s,o){this._client=e,this._event=n,this._type=r,this._middleware=i,this._createParams=s,this._selectorFilter=o,this._selectors=new Map}static textDocumentFilter(e,n){for(let r of e)if(K.languages.match(r,n))return!0;return!1}register(e){!e.registerOptions.documentSelector||(this._listener||(this._listener=this._event(this.callback,this)),this._selectors.set(e.id,e.registerOptions.documentSelector))}callback(e){(!this._selectorFilter||this._selectorFilter(this._selectors.values(),e))&&(this._middleware?this._middleware(e,n=>this._client.sendNotification(this._type,this._createParams(n))):this._client.sendNotification(this._type,this._createParams(e)),this.notificationSent(e))}notificationSent(e){}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let n of this._selectors.values())if(K.languages.match(n,e))return{send:r=>{this.callback(r)}}}},Rp=class extends En{constructor(e,n){super(e,K.workspace.onDidOpenTextDocument,C.DidOpenTextDocumentNotification.type,e.clientOptions.middleware.didOpen,r=>e.code2ProtocolConverter.asOpenTextDocumentParams(r),En.textDocumentFilter);this._syncedDocuments=n}fillClientCapabilities(e){J(J(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.openClose&&this.register({id:xe.generateUuid(),registerOptions:{documentSelector:n}})}get registrationType(){return C.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let n=e.registerOptions.documentSelector;K.workspace.textDocuments.forEach(r=>{let i=r.uri.toString();if(!this._syncedDocuments.has(i)&&K.languages.match(n,r)){let s=this._client.clientOptions.middleware,o=a=>{this._client.sendNotification(this._type,this._createParams(a))};s.didOpen?s.didOpen(r,o):o(r),this._syncedDocuments.set(i,r)}})}notificationSent(e){super.notificationSent(e),this._syncedDocuments.set(e.uri.toString(),e)}},Cp=class extends En{constructor(e,n){super(e,K.workspace.onDidCloseTextDocument,C.DidCloseTextDocumentNotification.type,e.clientOptions.middleware.didClose,r=>e.code2ProtocolConverter.asCloseTextDocumentParams(r),En.textDocumentFilter);this._syncedDocuments=n}get registrationType(){return C.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){J(J(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.openClose&&this.register({id:xe.generateUuid(),registerOptions:{documentSelector:n}})}notificationSent(e){super.notificationSent(e),this._syncedDocuments.delete(e.uri.toString())}unregister(e){let n=this._selectors.get(e);super.unregister(e);let r=this._selectors.values();this._syncedDocuments.forEach(i=>{if(K.languages.match(n,i)&&!this._selectorFilter(r,i)){let s=this._client.clientOptions.middleware,o=a=>{this._client.sendNotification(this._type,this._createParams(a))};this._syncedDocuments.delete(i.uri.toString()),s.didClose?s.didClose(i,o):o(i)}})}},Sp=class{constructor(e){this._client=e,this._changeData=new Map,this._forcingDelivery=!1}get registrationType(){return C.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){J(J(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.change!==void 0&&r.change!==C.TextDocumentSyncKind.None&&this.register({id:xe.generateUuid(),registerOptions:Object.assign({},{documentSelector:n},{syncKind:r.change})})}register(e){!e.registerOptions.documentSelector||(this._listener||(this._listener=K.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{documentSelector:e.registerOptions.documentSelector,syncKind:e.registerOptions.syncKind}))}callback(e){if(e.contentChanges.length!==0){for(let n of this._changeData.values())if(K.languages.match(n.documentSelector,e.document)){let r=this._client.clientOptions.middleware;if(n.syncKind===C.TextDocumentSyncKind.Incremental){let i=this._client.code2ProtocolConverter.asChangeTextDocumentParams(e);r.didChange?r.didChange(e,()=>this._client.sendNotification(C.DidChangeTextDocumentNotification.type,i)):this._client.sendNotification(C.DidChangeTextDocumentNotification.type,i)}else if(n.syncKind===C.TextDocumentSyncKind.Full){let i=s=>{this._changeDelayer?(this._changeDelayer.uri!==s.document.uri.toString()&&(this.forceDelivery(),this._changeDelayer.uri=s.document.uri.toString()),this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(C.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(s.document))})):(this._changeDelayer={uri:s.document.uri.toString(),delayer:new vp.Delayer(200)},this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(C.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(s.document))},-1))};r.didChange?r.didChange(e,i):i(e)}}}}unregister(e){this._changeData.delete(e),this._changeData.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}forceDelivery(){if(!(this._forcingDelivery||!this._changeDelayer))try{this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}getProvider(e){for(let n of this._changeData.values())if(K.languages.match(n.documentSelector,e))return{send:r=>{this.callback(r)}}}},Dp=class extends En{constructor(e){super(e,K.workspace.onWillSaveTextDocument,C.WillSaveTextDocumentNotification.type,e.clientOptions.middleware.willSave,n=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(n),(n,r)=>En.textDocumentFilter(n,r.document))}get registrationType(){return C.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let n=J(J(e,"textDocument"),"synchronization");n.willSave=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.willSave&&this.register({id:xe.generateUuid(),registerOptions:{documentSelector:n}})}},Pp=class{constructor(e){this._client=e,this._selectors=new Map}get registrationType(){return C.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let n=J(J(e,"textDocument"),"synchronization");n.willSaveWaitUntil=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.willSaveWaitUntil&&this.register({id:xe.generateUuid(),registerOptions:{documentSelector:n}})}register(e){!e.registerOptions.documentSelector||(this._listener||(this._listener=K.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,e.registerOptions.documentSelector))}callback(e){if(En.textDocumentFilter(this._selectors.values(),e.document)){let n=this._client.clientOptions.middleware,r=i=>this._client.sendRequest(C.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(i)).then(s=>{let o=this._client.protocol2CodeConverter.asTextEdits(s);return o===void 0?[]:o});e.waitUntil(n.willSaveWaitUntil?n.willSaveWaitUntil(e,r):r(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}},Tp=class extends En{constructor(e){super(e,K.workspace.onDidSaveTextDocument,C.DidSaveTextDocumentNotification.type,e.clientOptions.middleware.didSave,n=>e.code2ProtocolConverter.asSaveTextDocumentParams(n,this._includeText),En.textDocumentFilter);this._includeText=!1}get registrationType(){return C.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){J(J(e,"textDocument"),"synchronization").didSave=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;if(n&&r&&r.save){let i=typeof r.save=="boolean"?{includeText:!1}:{includeText:!!r.save.includeText};this.register({id:xe.generateUuid(),registerOptions:Object.assign({},{documentSelector:n},i)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}},qp=class{constructor(e,n){this._client=e,this._notifyFileEvent=n,this._watchers=new Map}get registrationType(){return C.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){J(J(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0}initialize(e,n){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let n=[];for(let r of e.registerOptions.watchers){if(!Me.string(r.globPattern))continue;let i=!0,s=!0,o=!0;r.kind!==void 0&&r.kind!==null&&(i=(r.kind&C.WatchKind.Create)!=0,s=(r.kind&C.WatchKind.Change)!=0,o=(r.kind&C.WatchKind.Delete)!=0);let a=K.workspace.createFileSystemWatcher(r.globPattern,!i,!s,!o);this.hookListeners(a,i,s,o),n.push(a)}this._watchers.set(e.id,n)}registerRaw(e,n){let r=[];for(let i of n)this.hookListeners(i,!0,!0,!0,r);this._watchers.set(e,r)}hookListeners(e,n,r,i,s){n&&e.onDidCreate(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:C.FileChangeType.Created}),null,s),r&&e.onDidChange(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:C.FileChangeType.Changed}),null,s),i&&e.onDidDelete(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:C.FileChangeType.Deleted}),null,s)}unregister(e){let n=this._watchers.get(e);if(n)for(let r of n)r.dispose()}dispose(){this._watchers.forEach(e=>{for(let n of e)n.dispose()}),this._watchers.clear()}},gt=class{constructor(e,n){this._client=e,this._registrationType=n,this._registrations=new Map}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let n=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:n[0],data:e,provider:n[1]})}unregister(e){let n=this._registrations.get(e);n!==void 0&&n.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,n){if(n){if(C.TextDocumentRegistrationOptions.is(n)){let r=C.StaticRegistrationOptions.hasId(n)?n.id:xe.generateUuid(),i=n.documentSelector||e;if(i)return[r,Object.assign({},n,{documentSelector:i})]}else if(Me.boolean(n)&&n===!0||C.WorkDoneProgressOptions.is(n)){if(!e)return[void 0,void 0];let r=Me.boolean(n)&&n===!0?{documentSelector:e}:Object.assign({},n,{documentSelector:e});return[xe.generateUuid(),r]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,n){if(!(!e||!n))return Me.boolean(n)&&n===!0?{documentSelector:e}:Object.assign({},n,{documentSelector:e})}getProvider(e){for(let n of this._registrations.values()){let r=n.data.registerOptions.documentSelector;if(r!==null&&K.languages.match(r,e))return n.provider}}getAllProviders(){let e=[];for(let n of this._registrations.values())e.push(n.provider);return e}};Ge.TextDocumentFeature=gt;var Ep=class{constructor(e,n){this._client=e,this._registrationType=n,this._registrations=new Map}get registrationType(){return this._registrationType}register(e){let n=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:n[0],provider:n[1]})}unregister(e){let n=this._registrations.get(e);n!==void 0&&n.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let n of this._registrations.values())e.push(n.provider);return e}},Op=class extends gt{constructor(e){super(e,C.CompletionRequest.type)}fillClientCapabilities(e){let n=J(J(e,"textDocument"),"completion");n.dynamicRegistration=!0,n.contextSupport=!0,n.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[C.MarkupKind.Markdown,C.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[C.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[C.InsertTextMode.asIs,C.InsertTextMode.adjustIndentation]}},n.completionItemKind={valueSet:dP}}initialize(e,n){let r=this.getRegistrationOptions(n,e.completionProvider);!r||this.register({id:xe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.triggerCharacters||[],r={provideCompletionItems:(i,s,o,a)=>{let c=this._client,d=this._client.clientOptions.middleware,h=(p,m,v,O)=>c.sendRequest(C.CompletionRequest.type,c.code2ProtocolConverter.asCompletionParams(p,m,v),O).then(c.protocol2CodeConverter.asCompletionResult,F=>c.handleFailedRequest(C.CompletionRequest.type,F,null));return d.provideCompletionItem?d.provideCompletionItem(i,s,a,o,h):h(i,s,a,o)},resolveCompletionItem:e.resolveProvider?(i,s)=>{let o=this._client,a=this._client.clientOptions.middleware,c=(d,h)=>o.sendRequest(C.CompletionResolveRequest.type,o.code2ProtocolConverter.asCompletionItem(d),h).then(o.protocol2CodeConverter.asCompletionItem,p=>o.handleFailedRequest(C.CompletionResolveRequest.type,p,d));return a.resolveCompletionItem?a.resolveCompletionItem(i,s,c):c(i,s)}:void 0};return[K.languages.registerCompletionItemProvider(e.documentSelector,r,...n),r]}},Fp=class extends gt{constructor(e){super(e,C.HoverRequest.type)}fillClientCapabilities(e){let n=J(J(e,"textDocument"),"hover");n.dynamicRegistration=!0,n.contentFormat=[C.MarkupKind.Markdown,C.MarkupKind.PlainText]}initialize(e,n){let r=this.getRegistrationOptions(n,e.hoverProvider);!r||this.register({id:xe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideHover:(r,i,s)=>{let o=this._client,a=(d,h,p)=>o.sendRequest(C.HoverRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(d,h),p).then(o.protocol2CodeConverter.asHover,m=>o.handleFailedRequest(C.HoverRequest.type,m,null)),c=o.clientOptions.middleware;return c.provideHover?c.provideHover(r,i,s,a):a(r,i,s)}};return[K.languages.registerHoverProvider(e.documentSelector,n),n]}},kp=class extends gt{constructor(e){super(e,C.SignatureHelpRequest.type)}fillClientCapabilities(e){let n=J(J(e,"textDocument"),"signatureHelp");n.dynamicRegistration=!0,n.signatureInformation={documentationFormat:[C.MarkupKind.Markdown,C.MarkupKind.PlainText]},n.signatureInformation.parameterInformation={labelOffsetSupport:!0},n.signatureInformation.activeParameterSupport=!0,n.contextSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.signatureHelpProvider);!r||this.register({id:xe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideSignatureHelp:(i,s,o,a)=>{let c=this._client,d=(p,m,v,O)=>c.sendRequest(C.SignatureHelpRequest.type,c.code2ProtocolConverter.asSignatureHelpParams(p,m,v),O).then(c.protocol2CodeConverter.asSignatureHelp,F=>c.handleFailedRequest(C.SignatureHelpRequest.type,F,null)),h=c.clientOptions.middleware;return h.provideSignatureHelp?h.provideSignatureHelp(i,s,a,o,d):d(i,s,a,o)}},r;if(e.retriggerCharacters===void 0){let i=e.triggerCharacters||[];r=K.languages.registerSignatureHelpProvider(e.documentSelector,n,...i)}else{let i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};r=K.languages.registerSignatureHelpProvider(e.documentSelector,n,i)}return[r,n]}},Mp=class extends gt{constructor(e){super(e,C.DefinitionRequest.type)}fillClientCapabilities(e){let n=J(J(e,"textDocument"),"definition");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.definitionProvider);!r||this.register({id:xe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDefinition:(r,i,s)=>{let o=this._client,a=(d,h,p)=>o.sendRequest(C.DefinitionRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(d,h),p).then(o.protocol2CodeConverter.asDefinitionResult,m=>o.handleFailedRequest(C.DefinitionRequest.type,m,null)),c=o.clientOptions.middleware;return c.provideDefinition?c.provideDefinition(r,i,s,a):a(r,i,s)}};return[K.languages.registerDefinitionProvider(e.documentSelector,n),n]}},xp=class extends gt{constructor(e){super(e,C.ReferencesRequest.type)}fillClientCapabilities(e){J(J(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.referencesProvider);!r||this.register({id:xe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideReferences:(r,i,s,o)=>{let a=this._client,c=(h,p,m,v)=>a.sendRequest(C.ReferencesRequest.type,a.code2ProtocolConverter.asReferenceParams(h,p,m),v).then(a.protocol2CodeConverter.asReferences,O=>a.handleFailedRequest(C.ReferencesRequest.type,O,null)),d=a.clientOptions.middleware;return d.provideReferences?d.provideReferences(r,i,s,o,c):c(r,i,s,o)}};return[K.languages.registerReferenceProvider(e.documentSelector,n),n]}},Ip=class extends gt{constructor(e){super(e,C.DocumentHighlightRequest.type)}fillClientCapabilities(e){J(J(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentHighlightProvider);!r||this.register({id:xe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDocumentHighlights:(r,i,s)=>{let o=this._client,a=(d,h,p)=>o.sendRequest(C.DocumentHighlightRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(d,h),p).then(o.protocol2CodeConverter.asDocumentHighlights,m=>o.handleFailedRequest(C.DocumentHighlightRequest.type,m,null)),c=o.clientOptions.middleware;return c.provideDocumentHighlights?c.provideDocumentHighlights(r,i,s,a):a(r,i,s)}};return[K.languages.registerDocumentHighlightProvider(e.documentSelector,n),n]}},Np=class extends gt{constructor(e){super(e,C.DocumentSymbolRequest.type)}fillClientCapabilities(e){let n=J(J(e,"textDocument"),"documentSymbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:wp},n.hierarchicalDocumentSymbolSupport=!0,n.tagSupport={valueSet:bp},n.labelSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentSymbolProvider);!r||this.register({id:xe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDocumentSymbols:(i,s)=>{let o=this._client,a=(d,h)=>o.sendRequest(C.DocumentSymbolRequest.type,o.code2ProtocolConverter.asDocumentSymbolParams(d),h).then(p=>{if(p!==null){if(p.length===0)return[];{let m=p[0];return C.DocumentSymbol.is(m)?o.protocol2CodeConverter.asDocumentSymbols(p):o.protocol2CodeConverter.asSymbolInformations(p)}}},p=>o.handleFailedRequest(C.DocumentSymbolRequest.type,p,null)),c=o.clientOptions.middleware;return c.provideDocumentSymbols?c.provideDocumentSymbols(i,s,a):a(i,s)}},r=e.label!==void 0?{label:e.label}:void 0;return[K.languages.registerDocumentSymbolProvider(e.documentSelector,n,r),n]}},Ap=class extends Ep{constructor(e){super(e,C.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let n=J(J(e,"workspace"),"symbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:wp},n.tagSupport={valueSet:bp}}initialize(e){!e.workspaceSymbolProvider||this.register({id:xe.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let n={provideWorkspaceSymbols:(r,i)=>{let s=this._client,o=(c,d)=>s.sendRequest(C.WorkspaceSymbolRequest.type,{query:c},d).then(s.protocol2CodeConverter.asSymbolInformations,h=>s.handleFailedRequest(C.WorkspaceSymbolRequest.type,h,null)),a=s.clientOptions.middleware;return a.provideWorkspaceSymbols?a.provideWorkspaceSymbols(r,i,o):o(r,i)}};return[K.languages.registerWorkspaceSymbolProvider(n),n]}},Lp=class extends gt{constructor(e){super(e,C.CodeActionRequest.type)}fillClientCapabilities(e){let n=J(J(e,"textDocument"),"codeAction");n.dynamicRegistration=!0,n.isPreferredSupport=!0,n.disabledSupport=!0,n.dataSupport=!0,n.resolveSupport={properties:["edit"]},n.codeActionLiteralSupport={codeActionKind:{valueSet:[C.CodeActionKind.Empty,C.CodeActionKind.QuickFix,C.CodeActionKind.Refactor,C.CodeActionKind.RefactorExtract,C.CodeActionKind.RefactorInline,C.CodeActionKind.RefactorRewrite,C.CodeActionKind.Source,C.CodeActionKind.SourceOrganizeImports]}},n.honorsChangeAnnotations=!1}initialize(e,n){let r=this.getRegistrationOptions(n,e.codeActionProvider);!r||this.register({id:xe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideCodeActions:(r,i,s,o)=>{let a=this._client,c=(h,p,m,v)=>{let O={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(h),range:a.code2ProtocolConverter.asRange(p),context:a.code2ProtocolConverter.asCodeActionContext(m)};return a.sendRequest(C.CodeActionRequest.type,O,v).then(F=>{if(F===null)return;let N=[];for(let b of F)C.Command.is(b)?N.push(a.protocol2CodeConverter.asCommand(b)):N.push(a.protocol2CodeConverter.asCodeAction(b));return N},F=>a.handleFailedRequest(C.CodeActionRequest.type,F,null))},d=a.clientOptions.middleware;return d.provideCodeActions?d.provideCodeActions(r,i,s,o,c):c(r,i,s,o)},resolveCodeAction:e.resolveProvider?(r,i)=>{let s=this._client,o=this._client.clientOptions.middleware,a=(c,d)=>s.sendRequest(C.CodeActionResolveRequest.type,s.code2ProtocolConverter.asCodeAction(c),d).then(s.protocol2CodeConverter.asCodeAction,h=>s.handleFailedRequest(C.CodeActionResolveRequest.type,h,c));return o.resolveCodeAction?o.resolveCodeAction(r,i,a):a(r,i)}:void 0};return[K.languages.registerCodeActionsProvider(e.documentSelector,n,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),n]}},jp=class extends gt{constructor(e){super(e,C.CodeLensRequest.type)}fillClientCapabilities(e){J(J(e,"textDocument"),"codeLens").dynamicRegistration=!0,J(J(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,n){this._client.onRequest(C.CodeLensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeCodeLensEmitter.fire()});let i=this.getRegistrationOptions(n,e.codeLensProvider);!i||this.register({id:xe.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=new K.EventEmitter,r={onDidChangeCodeLenses:n.event,provideCodeLenses:(i,s)=>{let o=this._client,a=(d,h)=>o.sendRequest(C.CodeLensRequest.type,o.code2ProtocolConverter.asCodeLensParams(d),h).then(o.protocol2CodeConverter.asCodeLenses,p=>o.handleFailedRequest(C.CodeLensRequest.type,p,null)),c=o.clientOptions.middleware;return c.provideCodeLenses?c.provideCodeLenses(i,s,a):a(i,s)},resolveCodeLens:e.resolveProvider?(i,s)=>{let o=this._client,a=(d,h)=>o.sendRequest(C.CodeLensResolveRequest.type,o.code2ProtocolConverter.asCodeLens(d),h).then(o.protocol2CodeConverter.asCodeLens,p=>o.handleFailedRequest(C.CodeLensResolveRequest.type,p,d)),c=o.clientOptions.middleware;return c.resolveCodeLens?c.resolveCodeLens(i,s,a):a(i,s)}:void 0};return[K.languages.registerCodeLensProvider(e.documentSelector,r),{provider:r,onDidChangeCodeLensEmitter:n}]}},Wp=class extends gt{constructor(e){super(e,C.DocumentFormattingRequest.type)}fillClientCapabilities(e){J(J(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentFormattingProvider);!r||this.register({id:xe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDocumentFormattingEdits:(r,i,s)=>{let o=this._client,a=(d,h,p)=>{let m={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(d),options:o.code2ProtocolConverter.asFormattingOptions(h,No.fromConfiguration(d))};return o.sendRequest(C.DocumentFormattingRequest.type,m,p).then(o.protocol2CodeConverter.asTextEdits,v=>o.handleFailedRequest(C.DocumentFormattingRequest.type,v,null))},c=o.clientOptions.middleware;return c.provideDocumentFormattingEdits?c.provideDocumentFormattingEdits(r,i,s,a):a(r,i,s)}};return[K.languages.registerDocumentFormattingEditProvider(e.documentSelector,n),n]}},$p=class extends gt{constructor(e){super(e,C.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){J(J(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentRangeFormattingProvider);!r||this.register({id:xe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDocumentRangeFormattingEdits:(r,i,s,o)=>{let a=this._client,c=(h,p,m,v)=>{let O={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(h),range:a.code2ProtocolConverter.asRange(p),options:a.code2ProtocolConverter.asFormattingOptions(m,No.fromConfiguration(h))};return a.sendRequest(C.DocumentRangeFormattingRequest.type,O,v).then(a.protocol2CodeConverter.asTextEdits,F=>a.handleFailedRequest(C.DocumentRangeFormattingRequest.type,F,null))},d=a.clientOptions.middleware;return d.provideDocumentRangeFormattingEdits?d.provideDocumentRangeFormattingEdits(r,i,s,o,c):c(r,i,s,o)}};return[K.languages.registerDocumentRangeFormattingEditProvider(e.documentSelector,n),n]}},Hp=class extends gt{constructor(e){super(e,C.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){J(J(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentOnTypeFormattingProvider);!r||this.register({id:xe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideOnTypeFormattingEdits:(i,s,o,a,c)=>{let d=this._client,h=(m,v,O,F,N)=>{let b={textDocument:d.code2ProtocolConverter.asTextDocumentIdentifier(m),position:d.code2ProtocolConverter.asPosition(v),ch:O,options:d.code2ProtocolConverter.asFormattingOptions(F,No.fromConfiguration(m))};return d.sendRequest(C.DocumentOnTypeFormattingRequest.type,b,N).then(d.protocol2CodeConverter.asTextEdits,w=>d.handleFailedRequest(C.DocumentOnTypeFormattingRequest.type,w,null))},p=d.clientOptions.middleware;return p.provideOnTypeFormattingEdits?p.provideOnTypeFormattingEdits(i,s,o,a,c,h):h(i,s,o,a,c)}},r=e.moreTriggerCharacter||[];return[K.languages.registerOnTypeFormattingEditProvider(e.documentSelector,n,e.firstTriggerCharacter,...r),n]}},zp=class extends gt{constructor(e){super(e,C.RenameRequest.type)}fillClientCapabilities(e){let n=J(J(e,"textDocument"),"rename");n.dynamicRegistration=!0,n.prepareSupport=!0,n.prepareSupportDefaultBehavior=C.PrepareSupportDefaultBehavior.Identifier,n.honorsChangeAnnotations=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.renameProvider);!r||(Me.boolean(e.renameProvider)&&(r.prepareProvider=!1),this.register({id:xe.generateUuid(),registerOptions:r}))}registerLanguageProvider(e){let n={provideRenameEdits:(r,i,s,o)=>{let a=this._client,c=(h,p,m,v)=>{let O={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(h),position:a.code2ProtocolConverter.asPosition(p),newName:m};return a.sendRequest(C.RenameRequest.type,O,v).then(a.protocol2CodeConverter.asWorkspaceEdit,F=>a.handleFailedRequest(C.RenameRequest.type,F,null))},d=a.clientOptions.middleware;return d.provideRenameEdits?d.provideRenameEdits(r,i,s,o,c):c(r,i,s,o)},prepareRename:e.prepareProvider?(r,i,s)=>{let o=this._client,a=(d,h,p)=>{let m={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(d),position:o.code2ProtocolConverter.asPosition(h)};return o.sendRequest(C.PrepareRenameRequest.type,m,p).then(v=>C.Range.is(v)?o.protocol2CodeConverter.asRange(v):this.isDefaultBehavior(v)?v.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):v&&C.Range.is(v.range)?{range:o.protocol2CodeConverter.asRange(v.range),placeholder:v.placeholder}:Promise.reject(new Error("The element can't be renamed.")),v=>o.handleFailedRequest(C.PrepareRenameRequest.type,v,void 0))},c=o.clientOptions.middleware;return c.prepareRename?c.prepareRename(r,i,s,a):a(r,i,s)}:void 0};return[K.languages.registerRenameProvider(e.documentSelector,n),n]}isDefaultBehavior(e){let n=e;return n&&Me.boolean(n.defaultBehavior)}},Kp=class extends gt{constructor(e){super(e,C.DocumentLinkRequest.type)}fillClientCapabilities(e){let n=J(J(e,"textDocument"),"documentLink");n.dynamicRegistration=!0,n.tooltipSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentLinkProvider);!r||this.register({id:xe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDocumentLinks:(r,i)=>{let s=this._client,o=(c,d)=>s.sendRequest(C.DocumentLinkRequest.type,s.code2ProtocolConverter.asDocumentLinkParams(c),d).then(s.protocol2CodeConverter.asDocumentLinks,h=>s.handleFailedRequest(C.DocumentLinkRequest.type,h,null)),a=s.clientOptions.middleware;return a.provideDocumentLinks?a.provideDocumentLinks(r,i,o):o(r,i)},resolveDocumentLink:e.resolveProvider?(r,i)=>{let s=this._client,o=(c,d)=>s.sendRequest(C.DocumentLinkResolveRequest.type,s.code2ProtocolConverter.asDocumentLink(c),d).then(s.protocol2CodeConverter.asDocumentLink,h=>s.handleFailedRequest(C.DocumentLinkResolveRequest.type,h,c)),a=s.clientOptions.middleware;return a.resolveDocumentLink?a.resolveDocumentLink(r,i,o):o(r,i)}:void 0};return[K.languages.registerDocumentLinkProvider(e.documentSelector,n),n]}},Up=class{constructor(e){this._client=e,this._listeners=new Map}get registrationType(){return C.DidChangeConfigurationNotification.type}fillClientCapabilities(e){J(J(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let e=this._client.clientOptions.synchronize.configurationSection;e!==void 0&&this.register({id:xe.generateUuid(),registerOptions:{section:e}})}register(e){let n=K.workspace.onDidChangeConfiguration(r=>{this.onDidChangeConfiguration(e.registerOptions.section,r)});this._listeners.set(e.id,n),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let n=this._listeners.get(e);n&&(this._listeners.delete(e),n.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}onDidChangeConfiguration(e,n){let r;if(Me.string(e)?r=[e]:r=e,r!==void 0&&n!==void 0&&!r.some(a=>n.affectsConfiguration(a)))return;let i=o=>{if(o===void 0){this._client.sendNotification(C.DidChangeConfigurationNotification.type,{settings:null});return}this._client.sendNotification(C.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(o)})},s=this.getMiddleware();s?s(r,i):i(r)}extractSettingsInformation(e){function n(s,o){let a=s;for(let c=0;c<o.length-1;c++){let d=a[o[c]];d||(d=Object.create(null),a[o[c]]=d),a=d}return a}let r=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let s=0;s<e.length;s++){let o=e[s],a=o.indexOf("."),c=null;if(a>=0?c=K.workspace.getConfiguration(o.substr(0,a),r).get(o.substr(a+1)):c=K.workspace.getConfiguration(void 0,r).get(o),c){let d=e[s].split(".");n(i,d)[d[d.length-1]]=sP.toJSONObject(c)}}return i}getMiddleware(){let e=this._client.clientOptions.middleware;if(e.workspace&&e.workspace.didChangeConfiguration)return e.workspace.didChangeConfiguration}},Bp=class{constructor(e){this._client=e,this._commands=new Map}get registrationType(){return C.ExecuteCommandRequest.type}fillClientCapabilities(e){J(J(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){!e.executeCommandProvider||this.register({id:xe.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let n=this._client,r=n.clientOptions.middleware,i=(s,o)=>{let a={command:s,arguments:o};return n.sendRequest(C.ExecuteCommandRequest.type,a).then(void 0,c=>n.handleFailedRequest(C.ExecuteCommandRequest.type,c,void 0))};if(e.registerOptions.commands){let s=[];for(let o of e.registerOptions.commands)s.push(K.commands.registerCommand(o,(...a)=>r.executeCommand?r.executeCommand(o,a,i):i(o,a)));this._commands.set(e.id,s)}}unregister(e){let n=this._commands.get(e);n&&n.forEach(r=>r.dispose())}dispose(){this._commands.forEach(e=>{e.forEach(n=>n.dispose())}),this._commands.clear()}},fP;(function(t){function e(n){return n&&C.MessageReader.is(n.reader)&&C.MessageWriter.is(n.writer)}t.is=e})(fP=Ge.MessageTransports||(Ge.MessageTransports={}));var Su=class{constructor(e,n){this._resolve=e,this._reject=n,this._used=!1}get isUsed(){return this._used}resolve(){this._used=!0,this._resolve()}reject(e){this._used=!0,this._reject(e)}},Pi=class{constructor(e,n,r){var i;this._traceFormat=C.TraceFormat.Text,this._features=[],this._dynamicFeatures=new Map,this._id=e,this._name=n,r=r||{};let s={isTrusted:!1};r.markdown!==void 0&&r.markdown.isTrusted===!0&&(s.isTrusted=!0),this._clientOptions={documentSelector:r.documentSelector||[],synchronize:r.synchronize||{},diagnosticCollectionName:r.diagnosticCollectionName,outputChannelName:r.outputChannelName||this._name,revealOutputChannelOn:r.revealOutputChannelOn||Io.Error,stdioEncoding:r.stdioEncoding||"utf8",initializationOptions:r.initializationOptions,initializationFailedHandler:r.initializationFailedHandler,progressOnInitialization:!!r.progressOnInitialization,errorHandler:r.errorHandler||this.createDefaultErrorHandler((i=r.connectionOptions)===null||i===void 0?void 0:i.maxRestartCount),middleware:r.middleware||{},uriConverters:r.uriConverters,workspaceFolder:r.workspaceFolder,connectionOptions:r.connectionOptions,markdown:s},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=Le.Initial,this._connectionPromise=void 0,this._resolvedConnection=void 0,this._initializeResult=void 0,r.outputChannel?(this._outputChannel=r.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=r.traceOutputChannel,this._listeners=void 0,this._providers=void 0,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new vp.Delayer(250),this._onReady=new Promise((o,a)=>{this._onReadyCallbacks=new Su(o,a)}),this._onStop=void 0,this._telemetryEmitter=new C.Emitter,this._stateChangeEmitter=new C.Emitter,this._trace=C.Trace.Off,this._tracer={log:(o,a)=>{Me.string(o)?this.logTrace(o,a):this.logObjectTrace(o)}},this._c2p=aP.createConverter(r.uriConverters?r.uriConverters.code2Protocol:void 0),this._p2c=cP.createConverter(r.uriConverters?r.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get state(){return this._state}set state(e){let n=this.getPublicState();this._state=e;let r=this.getPublicState();r!==n&&this._stateChangeEmitter.fire({oldState:n,newState:r})}getPublicState(){return this.state===Le.Running?Gs.Running:this.state===Le.Starting?Gs.Starting:Gs.Stopped}get initializeResult(){return this._initializeResult}sendRequest(e,...n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{return this._resolvedConnection.sendRequest(e,...n)}catch(r){throw this.error(`Sending request ${Me.string(e)?e:e.method} failed.`,r),r}}onRequest(e,n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{return this._resolvedConnection.onRequest(e,n)}catch(r){throw this.error(`Registering request handler ${Me.string(e)?e:e.method} failed.`,r),r}}sendNotification(e,n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendNotification(e,n)}catch(r){throw this.error(`Sending notification ${Me.string(e)?e:e.method} failed.`,r),r}}onNotification(e,n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{return this._resolvedConnection.onNotification(e,n)}catch(r){throw this.error(`Registering notification handler ${Me.string(e)?e:e.method} failed.`,r),r}}onProgress(e,n,r){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{if(C.WorkDoneProgress.is(e)){let i=this._clientOptions.middleware.handleWorkDoneProgress;if(i!==void 0)return this._resolvedConnection.onProgress(e,n,s=>{i(n,s,()=>r(s))})}return this._resolvedConnection.onProgress(e,n,r)}catch(i){throw this.error(`Registering progress handler for token ${n} failed.`,i),i}}sendProgress(e,n,r){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendProgress(e,n,r)}catch(i){throw this.error(`Sending progress for token ${n} failed.`,i),i}}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=K.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new _p(this._name,e??4)}set trace(e){this._trace=e,this.onReady().then(()=>{this.resolveConnection().then(n=>{n.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})})},()=>{})}data2String(e){if(e instanceof C.ResponseError){let n=e;return`  Message: ${n.message}
  Code: ${n.code} ${n.data?`
`+n.data.toString():""}`}return e instanceof Error?Me.string(e.stack)?e.stack:e.message:Me.string(e)?e:e.toString()}info(e,n,r=!0){this.outputChannel.appendLine(`[Info  - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.outputChannel.appendLine(this.data2String(n)),r&&this._clientOptions.revealOutputChannelOn<=Io.Info&&this.showNotificationMessage()}warn(e,n,r=!0){this.outputChannel.appendLine(`[Warn  - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.outputChannel.appendLine(this.data2String(n)),r&&this._clientOptions.revealOutputChannelOn<=Io.Warn&&this.showNotificationMessage()}error(e,n,r=!0){this.outputChannel.appendLine(`[Error - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.outputChannel.appendLine(this.data2String(n)),r&&this._clientOptions.revealOutputChannelOn<=Io.Error&&this.showNotificationMessage()}showNotificationMessage(){K.window.showInformationMessage("A request has failed. See the output for more information.","Go to output").then(()=>{this.outputChannel.show(!0)})}logTrace(e,n){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.traceOutputChannel.appendLine(this.data2String(n))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.state===Le.Initial||this.state===Le.Stopping||this.state===Le.Stopped}needsStop(){return this.state===Le.Starting||this.state===Le.Running}onReady(){return this._onReady}isConnectionActive(){return this.state===Le.Running&&!!this._resolvedConnection}start(){return this._onReadyCallbacks.isUsed&&(this._onReady=new Promise((e,n)=>{this._onReadyCallbacks=new Su(e,n)})),this._listeners=[],this._providers=[],this._diagnostics||(this._diagnostics=this._clientOptions.diagnosticCollectionName?K.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):K.languages.createDiagnosticCollection()),this.state=Le.Starting,this.resolveConnection().then(e=>(e.onLogMessage(n=>{switch(n.type){case C.MessageType.Error:this.error(n.message,void 0,!1);break;case C.MessageType.Warning:this.warn(n.message,void 0,!1);break;case C.MessageType.Info:this.info(n.message,void 0,!1);break;default:this.outputChannel.appendLine(n.message)}}),e.onShowMessage(n=>{switch(n.type){case C.MessageType.Error:K.window.showErrorMessage(n.message);break;case C.MessageType.Warning:K.window.showWarningMessage(n.message);break;case C.MessageType.Info:K.window.showInformationMessage(n.message);break;default:K.window.showInformationMessage(n.message)}}),e.onRequest(C.ShowMessageRequest.type,n=>{let r;switch(n.type){case C.MessageType.Error:r=K.window.showErrorMessage;break;case C.MessageType.Warning:r=K.window.showWarningMessage;break;case C.MessageType.Info:r=K.window.showInformationMessage;break;default:r=K.window.showInformationMessage}let i=n.actions||[];return r(n.message,...i)}),e.onTelemetry(n=>{this._telemetryEmitter.fire(n)}),e.onRequest(C.ShowDocumentRequest.type,async n=>{var r;let i=async o=>{let a=this.protocol2CodeConverter.asUri(o.uri);try{if(o.external===!0)return{success:await K.env.openExternal(a)};{let c={};return o.selection!==void 0&&(c.selection=this.protocol2CodeConverter.asRange(o.selection)),o.takeFocus===void 0||o.takeFocus===!1?c.preserveFocus=!0:o.takeFocus===!0&&(c.preserveFocus=!1),await K.window.showTextDocument(a,c),{success:!0}}}catch{return{success:!0}}},s=(r=this._clientOptions.middleware.window)===null||r===void 0?void 0:r.showDocument;return s!==void 0?s(n,i):i(n)}),e.listen(),this.initialize(e))).then(void 0,e=>{this.state=Le.StartFailed,this._onReadyCallbacks.reject(e),this.error("Starting client failed",e),K.window.showErrorMessage(`Couldn't start client ${this._name}`)}),new K.Disposable(()=>{this.needsStop()&&this.stop()})}resolveConnection(){return this._connectionPromise||(this._connectionPromise=this.createConnection()),this._connectionPromise}initialize(e){this.refreshTrace(e,!1);let n=this._clientOptions.initializationOptions,r=this._clientOptions.workspaceFolder?this._clientOptions.workspaceFolder.uri.fsPath:this._clientGetRootPath(),i={processId:null,clientInfo:{name:K.env.appName,version:K.version},locale:this.getLocale(),rootPath:r||null,rootUri:r?this._c2p.asUri(K.Uri.file(r)):null,capabilities:this.computeClientCapabilities(),initializationOptions:Me.func(n)?n():n,trace:C.Trace.toString(this._trace),workspaceFolders:null};if(this.fillInitializeParams(i),this._clientOptions.progressOnInitialization){let s=xe.generateUuid(),o=new uP.ProgressPart(e,s);return i.workDoneToken=s,this.doInitialize(e,i).then(a=>(o.done(),a),a=>{throw o.cancel(),a})}else return this.doInitialize(e,i)}doInitialize(e,n){return e.initialize(n).then(r=>{this._resolvedConnection=e,this._initializeResult=r,this.state=Le.Running;let i;return Me.number(r.capabilities.textDocumentSync)?r.capabilities.textDocumentSync===C.TextDocumentSyncKind.None?i={openClose:!1,change:C.TextDocumentSyncKind.None,save:void 0}:i={openClose:!0,change:r.capabilities.textDocumentSync,save:{includeText:!1}}:r.capabilities.textDocumentSync!==void 0&&r.capabilities.textDocumentSync!==null&&(i=r.capabilities.textDocumentSync),this._capabilities=Object.assign({},r.capabilities,{resolvedTextDocumentSync:i}),e.onDiagnostics(s=>this.handleDiagnostics(s)),e.onRequest(C.RegistrationRequest.type,s=>this.handleRegistrationRequest(s)),e.onRequest("client/registerFeature",s=>this.handleRegistrationRequest(s)),e.onRequest(C.UnregistrationRequest.type,s=>this.handleUnregistrationRequest(s)),e.onRequest("client/unregisterFeature",s=>this.handleUnregistrationRequest(s)),e.onRequest(C.ApplyWorkspaceEditRequest.type,s=>this.handleApplyWorkspaceEdit(s)),e.sendNotification(C.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),this._onReadyCallbacks.resolve(),r}).then(void 0,r=>{throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(r)?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(r)):r instanceof C.ResponseError&&r.data&&r.data.retry?K.window.showErrorMessage(r.message,{title:"Retry",id:"retry"}).then(i=>{i&&i.id==="retry"?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(r))}):(r&&r.message&&K.window.showErrorMessage(r.message),this.error("Server initialization failed.",r),this.stop(),this._onReadyCallbacks.reject(r)),r})}_clientGetRootPath(){let e=K.workspace.workspaceFolders;if(!e||e.length===0)return;let n=e[0];if(n.uri.scheme==="file")return n.uri.fsPath}stop(){return this._initializeResult=void 0,this._connectionPromise?this.state===Le.Stopping&&this._onStop?this._onStop:(this.state=Le.Stopping,this.cleanUp(!1),this._onStop=this.resolveConnection().then(e=>e.shutdown().then(()=>{e.exit(),e.end(),e.dispose(),this.state=Le.Stopped,this.cleanUpChannel(),this._onStop=void 0,this._connectionPromise=void 0,this._resolvedConnection=void 0}))):(this.state=Le.Stopped,Promise.resolve())}cleanUp(e=!0,n=!0){this._listeners&&(this._listeners.forEach(r=>r.dispose()),this._listeners=void 0),this._providers&&(this._providers.forEach(r=>r.dispose()),this._providers=void 0),this._syncedDocuments&&this._syncedDocuments.clear();for(let r of this._features.values())r.dispose();e&&this.cleanUpChannel(),n&&this._diagnostics&&(this._diagnostics.dispose(),this._diagnostics=void 0)}cleanUpChannel(){this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){var n;let r=this;function i(o){r._fileEvents.push(o),r._fileEventDelayer.trigger(()=>{r.onReady().then(()=>{r.resolveConnection().then(a=>{r.isConnectionActive()&&(r.forceDocumentSync(),a.didChangeWatchedFiles({changes:r._fileEvents})),r._fileEvents=[]})},a=>{r.error("Notify file events failed.",a)})})}let s=(n=this.clientOptions.middleware)===null||n===void 0?void 0:n.workspace;(s==null?void 0:s.didChangeWatchedFile)?s.didChangeWatchedFile(e,i):i(e)}forceDocumentSync(){this._didChangeTextDocumentFeature===void 0&&(this._didChangeTextDocumentFeature=this._dynamicFeatures.get(C.DidChangeTextDocumentNotification.type.method)),this._didChangeTextDocumentFeature.forceDelivery()}handleDiagnostics(e){if(!this._diagnostics)return;let n=this._p2c.asUri(e.uri),r=this._p2c.asDiagnostics(e.diagnostics),i=this.clientOptions.middleware;i.handleDiagnostics?i.handleDiagnostics(n,r,(s,o)=>this.setDiagnostics(s,o)):this.setDiagnostics(n,r)}setDiagnostics(e,n){!this._diagnostics||this._diagnostics.set(e,n)}createConnection(){let e=(r,i,s)=>{this.handleConnectionError(r,i,s)},n=()=>{this.handleConnectionClosed()};return this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8").then(r=>lP(r.reader,r.writer,e,n,this._clientOptions.connectionOptions))}handleConnectionClosed(){if(this.state===Le.Stopping||this.state===Le.Stopped)return;try{this._resolvedConnection&&this._resolvedConnection.dispose()}catch{}let e=Zr.DoNotRestart;try{e=this._clientOptions.errorHandler.closed()}catch{}this._connectionPromise=void 0,this._resolvedConnection=void 0,e===Zr.DoNotRestart?(this.error("Connection to server got closed. Server will not be restarted."),this.state===Le.Starting?(this._onReadyCallbacks.reject(new Error("Connection to server got closed. Server will not be restarted.")),this.state=Le.StartFailed):this.state=Le.Stopped,this.cleanUp(!1,!0)):e===Zr.Restart&&(this.info("Connection to server got closed. Server will restart."),this.cleanUp(!1,!1),this.state=Le.Initial,this.start())}handleConnectionError(e,n,r){this._clientOptions.errorHandler.error(e,n,r)===Bs.Shutdown&&(this.error("Connection to server is erroring. Shutting down server."),this.stop())}hookConfigurationChanged(e){K.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)})}refreshTrace(e,n=!1){let r=K.workspace.getConfiguration(this._id),i=C.Trace.Off,s=C.TraceFormat.Text;if(r){let o=r.get("trace.server","off");typeof o=="string"?i=C.Trace.fromString(o):(i=C.Trace.fromString(r.get("trace.server.verbosity","off")),s=C.TraceFormat.fromString(r.get("trace.server.format","text")))}this._trace=i,this._traceFormat=s,e.trace(this._trace,this._tracer,{sendNotification:n,traceFormat:this._traceFormat})}hookFileEvents(e){let n=this._clientOptions.synchronize.fileEvents;if(!n)return;let r;Me.array(n)?r=n:r=[n],!!r&&this._dynamicFeatures.get(C.DidChangeWatchedFilesNotification.type.method).registerRaw(xe.generateUuid(),r)}registerFeatures(e){for(let n of e)this.registerFeature(n)}registerFeature(e){if(this._features.push(e),Cu.is(e)){let n=e.registrationType;this._dynamicFeatures.set(n.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}registerBuiltinFeatures(){this.registerFeature(new Up(this)),this.registerFeature(new Rp(this,this._syncedDocuments)),this.registerFeature(new Sp(this)),this.registerFeature(new Dp(this)),this.registerFeature(new Pp(this)),this.registerFeature(new Tp(this)),this.registerFeature(new Cp(this,this._syncedDocuments)),this.registerFeature(new qp(this,e=>this.notifyFileEvent(e))),this.registerFeature(new Op(this)),this.registerFeature(new Fp(this)),this.registerFeature(new kp(this)),this.registerFeature(new Mp(this)),this.registerFeature(new xp(this)),this.registerFeature(new Ip(this)),this.registerFeature(new Np(this)),this.registerFeature(new Ap(this)),this.registerFeature(new Lp(this)),this.registerFeature(new jp(this)),this.registerFeature(new Wp(this)),this.registerFeature(new $p(this)),this.registerFeature(new Hp(this)),this.registerFeature(new zp(this)),this.registerFeature(new Kp(this)),this.registerFeature(new Bp(this))}fillInitializeParams(e){for(let n of this._features)Me.func(n.fillInitializeParams)&&n.fillInitializeParams(e)}computeClientCapabilities(){let e={};J(e,"workspace").applyEdit=!0;let n=J(J(e,"workspace"),"workspaceEdit");n.documentChanges=!0,n.resourceOperations=[C.ResourceOperationKind.Create,C.ResourceOperationKind.Rename,C.ResourceOperationKind.Delete],n.failureHandling=C.FailureHandlingKind.TextOnlyTransactional,n.normalizesLineEndings=!0,n.changeAnnotationSupport={groupsOnLabel:!0};let r=J(J(e,"textDocument"),"publishDiagnostics");r.relatedInformation=!0,r.versionSupport=!1,r.tagSupport={valueSet:[C.DiagnosticTag.Unnecessary,C.DiagnosticTag.Deprecated]},r.codeDescriptionSupport=!0,r.dataSupport=!0;let i=J(e,"window"),s=J(i,"showMessage");s.messageActionItem={additionalPropertiesSupport:!0};let o=J(i,"showDocument");o.support=!0;let a=J(e,"general");a.regularExpressions={engine:"ECMAScript",version:"ES2020"},a.markdown={parser:"marked",version:"1.1.0"};for(let c of this._features)c.fillClientCapabilities(e);return e}initializeFeatures(e){let n=this._clientOptions.documentSelector;for(let r of this._features)r.initialize(this._capabilities,n)}handleRegistrationRequest(e){return new Promise((n,r)=>{for(let i of e.registrations){let s=this._dynamicFeatures.get(i.method);if(s===void 0){r(new Error(`No feature implementation for ${i.method} found. Registration failed.`));return}let o=i.registerOptions||{};o.documentSelector=o.documentSelector||this._clientOptions.documentSelector;let a={id:i.id,registerOptions:o};try{s.register(a)}catch(c){r(c);return}}n()})}handleUnregistrationRequest(e){return new Promise((n,r)=>{for(let i of e.unregisterations){let s=this._dynamicFeatures.get(i.method);if(!s){r(new Error(`No feature implementation for ${i.method} found. Unregistration failed.`));return}s.unregister(i.id)}n()})}handleApplyWorkspaceEdit(e){let n=e.edit,r=new Map;K.workspace.textDocuments.forEach(s=>r.set(s.uri.toString(),s));let i=!1;if(n.documentChanges){for(let s of n.documentChanges)if(C.TextDocumentEdit.is(s)&&s.textDocument.version&&s.textDocument.version>=0){let o=r.get(s.textDocument.uri);if(o&&o.version!==s.textDocument.version){i=!0;break}}}return i?Promise.resolve({applied:!1}):Me.asPromise(K.workspace.applyEdit(this._p2c.asWorkspaceEdit(e.edit)).then(s=>({applied:s})))}handleFailedRequest(e,n,r){if(n instanceof C.ResponseError){if(n.code===C.LSPErrorCodes.RequestCancelled)throw this.makeCancelError();if(n.code===C.LSPErrorCodes.ContentModified)return r}throw this.error(`Request ${e.method} failed.`,n),n}makeCancelError(){let e=new Error(Pi.Canceled);return e.name=Pi.Canceled,e}};Ge.BaseLanguageClient=Pi;Pi.Canceled="Canceled"});var Vp=T(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.ColorProviderFeature=void 0;var Xs=require("vscode"),Ao=ie(),hP=At();function Gp(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Xp=class extends hP.TextDocumentFeature{constructor(e){super(e,Ao.DocumentColorRequest.type)}fillClientCapabilities(e){Gp(Gp(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.colorProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideColorPresentations:(r,i,s)=>{let o=this._client,a=(d,h,p)=>{let m={color:d,textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(h.document),range:o.code2ProtocolConverter.asRange(h.range)};return o.sendRequest(Ao.ColorPresentationRequest.type,m,p).then(this.asColorPresentations.bind(this),v=>o.handleFailedRequest(Ao.ColorPresentationRequest.type,v,null))},c=o.clientOptions.middleware;return c.provideColorPresentations?c.provideColorPresentations(r,i,s,a):a(r,i,s)},provideDocumentColors:(r,i)=>{let s=this._client,o=(c,d)=>{let h={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(c)};return s.sendRequest(Ao.DocumentColorRequest.type,h,d).then(this.asColorInformations.bind(this),p=>s.handleFailedRequest(Ao.ColorPresentationRequest.type,p,null))},a=s.clientOptions.middleware;return a.provideDocumentColors?a.provideDocumentColors(r,i,o):o(r,i)}};return[Xs.languages.registerColorProvider(e.documentSelector,n),n]}asColor(e){return new Xs.Color(e.red,e.green,e.blue,e.alpha)}asColorInformations(e){return Array.isArray(e)?e.map(n=>new Xs.ColorInformation(this._client.protocol2CodeConverter.asRange(n.range),this.asColor(n.color))):[]}asColorPresentations(e){return Array.isArray(e)?e.map(n=>{let r=new Xs.ColorPresentation(n.label);return r.additionalTextEdits=this._client.protocol2CodeConverter.asTextEdits(n.additionalTextEdits),r.textEdit=this._client.protocol2CodeConverter.asTextEdit(n.textEdit),r}):[]}};Vs.ColorProviderFeature=Xp});var Yp=T(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.ImplementationFeature=void 0;var gP=require("vscode"),Du=ie(),pP=At();function Jp(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Qp=class extends pP.TextDocumentFeature{constructor(e){super(e,Du.ImplementationRequest.type)}fillClientCapabilities(e){let n=Jp(Jp(e,"textDocument"),"implementation");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.implementationProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideImplementation:(r,i,s)=>{let o=this._client,a=(d,h,p)=>o.sendRequest(Du.ImplementationRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(d,h),p).then(o.protocol2CodeConverter.asDefinitionResult,m=>o.handleFailedRequest(Du.ImplementationRequest.type,m,null)),c=o.clientOptions.middleware;return c.provideImplementation?c.provideImplementation(r,i,s,a):a(r,i,s)}};return[gP.languages.registerImplementationProvider(e.documentSelector,n),n]}};Js.ImplementationFeature=Qp});var em=T(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.TypeDefinitionFeature=void 0;var mP=require("vscode"),Pu=ie(),vP=At();function Qs(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Zp=class extends vP.TextDocumentFeature{constructor(e){super(e,Pu.TypeDefinitionRequest.type)}fillClientCapabilities(e){Qs(Qs(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let n=Qs(Qs(e,"textDocument"),"typeDefinition");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.typeDefinitionProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideTypeDefinition:(r,i,s)=>{let o=this._client,a=(d,h,p)=>o.sendRequest(Pu.TypeDefinitionRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(d,h),p).then(o.protocol2CodeConverter.asDefinitionResult,m=>o.handleFailedRequest(Pu.TypeDefinitionRequest.type,m,null)),c=o.clientOptions.middleware;return c.provideTypeDefinition?c.provideTypeDefinition(r,i,s,a):a(r,i,s)}};return[mP.languages.registerTypeDefinitionProvider(e.documentSelector,n),n]}};Ys.TypeDefinitionFeature=Zp});var nm=T(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});Ti.WorkspaceFoldersFeature=Ti.arrayDiff=void 0;var yP=Ks(),Zs=require("vscode"),Tu=ie();function qu(t,e){if(t!==void 0)return t[e]}function Eu(t,e){return t.filter(n=>e.indexOf(n)<0)}Ti.arrayDiff=Eu;var tm=class{constructor(e){this._client=e,this._listeners=new Map}get registrationType(){return Tu.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let n=Zs.workspace.workspaceFolders;this.initializeWithFolders(n),n===void 0?e.workspaceFolders=null:e.workspaceFolders=n.map(r=>this.asProtocol(r))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let n=this._client;n.onRequest(Tu.WorkspaceFoldersRequest.type,s=>{let o=()=>{let c=Zs.workspace.workspaceFolders;return c===void 0?null:c.map(h=>this.asProtocol(h))},a=n.clientOptions.middleware.workspace;return a&&a.workspaceFolders?a.workspaceFolders(s,o):o(s)});let r=qu(qu(qu(e,"workspace"),"workspaceFolders"),"changeNotifications"),i;typeof r=="string"?i=r:r===!0&&(i=yP.generateUuid()),i&&this.register({id:i,registerOptions:void 0})}sendInitialEvent(e){if(this._initialFolders&&e){let n=Eu(this._initialFolders,e),r=Eu(e,this._initialFolders);(r.length>0||n.length>0)&&this.doSendEvent(r,n)}else this._initialFolders?this.doSendEvent([],this._initialFolders):e&&this.doSendEvent(e,[])}doSendEvent(e,n){let r={event:{added:e.map(i=>this.asProtocol(i)),removed:n.map(i=>this.asProtocol(i))}};this._client.sendNotification(Tu.DidChangeWorkspaceFoldersNotification.type,r)}register(e){let n=e.id,r=this._client,i=Zs.workspace.onDidChangeWorkspaceFolders(s=>{let o=c=>{this.doSendEvent(c.added,c.removed)},a=r.clientOptions.middleware.workspace;a&&a.didChangeWorkspaceFolders?a.didChangeWorkspaceFolders(s,o):o(s)});this._listeners.set(n,i),this.sendInitialEvent(Zs.workspace.workspaceFolders)}unregister(e){let n=this._listeners.get(e);n!==void 0&&(this._listeners.delete(e),n.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};Ti.WorkspaceFoldersFeature=tm});var im=T(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});ea.FoldingRangeFeature=void 0;var Lo=require("vscode"),qi=ie(),_P=At();function rm(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var jo=class extends _P.TextDocumentFeature{constructor(e){super(e,qi.FoldingRangeRequest.type)}fillClientCapabilities(e){let n=rm(rm(e,"textDocument"),"foldingRange");n.dynamicRegistration=!0,n.rangeLimit=5e3,n.lineFoldingOnly=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.foldingRangeProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideFoldingRanges:(r,i,s)=>{let o=this._client,a=(d,h,p)=>{let m={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(d)};return o.sendRequest(qi.FoldingRangeRequest.type,m,p).then(jo.asFoldingRanges,v=>o.handleFailedRequest(qi.FoldingRangeRequest.type,v,null))},c=o.clientOptions.middleware;return c.provideFoldingRanges?c.provideFoldingRanges(r,i,s,a):a(r,i,s)}};return[Lo.languages.registerFoldingRangeProvider(e.documentSelector,n),n]}static asFoldingRangeKind(e){if(e)switch(e){case qi.FoldingRangeKind.Comment:return Lo.FoldingRangeKind.Comment;case qi.FoldingRangeKind.Imports:return Lo.FoldingRangeKind.Imports;case qi.FoldingRangeKind.Region:return Lo.FoldingRangeKind.Region}}static asFoldingRanges(e){return Array.isArray(e)?e.map(n=>new Lo.FoldingRange(n.startLine,n.endLine,jo.asFoldingRangeKind(n.kind))):[]}};ea.FoldingRangeFeature=jo});var am=T(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.DeclarationFeature=void 0;var wP=require("vscode"),Ou=ie(),bP=At();function om(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var sm=class extends bP.TextDocumentFeature{constructor(e){super(e,Ou.DeclarationRequest.type)}fillClientCapabilities(e){let n=om(om(e,"textDocument"),"declaration");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.declarationProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideDeclaration:(r,i,s)=>{let o=this._client,a=(d,h,p)=>o.sendRequest(Ou.DeclarationRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(d,h),p).then(o.protocol2CodeConverter.asDeclarationResult,m=>o.handleFailedRequest(Ou.DeclarationRequest.type,m,null)),c=o.clientOptions.middleware;return c.provideDeclaration?c.provideDeclaration(r,i,s,a):a(r,i,s)}};return[wP.languages.registerDeclarationProvider(e.documentSelector,n),n]}};ta.DeclarationFeature=sm});var lm=T(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.SelectionRangeFeature=void 0;var RP=require("vscode"),Fu=ie(),CP=At();function cm(t,e){return t[e]===void 0&&(t[e]=Object.create(null)),t[e]}var um=class extends CP.TextDocumentFeature{constructor(e){super(e,Fu.SelectionRangeRequest.type)}fillClientCapabilities(e){let n=cm(cm(e,"textDocument"),"selectionRange");n.dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.selectionRangeProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideSelectionRanges:(r,i,s)=>{let o=this._client,a=(d,h,p)=>{let m={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(d),positions:o.code2ProtocolConverter.asPositions(h)};return o.sendRequest(Fu.SelectionRangeRequest.type,m,p).then(v=>o.protocol2CodeConverter.asSelectionRanges(v),v=>o.handleFailedRequest(Fu.SelectionRangeRequest.type,v,null))},c=o.clientOptions.middleware;return c.provideSelectionRanges?c.provideSelectionRanges(r,i,s,a):a(r,i,s)}};return[RP.languages.registerSelectionRangeProvider(e.documentSelector,n),n]}};na.SelectionRangeFeature=um});var fm=T(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.ProgressFeature=void 0;var SP=ie(),DP=Ru();function PP(t,e){return t[e]===void 0&&(t[e]=Object.create(null)),t[e]}var dm=class{constructor(e){this._client=e,this.activeParts=new Set}fillClientCapabilities(e){PP(e,"window").workDoneProgress=!0}initialize(){let e=this._client,n=i=>{this.activeParts.delete(i)},r=i=>{this.activeParts.add(new DP.ProgressPart(this._client,i.token,n))};e.onRequest(SP.WorkDoneProgressCreateRequest.type,r)}dispose(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};ra.ProgressFeature=dm});var mm=T(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia.CallHierarchyFeature=void 0;var TP=require("vscode"),ei=ie(),qP=At();function hm(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var gm=class{constructor(e){this.client=e,this.middleware=e.clientOptions.middleware}prepareCallHierarchy(e,n,r){let i=this.client,s=this.middleware,o=(a,c,d)=>{let h=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(ei.CallHierarchyPrepareRequest.type,h,d).then(p=>i.protocol2CodeConverter.asCallHierarchyItems(p),p=>i.handleFailedRequest(ei.CallHierarchyPrepareRequest.type,p,null))};return s.prepareCallHierarchy?s.prepareCallHierarchy(e,n,r,o):o(e,n,r)}provideCallHierarchyIncomingCalls(e,n){let r=this.client,i=this.middleware,s=(o,a)=>{let c={item:r.code2ProtocolConverter.asCallHierarchyItem(o)};return r.sendRequest(ei.CallHierarchyIncomingCallsRequest.type,c,a).then(d=>r.protocol2CodeConverter.asCallHierarchyIncomingCalls(d),d=>r.handleFailedRequest(ei.CallHierarchyIncomingCallsRequest.type,d,null))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,n,s):s(e,n)}provideCallHierarchyOutgoingCalls(e,n){let r=this.client,i=this.middleware,s=(o,a)=>{let c={item:r.code2ProtocolConverter.asCallHierarchyItem(o)};return r.sendRequest(ei.CallHierarchyOutgoingCallsRequest.type,c,a).then(d=>r.protocol2CodeConverter.asCallHierarchyOutgoingCalls(d),d=>r.handleFailedRequest(ei.CallHierarchyOutgoingCallsRequest.type,d,null))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,n,s):s(e,n)}},pm=class extends qP.TextDocumentFeature{constructor(e){super(e,ei.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let r=hm(hm(e,"textDocument"),"callHierarchy");r.dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.callHierarchyProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=this._client,r=new gm(n);return[TP.languages.registerCallHierarchyProvider(e.documentSelector,r),r]}};ia.CallHierarchyFeature=pm});var ym=T(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.SemanticTokensFeature=void 0;var oa=require("vscode"),EP=At(),ae=ie(),OP=pr();function sa(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var vm=class extends EP.TextDocumentFeature{constructor(e){super(e,ae.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let n=sa(sa(e,"textDocument"),"semanticTokens");n.dynamicRegistration=!0,n.tokenTypes=[ae.SemanticTokenTypes.namespace,ae.SemanticTokenTypes.type,ae.SemanticTokenTypes.class,ae.SemanticTokenTypes.enum,ae.SemanticTokenTypes.interface,ae.SemanticTokenTypes.struct,ae.SemanticTokenTypes.typeParameter,ae.SemanticTokenTypes.parameter,ae.SemanticTokenTypes.variable,ae.SemanticTokenTypes.property,ae.SemanticTokenTypes.enumMember,ae.SemanticTokenTypes.event,ae.SemanticTokenTypes.function,ae.SemanticTokenTypes.method,ae.SemanticTokenTypes.macro,ae.SemanticTokenTypes.keyword,ae.SemanticTokenTypes.modifier,ae.SemanticTokenTypes.comment,ae.SemanticTokenTypes.string,ae.SemanticTokenTypes.number,ae.SemanticTokenTypes.regexp,ae.SemanticTokenTypes.operator],n.tokenModifiers=[ae.SemanticTokenModifiers.declaration,ae.SemanticTokenModifiers.definition,ae.SemanticTokenModifiers.readonly,ae.SemanticTokenModifiers.static,ae.SemanticTokenModifiers.deprecated,ae.SemanticTokenModifiers.abstract,ae.SemanticTokenModifiers.async,ae.SemanticTokenModifiers.modification,ae.SemanticTokenModifiers.documentation,ae.SemanticTokenModifiers.defaultLibrary],n.formats=[ae.TokenFormat.Relative],n.requests={range:!0,full:{delta:!0}},n.multilineTokenSupport=!1,n.overlappingTokenSupport=!1,sa(sa(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,n){this._client.onRequest(ae.SemanticTokensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeSemanticTokensEmitter.fire()});let[i,s]=this.getRegistration(n,e.semanticTokensProvider);!i||!s||this.register({id:i,registerOptions:s})}registerLanguageProvider(e){let n=OP.boolean(e.full)?e.full:e.full!==void 0,r=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,i=new oa.EventEmitter,s=n?{onDidChangeSemanticTokens:i.event,provideDocumentSemanticTokens:(p,m)=>{let v=this._client,O=v.clientOptions.middleware,F=(N,b)=>{let w={textDocument:v.code2ProtocolConverter.asTextDocumentIdentifier(N)};return v.sendRequest(ae.SemanticTokensRequest.type,w,b).then(q=>v.protocol2CodeConverter.asSemanticTokens(q),q=>v.handleFailedRequest(ae.SemanticTokensRequest.type,q,null))};return O.provideDocumentSemanticTokens?O.provideDocumentSemanticTokens(p,m,F):F(p,m)},provideDocumentSemanticTokensEdits:r?(p,m,v)=>{let O=this._client,F=O.clientOptions.middleware,N=(b,w,q)=>{let k={textDocument:O.code2ProtocolConverter.asTextDocumentIdentifier(b),previousResultId:w};return O.sendRequest(ae.SemanticTokensDeltaRequest.type,k,q).then(W=>ae.SemanticTokens.is(W)?O.protocol2CodeConverter.asSemanticTokens(W):O.protocol2CodeConverter.asSemanticTokensEdits(W),W=>O.handleFailedRequest(ae.SemanticTokensDeltaRequest.type,W,null))};return F.provideDocumentSemanticTokensEdits?F.provideDocumentSemanticTokensEdits(p,m,v,N):N(p,m,v)}:void 0}:void 0,a=e.range===!0?{provideDocumentRangeSemanticTokens:(p,m,v)=>{let O=this._client,F=O.clientOptions.middleware,N=(b,w,q)=>{let k={textDocument:O.code2ProtocolConverter.asTextDocumentIdentifier(b),range:O.code2ProtocolConverter.asRange(w)};return O.sendRequest(ae.SemanticTokensRangeRequest.type,k,q).then(W=>O.protocol2CodeConverter.asSemanticTokens(W),W=>O.handleFailedRequest(ae.SemanticTokensRangeRequest.type,W,null))};return F.provideDocumentRangeSemanticTokens?F.provideDocumentRangeSemanticTokens(p,m,v,N):N(p,m,v)}}:void 0,c=[],h=this._client.protocol2CodeConverter.asSemanticTokensLegend(e.legend);return s!==void 0&&c.push(oa.languages.registerDocumentSemanticTokensProvider(e.documentSelector,s,h)),a!==void 0&&c.push(oa.languages.registerDocumentRangeSemanticTokensProvider(e.documentSelector,a,h)),[new oa.Disposable(()=>c.forEach(p=>p.dispose())),{range:a,full:s,onDidChangeSemanticTokensEmitter:i}]}};aa.SemanticTokensFeature=vm});var wm=T((MF,_m)=>{_m.exports=function(t,e){for(var n=[],r=0;r<t.length;r++){var i=e(t[r],r);FP(i)?n.push.apply(n,i):n.push(i)}return n};var FP=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var Dm=T((xF,Sm)=>{"use strict";Sm.exports=bm;function bm(t,e,n){t instanceof RegExp&&(t=Rm(t,n)),e instanceof RegExp&&(e=Rm(e,n));var r=Cm(t,e,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+t.length,r[1]),post:n.slice(r[1]+e.length)}}function Rm(t,e){var n=e.match(t);return n?n[0]:null}bm.range=Cm;function Cm(t,e,n){var r,i,s,o,a,c=n.indexOf(t),d=n.indexOf(e,c+1),h=c;if(c>=0&&d>0){if(t===e)return[c,d];for(r=[],s=n.length;h>=0&&!a;)h==c?(r.push(h),c=n.indexOf(t,h+1)):r.length==1?a=[r.pop(),d]:(i=r.pop(),i<s&&(s=i,o=d),d=n.indexOf(e,h+1)),h=c<d&&c>=0?c:d;r.length&&(a=[s,o])}return a}});var Mm=T((IF,km)=>{var kP=wm(),Pm=Dm();km.exports=IP;var Tm="\0SLASH"+Math.random()+"\0",qm="\0OPEN"+Math.random()+"\0",ku="\0CLOSE"+Math.random()+"\0",Em="\0COMMA"+Math.random()+"\0",Om="\0PERIOD"+Math.random()+"\0";function Mu(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function MP(t){return t.split("\\\\").join(Tm).split("\\{").join(qm).split("\\}").join(ku).split("\\,").join(Em).split("\\.").join(Om)}function xP(t){return t.split(Tm).join("\\").split(qm).join("{").split(ku).join("}").split(Em).join(",").split(Om).join(".")}function Fm(t){if(!t)return[""];var e=[],n=Pm("{","}",t);if(!n)return t.split(",");var r=n.pre,i=n.body,s=n.post,o=r.split(",");o[o.length-1]+="{"+i+"}";var a=Fm(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function IP(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Ei(MP(t),!0).map(xP)):[]}function NP(t){return"{"+t+"}"}function AP(t){return/^-?0\d/.test(t)}function LP(t,e){return t<=e}function jP(t,e){return t>=e}function Ei(t,e){var n=[],r=Pm("{","}",t);if(!r||/\$$/.test(r.pre))return[t];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),o=i||s,a=r.body.indexOf(",")>=0;if(!o&&!a)return r.post.match(/,.*\}/)?(t=r.pre+"{"+r.body+ku+r.post,Ei(t)):[t];var c;if(o)c=r.body.split(/\.\./);else if(c=Fm(r.body),c.length===1&&(c=Ei(c[0],!1).map(NP),c.length===1)){var h=r.post.length?Ei(r.post,!1):[""];return h.map(function(x){return r.pre+c[0]+x})}var d=r.pre,h=r.post.length?Ei(r.post,!1):[""],p;if(o){var m=Mu(c[0]),v=Mu(c[1]),O=Math.max(c[0].length,c[1].length),F=c.length==3?Math.abs(Mu(c[2])):1,N=LP,b=v<m;b&&(F*=-1,N=jP);var w=c.some(AP);p=[];for(var q=m;N(q,v);q+=F){var k;if(s)k=String.fromCharCode(q),k==="\\"&&(k="");else if(k=String(q),w){var W=O-k.length;if(W>0){var ee=new Array(W+1).join("0");q<0?k="-"+ee+k.slice(1):k=ee+k}}p.push(k)}}else p=kP(c,function(j){return Ei(j,!1)});for(var ve=0;ve<p.length;ve++)for(var we=0;we<h.length;we++){var ke=d+p[ve]+h[we];(!e||o||ke)&&n.push(ke)}return n}});var jm=T((NF,Lm)=>{Lm.exports=Lt;Lt.Minimatch=ct;var Wo=function(){try{return require("path")}catch{}}()||{sep:"/"};Lt.sep=Wo.sep;var xu=Lt.GLOBSTAR=ct.GLOBSTAR={},WP=Mm(),xm={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Iu="[^/]",Nu=Iu+"*?",$P="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",HP="(?:(?!(?:\\/|^)\\.).)*?",Im=zP("().*{}+?[]^$\\!");function zP(t){return t.split("").reduce(function(e,n){return e[n]=!0,e},{})}var Nm=/\/+/;Lt.filter=KP;function KP(t,e){return e=e||{},function(n,r,i){return Lt(n,t,e)}}function br(t,e){e=e||{};var n={};return Object.keys(t).forEach(function(r){n[r]=t[r]}),Object.keys(e).forEach(function(r){n[r]=e[r]}),n}Lt.defaults=function(t){if(!t||typeof t!="object"||!Object.keys(t).length)return Lt;var e=Lt,n=function(i,s,o){return e(i,s,br(t,o))};return n.Minimatch=function(i,s){return new e.Minimatch(i,br(t,s))},n.Minimatch.defaults=function(i){return e.defaults(br(t,i)).Minimatch},n.filter=function(i,s){return e.filter(i,br(t,s))},n.defaults=function(i){return e.defaults(br(t,i))},n.makeRe=function(i,s){return e.makeRe(i,br(t,s))},n.braceExpand=function(i,s){return e.braceExpand(i,br(t,s))},n.match=function(r,i,s){return e.match(r,i,br(t,s))},n};ct.defaults=function(t){return Lt.defaults(t).Minimatch};function Lt(t,e,n){return ca(e),n||(n={}),!n.nocomment&&e.charAt(0)==="#"?!1:new ct(e,n).match(t)}function ct(t,e){if(!(this instanceof ct))return new ct(t,e);ca(t),e||(e={}),t=t.trim(),!e.allowWindowsEscape&&Wo.sep!=="/"&&(t=t.split(Wo.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}ct.prototype.debug=function(){};ct.prototype.make=UP;function UP(){var t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();var n=this.globSet=this.braceExpand();e.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,n),n=this.globParts=n.map(function(r){return r.split(Nm)}),this.debug(this.pattern,n),n=n.map(function(r,i,s){return r.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(r){return r.indexOf(!1)===-1}),this.debug(this.pattern,n),this.set=n}ct.prototype.parseNegate=BP;function BP(){var t=this.pattern,e=!1,n=this.options,r=0;if(!n.nonegate){for(var i=0,s=t.length;i<s&&t.charAt(i)==="!";i++)e=!e,r++;r&&(this.pattern=t.substr(r)),this.negate=e}}Lt.braceExpand=function(t,e){return Am(t,e)};ct.prototype.braceExpand=Am;function Am(t,e){return e||(this instanceof ct?e=this.options:e={}),t=typeof t=="undefined"?this.pattern:t,ca(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:WP(t)}var GP=1024*64,ca=function(t){if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>GP)throw new TypeError("pattern is too long")};ct.prototype.parse=XP;var ua={};function XP(t,e){ca(t);var n=this.options;if(t==="**")if(n.noglobstar)t="*";else return xu;if(t==="")return"";var r="",i=!!n.nocase,s=!1,o=[],a=[],c,d=!1,h=-1,p=-1,m=t.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",v=this;function O(){if(c){switch(c){case"*":r+=Nu,i=!0;break;case"?":r+=Iu,i=!0;break;default:r+="\\"+c;break}v.debug("clearStateChar %j %j",c,r),c=!1}}for(var F=0,N=t.length,b;F<N&&(b=t.charAt(F));F++){if(this.debug("%s	%s %s %j",t,F,r,b),s&&Im[b]){r+="\\"+b,s=!1;continue}switch(b){case"/":return!1;case"\\":O(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,F,r,b),d){this.debug("  in class"),b==="!"&&F===p+1&&(b="^"),r+=b;continue}v.debug("call clearStateChar %j",c),O(),c=b,n.noext&&O();continue;case"(":if(d){r+="(";continue}if(!c){r+="\\(";continue}o.push({type:c,start:F-1,reStart:r.length,open:xm[c].open,close:xm[c].close}),r+=c==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",c,r),c=!1;continue;case")":if(d||!o.length){r+="\\)";continue}O(),i=!0;var w=o.pop();r+=w.close,w.type==="!"&&a.push(w),w.reEnd=r.length;continue;case"|":if(d||!o.length||s){r+="\\|",s=!1;continue}O(),r+="|";continue;case"[":if(O(),d){r+="\\"+b;continue}d=!0,p=F,h=r.length,r+=b;continue;case"]":if(F===p+1||!d){r+="\\"+b,s=!1;continue}var q=t.substring(p+1,F);try{RegExp("["+q+"]")}catch{var k=this.parse(q,ua);r=r.substr(0,h)+"\\["+k[0]+"\\]",i=i||k[1],d=!1;continue}i=!0,d=!1,r+=b;continue;default:O(),s?s=!1:Im[b]&&!(b==="^"&&d)&&(r+="\\"),r+=b}}for(d&&(q=t.substr(p+1),k=this.parse(q,ua),r=r.substr(0,h)+"\\["+k[0],i=i||k[1]),w=o.pop();w;w=o.pop()){var W=r.slice(w.reStart+w.open.length);this.debug("setting tail",r,w),W=W.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(tt,Ze,cn){return cn||(cn="\\"),Ze+Ze+cn+"|"}),this.debug(`tail=%j
   %s`,W,W,w,r);var ee=w.type==="*"?Nu:w.type==="?"?Iu:"\\"+w.type;i=!0,r=r.slice(0,w.reStart)+ee+"\\("+W}O(),s&&(r+="\\\\");var ve=!1;switch(r.charAt(0)){case"[":case".":case"(":ve=!0}for(var we=a.length-1;we>-1;we--){var ke=a[we],j=r.slice(0,ke.reStart),x=r.slice(ke.reStart,ke.reEnd-8),L=r.slice(ke.reEnd-8,ke.reEnd),z=r.slice(ke.reEnd);L+=z;var de=j.split("(").length-1,Z=z;for(F=0;F<de;F++)Z=Z.replace(/\)[+*?]?/,"");z=Z;var le="";z===""&&e!==ua&&(le="$");var ne=j+x+z+le+L;r=ne}if(r!==""&&i&&(r="(?=.)"+r),ve&&(r=m+r),e===ua)return[r,i];if(!i)return JP(t);var Ie=n.nocase?"i":"";try{var Te=new RegExp("^"+r+"$",Ie)}catch{return new RegExp("$.")}return Te._glob=t,Te._src=r,Te}Lt.makeRe=function(t,e){return new ct(t,e||{}).makeRe()};ct.prototype.makeRe=VP;function VP(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,n=e.noglobstar?Nu:e.dot?$P:HP,r=e.nocase?"i":"",i=t.map(function(s){return s.map(function(o){return o===xu?n:typeof o=="string"?QP(o):o._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,r)}catch{this.regexp=!1}return this.regexp}Lt.match=function(t,e,n){n=n||{};var r=new ct(e,n);return t=t.filter(function(i){return r.match(i)}),r.options.nonull&&!t.length&&t.push(e),t};ct.prototype.match=function(e,n){if(typeof n=="undefined"&&(n=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&n)return!0;var r=this.options;Wo.sep!=="/"&&(e=e.split(Wo.sep).join("/")),e=e.split(Nm),this.debug(this.pattern,"split",e);var i=this.set;this.debug(this.pattern,"set",i);var s,o;for(o=e.length-1;o>=0&&(s=e[o],!s);o--);for(o=0;o<i.length;o++){var a=i[o],c=e;r.matchBase&&a.length===1&&(c=[s]);var d=this.matchOne(c,a,n);if(d)return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate};ct.prototype.matchOne=function(t,e,n){var r=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,s=0,o=t.length,a=e.length;i<o&&s<a;i++,s++){this.debug("matchOne loop");var c=e[s],d=t[i];if(this.debug(e,c,d),c===!1)return!1;if(c===xu){this.debug("GLOBSTAR",[e,c,d]);var h=i,p=s+1;if(p===a){for(this.debug("** at the end");i<o;i++)if(t[i]==="."||t[i]===".."||!r.dot&&t[i].charAt(0)===".")return!1;return!0}for(;h<o;){var m=t[h];if(this.debug(`
globstar while`,t,h,e,p,m),this.matchOne(t.slice(h),e.slice(p),n))return this.debug("globstar found match!",h,o,m),!0;if(m==="."||m===".."||!r.dot&&m.charAt(0)==="."){this.debug("dot detected!",t,h,e,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,h,e,p),h===o))}var v;if(typeof c=="string"?(v=d===c,this.debug("string match",c,d,v)):(v=d.match(c),this.debug("pattern match",c,d,v)),!v)return!1}if(i===o&&s===a)return!0;if(i===o)return n;if(s===a)return i===o-1&&t[i]==="";throw new Error("wtf?")};function JP(t){return t.replace(/\\(.)/g,"$1")}function QP(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var Xm=T(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.WillDeleteFilesFeature=Pt.WillRenameFilesFeature=Pt.WillCreateFilesFeature=Pt.DidDeleteFilesFeature=Pt.DidRenameFilesFeature=Pt.DidCreateFilesFeature=void 0;var On=require("vscode"),YP=jm(),er=ie(),ZP=Ks();function Wm(t,e){return t[e]===void 0&&(t[e]={}),t[e]}function eT(t,e){return t[e]}function $m(t,e,n){t[e]=n}var ti=class{constructor(e,n,r,i,s){this._filters=new Map,this._client=e,this._event=n,this._registrationType=r,this._clientCapability=i,this._serverCapability=s}get registrationType(){return this._registrationType}fillClientCapabilities(e){let n=Wm(Wm(e,"workspace"),"fileOperations");$m(n,"dynamicRegistration",!0),$m(n,this._clientCapability,!0)}initialize(e){var n;let r=(n=e.workspace)===null||n===void 0?void 0:n.fileOperations,i=r!==void 0?eT(r,this._serverCapability):void 0;if((i==null?void 0:i.filters)!==void 0)try{this.register({id:ZP.generateUuid(),registerOptions:{filters:i.filters}})}catch(s){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${s}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let n=e.registerOptions.filters.map(r=>{let i=new YP.Minimatch(r.pattern.glob,ti.asMinimatchOptions(r.pattern.options));if(!i.makeRe())throw new Error(`Invalid pattern ${r.pattern.glob}!`);return{scheme:r.scheme,matcher:i,kind:r.pattern.matches}});this._filters.set(e.id,n)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}async filter(e,n){let r=await Promise.all(e.files.map(async s=>{let o=n(s),a=o.fsPath.replace(/\\/g,"/");for(let c of this._filters.values())for(let d of c)if(!(d.scheme!==void 0&&d.scheme!==o.scheme)){if(d.matcher.match(a)){if(d.kind===void 0)return!0;let h=await ti.getFileType(o);if(h===void 0)return this._client.error(`Failed to determine file type for ${o.toString()}.`),!0;if(h===On.FileType.File&&d.kind===er.FileOperationPatternKind.file||h===On.FileType.Directory&&d.kind===er.FileOperationPatternKind.folder)return!0}else if(d.kind===er.FileOperationPatternKind.folder&&await ti.getFileType(o)===On.FileType.Directory&&d.matcher.match(`${a}/`))return!0}return!1})),i=e.files.filter((s,o)=>r[o]);return Object.assign(Object.assign({},e),{files:i})}static async getFileType(e){try{return(await On.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){if(e!==void 0&&e.ignoreCase===!0)return{nocase:!0}}},la=class extends ti{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s);this._notificationType=r,this._accessUri=o,this._createParams=a}async send(e){let n=await this.filter(e,this._accessUri);if(n.files.length){let r=async i=>{this._client.sendNotification(this._notificationType,this._createParams(i))};this.doSend(n,r)}}},Hm=class extends la{constructor(e){super(e,On.workspace.onDidCreateFiles,er.DidCreateFilesNotification.type,"didCreate","didCreate",n=>n,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,n){var r;let i=(r=this._client.clientOptions.middleware)===null||r===void 0?void 0:r.workspace;return(i==null?void 0:i.didCreateFiles)?i.didCreateFiles(e,n):n(e)}};Pt.DidCreateFilesFeature=Hm;var zm=class extends la{constructor(e){super(e,On.workspace.onDidRenameFiles,er.DidRenameFilesNotification.type,"didRename","didRename",n=>n.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}doSend(e,n){var r;let i=(r=this._client.clientOptions.middleware)===null||r===void 0?void 0:r.workspace;return(i==null?void 0:i.didRenameFiles)?i.didRenameFiles(e,n):n(e)}};Pt.DidRenameFilesFeature=zm;var Km=class extends la{constructor(e){super(e,On.workspace.onDidDeleteFiles,er.DidDeleteFilesNotification.type,"didDelete","didDelete",n=>n,e.code2ProtocolConverter.asDidDeleteFilesParams)}doSend(e,n){var r;let i=(r=this._client.clientOptions.middleware)===null||r===void 0?void 0:r.workspace;return(i==null?void 0:i.didDeleteFiles)?i.didDeleteFiles(e,n):n(e)}};Pt.DidDeleteFilesFeature=Km;var da=class extends ti{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s);this._requestType=r,this._accessUri=o,this._createParams=a}async send(e){let n=this.waitUntil(e);e.waitUntil(n)}async waitUntil(e){let n=await this.filter(e,this._accessUri);if(n.files.length){let r=i=>this._client.sendRequest(this._requestType,this._createParams(i)).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(n,r)}else return}},Um=class extends da{constructor(e){super(e,On.workspace.onWillCreateFiles,er.WillCreateFilesRequest.type,"willCreate","willCreate",n=>n,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,n){var r;let i=(r=this._client.clientOptions.middleware)===null||r===void 0?void 0:r.workspace;return(i==null?void 0:i.willCreateFiles)?i.willCreateFiles(e,n):n(e)}};Pt.WillCreateFilesFeature=Um;var Bm=class extends da{constructor(e){super(e,On.workspace.onWillRenameFiles,er.WillRenameFilesRequest.type,"willRename","willRename",n=>n.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,n){var r;let i=(r=this._client.clientOptions.middleware)===null||r===void 0?void 0:r.workspace;return(i==null?void 0:i.willRenameFiles)?i.willRenameFiles(e,n):n(e)}};Pt.WillRenameFilesFeature=Bm;var Gm=class extends da{constructor(e){super(e,On.workspace.onWillDeleteFiles,er.WillDeleteFilesRequest.type,"willDelete","willDelete",n=>n,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,n){var r;let i=(r=this._client.clientOptions.middleware)===null||r===void 0?void 0:r.workspace;return(i==null?void 0:i.willDeleteFiles)?i.willDeleteFiles(e,n):n(e)}};Pt.WillDeleteFilesFeature=Gm});var Qm=T(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});fa.LinkedEditingFeature=void 0;var tT=require("vscode"),Au=ie(),nT=At();function Vm(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Jm=class extends nT.TextDocumentFeature{constructor(e){super(e,Au.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let n=Vm(Vm(e,"textDocument"),"linkedEditingRange");n.dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.linkedEditingRangeProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideLinkedEditingRanges:(r,i,s)=>{let o=this._client,a=(d,h,p)=>o.sendRequest(Au.LinkedEditingRangeRequest.type,o.code2ProtocolConverter.asTextDocumentPositionParams(d,h),p).then(o.protocol2CodeConverter.asLinkedEditingRanges,m=>o.handleFailedRequest(Au.LinkedEditingRangeRequest.type,m,null)),c=o.clientOptions.middleware;return c.provideLinkedEditingRange?c.provideLinkedEditingRange(r,i,s,a):a(r,i,s)}};return[tT.languages.registerLinkedEditingRangeProvider(e.documentSelector,n),n]}};fa.LinkedEditingFeature=Jm});var Lu=T(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.ProposedFeatures=ni.CommonLanguageClient=void 0;var rT=At(),iT=Vp(),oT=cu(),sT=Yp(),aT=em(),cT=nm(),uT=im(),lT=am(),dT=lm(),fT=fm(),hT=mm(),gT=ym(),Oi=Xm(),pT=Qm(),Ym=class extends rT.BaseLanguageClient{constructor(e,n,r){super(e,n,r)}registerProposedFeatures(){this.registerFeatures(Zm.createAll(this))}registerBuiltinFeatures(){super.registerBuiltinFeatures(),this.registerFeature(new oT.ConfigurationFeature(this)),this.registerFeature(new aT.TypeDefinitionFeature(this)),this.registerFeature(new sT.ImplementationFeature(this)),this.registerFeature(new iT.ColorProviderFeature(this)),this.registerFeature(new cT.WorkspaceFoldersFeature(this)),this.registerFeature(new uT.FoldingRangeFeature(this)),this.registerFeature(new lT.DeclarationFeature(this)),this.registerFeature(new dT.SelectionRangeFeature(this)),this.registerFeature(new fT.ProgressFeature(this)),this.registerFeature(new hT.CallHierarchyFeature(this)),this.registerFeature(new gT.SemanticTokensFeature(this)),this.registerFeature(new pT.LinkedEditingFeature(this)),this.registerFeature(new Oi.DidCreateFilesFeature(this)),this.registerFeature(new Oi.DidRenameFilesFeature(this)),this.registerFeature(new Oi.DidDeleteFilesFeature(this)),this.registerFeature(new Oi.WillCreateFilesFeature(this)),this.registerFeature(new Oi.WillRenameFilesFeature(this)),this.registerFeature(new Oi.WillDeleteFilesFeature(this))}};ni.CommonLanguageClient=Ym;var Zm;(function(t){function e(n){return[]}t.createAll=e})(Zm=ni.ProposedFeatures||(ni.ProposedFeatures={}))});var tv=T(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});ha.terminate=void 0;var ev=require("child_process"),mT=require("path"),vT=process.platform==="win32",yT=process.platform==="darwin",_T=process.platform==="linux";function wT(t,e){if(vT)try{let i={stdio:["pipe","pipe","ignore"]};return e&&(i.cwd=e),ev.execFileSync("taskkill",["/T","/F","/PID",t.pid.toString()],i),!0}catch{return!1}else if(_T||yT)try{var n=mT.join(__dirname,"terminateProcess.sh"),r=ev.spawnSync(n,[t.pid.toString()]);return!r.error}catch{return!1}else return t.kill("SIGKILL"),!0}ha.terminate=wT});var $o=T(($F,nv)=>{"use strict";nv.exports=ie()});var rv=T(tr=>{"use strict";var bT=tr&&tr.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),ju=tr&&tr.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&bT(e,t,n)};Object.defineProperty(tr,"__esModule",{value:!0});ju(ie(),tr);ju(At(),tr);ju(Lu(),tr)});var uv=T(_t=>{"use strict";var RT=_t&&_t.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),iv=_t&&_t.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&RT(e,t,n)};Object.defineProperty(_t,"__esModule",{value:!0});_t.SettingMonitor=_t.LanguageClient=_t.TransportKind=void 0;var ri=require("child_process"),Wu=require("fs"),$u=require("path"),ov=Tc(),Rr=require("vscode"),Je=pr(),CT=Lu(),ST=At(),DT=tv(),Qe=$o();iv($o(),_t);iv(rv(),_t);var sv="^1.52.0",Hu;(function(t){function e(n){return Je.string(n.command)}t.is=e})(Hu||(Hu={}));var ut;(function(t){t[t.stdio=0]="stdio",t[t.ipc=1]="ipc",t[t.pipe=2]="pipe",t[t.socket=3]="socket"})(ut=_t.TransportKind||(_t.TransportKind={}));var Fi;(function(t){function e(n){let r=n;return r&&r.kind===ut.socket&&Je.number(r.port)}t.isSocket=e})(Fi||(Fi={}));var zu;(function(t){function e(n){return Je.string(n.module)}t.is=e})(zu||(zu={}));var Ku;(function(t){function e(n){let r=n;return r&&r.writer!==void 0&&r.reader!==void 0}t.is=e})(Ku||(Ku={}));var Uu;(function(t){function e(n){let r=n;return r&&r.process!==void 0&&typeof r.detached=="boolean"}t.is=e})(Uu||(Uu={}));var av=class extends CT.CommonLanguageClient{constructor(e,n,r,i,s){let o,a,c,d,h;Je.string(n)?(o=e,a=n,c=r,d=i,h=!!s):(o=e.toLowerCase(),a=e,c=n,d=r,h=i),h===void 0&&(h=!1);super(o,a,d);this._serverOptions=c,this._forceDebug=h;try{this.checkVersion()}catch(p){throw Je.string(p.message)&&this.outputChannel.appendLine(p.message),p}}checkVersion(){let e=ov.parse(Rr.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${Rr.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!ov.satisfies(e,sv))throw new Error(`The language client requires VS Code version ${sv} but received version ${Rr.version}`)}stop(){return super.stop().then(()=>{if(this._serverProcess){let e=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(e),this._isDetached=void 0}})}checkProcessDied(e){!e||setTimeout(()=>{try{process.kill(e.pid,0),DT.terminate(e)}catch{}},2e3)}handleConnectionClosed(){this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function n(h,p){if(!h&&!p)return;let m=Object.create(null);return Object.keys(process.env).forEach(v=>m[v]=process.env[v]),p&&(m.ELECTRON_RUN_AS_NODE="1",m.ELECTRON_NO_ASAR="1"),h&&Object.keys(h).forEach(v=>m[v]=h[v]),m}let r=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function s(){let h=process.execArgv;return h?h.some(p=>r.some(m=>p.startsWith(m))||i.some(m=>p===m)):!1}function o(h){if(h.stdin===null||h.stdout===null||h.stderr===null)throw new Error("Process created without stdio streams")}let a=this._serverOptions;if(Je.func(a))return a().then(h=>{if(ST.MessageTransports.is(h))return this._isDetached=!!h.detached,h;if(Ku.is(h))return this._isDetached=!!h.detached,{reader:new Qe.StreamMessageReader(h.reader),writer:new Qe.StreamMessageWriter(h.writer)};{let p;return Uu.is(h)?(p=h.process,this._isDetached=h.detached):(p=h,this._isDetached=!1),p.stderr.on("data",m=>this.outputChannel.append(Je.string(m)?m:m.toString(e))),{reader:new Qe.StreamMessageReader(p.stdout),writer:new Qe.StreamMessageWriter(p.stdin)}}});let c,d=a;return d.run||d.debug?this._forceDebug||s()?c=d.debug:c=d.run:c=a,this._getServerWorkingDir(c.options).then(h=>{if(zu.is(c)&&c.module){let p=c,m=p.transport||ut.stdio;if(p.runtime){let v=[],O=p.options||Object.create(null);O.execArgv&&O.execArgv.forEach(w=>v.push(w)),v.push(p.module),p.args&&p.args.forEach(w=>v.push(w));let F=Object.create(null);F.cwd=h,F.env=n(O.env,!1);let N=this._getRuntimePath(p.runtime,h),b;if(m===ut.ipc?(F.stdio=[null,null,null,"ipc"],v.push("--node-ipc")):m===ut.stdio?v.push("--stdio"):m===ut.pipe?(b=Qe.generateRandomPipeName(),v.push(`--pipe=${b}`)):Fi.isSocket(m)&&v.push(`--socket=${m.port}`),v.push(`--clientProcessId=${process.pid.toString()}`),m===ut.ipc||m===ut.stdio){let w=ri.spawn(N,v,F);return!w||!w.pid?Promise.reject(`Launching server using runtime ${N} failed.`):(this._serverProcess=w,w.stderr.on("data",q=>this.outputChannel.append(Je.string(q)?q:q.toString(e))),m===ut.ipc?(w.stdout.on("data",q=>this.outputChannel.append(Je.string(q)?q:q.toString(e))),Promise.resolve({reader:new Qe.IPCMessageReader(w),writer:new Qe.IPCMessageWriter(w)})):Promise.resolve({reader:new Qe.StreamMessageReader(w.stdout),writer:new Qe.StreamMessageWriter(w.stdin)}))}else{if(m===ut.pipe)return Qe.createClientPipeTransport(b).then(w=>{let q=ri.spawn(N,v,F);return!q||!q.pid?Promise.reject(`Launching server using runtime ${N} failed.`):(this._serverProcess=q,q.stderr.on("data",k=>this.outputChannel.append(Je.string(k)?k:k.toString(e))),q.stdout.on("data",k=>this.outputChannel.append(Je.string(k)?k:k.toString(e))),w.onConnected().then(k=>({reader:k[0],writer:k[1]})))});if(Fi.isSocket(m))return Qe.createClientSocketTransport(m.port).then(w=>{let q=ri.spawn(N,v,F);return!q||!q.pid?Promise.reject(`Launching server using runtime ${N} failed.`):(this._serverProcess=q,q.stderr.on("data",k=>this.outputChannel.append(Je.string(k)?k:k.toString(e))),q.stdout.on("data",k=>this.outputChannel.append(Je.string(k)?k:k.toString(e))),w.onConnected().then(k=>({reader:k[0],writer:k[1]})))})}}else{let v;return new Promise((O,F)=>{let N=p.args&&p.args.slice()||[];m===ut.ipc?N.push("--node-ipc"):m===ut.stdio?N.push("--stdio"):m===ut.pipe?(v=Qe.generateRandomPipeName(),N.push(`--pipe=${v}`)):Fi.isSocket(m)&&N.push(`--socket=${m.port}`),N.push(`--clientProcessId=${process.pid.toString()}`);let b=p.options||Object.create(null);if(b.env=n(b.env,!0),b.execArgv=b.execArgv||[],b.cwd=h,b.silent=!0,m===ut.ipc||m===ut.stdio){let w=ri.fork(p.module,N||[],b);o(w),this._serverProcess=w,w.stderr.on("data",q=>this.outputChannel.append(Je.string(q)?q:q.toString(e))),m===ut.ipc?(w.stdout.on("data",q=>this.outputChannel.append(Je.string(q)?q:q.toString(e))),O({reader:new Qe.IPCMessageReader(this._serverProcess),writer:new Qe.IPCMessageWriter(this._serverProcess)})):O({reader:new Qe.StreamMessageReader(w.stdout),writer:new Qe.StreamMessageWriter(w.stdin)})}else m===ut.pipe?Qe.createClientPipeTransport(v).then(w=>{let q=ri.fork(p.module,N||[],b);o(q),this._serverProcess=q,q.stderr.on("data",k=>this.outputChannel.append(Je.string(k)?k:k.toString(e))),q.stdout.on("data",k=>this.outputChannel.append(Je.string(k)?k:k.toString(e))),w.onConnected().then(k=>{O({reader:k[0],writer:k[1]})})}):Fi.isSocket(m)&&Qe.createClientSocketTransport(m.port).then(w=>{let q=ri.fork(p.module,N||[],b);o(q),this._serverProcess=q,q.stderr.on("data",k=>this.outputChannel.append(Je.string(k)?k:k.toString(e))),q.stdout.on("data",k=>this.outputChannel.append(Je.string(k)?k:k.toString(e))),w.onConnected().then(k=>{O({reader:k[0],writer:k[1]})})})})}}else if(Hu.is(c)&&c.command){let p=c,m=p.args||[],v=Object.assign({},p.options);v.cwd=v.cwd||h;let O=ri.spawn(p.command,m,v);return!O||!O.pid?Promise.reject(`Launching server using command ${p.command} failed.`):(O.stderr.on("data",F=>this.outputChannel.append(Je.string(F)?F:F.toString(e))),this._serverProcess=O,this._isDetached=!!v.detached,Promise.resolve({reader:new Qe.StreamMessageReader(O.stdout),writer:new Qe.StreamMessageWriter(O.stdin)}))}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(a,null,4)))})}_getRuntimePath(e,n){if($u.isAbsolute(e))return e;let r=this._mainGetRootPath();if(r!==void 0){let i=$u.join(r,e);if(Wu.existsSync(i))return i}if(n!==void 0){let i=$u.join(n,e);if(Wu.existsSync(i))return i}return e}_mainGetRootPath(){let e=Rr.workspace.workspaceFolders;if(!e||e.length===0)return;let n=e[0];if(n.uri.scheme==="file")return n.uri.fsPath}_getServerWorkingDir(e){let n=e&&e.cwd;return n||(n=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),n?new Promise(r=>{Wu.lstat(n,(i,s)=>{r(!i&&s.isDirectory()?n:void 0)})}):Promise.resolve(void 0)}getLocale(){let e=process.env.VSCODE_NLS_CONFIG;if(e===void 0)return"en";let n;try{n=JSON.parse(e)}catch{}return n===void 0||typeof n.locale!="string"?"en":n.locale}};_t.LanguageClient=av;var cv=class{constructor(e,n){this._client=e,this._setting=n,this._listeners=[]}start(){return Rr.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new Rr.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),n=e>=0?this._setting.substr(0,e):this._setting,r=e>=0?this._setting.substr(e+1):void 0,i=r?Rr.workspace.getConfiguration(n).get(r,!1):Rr.workspace.getConfiguration(n);i&&this._client.needsStart()?this._client.start():!i&&this._client.needsStop()&&this._client.stop()}};_t.SettingMonitor=cv});var dv=T((KF,lv)=>{"use strict";lv.exports=uv()});var Bu=T(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.ApiEvent=void 0;var PT;(function(t){t.DidRegisterDocumentFormattingEditProvider="DidRegisterDocumentFormattingEditProvider",t.DidResetConfiguration="DidResetConfiguration"})(PT=Ho.ApiEvent||(Ho.ApiEvent={}))});var ki=T(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.Notification=Fn.CodeActionKind=Fn.CommandId=void 0;var TT=mr(),qT;(function(t){t.ApplyAutoFix="stylelint.applyAutoFix",t.OpenRuleDoc="stylelint.openRuleDoc"})(qT=Fn.CommandId||(Fn.CommandId={}));Fn.CodeActionKind={StylelintSourceFixAll:`${TT.CodeActionKind.SourceFixAll}.stylelint`};var ET;(function(t){t.DidRegisterCodeActionRequestHandler="stylelint/didRegisterCodeActionRequestHandler",t.DidRegisterDocumentFormattingEditProvider="textDocument/didRegisterDocumentFormattingEditProvider",t.DidResetConfiguration="stylelint/didResetConfiguration"})(ET=Fn.Notification||(Fn.Notification={}))});var pv=T(Sr=>{"use strict";var fv=Sr&&Sr.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Tt=Sr&&Sr.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Gu,Cr,mn,hv;Object.defineProperty(Sr,"__esModule",{value:!0});Sr.AutoFixModule=void 0;var OT=ie(),gv=ki(),Xu=class{constructor({context:e,logger:n}){Gu.add(this),Cr.set(this,void 0),mn.set(this,void 0),fv(this,Cr,e,"f"),fv(this,mn,n,"f")}onInitialize(){return{capabilities:{executeCommandProvider:{commands:[gv.CommandId.ApplyAutoFix]}}}}onDidRegisterHandlers(){Tt(this,mn,"f")?.debug("Registering onExecuteCommand handler"),Tt(this,Cr,"f").commands.on(gv.CommandId.ApplyAutoFix,async({arguments:e})=>{if(!e)return{};let n=e[0],r=n.uri,i=Tt(this,Cr,"f").documents.get(r);if(!i||!await Tt(this,Gu,"m",hv).call(this,i))return Tt(this,mn,"f")?.isDebugEnabled()&&(i?Tt(this,mn,"f").debug("Document should not be auto-fixed, ignoring",{uri:r,language:i.languageId}):Tt(this,mn,"f").debug("Unknown document, ignoring",{uri:r})),{};if(n.version!==i.version)return Tt(this,mn,"f")?.debug("Document has been modified, ignoring",{uri:r}),{};let s=new OT.WorkspaceChange,o=s.getTextEditChange(n),a=await Tt(this,Cr,"f").getFixes(i);a.forEach(c=>o.add(c)),Tt(this,mn,"f")?.debug("Applying fixes",{uri:r,edits:a});try{let c=await Tt(this,Cr,"f").connection.workspace.applyEdit(s.edit);c.applied||Tt(this,mn,"f")?.debug("Failed to apply fixes",{uri:r,response:c})}catch(c){Tt(this,mn,"f")?.debug("Failed to apply fixes",{uri:r,error:c})}return{}})}};Sr.AutoFixModule=Xu;Cr=new WeakMap,mn=new WeakMap,Gu=new WeakSet,hv=async function(e){return(await Tt(this,Cr,"f").getOptions(e.uri)).validate.includes(e.languageId)};Xu.id="auto-fix"});var _v=T(qt=>{"use strict";var FT=qt&&qt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),kT=qt&&qt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),MT=qt&&qt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&FT(e,t,n);return kT(e,t),e},mv=qt&&qt.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},jt=qt&&qt.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},ga,Yt,zo;Object.defineProperty(qt,"__esModule",{value:!0});qt.CommandManager=void 0;var vv=MT(ie()),yv=class{constructor(e,n){ga.set(this,void 0),Yt.set(this,void 0),zo.set(this,new Map),mv(this,ga,e,"f"),mv(this,Yt,n,"f")}on(e,n){if(Array.isArray(e)){jt(this,Yt,"f")?.debug("Registering commands",{commands:e});for(let r of e)jt(this,zo,"f").set(r,n)}else jt(this,Yt,"f")?.debug("Registering command",{command:e}),jt(this,zo,"f").set(e,n)}register(){jt(this,Yt,"f")?.debug("Registering ExecuteCommandRequest handler"),jt(this,ga,"f").onExecuteCommand(async(...e)=>{jt(this,Yt,"f")?.debug("Received ExecuteCommandRequest",{command:e[0].command,arguments:e[0].arguments});let n=jt(this,zo,"f").get(e[0].command);if(!n)return jt(this,Yt,"f")?.debug("No handler registered for command",{command:e[0].command}),{};jt(this,Yt,"f")?.debug("Executing command",{command:e[0].command});try{let r=await n(...e);return jt(this,Yt,"f")?.debug("Sending command response",{command:e[0].command,response:r}),r}catch(r){return jt(this,Yt,"f")?.error("Error executing command",{command:e[0].command,error:r}),new vv.ResponseError(vv.ErrorCodes.InternalError,`Error executing command ${e[0].command}`,r)}}),jt(this,Yt,"f")?.debug("ExecuteCommandRequest handler registered")}};qt.CommandManager=yv;ga=new WeakMap,Yt=new WeakMap,zo=new WeakMap});var wv=T(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});pa.createDisableCompletionItem=void 0;var Ko=mr();function xT(t,e=""){let n=Ko.CompletionItem.create(t);return n.kind=Ko.CompletionItemKind.Snippet,n.insertTextFormat=Ko.InsertTextFormat.Snippet,t==="stylelint-disable"?(n.insertText=`/* stylelint-disable \${0:${e||"rule"}} */
/* stylelint-enable \${0:${e||"rule"}} */`,n.detail="Turn off all Stylelint or individual rules, after which you do not need to re-enable Stylelint. (Stylelint)",n.documentation={kind:Ko.MarkupKind.Markdown,value:`\`\`\`css
/* stylelint-disable ${e||"rule"} */
/* stylelint-enable ${e||"rule"} */
\`\`\``}):(n.insertText=`/* ${t} \${0:${e||"rule"}} */`,n.detail=t==="stylelint-disable-line"?"Turn off Stylelint rules for individual lines only, after which you do not need to explicitly re-enable them. (Stylelint)":"Turn off Stylelint rules for the next line only, after which you do not need to explicitly re-enable them. (Stylelint)",n.documentation={kind:Ko.MarkupKind.Markdown,value:`\`\`\`css
/* ${t} ${e||"rule"} */
\`\`\``}),n}pa.createDisableCompletionItem=xT});var bv=T(Zt=>{"use strict";var IT=Zt&&Zt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),NT=Zt&&Zt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),AT=Zt&&Zt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&IT(e,t,n);return NT(e,t),e},LT=Zt&&Zt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.createDisableRuleFileCodeAction=void 0;var jT=LT(require("os")),Dr=AT(ie());function WT(t,{code:e}){let n=new Dr.WorkspaceChange,r=t.getText(Dr.Range.create(Dr.Position.create(0,0),Dr.Position.create(0,2)));return n.getTextEditChange(t).add(Dr.TextEdit.insert(Dr.Position.create(r==="#!"?1:0,0),`/* stylelint-disable ${e} */${jT.default.EOL}`)),Dr.CodeAction.create(`Disable ${e} for the entire file`,n.edit,Dr.CodeActionKind.QuickFix)}Zt.createDisableRuleFileCodeAction=WT});var Rv=T(tn=>{"use strict";var $T=tn&&tn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),HT=tn&&tn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zT=tn&&tn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&$T(e,t,n);return HT(e,t),e},KT=tn&&tn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tn,"__esModule",{value:!0});tn.createDisableRuleLineCodeAction=void 0;var UT=KT(require("os")),en=zT(ie());function BT(t,{code:e,range:n},r){let i=new en.WorkspaceChange;if(r==="sameLine")i.getTextEditChange(t).add(en.TextEdit.insert(en.Position.create(n.start.line,en.uinteger.MAX_VALUE),` /* stylelint-disable-line ${e} */`));else{let o=t.getText(en.Range.create(en.Position.create(n.start.line,0),en.Position.create(n.start.line,en.uinteger.MAX_VALUE))).match(/^([ \t]+)/)?.[1]??"";i.getTextEditChange(t).add(en.TextEdit.insert(en.Position.create(n.start.line,0),`${o}/* stylelint-disable-next-line ${e} */${UT.default.EOL}`))}return en.CodeAction.create(`Disable ${e} for this line`,i.edit,en.CodeActionKind.QuickFix)}tn.createDisableRuleLineCodeAction=BT});var Sv=T(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});Mi.isIterableObject=Mi.isIterable=void 0;function Cv(t){return t!=null&&typeof t[Symbol.iterator]=="function"}Mi.isIterable=Cv;function GT(t){return Cv(t)&&typeof t=="object"}Mi.isIterableObject=GT});var Dv=T(ma=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});ma.displayError=void 0;var XT=Sv();function VT(t,e){if(!(e instanceof Error)){t.window.showErrorMessage(String(e).replace(/\n/gu," "));return}if((0,XT.isIterableObject)(e?.reasons)){for(let n of e.reasons)t.window.showErrorMessage(`Stylelint: ${n}`);return}if(e?.code===78){t.window.showErrorMessage(`Stylelint: ${e.message}`);return}t.window.showErrorMessage((e.stack||e.message).replace(/\n/gu," "))}ma.displayError=VT});var qv=T(Pr=>{"use strict";var Pv=Pr&&Pr.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},nr=Pr&&Pr.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},va,Uo,Bo,Go,Vu;Object.defineProperty(Pr,"__esModule",{value:!0});Pr.NotificationManager=void 0;var Tv=class{constructor(e,n){va.add(this),Uo.set(this,void 0),Bo.set(this,void 0),Go.set(this,new Map),Pv(this,Uo,e,"f"),Pv(this,Bo,n,"f")}on(e,n){let r=typeof e=="function",[i,s]=r?[void 0,e]:[e,n];if(!s)throw new Error("Handler must be defined");let o=nr(this,Go,"f").get(i);if(o){o.push(s);return}if(nr(this,Go,"f").set(i,[s]),r){nr(this,Uo,"f").onNotification((...a)=>nr(this,va,"m",Vu).call(this,void 0,a));return}nr(this,Uo,"f").onNotification(e,(...a)=>nr(this,va,"m",Vu).call(this,e,a))}};Pr.NotificationManager=Tv;Uo=new WeakMap,Bo=new WeakMap,Go=new WeakMap,va=new WeakSet,Vu=async function(e,n){nr(this,Bo,"f")?.debug("Received notification",{notificationType:e??"<all>",params:n});let r=nr(this,Go,"f").get(e);await Promise.all(r.map(async i=>{try{await i(...n)}catch(s){nr(this,Bo,"f")?.error("Error handling notification",{notificationType:e??"<all>",error:s})}}))}});var Ov=T(xi=>{"use strict";var Ju=xi&&xi.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Xo;Object.defineProperty(xi,"__esModule",{value:!0});xi.RuleCodeActionsCollection=void 0;var Ev=class{constructor(){Xo.set(this,new Map)}get(e){let n=Ju(this,Xo,"f").get(e);if(n)return n;let r={};return Ju(this,Xo,"f").set(e,r),r}*[(Xo=new WeakMap,Symbol.iterator)](){for(let e of Ju(this,Xo,"f").values())e.disableLine&&(yield e.disableLine),e.disableFile&&(yield e.disableFile),e.documentation&&(yield e.documentation)}get size(){let e=this[Symbol.iterator](),n=0;for(;!e.next().done;)n++;return n}};xi.RuleCodeActionsCollection=Ev});var kv=T(Fv=>{"use strict";Object.defineProperty(Fv,"__esModule",{value:!0})});var ya=T(Et=>{"use strict";var JT=Et&&Et.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Tr=Et&&Et.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&JT(e,t,n)};Object.defineProperty(Et,"__esModule",{value:!0});Tr(_v(),Et);Tr(wv(),Et);Tr(bv(),Et);Tr(Rv(),Et);Tr(Dv(),Et);Tr(qv(),Et);Tr(Ov(),Et);Tr(kv(),Et)});var Qu=T((ik,Iv)=>{"use strict";var Mv=require("path");Iv.exports=function(t,e){return t=xv(t),e=xv(e),process.platform==="win32"&&(t=t.toLowerCase(),e=e.toLowerCase()),t.lastIndexOf(e,0)===0&&(t[e.length]===Mv.sep||t[e.length]===void 0)};function xv(t){return t[t.length-1]===Mv.sep?t.slice(0,-1):t}});var Ii=T((Vo,Yu)=>{(function(t,e){if(typeof Vo=="object"&&typeof Yu=="object")Yu.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var n=e();for(var r in n)(typeof Vo=="object"?Vo:t)[r]=n[r]}})(Vo,function(){return(()=>{"use strict";var t={470:n=>{function r(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function i(o,a){for(var c,d="",h=0,p=-1,m=0,v=0;v<=o.length;++v){if(v<o.length)c=o.charCodeAt(v);else{if(c===47)break;c=47}if(c===47){if(!(p===v-1||m===1))if(p!==v-1&&m===2){if(d.length<2||h!==2||d.charCodeAt(d.length-1)!==46||d.charCodeAt(d.length-2)!==46){if(d.length>2){var O=d.lastIndexOf("/");if(O!==d.length-1){O===-1?(d="",h=0):h=(d=d.slice(0,O)).length-1-d.lastIndexOf("/"),p=v,m=0;continue}}else if(d.length===2||d.length===1){d="",h=0,p=v,m=0;continue}}a&&(d.length>0?d+="/..":d="..",h=2)}else d.length>0?d+="/"+o.slice(p+1,v):d=o.slice(p+1,v),h=v-p-1;p=v,m=0}else c===46&&m!==-1?++m:m=-1}return d}var s={resolve:function(){for(var o,a="",c=!1,d=arguments.length-1;d>=-1&&!c;d--){var h;d>=0?h=arguments[d]:(o===void 0&&(o=process.cwd()),h=o),r(h),h.length!==0&&(a=h+"/"+a,c=h.charCodeAt(0)===47)}return a=i(a,!c),c?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(o){if(r(o),o.length===0)return".";var a=o.charCodeAt(0)===47,c=o.charCodeAt(o.length-1)===47;return(o=i(o,!a)).length!==0||a||(o="."),o.length>0&&c&&(o+="/"),a?"/"+o:o},isAbsolute:function(o){return r(o),o.length>0&&o.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var o,a=0;a<arguments.length;++a){var c=arguments[a];r(c),c.length>0&&(o===void 0?o=c:o+="/"+c)}return o===void 0?".":s.normalize(o)},relative:function(o,a){if(r(o),r(a),o===a||(o=s.resolve(o))===(a=s.resolve(a)))return"";for(var c=1;c<o.length&&o.charCodeAt(c)===47;++c);for(var d=o.length,h=d-c,p=1;p<a.length&&a.charCodeAt(p)===47;++p);for(var m=a.length-p,v=h<m?h:m,O=-1,F=0;F<=v;++F){if(F===v){if(m>v){if(a.charCodeAt(p+F)===47)return a.slice(p+F+1);if(F===0)return a.slice(p+F)}else h>v&&(o.charCodeAt(c+F)===47?O=F:F===0&&(O=0));break}var N=o.charCodeAt(c+F);if(N!==a.charCodeAt(p+F))break;N===47&&(O=F)}var b="";for(F=c+O+1;F<=d;++F)F!==d&&o.charCodeAt(F)!==47||(b.length===0?b+="..":b+="/..");return b.length>0?b+a.slice(p+O):(p+=O,a.charCodeAt(p)===47&&++p,a.slice(p))},_makeLong:function(o){return o},dirname:function(o){if(r(o),o.length===0)return".";for(var a=o.charCodeAt(0),c=a===47,d=-1,h=!0,p=o.length-1;p>=1;--p)if((a=o.charCodeAt(p))===47){if(!h){d=p;break}}else h=!1;return d===-1?c?"/":".":c&&d===1?"//":o.slice(0,d)},basename:function(o,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');r(o);var c,d=0,h=-1,p=!0;if(a!==void 0&&a.length>0&&a.length<=o.length){if(a.length===o.length&&a===o)return"";var m=a.length-1,v=-1;for(c=o.length-1;c>=0;--c){var O=o.charCodeAt(c);if(O===47){if(!p){d=c+1;break}}else v===-1&&(p=!1,v=c+1),m>=0&&(O===a.charCodeAt(m)?--m==-1&&(h=c):(m=-1,h=v))}return d===h?h=v:h===-1&&(h=o.length),o.slice(d,h)}for(c=o.length-1;c>=0;--c)if(o.charCodeAt(c)===47){if(!p){d=c+1;break}}else h===-1&&(p=!1,h=c+1);return h===-1?"":o.slice(d,h)},extname:function(o){r(o);for(var a=-1,c=0,d=-1,h=!0,p=0,m=o.length-1;m>=0;--m){var v=o.charCodeAt(m);if(v!==47)d===-1&&(h=!1,d=m+1),v===46?a===-1?a=m:p!==1&&(p=1):a!==-1&&(p=-1);else if(!h){c=m+1;break}}return a===-1||d===-1||p===0||p===1&&a===d-1&&a===c+1?"":o.slice(a,d)},format:function(o){if(o===null||typeof o!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof o);return function(a,c){var d=c.dir||c.root,h=c.base||(c.name||"")+(c.ext||"");return d?d===c.root?d+h:d+"/"+h:h}(0,o)},parse:function(o){r(o);var a={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return a;var c,d=o.charCodeAt(0),h=d===47;h?(a.root="/",c=1):c=0;for(var p=-1,m=0,v=-1,O=!0,F=o.length-1,N=0;F>=c;--F)if((d=o.charCodeAt(F))!==47)v===-1&&(O=!1,v=F+1),d===46?p===-1?p=F:N!==1&&(N=1):p!==-1&&(N=-1);else if(!O){m=F+1;break}return p===-1||v===-1||N===0||N===1&&p===v-1&&p===m+1?v!==-1&&(a.base=a.name=m===0&&h?o.slice(1,v):o.slice(m,v)):(m===0&&h?(a.name=o.slice(1,p),a.base=o.slice(1,v)):(a.name=o.slice(m,p),a.base=o.slice(m,v)),a.ext=o.slice(p,v)),m>0?a.dir=o.slice(0,m-1):h&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};s.posix=s,n.exports=s},465:(n,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Utils=r.URI=void 0;var s=i(796);Object.defineProperty(r,"URI",{enumerable:!0,get:function(){return s.URI}});var o=i(679);Object.defineProperty(r,"Utils",{enumerable:!0,get:function(){return o.Utils}})},674:(n,r)=>{if(Object.defineProperty(r,"__esModule",{value:!0}),r.isWindows=void 0,typeof process=="object")r.isWindows=process.platform==="win32";else if(typeof navigator=="object"){var i=navigator.userAgent;r.isWindows=i.indexOf("Windows")>=0}},796:function(n,r,i){var s,o,a=this&&this.__extends||(s=function(j,x){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,z){L.__proto__=z}||function(L,z){for(var de in z)Object.prototype.hasOwnProperty.call(z,de)&&(L[de]=z[de])})(j,x)},function(j,x){function L(){this.constructor=j}s(j,x),j.prototype=x===null?Object.create(x):(L.prototype=x.prototype,new L)});Object.defineProperty(r,"__esModule",{value:!0}),r.uriToFsPath=r.URI=void 0;var c=i(674),d=/^\w[\w\d+.-]*$/,h=/^\//,p=/^\/\//,m="",v="/",O=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,F=function(){function j(x,L,z,de,Z,le){le===void 0&&(le=!1),typeof x=="object"?(this.scheme=x.scheme||m,this.authority=x.authority||m,this.path=x.path||m,this.query=x.query||m,this.fragment=x.fragment||m):(this.scheme=function(ne,Ie){return ne||Ie?ne:"file"}(x,le),this.authority=L||m,this.path=function(ne,Ie){switch(ne){case"https":case"http":case"file":Ie?Ie[0]!==v&&(Ie=v+Ie):Ie=v}return Ie}(this.scheme,z||m),this.query=de||m,this.fragment=Z||m,function(ne,Ie){if(!ne.scheme&&Ie)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'+ne.authority+'", path: "'+ne.path+'", query: "'+ne.query+'", fragment: "'+ne.fragment+'"}');if(ne.scheme&&!d.test(ne.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(ne.path){if(ne.authority){if(!h.test(ne.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(p.test(ne.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}(this,le))}return j.isUri=function(x){return x instanceof j||!!x&&typeof x.authority=="string"&&typeof x.fragment=="string"&&typeof x.path=="string"&&typeof x.query=="string"&&typeof x.scheme=="string"&&typeof x.fsPath=="function"&&typeof x.with=="function"&&typeof x.toString=="function"},Object.defineProperty(j.prototype,"fsPath",{get:function(){return W(this,!1)},enumerable:!1,configurable:!0}),j.prototype.with=function(x){if(!x)return this;var L=x.scheme,z=x.authority,de=x.path,Z=x.query,le=x.fragment;return L===void 0?L=this.scheme:L===null&&(L=m),z===void 0?z=this.authority:z===null&&(z=m),de===void 0?de=this.path:de===null&&(de=m),Z===void 0?Z=this.query:Z===null&&(Z=m),le===void 0?le=this.fragment:le===null&&(le=m),L===this.scheme&&z===this.authority&&de===this.path&&Z===this.query&&le===this.fragment?this:new b(L,z,de,Z,le)},j.parse=function(x,L){L===void 0&&(L=!1);var z=O.exec(x);return z?new b(z[2]||m,ke(z[4]||m),ke(z[5]||m),ke(z[7]||m),ke(z[9]||m),L):new b(m,m,m,m,m)},j.file=function(x){var L=m;if(c.isWindows&&(x=x.replace(/\\/g,v)),x[0]===v&&x[1]===v){var z=x.indexOf(v,2);z===-1?(L=x.substring(2),x=v):(L=x.substring(2,z),x=x.substring(z)||v)}return new b("file",L,x,m,m)},j.from=function(x){return new b(x.scheme,x.authority,x.path,x.query,x.fragment)},j.prototype.toString=function(x){return x===void 0&&(x=!1),ee(this,x)},j.prototype.toJSON=function(){return this},j.revive=function(x){if(x){if(x instanceof j)return x;var L=new b(x);return L._formatted=x.external,L._fsPath=x._sep===N?x.fsPath:null,L}return x},j}();r.URI=F;var N=c.isWindows?1:void 0,b=function(j){function x(){var L=j!==null&&j.apply(this,arguments)||this;return L._formatted=null,L._fsPath=null,L}return a(x,j),Object.defineProperty(x.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=W(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),x.prototype.toString=function(L){return L===void 0&&(L=!1),L?ee(this,!0):(this._formatted||(this._formatted=ee(this,!1)),this._formatted)},x.prototype.toJSON=function(){var L={$mid:1};return this._fsPath&&(L.fsPath=this._fsPath,L._sep=N),this._formatted&&(L.external=this._formatted),this.path&&(L.path=this.path),this.scheme&&(L.scheme=this.scheme),this.authority&&(L.authority=this.authority),this.query&&(L.query=this.query),this.fragment&&(L.fragment=this.fragment),L},x}(F),w=((o={})[58]="%3A",o[47]="%2F",o[63]="%3F",o[35]="%23",o[91]="%5B",o[93]="%5D",o[64]="%40",o[33]="%21",o[36]="%24",o[38]="%26",o[39]="%27",o[40]="%28",o[41]="%29",o[42]="%2A",o[43]="%2B",o[44]="%2C",o[59]="%3B",o[61]="%3D",o[32]="%20",o);function q(j,x){for(var L=void 0,z=-1,de=0;de<j.length;de++){var Z=j.charCodeAt(de);if(Z>=97&&Z<=122||Z>=65&&Z<=90||Z>=48&&Z<=57||Z===45||Z===46||Z===95||Z===126||x&&Z===47)z!==-1&&(L+=encodeURIComponent(j.substring(z,de)),z=-1),L!==void 0&&(L+=j.charAt(de));else{L===void 0&&(L=j.substr(0,de));var le=w[Z];le!==void 0?(z!==-1&&(L+=encodeURIComponent(j.substring(z,de)),z=-1),L+=le):z===-1&&(z=de)}}return z!==-1&&(L+=encodeURIComponent(j.substring(z))),L!==void 0?L:j}function k(j){for(var x=void 0,L=0;L<j.length;L++){var z=j.charCodeAt(L);z===35||z===63?(x===void 0&&(x=j.substr(0,L)),x+=w[z]):x!==void 0&&(x+=j[L])}return x!==void 0?x:j}function W(j,x){var L;return L=j.authority&&j.path.length>1&&j.scheme==="file"?"//"+j.authority+j.path:j.path.charCodeAt(0)===47&&(j.path.charCodeAt(1)>=65&&j.path.charCodeAt(1)<=90||j.path.charCodeAt(1)>=97&&j.path.charCodeAt(1)<=122)&&j.path.charCodeAt(2)===58?x?j.path.substr(1):j.path[1].toLowerCase()+j.path.substr(2):j.path,c.isWindows&&(L=L.replace(/\//g,"\\")),L}function ee(j,x){var L=x?k:q,z="",de=j.scheme,Z=j.authority,le=j.path,ne=j.query,Ie=j.fragment;if(de&&(z+=de,z+=":"),(Z||de==="file")&&(z+=v,z+=v),Z){var Te=Z.indexOf("@");if(Te!==-1){var tt=Z.substr(0,Te);Z=Z.substr(Te+1),(Te=tt.indexOf(":"))===-1?z+=L(tt,!1):(z+=L(tt.substr(0,Te),!1),z+=":",z+=L(tt.substr(Te+1),!1)),z+="@"}(Te=(Z=Z.toLowerCase()).indexOf(":"))===-1?z+=L(Z,!1):(z+=L(Z.substr(0,Te),!1),z+=Z.substr(Te))}if(le){if(le.length>=3&&le.charCodeAt(0)===47&&le.charCodeAt(2)===58)(Ze=le.charCodeAt(1))>=65&&Ze<=90&&(le="/"+String.fromCharCode(Ze+32)+":"+le.substr(3));else if(le.length>=2&&le.charCodeAt(1)===58){var Ze;(Ze=le.charCodeAt(0))>=65&&Ze<=90&&(le=String.fromCharCode(Ze+32)+":"+le.substr(2))}z+=L(le,!0)}return ne&&(z+="?",z+=L(ne,!1)),Ie&&(z+="#",z+=x?Ie:q(Ie,!1)),z}function ve(j){try{return decodeURIComponent(j)}catch{return j.length>3?j.substr(0,3)+ve(j.substr(3)):j}}r.uriToFsPath=W;var we=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function ke(j){return j.match(we)?j.replace(we,function(x){return ve(x)}):j}},679:function(n,r,i){var s=this&&this.__spreadArrays||function(){for(var d=0,h=0,p=arguments.length;h<p;h++)d+=arguments[h].length;var m=Array(d),v=0;for(h=0;h<p;h++)for(var O=arguments[h],F=0,N=O.length;F<N;F++,v++)m[v]=O[F];return m};Object.defineProperty(r,"__esModule",{value:!0}),r.Utils=void 0;var o,a=i(470),c=a.posix||a;(o=r.Utils||(r.Utils={})).joinPath=function(d){for(var h=[],p=1;p<arguments.length;p++)h[p-1]=arguments[p];return d.with({path:c.join.apply(c,s([d.path],h))})},o.resolvePath=function(d){for(var h=[],p=1;p<arguments.length;p++)h[p-1]=arguments[p];var m=d.path||"/";return d.with({path:c.resolve.apply(c,s([m],h))})},o.dirname=function(d){var h=c.dirname(d.path);return h.length===1&&h.charCodeAt(0)===46?d:d.with({path:h})},o.basename=function(d){return c.basename(d.path)},o.extname=function(d){return c.extname(d.path)}}},e={};return function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}(465)})()})});var Zu=T(Ni=>{"use strict";var Nv=Ni&&Ni.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ni,"__esModule",{value:!0});Ni.findPackageRoot=void 0;var QT=Nv(require("fs/promises")),Jo=Nv(require("path"));async function YT(t,e="package.json"){let n=t;for(;;){let r=Jo.default.join(n,e);try{if((await QT.default.stat(r)).isFile())return n;let s=Jo.default.dirname(n);if(!Jo.default.relative(s,n))return;n=s}catch(i){if(i.code==="ENOENT"||i.code==="ENOTDIR"){let s=Jo.default.dirname(n);if(!Jo.default.relative(s,n))return;n=s}else throw i}}}Ni.findPackageRoot=YT});var Lv=T(Ai=>{"use strict";var Av=Ai&&Ai.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.runProcessFindLine=void 0;var ZT=Av(require("child_process")),e0=Av(require("readline"));function t0(t,e,n,r){return new Promise((i,s)=>{let o=ZT.default.spawn(t,e,n),a=e0.default.createInterface({input:o.stdout}),c,d,h=!1,p=!1,m=()=>{h||d===void 0||!p||(h=!0,d===0?i(c):s(new Error(`Command "${t}" exited with code ${d}.`)))},v=O=>{h=!0,o.removeAllListeners(),a.close();try{o.kill()}catch{}s(O)};a.on("line",O=>{if(!(h||c!==void 0))try{let F=r(O);F!==void 0&&(c=F),m()}catch(F){v(F)}}),a.on("close",()=>{h||(p=!0,m())}),o.on("error",v),o.on("exit",(O,F)=>{d=O??F,m()})})}Ai.runProcessFindLine=t0});var rl=T(kn=>{"use strict";var jv=kn&&kn.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},st=kn&&kn.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Wv=kn&&kn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Qo,vn,_a,ii,el,$v,Hv,zv;Object.defineProperty(kn,"__esModule",{value:!0});kn.GlobalPathResolver=void 0;var n0=Wv(require("os")),tl=Wv(require("path")),nl=Lv(),Kv=class{constructor(e){Qo.add(this),vn.set(this,void 0),_a.set(this,{yarn:void 0,npm:void 0,pnpm:void 0}),ii.set(this,void 0),el.set(this,{yarn:st(this,Qo,"m",$v).bind(this),npm:st(this,Qo,"m",Hv).bind(this),pnpm:st(this,Qo,"m",zv).bind(this)}),jv(this,vn,e,"f"),jv(this,ii,n0.default.platform()==="win32","f")}async resolve(e){let n=st(this,_a,"f")[e];if(n)return n;let r=st(this,el,"f")[e];if(!r){st(this,vn,"f")?.warn("Unsupported package manager.",{packageManager:e});return}try{let i=await r();return i&&(st(this,_a,"f")[e]=i),i}catch(i){st(this,vn,"f")?.warn("Failed to resolve global node_modules path.",{packageManager:e,error:i});return}}};kn.GlobalPathResolver=Kv;vn=new WeakMap,_a=new WeakMap,ii=new WeakMap,el=new WeakMap,Qo=new WeakSet,$v=async function(){let e=r=>{try{return JSON.parse(r)}catch{return}},n=await(0,nl.runProcessFindLine)("yarn",["global","dir","--json"],st(this,ii,"f")?{shell:!0}:void 0,r=>{let i=e(r);if(!i||i.type!=="log"||!i.data)return;let s=tl.default.join(i.data,"node_modules");return st(this,vn,"f")?.debug("Yarn returned global node_modules path.",{path:s}),s});if(!n){st(this,vn,"f")?.warn('"yarn global dir --json" did not return a path.');return}return n},Hv=async function(){let e=await(0,nl.runProcessFindLine)("npm",["config","get","prefix"],st(this,ii,"f")?{shell:!0}:void 0,n=>{let r=n.trim();if(!r)return;let i=st(this,ii,"f")?tl.default.join(r,"node_modules"):tl.default.join(r,"lib/node_modules");return st(this,vn,"f")?.debug("npm returned global node_modules path.",{path:i}),i});if(!e){st(this,vn,"f")?.warn('"npm config get prefix" did not return a path.');return}return e},zv=async function(){let e=await(0,nl.runProcessFindLine)("pnpm",["root","-g"],st(this,ii,"f")?{shell:!0}:void 0,n=>{let r=n.trim();if(!!r)return st(this,vn,"f")?.debug("pnpm returned global node_modules path.",{path:r}),r});if(!e){st(this,vn,"f")?.warn('"pnpm root -g" did not return a path.');return}return e}});var wa=T(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.thenable=Ye.typedArray=Ye.stringArray=Ye.array=Ye.func=Ye.error=Ye.number=Ye.string=Ye.boolean=void 0;function r0(t){return t===!0||t===!1}Ye.boolean=r0;function Uv(t){return typeof t=="string"||t instanceof String}Ye.string=Uv;function i0(t){return typeof t=="number"||t instanceof Number}Ye.number=i0;function o0(t){return t instanceof Error}Ye.error=o0;function Bv(t){return typeof t=="function"}Ye.func=Bv;function Gv(t){return Array.isArray(t)}Ye.array=Gv;function s0(t){return Gv(t)&&t.every(e=>Uv(e))}Ye.stringArray=s0;function a0(t,e){return Array.isArray(t)&&t.every(e)}Ye.typedArray=a0;function c0(t){return t&&Bv(t.then)}Ye.thenable=c0});var il=T(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.generateUuid=nn.parse=nn.isUUID=nn.v4=nn.empty=void 0;var ba=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},pe=class extends ba{constructor(){super([pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex(),"-",pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex(),"-","4",pe._randomHex(),pe._randomHex(),pe._randomHex(),"-",pe._oneOf(pe._timeHighBits),pe._randomHex(),pe._randomHex(),pe._randomHex(),"-",pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex(),pe._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return pe._oneOf(pe._chars)}};pe._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];pe._timeHighBits=["8","9","a","b"];nn.empty=new ba("00000000-0000-0000-0000-000000000000");function Xv(){return new pe}nn.v4=Xv;var u0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Vv(t){return u0.test(t)}nn.isUUID=Vv;function l0(t){if(!Vv(t))throw new Error("invalid uuid");return new ba(t)}nn.parse=l0;function d0(){return Xv().asHex()}nn.generateUuid=d0});var Qv=T(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.attachPartialResult=Er.ProgressFeature=Er.attachWorkDone=void 0;var qr=ie(),f0=il(),rr=class{constructor(e,n){this._connection=e,this._token=n,rr.Instances.set(this._token,this)}begin(e,n,r,i){let s={kind:"begin",title:e,percentage:n,message:r,cancellable:i};this._connection.sendProgress(qr.WorkDoneProgress.type,this._token,s)}report(e,n){let r={kind:"report"};typeof e=="number"?(r.percentage=e,n!==void 0&&(r.message=n)):r.message=e,this._connection.sendProgress(qr.WorkDoneProgress.type,this._token,r)}done(){rr.Instances.delete(this._token),this._connection.sendProgress(qr.WorkDoneProgress.type,this._token,{kind:"end"})}};rr.Instances=new Map;var ol=class extends rr{constructor(e,n){super(e,n);this._source=new qr.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},Ra=class{constructor(){}begin(){}report(){}done(){}},sl=class extends Ra{constructor(){super();this._source=new qr.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function h0(t,e){if(e===void 0||e.workDoneToken===void 0)return new Ra;let n=e.workDoneToken;return delete e.workDoneToken,new rr(t,n)}Er.attachWorkDone=h0;var g0=t=>class extends t{constructor(){super();this._progressSupported=!1}initialize(e){var n;((n=e==null?void 0:e.window)===null||n===void 0?void 0:n.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(qr.WorkDoneProgressCancelNotification.type,r=>{let i=rr.Instances.get(r.token);(i instanceof ol||i instanceof sl)&&i.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new Ra:new rr(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){let e=f0.generateUuid();return this.connection.sendRequest(qr.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new ol(this.connection,e))}else return Promise.resolve(new sl)}};Er.ProgressFeature=g0;var al;(function(t){t.type=new qr.ProgressType})(al||(al={}));var Jv=class{constructor(e,n){this._connection=e,this._token=n}report(e){this._connection.sendProgress(al.type,this._token,e)}};function p0(t,e){if(e===void 0||e.partialResultToken===void 0)return;let n=e.partialResultToken;return delete e.partialResultToken,new Jv(t,n)}Er.attachPartialResult=p0});var Yv=T(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca.ConfigurationFeature=void 0;var m0=ie(),v0=wa(),y0=t=>class extends t{getConfiguration(e){return e?v0.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let n={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(m0.ConfigurationRequest.type,n).then(r=>Array.isArray(e)?r:r[0])}};Ca.ConfigurationFeature=y0});var Zv=T(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.WorkspaceFoldersFeature=void 0;var Sa=ie(),_0=t=>class extends t{initialize(e){let n=e.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Sa.Emitter,this.connection.onNotification(Sa.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(Sa.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(Sa.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};Da.WorkspaceFoldersFeature=_0});var ey=T(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.CallHierarchyFeature=void 0;var cl=ie(),w0=t=>class extends t{get callHierarchy(){return{onPrepare:e=>{this.connection.onRequest(cl.CallHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))},onIncomingCalls:e=>{let n=cl.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:e=>{let n=cl.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Pa.CallHierarchyFeature=w0});var ll=T(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.SemanticTokensBuilder=Li.SemanticTokensFeature=void 0;var ul=ie(),b0=t=>class extends t{get semanticTokens(){return{on:e=>{let n=ul.SemanticTokensRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:e=>{let n=ul.SemanticTokensDeltaRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:e=>{let n=ul.SemanticTokensRangeRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Li.SemanticTokensFeature=b0;var ty=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,n,r,i,s){let o=e,a=n;this._dataLen>0&&(o-=this._prevLine,o===0&&(a-=this._prevChar)),this._data[this._dataLen++]=o,this._data[this._dataLen++]=a,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._prevLine=e,this._prevChar=n}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){let e=this._prevData.length,n=this._data.length,r=0;for(;r<n&&r<e&&this._prevData[r]===this._data[r];)r++;if(r<n&&r<e){let i=0;for(;i<n&&i<e&&this._prevData[e-1-i]===this._data[n-1-i];)i++;let s=this._data.slice(r,n-i);return{resultId:this.id,edits:[{start:r,deleteCount:e-i-r,data:s}]}}else return r<n?{resultId:this.id,edits:[{start:r,deleteCount:0,data:this._data.slice(r)}]}:r<e?{resultId:this.id,edits:[{start:r,deleteCount:e-r}]}:{resultId:this.id,edits:[]}}else return this.build()}};Li.SemanticTokensBuilder=ty});var ny=T(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});Ta.ShowDocumentFeature=void 0;var R0=ie(),C0=t=>class extends t{showDocument(e){return this.connection.sendRequest(R0.ShowDocumentRequest.type,e)}};Ta.ShowDocumentFeature=C0});var ry=T(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});qa.FileOperationsFeature=void 0;var ji=ie(),S0=t=>class extends t{onDidCreateFiles(e){this.connection.onNotification(ji.DidCreateFilesNotification.type,n=>{e(n)})}onDidRenameFiles(e){this.connection.onNotification(ji.DidRenameFilesNotification.type,n=>{e(n)})}onDidDeleteFiles(e){this.connection.onNotification(ji.DidDeleteFilesNotification.type,n=>{e(n)})}onWillCreateFiles(e){return this.connection.onRequest(ji.WillCreateFilesRequest.type,(n,r)=>e(n,r))}onWillRenameFiles(e){return this.connection.onRequest(ji.WillRenameFilesRequest.type,(n,r)=>e(n,r))}onWillDeleteFiles(e){return this.connection.onRequest(ji.WillDeleteFilesRequest.type,(n,r)=>e(n,r))}};qa.FileOperationsFeature=S0});var iy=T(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.LinkedEditingRangeFeature=void 0;var D0=ie(),P0=t=>class extends t{onLinkedEditingRange(e){this.connection.onRequest(D0.LinkedEditingRangeRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))}};Ea.LinkedEditingRangeFeature=P0});var oy=T(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.MonikerFeature=void 0;var T0=ie(),q0=t=>class extends t{get moniker(){return{on:e=>{let n=T0.MonikerRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Oa.MonikerFeature=q0});var _l=T(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.createConnection=Re.combineFeatures=Re.combineLanguagesFeatures=Re.combineWorkspaceFeatures=Re.combineWindowFeatures=Re.combineClientFeatures=Re.combineTracerFeatures=Re.combineTelemetryFeatures=Re.combineConsoleFeatures=Re._LanguagesImpl=Re.BulkUnregistration=Re.BulkRegistration=Re.ErrorMessageTracker=Re.TextDocuments=void 0;var H=ie(),rn=wa(),dl=il(),ce=Qv(),E0=Yv(),O0=Zv(),F0=ey(),k0=ll(),M0=ny(),x0=ry(),I0=iy(),N0=oy();function fl(t){if(t!==null)return t}var sy=class{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new H.Emitter,this._onDidOpen=new H.Emitter,this._onDidClose=new H.Emitter,this._onDidSave=new H.Emitter,this._onWillSave=new H.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map(e=>this._documents[e])}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=H.TextDocumentSyncKind.Full,e.onDidOpenTextDocument(n=>{let r=n.textDocument,i=this._configuration.create(r.uri,r.languageId,r.version,r.text);this._documents[r.uri]=i;let s=Object.freeze({document:i});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)}),e.onDidChangeTextDocument(n=>{let r=n.textDocument,i=n.contentChanges;if(i.length===0)return;let s=this._documents[r.uri],{version:o}=r;if(o==null)throw new Error(`Received document change event for ${r.uri} without valid version identifier`);s=this._configuration.update(s,i,o),this._documents[r.uri]=s,this._onDidChangeContent.fire(Object.freeze({document:s}))}),e.onDidCloseTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&(delete this._documents[n.textDocument.uri],this._onDidClose.fire(Object.freeze({document:r})))}),e.onWillSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onWillSave.fire(Object.freeze({document:r,reason:n.reason}))}),e.onWillSaveTextDocumentWaitUntil((n,r)=>{let i=this._documents[n.textDocument.uri];return i&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:i,reason:n.reason}),r):[]}),e.onDidSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onDidSave.fire(Object.freeze({document:r}))})}};Re.TextDocuments=sy;var ay=class{constructor(){this._messages=Object.create(null)}add(e){let n=this._messages[e];n||(n=0),n++,this._messages[e]=n}sendErrors(e){Object.keys(this._messages).forEach(n=>{e.window.showErrorMessage(n)})}};Re.ErrorMessageTracker=ay;var hl=class{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(H.MessageType.Error,e)}warn(e){this.send(H.MessageType.Warning,e)}info(e){this.send(H.MessageType.Info,e)}log(e){this.send(H.MessageType.Log,e)}send(e,n){this._rawConnection&&this._rawConnection.sendNotification(H.LogMessageNotification.type,{type:e,message:n})}},cy=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...n){let r={type:H.MessageType.Error,message:e,actions:n};return this.connection.sendRequest(H.ShowMessageRequest.type,r).then(fl)}showWarningMessage(e,...n){let r={type:H.MessageType.Warning,message:e,actions:n};return this.connection.sendRequest(H.ShowMessageRequest.type,r).then(fl)}showInformationMessage(e,...n){let r={type:H.MessageType.Info,message:e,actions:n};return this.connection.sendRequest(H.ShowMessageRequest.type,r).then(fl)}},uy=M0.ShowDocumentFeature(ce.ProgressFeature(cy)),A0;(function(t){function e(){return new gl}t.create=e})(A0=Re.BulkRegistration||(Re.BulkRegistration={}));var gl=class{constructor(){this._registrations=[],this._registered=new Set}add(e,n){let r=rn.string(e)?e:e.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let i=dl.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},L0;(function(t){function e(){return new Fa(void 0,[])}t.create=e})(L0=Re.BulkUnregistration||(Re.BulkUnregistration={}));var Fa=class{constructor(e,n){this._connection=e,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let r of this._unregistrations.values())e.push(r);let n={unregisterations:e};this._connection.sendRequest(H.UnregistrationRequest.type,n).then(void 0,r=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){let n=rn.string(e)?e:e.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(H.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n)},s=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}},pl=class{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,n,r){return e instanceof gl?this.registerMany(e):e instanceof Fa?this.registerSingle1(e,n,r):this.registerSingle2(e,n)}registerSingle1(e,n,r){let i=rn.string(n)?n:n.method,s=dl.generateUuid(),o={registrations:[{id:s,method:i,registerOptions:r||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(H.RegistrationRequest.type,o).then(a=>(e.add({id:s,method:i}),e),a=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(a)))}registerSingle2(e,n){let r=rn.string(e)?e:e.method,i=dl.generateUuid(),s={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(H.RegistrationRequest.type,s).then(o=>H.Disposable.create(()=>{this.unregisterSingle(i,r)}),o=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(o)))}unregisterSingle(e,n){let r={unregisterations:[{id:e,method:n}]};return this.connection.sendRequest(H.UnregistrationRequest.type,r).then(void 0,i=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let n=e.asRegistrationParams();return this.connection.sendRequest(H.RegistrationRequest.type,n).then(()=>new Fa(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},ly=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function n(i){return i&&!!i.edit}let r=n(e)?e:{edit:e};return this.connection.sendRequest(H.ApplyWorkspaceEditRequest.type,r)}},dy=x0.FileOperationsFeature(O0.WorkspaceFoldersFeature(E0.ConfigurationFeature(ly))),ml=class{constructor(){this._trace=H.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,n){this._trace!==H.Trace.Off&&this.connection.sendNotification(H.LogTraceNotification.type,{message:e,verbose:this._trace===H.Trace.Verbose?n:void 0})}},vl=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(H.TelemetryEventNotification.type,e)}},yl=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return ce.attachWorkDone(this.connection,e)}attachPartialResultProgress(e,n){return ce.attachPartialResult(this.connection,n)}};Re._LanguagesImpl=yl;var fy=N0.MonikerFeature(I0.LinkedEditingRangeFeature(k0.SemanticTokensFeature(F0.CallHierarchyFeature(yl))));function hy(t,e){return function(n){return e(t(n))}}Re.combineConsoleFeatures=hy;function gy(t,e){return function(n){return e(t(n))}}Re.combineTelemetryFeatures=gy;function py(t,e){return function(n){return e(t(n))}}Re.combineTracerFeatures=py;function my(t,e){return function(n){return e(t(n))}}Re.combineClientFeatures=my;function vy(t,e){return function(n){return e(t(n))}}Re.combineWindowFeatures=vy;function yy(t,e){return function(n){return e(t(n))}}Re.combineWorkspaceFeatures=yy;function j0(t,e){return function(n){return e(t(n))}}Re.combineLanguagesFeatures=j0;function W0(t,e){function n(i,s,o){return i&&s?o(i,s):i||s}return{__brand:"features",console:n(t.console,e.console,hy),tracer:n(t.tracer,e.tracer,py),telemetry:n(t.telemetry,e.telemetry,gy),client:n(t.client,e.client,my),window:n(t.window,e.window,vy),workspace:n(t.workspace,e.workspace,yy)}}Re.combineFeatures=W0;function $0(t,e,n){let r=n&&n.console?new(n.console(hl)):new hl,i=t(r);r.rawAttach(i);let s=n&&n.tracer?new(n.tracer(ml)):new ml,o=n&&n.telemetry?new(n.telemetry(vl)):new vl,a=n&&n.client?new(n.client(pl)):new pl,c=n&&n.window?new(n.window(uy)):new uy,d=n&&n.workspace?new(n.workspace(dy)):new dy,h=n&&n.languages?new(n.languages(fy)):new fy,p=[r,s,o,a,c,d,h];function m(b){return b instanceof Promise?b:rn.thenable(b)?new Promise((w,q)=>{b.then(k=>w(k),k=>q(k))}):Promise.resolve(b)}let v,O,F,N={listen:()=>i.listen(),sendRequest:(b,...w)=>i.sendRequest(rn.string(b)?b:b.method,...w),onRequest:(b,w)=>i.onRequest(b,w),sendNotification:(b,w)=>{let q=rn.string(b)?b:b.method;arguments.length===1?i.sendNotification(q):i.sendNotification(q,w)},onNotification:(b,w)=>i.onNotification(b,w),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:b=>O=b,onInitialized:b=>i.onNotification(H.InitializedNotification.type,b),onShutdown:b=>v=b,onExit:b=>F=b,get console(){return r},get telemetry(){return o},get tracer(){return s},get client(){return a},get window(){return c},get workspace(){return d},get languages(){return h},onDidChangeConfiguration:b=>i.onNotification(H.DidChangeConfigurationNotification.type,b),onDidChangeWatchedFiles:b=>i.onNotification(H.DidChangeWatchedFilesNotification.type,b),__textDocumentSync:void 0,onDidOpenTextDocument:b=>i.onNotification(H.DidOpenTextDocumentNotification.type,b),onDidChangeTextDocument:b=>i.onNotification(H.DidChangeTextDocumentNotification.type,b),onDidCloseTextDocument:b=>i.onNotification(H.DidCloseTextDocumentNotification.type,b),onWillSaveTextDocument:b=>i.onNotification(H.WillSaveTextDocumentNotification.type,b),onWillSaveTextDocumentWaitUntil:b=>i.onRequest(H.WillSaveTextDocumentWaitUntilRequest.type,b),onDidSaveTextDocument:b=>i.onNotification(H.DidSaveTextDocumentNotification.type,b),sendDiagnostics:b=>i.sendNotification(H.PublishDiagnosticsNotification.type,b),onHover:b=>i.onRequest(H.HoverRequest.type,(w,q)=>b(w,q,ce.attachWorkDone(i,w),void 0)),onCompletion:b=>i.onRequest(H.CompletionRequest.type,(w,q)=>b(w,q,ce.attachWorkDone(i,w),ce.attachPartialResult(i,w))),onCompletionResolve:b=>i.onRequest(H.CompletionResolveRequest.type,b),onSignatureHelp:b=>i.onRequest(H.SignatureHelpRequest.type,(w,q)=>b(w,q,ce.attachWorkDone(i,w),void 0)),onDeclaration:b=>i.onRequest(H.DeclarationRequest.type,(w,q)=>b(w,q,ce.attachWorkDone(i,w),ce.attachPartialResult(i,w))),onDefinition:b=>i.onRequest(H.DefinitionRequest.type,(w,q)=>b(w,q,ce.attachWorkDone(i,w),ce.attachPartialResult(i,w))),onTypeDefinition:b=>i.onRequest(H.TypeDefinitionRequest.type,(w,q)=>b(w,q,ce.attachWorkDone(i,w),ce.attachPartialResult(i,w))),onImplementation:b=>i.onRequest(H.ImplementationRequest.type,(w,q)=>b(w,q,ce.attachWorkDone(i,w),ce.attachPartialResult(i,w))),onReferences:b=>i.onRequest(H.ReferencesRequest.type,(w,q)=>b(w,q,ce.attachWorkDone(i,w),ce.attachPartialResult(i,w))),onDocumentHighlight:b=>i.onRequest(H.DocumentHighlightRequest.type,(w,q)=>b(w,q,ce.attachWorkDone(i,w),ce.attachPartialResult(i,w))),onDocumentSymbol:b=>i.onRequest(H.DocumentSymbolRequest.type,(w,q)=>b(w,q,ce.attachWorkDone(i,w),ce.attachPartialResult(i,w))),onWorkspaceSymbol:b=>i.onRequest(H.WorkspaceSymbolRequest.type,(w,q)=>b(w,q,ce.attachWorkDone(i,w),ce.attachPartialResult(i,w))),onCodeAction:b=>i.onRequest(H.CodeActionRequest.type,(w,q)=>b(w,q,ce.attachWorkDone(i,w),ce.attachPartialResult(i,w))),onCodeActionResolve:b=>i.onRequest(H.CodeActionResolveRequest.type,(w,q)=>b(w,q)),onCodeLens:b=>i.onRequest(H.CodeLensRequest.type,(w,q)=>b(w,q,ce.attachWorkDone(i,w),ce.attachPartialResult(i,w))),onCodeLensResolve:b=>i.onRequest(H.CodeLensResolveRequest.type,(w,q)=>b(w,q)),onDocumentFormatting:b=>i.onRequest(H.DocumentFormattingRequest.type,(w,q)=>b(w,q,ce.attachWorkDone(i,w),void 0)),onDocumentRangeFormatting:b=>i.onRequest(H.DocumentRangeFormattingRequest.type,(w,q)=>b(w,q,ce.attachWorkDone(i,w),void 0)),onDocumentOnTypeFormatting:b=>i.onRequest(H.DocumentOnTypeFormattingRequest.type,(w,q)=>b(w,q)),onRenameRequest:b=>i.onRequest(H.RenameRequest.type,(w,q)=>b(w,q,ce.attachWorkDone(i,w),void 0)),onPrepareRename:b=>i.onRequest(H.PrepareRenameRequest.type,(w,q)=>b(w,q)),onDocumentLinks:b=>i.onRequest(H.DocumentLinkRequest.type,(w,q)=>b(w,q,ce.attachWorkDone(i,w),ce.attachPartialResult(i,w))),onDocumentLinkResolve:b=>i.onRequest(H.DocumentLinkResolveRequest.type,(w,q)=>b(w,q)),onDocumentColor:b=>i.onRequest(H.DocumentColorRequest.type,(w,q)=>b(w,q,ce.attachWorkDone(i,w),ce.attachPartialResult(i,w))),onColorPresentation:b=>i.onRequest(H.ColorPresentationRequest.type,(w,q)=>b(w,q,ce.attachWorkDone(i,w),ce.attachPartialResult(i,w))),onFoldingRanges:b=>i.onRequest(H.FoldingRangeRequest.type,(w,q)=>b(w,q,ce.attachWorkDone(i,w),ce.attachPartialResult(i,w))),onSelectionRanges:b=>i.onRequest(H.SelectionRangeRequest.type,(w,q)=>b(w,q,ce.attachWorkDone(i,w),ce.attachPartialResult(i,w))),onExecuteCommand:b=>i.onRequest(H.ExecuteCommandRequest.type,(w,q)=>b(w,q,ce.attachWorkDone(i,w),void 0)),dispose:()=>i.dispose()};for(let b of p)b.attach(N);return i.onRequest(H.InitializeRequest.type,b=>{e.initialize(b),rn.string(b.trace)&&(s.trace=H.Trace.fromString(b.trace));for(let w of p)w.initialize(b.capabilities);if(O){let w=O(b,new H.CancellationTokenSource().token,ce.attachWorkDone(i,b),void 0);return m(w).then(q=>{if(q instanceof H.ResponseError)return q;let k=q;k||(k={capabilities:{}});let W=k.capabilities;W||(W={},k.capabilities=W),W.textDocumentSync===void 0||W.textDocumentSync===null?W.textDocumentSync=rn.number(N.__textDocumentSync)?N.__textDocumentSync:H.TextDocumentSyncKind.None:!rn.number(W.textDocumentSync)&&!rn.number(W.textDocumentSync.change)&&(W.textDocumentSync.change=rn.number(N.__textDocumentSync)?N.__textDocumentSync:H.TextDocumentSyncKind.None);for(let ee of p)ee.fillServerCapabilities(W);return k})}else{let w={capabilities:{textDocumentSync:H.TextDocumentSyncKind.None}};for(let q of p)q.fillServerCapabilities(w.capabilities);return w}}),i.onRequest(H.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,v)return v(new H.CancellationTokenSource().token)}),i.onNotification(H.ExitNotification.type,()=>{try{F&&F()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),i.onNotification(H.SetTraceNotification.type,b=>{s.trace=H.Trace.fromString(b.value)}),N}Re.createConnection=$0});var wy=T(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.resolveModulePath=wt.FileSystem=wt.resolveGlobalYarnPath=wt.resolveGlobalNodePath=wt.resolve=wt.uriToFilePath=void 0;var H0=require("url"),yn=require("path"),wl=require("fs"),bl=require("child_process");function z0(t){let e=H0.parse(t);if(e.protocol!=="file:"||!e.path)return;let n=e.path.split("/");for(var r=0,i=n.length;r<i;r++)n[r]=decodeURIComponent(n[r]);if(process.platform==="win32"&&n.length>1){let s=n[0],o=n[1];s.length===0&&o.length>1&&o[1]===":"&&n.shift()}return yn.normalize(n.join("/"))}wt.uriToFilePath=z0;function Rl(){return process.platform==="win32"}function ka(t,e,n,r){let i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((o,a)=>{let c=process.env,d=Object.create(null);Object.keys(c).forEach(h=>d[h]=c[h]),e&&wl.existsSync(e)&&(d[i]?d[i]=e+yn.delimiter+d[i]:d[i]=e,r&&r(`NODE_PATH value is: ${d[i]}`)),d.ELECTRON_RUN_AS_NODE="1";try{let h=bl.fork("",[],{cwd:n,env:d,execArgv:["-e",s]});if(h.pid===void 0){a(new Error(`Starting process to resolve node module  ${t} failed`));return}h.on("error",m=>{a(m)}),h.on("message",m=>{m.c==="r"&&(h.send({c:"e"}),m.s?o(m.r):a(new Error(`Failed to resolve module: ${t}`)))});let p={c:"rs",a:t};h.send(p)}catch(h){a(h)}})}wt.resolve=ka;function Cl(t){let e="npm",n=Object.create(null);Object.keys(process.env).forEach(s=>n[s]=process.env[s]),n.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:n};Rl()&&(e="npm.cmd",r.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let s=bl.spawnSync(e,["config","get","prefix"],r).stdout;if(!s){t&&t("'npm config get prefix' didn't return a value.");return}let o=s.trim();return t&&t(`'npm config get prefix' value is: ${o}`),o.length>0?Rl()?yn.join(o,"node_modules"):yn.join(o,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}wt.resolveGlobalNodePath=Cl;function K0(t){let e="yarn",n={encoding:"utf8"};Rl()&&(e="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let i=bl.spawnSync(e,["global","dir","--json"],n),s=i.stdout;if(!s){t&&(t("'yarn global dir' didn't return a value."),i.stderr&&t(i.stderr));return}let o=s.trim().split(/\r?\n/);for(let a of o)try{let c=JSON.parse(a);if(c.type==="log")return yn.join(c.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",r)}}wt.resolveGlobalYarnPath=K0;var _y;(function(t){let e;function n(){return e!==void 0||(process.platform==="win32"?e=!1:e=!wl.existsSync(__filename.toUpperCase())||!wl.existsSync(__filename.toLowerCase())),e}t.isCaseSensitive=n;function r(i,s){return n()?yn.normalize(s).indexOf(yn.normalize(i))===0:yn.normalize(s).toLowerCase().indexOf(yn.normalize(i).toLowerCase())===0}t.isParent=r})(_y=wt.FileSystem||(wt.FileSystem={}));function U0(t,e,n,r){return n?(yn.isAbsolute(n)||(n=yn.join(t,n)),ka(e,n,n,r).then(i=>_y.isParent(n,i)?i:Promise.reject(new Error(`Failed to load ${e} from node path location.`))).then(void 0,i=>ka(e,Cl(r),t,r))):ka(e,Cl(r),t,r)}wt.resolveModulePath=U0});var Ry=T(Wt=>{"use strict";var B0=Wt&&Wt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),by=Wt&&Wt.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&B0(e,t,n)};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.ProposedFeatures=Wt.SemanticTokensBuilder=void 0;var G0=ll();Object.defineProperty(Wt,"SemanticTokensBuilder",{enumerable:!0,get:function(){return G0.SemanticTokensBuilder}});by(ie(),Wt);by(_l(),Wt);var X0;(function(t){t.all={__brand:"features"}})(X0=Wt.ProposedFeatures||(Wt.ProposedFeatures={}))});var Py=T($t=>{"use strict";var V0=$t&&$t.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Cy=$t&&$t.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&V0(e,t,n)};Object.defineProperty($t,"__esModule",{value:!0});$t.createConnection=$t.Files=void 0;var Sl=wa(),J0=_l(),Yo=wy(),oi=$o();Cy($o(),$t);Cy(Ry(),$t);var Q0;(function(t){t.uriToFilePath=Yo.uriToFilePath,t.resolveGlobalNodePath=Yo.resolveGlobalNodePath,t.resolveGlobalYarnPath=Yo.resolveGlobalYarnPath,t.resolve=Yo.resolve,t.resolveModulePath=Yo.resolveModulePath})(Q0=$t.Files||($t.Files={}));var Sy;function Ma(){if(Sy!==void 0)try{Sy.end()}catch{}}var Wi=!1,Dy;function Y0(){let t="--clientProcessId";function e(n){try{let r=parseInt(n);isNaN(r)||(Dy=setInterval(()=>{try{process.kill(r,0)}catch{Ma(),process.exit(Wi?0:1)}},3e3))}catch{}}for(let n=2;n<process.argv.length;n++){let r=process.argv[n];if(r===t&&n+1<process.argv.length){e(process.argv[n+1]);return}else{let i=r.split("=");i[0]===t&&e(i[1])}}}Y0();var Z0={initialize:t=>{let e=t.processId;Sl.number(e)&&Dy===void 0&&setInterval(()=>{try{process.kill(e,0)}catch{process.exit(Wi?0:1)}},3e3)},get shutdownReceived(){return Wi},set shutdownReceived(t){Wi=t},exit:t=>{Ma(),process.exit(t)}};function eq(t,e,n,r){let i,s,o,a;return t!==void 0&&t.__brand==="features"&&(i=t,t=e,e=n,n=r),oi.ConnectionStrategy.is(t)||oi.ConnectionOptions.is(t)?a=t:(s=t,o=e,a=n),tq(s,o,a,i)}$t.createConnection=eq;function tq(t,e,n,r){if(!t&&!e&&process.argv.length>2){let a,c,d=process.argv.slice(2);for(let h=0;h<d.length;h++){let p=d[h];if(p==="--node-ipc"){t=new oi.IPCMessageReader(process),e=new oi.IPCMessageWriter(process);break}else if(p==="--stdio"){t=process.stdin,e=process.stdout;break}else if(p==="--socket"){a=parseInt(d[h+1]);break}else if(p==="--pipe"){c=d[h+1];break}else{var i=p.split("=");if(i[0]==="--socket"){a=parseInt(i[1]);break}else if(i[0]==="--pipe"){c=i[1];break}}}if(a){let h=oi.createServerSocketTransport(a);t=h[0],e=h[1]}else if(c){let h=oi.createServerPipeTransport(c);t=h[0],e=h[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+s);if(!e)throw new Error("Connection output stream is not set. "+s);if(Sl.func(t.read)&&Sl.func(t.on)){let a=t;a.on("end",()=>{Ma(),process.exit(Wi?0:1)}),a.on("close",()=>{Ma(),process.exit(Wi?0:1)})}let o=a=>oi.createProtocolConnection(t,e,a,n);return J0.createConnection(o,Z0,r)}});var Dl=T((Ck,Ty)=>{"use strict";Ty.exports=Py()});var Iy=T((Sk,xy)=>{var Mn=-1,_n=1,Ot=0;function Zo(t,e,n,r){if(t===e)return t?[[Ot,t]]:[];if(n!=null){var i=sq(t,e,n);if(i)return i}var s=Pl(t,e),o=t.substring(0,s);t=t.substring(s),e=e.substring(s),s=Tl(t,e);var a=t.substring(t.length-s);t=t.substring(0,t.length-s),e=e.substring(0,e.length-s);var c=nq(t,e);return o&&c.unshift([Ot,o]),a&&c.push([Ot,a]),Ey(c,r),c}function nq(t,e){var n;if(!t)return[[_n,e]];if(!e)return[[Mn,t]];var r=t.length>e.length?t:e,i=t.length>e.length?e:t,s=r.indexOf(i);if(s!==-1)return n=[[_n,r.substring(0,s)],[Ot,i],[_n,r.substring(s+i.length)]],t.length>e.length&&(n[0][0]=n[2][0]=Mn),n;if(i.length===1)return[[Mn,t],[_n,e]];var o=iq(t,e);if(o){var a=o[0],c=o[1],d=o[2],h=o[3],p=o[4],m=Zo(a,d),v=Zo(c,h);return m.concat([[Ot,p]],v)}return rq(t,e)}function rq(t,e){for(var n=t.length,r=e.length,i=Math.ceil((n+r)/2),s=i,o=2*i,a=new Array(o),c=new Array(o),d=0;d<o;d++)a[d]=-1,c[d]=-1;a[s+1]=0,c[s+1]=0;for(var h=n-r,p=h%2!=0,m=0,v=0,O=0,F=0,N=0;N<i;N++){for(var b=-N+m;b<=N-v;b+=2){var w=s+b,q;b===-N||b!==N&&a[w-1]<a[w+1]?q=a[w+1]:q=a[w-1]+1;for(var k=q-b;q<n&&k<r&&t.charAt(q)===e.charAt(k);)q++,k++;if(a[w]=q,q>n)v+=2;else if(k>r)m+=2;else if(p){var W=s+h-b;if(W>=0&&W<o&&c[W]!==-1){var ee=n-c[W];if(q>=ee)return qy(t,e,q,k)}}}for(var ve=-N+O;ve<=N-F;ve+=2){var W=s+ve,ee;ve===-N||ve!==N&&c[W-1]<c[W+1]?ee=c[W+1]:ee=c[W-1]+1;for(var we=ee-ve;ee<n&&we<r&&t.charAt(n-ee-1)===e.charAt(r-we-1);)ee++,we++;if(c[W]=ee,ee>n)F+=2;else if(we>r)O+=2;else if(!p){var w=s+h-ve;if(w>=0&&w<o&&a[w]!==-1){var q=a[w],k=s+q-w;if(ee=n-ee,q>=ee)return qy(t,e,q,k)}}}}return[[Mn,t],[_n,e]]}function qy(t,e,n,r){var i=t.substring(0,n),s=e.substring(0,r),o=t.substring(n),a=e.substring(r),c=Zo(i,s),d=Zo(o,a);return c.concat(d)}function Pl(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,s=0;n<i;)t.substring(s,i)==e.substring(s,i)?(n=i,s=n):r=i,i=Math.floor((r-n)/2+n);return Oy(t.charCodeAt(i-1))&&i--,i}function Tl(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,s=0;n<i;)t.substring(t.length-i,t.length-s)==e.substring(e.length-i,e.length-s)?(n=i,s=n):r=i,i=Math.floor((r-n)/2+n);return Fy(t.charCodeAt(t.length-i))&&i--,i}function iq(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||r.length*2<n.length)return null;function i(v,O,F){for(var N=v.substring(F,F+Math.floor(v.length/4)),b=-1,w="",q,k,W,ee;(b=O.indexOf(N,b+1))!==-1;){var ve=Pl(v.substring(F),O.substring(b)),we=Tl(v.substring(0,F),O.substring(0,b));w.length<we+ve&&(w=O.substring(b-we,b)+O.substring(b,b+ve),q=v.substring(0,F-we),k=v.substring(F+ve),W=O.substring(0,b-we),ee=O.substring(b+ve))}return w.length*2>=v.length?[q,k,W,ee,w]:null}var s=i(n,r,Math.ceil(n.length/4)),o=i(n,r,Math.ceil(n.length/2)),a;if(!s&&!o)return null;o?s?a=s[4].length>o[4].length?s:o:a=o:a=s;var c,d,h,p;t.length>e.length?(c=a[0],d=a[1],h=a[2],p=a[3]):(h=a[0],p=a[1],c=a[2],d=a[3]);var m=a[4];return[c,d,h,p,m]}function Ey(t,e){t.push([Ot,""]);for(var n=0,r=0,i=0,s="",o="",a;n<t.length;){if(n<t.length-1&&!t[n][1]){t.splice(n,1);continue}switch(t[n][0]){case _n:i++,o+=t[n][1],n++;break;case Mn:r++,s+=t[n][1],n++;break;case Ot:var c=n-i-r-1;if(e){if(c>=0&&My(t[c][1])){var d=t[c][1].slice(-1);if(t[c][1]=t[c][1].slice(0,-1),s=d+s,o=d+o,!t[c][1]){t.splice(c,1),n--;var h=c-1;t[h]&&t[h][0]===_n&&(i++,o=t[h][1]+o,h--),t[h]&&t[h][0]===Mn&&(r++,s=t[h][1]+s,h--),c=h}}if(ky(t[n][1])){var d=t[n][1].charAt(0);t[n][1]=t[n][1].slice(1),s+=d,o+=d}}if(n<t.length-1&&!t[n][1]){t.splice(n,1);break}if(s.length>0||o.length>0){s.length>0&&o.length>0&&(a=Pl(o,s),a!==0&&(c>=0?t[c][1]+=o.substring(0,a):(t.splice(0,0,[Ot,o.substring(0,a)]),n++),o=o.substring(a),s=s.substring(a)),a=Tl(o,s),a!==0&&(t[n][1]=o.substring(o.length-a)+t[n][1],o=o.substring(0,o.length-a),s=s.substring(0,s.length-a)));var p=i+r;s.length===0&&o.length===0?(t.splice(n-p,p),n=n-p):s.length===0?(t.splice(n-p,p,[_n,o]),n=n-p+1):o.length===0?(t.splice(n-p,p,[Mn,s]),n=n-p+1):(t.splice(n-p,p,[Mn,s],[_n,o]),n=n-p+2)}n!==0&&t[n-1][0]===Ot?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,s="",o="";break}}t[t.length-1][1]===""&&t.pop();var m=!1;for(n=1;n<t.length-1;)t[n-1][0]===Ot&&t[n+1][0]===Ot&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),m=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),m=!0)),n++;m&&Ey(t,e)}function Oy(t){return t>=55296&&t<=56319}function Fy(t){return t>=56320&&t<=57343}function ky(t){return Fy(t.charCodeAt(0))}function My(t){return Oy(t.charCodeAt(t.length-1))}function oq(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}function ql(t,e,n,r){return My(t)||ky(r)?null:oq([[Ot,t],[Mn,e],[_n,n],[Ot,r]])}function sq(t,e,n){var r=typeof n=="number"?{index:n,length:0}:n.oldRange,i=typeof n=="number"?null:n.newRange,s=t.length,o=e.length;if(r.length===0&&(i===null||i.length===0)){var a=r.index,c=t.slice(0,a),d=t.slice(a),h=i?i.index:null;e:{var p=a+o-s;if(h!==null&&h!==p||p<0||p>o)break e;var m=e.slice(0,p),v=e.slice(p);if(v!==d)break e;var O=Math.min(a,p),F=c.slice(0,O),N=m.slice(0,O);if(F!==N)break e;var b=c.slice(O),w=m.slice(O);return ql(F,b,w,d)}e:{if(h!==null&&h!==a)break e;var q=a,m=e.slice(0,q),v=e.slice(q);if(m!==c)break e;var k=Math.min(s-q,o-q),W=d.slice(d.length-k),ee=v.slice(v.length-k);if(W!==ee)break e;var b=d.slice(0,d.length-k),w=v.slice(0,v.length-k);return ql(c,b,w,W)}}if(r.length>0&&i&&i.length===0){e:{var F=t.slice(0,r.index),W=t.slice(r.index+r.length),O=F.length,k=W.length;if(o<O+k)break e;var N=e.slice(0,O),ee=e.slice(o-k);if(F!==N||W!==ee)break e;var b=t.slice(O,s-k),w=e.slice(O,o-k);return ql(F,b,w,W)}}return null}function xa(t,e,n){return Zo(t,e,n,!0)}xa.INSERT=_n;xa.DELETE=Mn;xa.EQUAL=Ot;xy.exports=xa});var Ol=T($i=>{"use strict";var aq=$i&&$i.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($i,"__esModule",{value:!0});$i.createTextEdits=void 0;var Ia=aq(Iy()),El=mr();function cq(t,e){let n=(0,Ia.default)(t.getText(),e),r=[],i=0;for(let[s,o]of n){let a=i;switch(s){case Ia.default.EQUAL:i+=o.length;break;case Ia.default.DELETE:i+=o.length,r.push(El.TextEdit.del(El.Range.create(t.positionAt(a),t.positionAt(i))));break;case Ia.default.INSERT:r.push(El.TextEdit.insert(t.positionAt(a),o));break}}return r}$i.createTextEdits=cq});var Ay=T(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.getDisableType=void 0;var Ny=mr();function uq(t,e){let n=t.offsetAt(Ny.Position.create(e.line,0)),r=t.offsetAt(Ny.Position.create(e.line+1,0)),i=t.getText().slice(n,r),s=i.slice(0,e.character),o=i.slice(e.character),a=s.match(/\/\*\s*(stylelint-disable(?:(?:-next)?-line)?)\s[a-z\-/\s,]*$/i)?.[1]?.toLowerCase();return a&&/^[a-z\-/\s,]*\*\//i.test(o)?a:void 0}Na.getDisableType=uq});var Ly=T(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.getFixes=void 0;var lq=Ol();async function dq(t,e,n={},r={}){let i=await t.lintDocument(e,{...n,fix:!0},r);return typeof i.output=="string"?(0,lq.createTextEdits)(e,i.output):[]}Aa.getFixes=dq});var jy=T(Hi=>{"use strict";var fq=Hi&&Hi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.getWorkspaceFolder=void 0;var hq=fq(Qu()),Fl=Ii();async function gq(t,e){let{scheme:n,fsPath:r}=Fl.URI.parse(e.uri);if(n==="untitled"){let i=(await t.workspace.getWorkspaceFolders())?.[0]?.uri;return i?Fl.URI.parse(i).fsPath:void 0}if(r){let i=await t.workspace.getWorkspaceFolders();if(i)for(let{uri:s}of i){let o=Fl.URI.parse(s).fsPath;if((0,hq.default)(r,o))return o}}}Hi.getWorkspaceFolder=gq});var zi=T(xn=>{"use strict";var pq=xn&&xn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),La=xn&&xn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&pq(e,t,n)};Object.defineProperty(xn,"__esModule",{value:!0});La(Ol(),xn);La(Ay(),xn);La(Ly(),xn);La(jy(),xn)});var Wy=T(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.getFirstResolvedValue=Ki.getFirstReturnValue=void 0;function mq(...t){for(let e of t){let n=e();if(n!==void 0)return n}}Ki.getFirstReturnValue=mq;async function vq(...t){for(let e of t){let n=await e();if(n!==void 0)return n}}Ki.getFirstResolvedValue=vq});var $y=T(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.lazyCallAsync=Ui.lazyCall=void 0;function yq(t){let e=!1,n;return()=>(e||(n=t(),e=!0),n)}Ui.lazyCall=yq;function _q(t){let e=!1,n;return async()=>(e||(n=await t(),e=!0),n)}Ui.lazyCallAsync=_q});var zy=T(Or=>{"use strict";var wq=Or&&Or.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Hy=Or&&Or.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&wq(e,t,n)};Object.defineProperty(Or,"__esModule",{value:!0});Hy(Wy(),Or);Hy($y(),Or)});var Yy=T(In=>{"use strict";var kl=In&&In.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},De=In&&In.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Ml=In&&In.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},wn,ir,lt,ja,Wa,Ky,Uy,By,Gy,Xy,Vy;Object.defineProperty(In,"__esModule",{value:!0});In.StylelintResolver=void 0;var bq=Ml(require("fs/promises")),Rq=require("module"),$a=Ml(require("path")),Cq=Ml(require("process")),Sq=Dl(),Dq=Ii(),Pq=zi(),Jy=Zu(),Tq=rl(),xl=zy(),Qy=class{constructor(e,n){wn.add(this),ir.set(this,void 0),lt.set(this,void 0),ja.set(this,void 0),kl(this,ir,e,"f"),kl(this,lt,n,"f"),kl(this,ja,new Tq.GlobalPathResolver(n),"f")}async resolve({packageManager:e,stylelintPath:n},r){let i=(0,xl.lazyCallAsync)(async()=>De(this,ir,"f")&&await(0,Pq.getWorkspaceFolder)(De(this,ir,"f"),r)),s=await(0,xl.getFirstResolvedValue)(()=>De(this,wn,"m",Xy).call(this,n,i),()=>De(this,wn,"m",Vy).call(this,r,i,e));if(!s){De(this,lt,"f")?.warn("Failed to load Stylelint either globally or from the current workspace.");return}return s}};In.StylelintResolver=Qy;ir=new WeakMap,lt=new WeakMap,ja=new WeakMap,wn=new WeakSet,Wa=function(e,n){De(this,lt,"f")&&De(this,lt,"f")?.error(e,n&&{error:n}),De(this,ir,"f")&&De(this,ir,"f").window.showErrorMessage(`Stylelint: ${e}`)},Ky=async function(e){let n=[".pnp.cjs",".pnp.js"];for(let r of n){let i=$a.default.join(e,r);try{if((await bq.default.stat(i)).isFile())return i}catch(s){De(this,lt,"f")?.debug("Did not find PnP loader at tested path",{path:i,error:s})}}De(this,lt,"f")?.debug("Could not find a PnP loader",{path:e})},Uy=async function(e){if(!e)return;let n=await(0,Jy.findPackageRoot)(e,"yarn.lock");if(!n){De(this,lt,"f")?.debug("Could not find a Yarn lockfile",{cwd:e});return}let r=await De(this,wn,"m",Ky).call(this,n);if(!!r){if(!Cq.default.versions.pnp)try{require(r).setup()}catch(i){De(this,lt,"f")?.warn("Could not setup PnP",{path:r,error:i});return}try{let i=(0,Rq.createRequire)(r),s=i.resolve("stylelint"),o=await(0,Jy.findPackageRoot)(s);if(!o){De(this,lt,"f")?.warn("Failed to find the Stylelint package root",{path:s});return}let c={stylelint:i("stylelint"),resolvedPath:o};return De(this,lt,"f")?.debug("Resolved Stylelint using PnP",{path:r}),c}catch(i){De(this,lt,"f")?.warn("Could not load Stylelint using PnP",{path:n,error:i});return}}},By=async function(e,n,r){try{let i=await Sq.Files.resolve("stylelint",n,e,r),s={stylelint:require(i),resolvedPath:i};return De(this,lt,"f")?.debug("Resolved Stylelint from node_modules",{path:i}),s}catch(i){De(this,lt,"f")?.warn("Could not load Stylelint from node_modules",{error:i});return}},Gy=async function(e,n){if(!De(this,ir,"f")||$a.default.isAbsolute(e))return e;let r=await n();return r?$a.default.join(r,e):e},Xy=async function(e,n){if(!e)return;let r=`Failed to load Stylelint from "stylelintPath": ${e}.`;try{let i=await De(this,wn,"m",Gy).call(this,e,n),s=require(i);if(s&&typeof s.lint=="function")return{stylelint:s,resolvedPath:i}}catch(i){throw De(this,wn,"m",Wa).call(this,r,i),i}De(this,wn,"m",Wa).call(this,r)},Vy=async function(e,n,r){let i=De(this,ir,"f");try{let s=r?await De(this,ja,"f").resolve(r):void 0,o=Dq.URI.parse(e.uri),a=o.scheme==="file"?$a.default.dirname(o.fsPath):await n(),c=await(0,xl.getFirstResolvedValue)(async()=>await De(this,wn,"m",Uy).call(this,a),async()=>await De(this,wn,"m",By).call(this,a,s,(d,h)=>{De(this,lt,"f")?.debug(d.replace(/\n/g,"  "),{verbose:h}),i?.tracer.log(d,h)}));if(!c)return;if(typeof c.stylelint?.lint!="function"){De(this,wn,"m",Wa).call(this,"stylelint.lint is not a function.");return}return c}catch(s){De(this,lt,"f")?.debug("Failed to resolve Stylelint from workspace or globally-installed packages.",{error:s})}}});var e_=T(Zy=>{"use strict";Object.defineProperty(Zy,"__esModule",{value:!0})});var es=T(Nn=>{"use strict";var qq=Nn&&Nn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Ha=Nn&&Nn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&qq(e,t,n)};Object.defineProperty(Nn,"__esModule",{value:!0});Ha(Zu(),Nn);Ha(rl(),Nn);Ha(Yy(),Nn);Ha(e_(),Nn)});var Il=T(Bi=>{"use strict";var t_=Bi&&Bi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bi,"__esModule",{value:!0});Bi.buildStylelintOptions=void 0;var ts=t_(require("path")),Eq=t_(Qu()),Oq=Ii(),Fq=es();async function kq(t,e,n={},{config:r,configFile:i,configBasedir:s,customSyntax:o,ignoreDisables:a,reportDescriptionlessDisables:c,reportNeedlessDisables:d,reportInvalidScopeDisables:h}={}){let p={...n,config:r??n.config,configFile:i?e?i.replace(/\$\{workspaceFolder\}/gu,e):i:n.configFile,configBasedir:s?ts.default.isAbsolute(s)?s:ts.default.join(e??"",s):n.configBasedir,customSyntax:o?e?o.replace(/\$\{workspaceFolder\}/gu,e):o:n.customSyntax,ignoreDisables:a??n.ignoreDisables,reportDescriptionlessDisables:c??n.reportDescriptionlessDisables,reportNeedlessDisables:d??n.reportNeedlessDisables,reportInvalidScopeDisables:h??n.reportInvalidScopeDisables},m=Oq.URI.parse(t).fsPath;return m&&(e&&(0,Eq.default)(m,e)&&(p.ignorePath=ts.default.join(e,".stylelintignore")),p.ignorePath===void 0&&(p.ignorePath=ts.default.join(await(0,Fq.findPackageRoot)(m)||ts.default.parse(m).root,".stylelintignore"))),p}Bi.buildStylelintOptions=kq});var n_=T(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});za.intersect=void 0;function Mq(t,e){if(!t)return e;if(!e)return t;let[n,r]=t.size<e.size?[t,e]:[e,t],i=new Set;for(let s of n)r.has(s)&&i.add(s);return i}za.intersect=Mq});var ns=T(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.InvalidOptionError=si.DisableReportRuleNames=void 0;var xq;(function(t){t.Needless="--report-needless-disables",t.InvalidScope="--report-invalid-scope-disables",t.Descriptionless="--report-descriptionless-disables",t.Illegal="reportDisables"})(xq=si.DisableReportRuleNames||(si.DisableReportRuleNames={}));var r_=class extends Error{constructor(e){let n=e.map(r=>r.text);super(n.join(`
`));this.reasons=n}};si.InvalidOptionError=r_});var Nl=T(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.getDisableDiagnosticRule=void 0;var Ka=ns();function Iq(t){switch(t.code){case Ka.DisableReportRuleNames.Needless:return t.message.match(/^Needless disable for "(.+)"$/)?.[1];case Ka.DisableReportRuleNames.InvalidScope:return t.message.match(/^Rule "(.+)" isn't enabled$/)?.[1];case Ka.DisableReportRuleNames.Descriptionless:return t.message.match(/^Disable for "(.+)" is missing a description$/)?.[1];case Ka.DisableReportRuleNames.Illegal:return t.message.match(/^Rule "(.+)" may not be disabled$/)?.[1];default:return}}Ua.getDisableDiagnosticRule=Iq});var s_=T(Gi=>{"use strict";var bn=Gi&&Gi.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Ba,rs,is,os,Al;Object.defineProperty(Gi,"__esModule",{value:!0});Gi.DisableMetadataLookupTable=void 0;var i_=n_(),Nq=Nl(),o_=class{constructor(e){Ba.add(this),rs.set(this,new Map),is.set(this,new Map),os.set(this,new Map);for(let n of e){let r=(0,Nq.getDisableDiagnosticRule)(n);if(!r)continue;let i=n.code,s=bn(this,rs,"f").get(i);s?s.add(n):bn(this,rs,"f").set(i,new Set([n]));let o=bn(this,is,"f").get(r);o?o.add(n):bn(this,is,"f").set(r,new Set([n]));let a=bn(this,Ba,"m",Al).call(this,n.range),c=bn(this,os,"f").get(a);c?c.add(n):bn(this,os,"f").set(a,new Set([n]))}}find({type:e,rule:n,range:r}){let i=e?bn(this,rs,"f").get(e):void 0,s=n?bn(this,is,"f").get(n):void 0,o=r?bn(this,os,"f").get(bn(this,Ba,"m",Al).call(this,r)):void 0;return(0,i_.intersect)((0,i_.intersect)(i,s),o)??new Set}};Gi.DisableMetadataLookupTable=o_;rs=new WeakMap,is=new WeakMap,os=new WeakMap,Ba=new WeakSet,Al=function({start:e,end:n}){return`${e.line}:${e.character}:${n.line}:${n.character}`}});var a_=T(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.formattingOptionsToRules=void 0;function Aq({insertSpaces:t,tabSize:e,insertFinalNewline:n,trimTrailingWhitespace:r}){let i={indentation:[t?e:"tab"]};return n!==void 0&&(i["no-missing-end-of-source-newline"]=n||null),r!==void 0&&(i["no-eol-whitespace"]=r||null),i}Ga.formattingOptionsToRules=Aq});var c_=T(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.isDisableReportRule=void 0;var Xa=ns();function Lq(t){switch(t){case Xa.DisableReportRuleNames.Descriptionless:case Xa.DisableReportRuleNames.Illegal:case Xa.DisableReportRuleNames.InvalidScope:case Xa.DisableReportRuleNames.Needless:return!0;default:return!1}}Va.isDisableReportRule=Lq});var Ll=T(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});Ja.warningToDiagnostic=void 0;var ss=mr();function jq(t,e){let n=ss.Position.create(t.line-1,t.column-1),r=ss.Position.create(t.line-1,t.column),i=e?.[t.rule]?.url,s=ss.Diagnostic.create(ss.Range.create(n,r),t.text,ss.DiagnosticSeverity[t.severity==="warning"?"Warning":"Error"],t.rule,"Stylelint");return i&&(s.codeDescription={href:i}),s}Ja.warningToDiagnostic=jq});var jl=T(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.processLinterResult=void 0;var Wq=Ll(),$q=ns();function Hq(t,{results:e,output:n,ruleMetadata:r}){if(e.length===0)return{diagnostics:[]};let[{invalidOptionWarnings:i,warnings:s,ignored:o}]=e;if(o)return{diagnostics:[]};if(i.length!==0)throw new $q.InvalidOptionError(i);r||(r=new Proxy({},{get:(c,d)=>t.rules?.[d]?.meta}));let a=s.map(c=>(0,Wq.warningToDiagnostic)(c,r));return n?{output:n,diagnostics:a}:{diagnostics:a}}Qa.processLinterResult=Hq});var d_=T(An=>{"use strict";var Wl=An&&An.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Xi=An&&An.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},zq=An&&An.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},as,Vi,Ya;Object.defineProperty(An,"__esModule",{value:!0});An.StylelintRunner=void 0;var Kq=zq(require("os")),Uq=Ii(),Bq=es(),Gq=zi(),u_=jl(),Xq=Il(),l_=class{constructor(e,n,r){as.set(this,void 0),Vi.set(this,void 0),Ya.set(this,void 0),Wl(this,as,e,"f"),Wl(this,Vi,n,"f"),Wl(this,Ya,r??new Bq.StylelintResolver(e,n),"f")}async lintDocument(e,n={},r={}){let i=Xi(this,as,"f")&&await(0,Gq.getWorkspaceFolder)(Xi(this,as,"f"),e),s=await Xi(this,Ya,"f").resolve(r,e);if(!s)return Xi(this,Vi,"f")?.info("No Stylelint found with which to lint document",{uri:e.uri,options:r}),{diagnostics:[]};let{stylelint:o}=s,{fsPath:a}=Uq.URI.parse(e.uri),c=Kq.default.platform()==="win32"?a.replace(/^[a-z]:/,h=>h.toUpperCase()):a,d={...await(0,Xq.buildStylelintOptions)(e.uri,i,n,r),code:e.getText(),formatter:()=>""};c?d.codeFilename=c:n?.config?.rules||(d.config={rules:{}}),Xi(this,Vi,"f")?.isDebugEnabled()&&Xi(this,Vi,"f")?.debug("Running Stylelint",{options:{...d,code:"..."}});try{return(0,u_.processLinterResult)(o,await o.lint(d))}catch(h){if(h instanceof Error&&(h.message.startsWith("No configuration provided for")||h.message.includes("No rules found within configuration")))return(0,u_.processLinterResult)(o,await o.lint({...d,config:{rules:{}}}));throw h}}};An.StylelintRunner=l_;as=new WeakMap,Vi=new WeakMap,Ya=new WeakMap});var cs=T(bt=>{"use strict";var Vq=bt&&bt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),or=bt&&bt.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Vq(e,t,n)};Object.defineProperty(bt,"__esModule",{value:!0});or(Il(),bt);or(s_(),bt);or(a_(),bt);or(Nl(),bt);or(c_(),bt);or(jl(),bt);or(d_(),bt);or(ns(),bt);or(Ll(),bt)});var y_=T(kt=>{"use strict";var Jq=kt&&kt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Qq=kt&&kt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Yq=kt&&kt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Jq(e,t,n);return Qq(e,t),e},f_=kt&&kt.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Pe=kt&&kt.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},ai,on,et,h_,g_,p_,m_,v_;Object.defineProperty(kt,"__esModule",{value:!0});kt.CodeActionModule=void 0;var Ft=Yq(ie()),Fr=ki(),$l=ya(),Zq=cs(),eE=ie(),Hl=class{constructor({context:e,logger:n}){ai.add(this),on.set(this,void 0),et.set(this,void 0),f_(this,on,e,"f"),f_(this,et,n,"f")}onInitialize(){return{capabilities:{codeActionProvider:{codeActionKinds:[Ft.CodeActionKind.QuickFix,Fr.CodeActionKind.StylelintSourceFixAll]},executeCommandProvider:{commands:[Fr.CommandId.OpenRuleDoc]}}}}onDidRegisterHandlers(){Pe(this,et,"f")?.debug("Registering onCodeAction handler"),Pe(this,on,"f").connection.onCodeAction(async({context:e,textDocument:{uri:n}})=>{Pe(this,et,"f")?.debug("Received onCodeAction",{context:e,uri:n});let r=Pe(this,on,"f").documents.get(n);if(!r)return Pe(this,et,"f")?.debug("Unknown document, ignoring",{uri:n}),[];if(!await Pe(this,ai,"m",h_).call(this,r))return Pe(this,et,"f")?.debug("Document should not be validated, ignoring",{uri:n,language:r.languageId}),[];let i=await Pe(this,ai,"m",v_).call(this,r,e);return Pe(this,et,"f")?.debug("Returning code actions",{actions:i}),i}),Pe(this,et,"f")?.debug("onCodeAction handler registered"),Pe(this,on,"f").commands.on(Fr.CommandId.OpenRuleDoc,async({arguments:e})=>{let n=e?.[0];if(!n)return Pe(this,et,"f")?.debug("No URL provided, ignoring command request"),{};let{uri:r}=n;return Pe(this,et,"f")?.debug("Opening rule documentation",{uri:r}),(await Pe(this,on,"f").connection.window.showDocument({uri:r,external:!0})).success?{}:(Pe(this,et,"f")?.warn("Failed to open rule documentation",{uri:r}),new Ft.ResponseError(Ft.ErrorCodes.InternalError,"Failed to open rule documentation"))}),Pe(this,on,"f").notifications.on(eE.InitializedNotification.type,()=>Pe(this,on,"f").connection.sendNotification(Fr.Notification.DidRegisterCodeActionRequestHandler))}};kt.CodeActionModule=Hl;on=new WeakMap,et=new WeakMap,ai=new WeakSet,h_=async function(e){return(await Pe(this,on,"f").getOptions(e.uri)).validate.includes(e.languageId)},g_=async function(e){let n=await Pe(this,on,"f").getFixes(e),r={uri:e.uri,version:e.version};return n.length>0?Ft.CodeAction.create("Fix all Stylelint auto-fixable problems",{documentChanges:[Ft.TextDocumentEdit.create(r,n)]},Fr.CodeActionKind.StylelintSourceFixAll):void 0},p_=function(e){let n=Ft.Command.create("Fix all Stylelint auto-fixable problems",Fr.CommandId.ApplyAutoFix,{uri:e.uri,version:e.version});return Ft.CodeAction.create("Fix all Stylelint auto-fixable problems",n,Ft.CodeActionKind.Source)},m_=function({code:e,codeDescription:n}){let r=n?.href;if(!r)return;let i=Ft.Command.create(`Open documentation for ${e}`,Fr.CommandId.OpenRuleDoc,{uri:r});return Ft.CodeAction.create(`Show documentation for ${e}`,i,Ft.CodeActionKind.QuickFix)},v_=async function(e,n){let r=n.only&&new Set(n.only);if(Pe(this,et,"f")?.debug("Creating code actions",{only:n.only}),r?.has(Ft.CodeActionKind.SourceFixAll)||r?.has(Fr.CodeActionKind.StylelintSourceFixAll)){Pe(this,et,"f")?.debug('Creating "source-fix-all" code action');let s=await Pe(this,ai,"m",g_).call(this,e);return s?[s]:[]}if(r?.has(Ft.CodeActionKind.Source))return Pe(this,et,"f")?.debug('Creating "source" code action'),[Pe(this,ai,"m",p_).call(this,e)];if(r&&!r.has(Ft.CodeActionKind.QuickFix))return Pe(this,et,"f")?.debug("No quick fix actions requested, skipping action creation"),[];let i=new $l.RuleCodeActionsCollection;for(let s of n.diagnostics){let{source:o,code:a}=s;if(!(o!=="Stylelint"||typeof a!="string")){if(!(0,Zq.isDisableReportRule)(a)){let c=await Pe(this,on,"f").getOptions(e.uri),{location:d}=c.codeAction.disableRuleComment;Pe(this,et,"f")?.debug("Creating disable rule for line code action",{rule:a,location:d}),i.get(a).disableLine=(0,$l.createDisableRuleLineCodeAction)(e,s,d),i.get(a).disableFile||(Pe(this,et,"f")?.debug("Creating disable rule for file code action",{rule:a}),i.get(a).disableFile=(0,$l.createDisableRuleFileCodeAction)(e,s))}i.get(a).documentation||(Pe(this,et,"f")?.debug("Creating documentation code action",{rule:a}),i.get(a).documentation=Pe(this,ai,"m",m_).call(this,s))}}return[...i]};Hl.id="code-action"});var S_=T(kr=>{"use strict";var __=kr&&kr.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Mt=kr&&kr.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Za,ci,Rn,w_,b_;Object.defineProperty(kr,"__esModule",{value:!0});kr.CompletionModule=void 0;var R_=mr(),tE=zi(),Ji=ya(),C_=cs(),zl=class{constructor({context:e,logger:n}){Za.add(this),ci.set(this,void 0),Rn.set(this,void 0),__(this,ci,e,"f"),__(this,Rn,n,"f")}onInitialize(){return{capabilities:{completionProvider:{}}}}onDidRegisterHandlers(){Mt(this,Rn,"f")?.debug("Registering onCompletion handler"),Mt(this,ci,"f").connection.onCompletion(Mt(this,Za,"m",b_).bind(this)),Mt(this,Rn,"f")?.debug("onCompletion handler registered")}};kr.CompletionModule=zl;ci=new WeakMap,Rn=new WeakMap,Za=new WeakSet,w_=async function(e){let n=await Mt(this,ci,"f").getOptions(e.uri);return n.validate.includes(e.languageId)&&n.snippet.includes(e.languageId)},b_=async function({textDocument:e,position:n}){let{uri:r}=e;Mt(this,Rn,"f")?.debug("Received onCompletion",{uri:r,position:n});let i=Mt(this,ci,"f").documents.get(r);if(!i||!await Mt(this,Za,"m",w_).call(this,i))return Mt(this,Rn,"f")?.isDebugEnabled()&&(i?Mt(this,Rn,"f").debug("Snippets or validation not enabled for language, ignoring",{uri:r,language:i.languageId}):Mt(this,Rn,"f").debug("Unknown document, ignoring",{uri:r})),[];let o=Mt(this,ci,"f").getModule("validator")?.getDiagnostics(r);if(!o||o.length===0){let m=[(0,Ji.createDisableCompletionItem)("stylelint-disable-line"),(0,Ji.createDisableCompletionItem)("stylelint-disable-next-line"),(0,Ji.createDisableCompletionItem)("stylelint-disable")];return Mt(this,Rn,"f")?.debug("No diagnostics for document, returning generic completion items",{uri:r,items:m}),m}let a=new Set,c=new Set,d=new C_.DisableMetadataLookupTable(o);for(let{code:m,range:v}of o)!m||typeof m!="string"||m==="CssSyntaxError"||d.find({type:C_.DisableReportRuleNames.Needless,rule:m,range:v}).size>0||(v.start.line===n.line?a.add(m):v.start.line===n.line+1&&c.add(m));let h=[],p=(0,tE.getDisableType)(i,n);if(p==="stylelint-disable-line")for(let m of a)h.push({label:m,kind:R_.CompletionItemKind.Snippet,detail:`disable ${m} rule. (Stylelint)`});else if(p==="stylelint-disable"||p==="stylelint-disable-next-line")for(let m of c)h.push({label:m,kind:R_.CompletionItemKind.Snippet,detail:`disable ${m} rule. (Stylelint)`});else h.push((0,Ji.createDisableCompletionItem)("stylelint-disable-line",a.size===1?a.values().next().value:void 0)),h.push((0,Ji.createDisableCompletionItem)("stylelint-disable-next-line",c.size===1?c.values().next().value:void 0)),h.push((0,Ji.createDisableCompletionItem)("stylelint-disable"));return Mt(this,Rn,"f")?.debug("Returning completion items",{uri:r,results:h}),h};zl.id="completion"});var P_=T(xt=>{"use strict";var nE=xt&&xt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),rE=xt&&xt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),iE=xt&&xt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&nE(e,t,n);return rE(e,t),e},Kl=xt&&xt.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Y=xt&&xt.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Ln,Rt,Oe,us,Mr,Ul,ec,D_,Bl;Object.defineProperty(xt,"__esModule",{value:!0});xt.FormatterModule=void 0;var Gl=iE(ie()),oE=cs(),sE=ki(),aE=Ii(),Xl=class{constructor({context:e,logger:n}){Ln.add(this),Rt.set(this,void 0),Oe.set(this,void 0),us.set(this,!1),Mr.set(this,new Map),Kl(this,Rt,e,"f"),Kl(this,Oe,n,"f")}onInitialize({capabilities:e}){return Kl(this,us,Boolean(e.textDocument?.formatting?.dynamicRegistration),"f"),{capabilities:{documentFormattingProvider:!Y(this,us,"f")}}}onDidRegisterHandlers(){Y(this,Oe,"f")?.debug("Registering connection.onDocumentFormatting handler"),Y(this,Rt,"f").connection.onDocumentFormatting(async({textDocument:e,options:n})=>{if(Y(this,Oe,"f")?.debug("Received onDocumentFormatting",{textDocument:e,options:n}),!e)return Y(this,Oe,"f")?.debug("No text document provided, ignoring"),null;let{uri:r}=e,i=Y(this,Rt,"f").documents.get(r);if(!i||!await Y(this,Ln,"m",Ul).call(this,i))return Y(this,Oe,"f")?.isDebugEnabled()&&(i?Y(this,Oe,"f").debug("Document should not be formatted, ignoring",{uri:r,language:i.languageId}):Y(this,Oe,"f").debug("Unknown document, ignoring",{uri:r})),null;let s={config:{rules:(0,oE.formattingOptionsToRules)(n)}};Y(this,Oe,"f")?.debug("Formatting document",{uri:r,linterOptions:s});let o=Y(this,Rt,"f").getFixes(i,s);return Y(this,Oe,"f")?.debug("Returning fixes",{uri:r,fixes:o}),o}),Y(this,Oe,"f")?.debug("connection.onDocumentFormatting handler registered"),Y(this,Oe,"f")?.debug("Registering documents.onDidOpen handler"),Y(this,Rt,"f").documents.onDidOpen(({document:e})=>Y(this,Ln,"m",ec).call(this,e)),Y(this,Oe,"f")?.debug("documents.onDidOpen handler registered"),Y(this,Oe,"f")?.debug("Registering documents.onDidChangeContent handler"),Y(this,Rt,"f").documents.onDidChangeContent(({document:e})=>Y(this,Ln,"m",ec).call(this,e)),Y(this,Oe,"f")?.debug("documents.onDidChangeContent handler registered"),Y(this,Oe,"f")?.debug("Registering documents.onDidSave handler"),Y(this,Rt,"f").documents.onDidSave(({document:e})=>Y(this,Ln,"m",ec).call(this,e)),Y(this,Oe,"f")?.debug("documents.onDidSave handler registered"),Y(this,Oe,"f")?.debug("Registering documents.onDidClose handler"),Y(this,Rt,"f").documents.onDidClose(({document:e})=>Y(this,Ln,"m",D_).call(this,e.uri)),Y(this,Oe,"f")?.debug("documents.onDidClose handler registered"),Y(this,Oe,"f")?.debug("Registering DidChangeConfigurationNotification"),Y(this,Rt,"f").notifications.on(Gl.DidChangeConfigurationNotification.type,()=>Y(this,Ln,"m",Bl).call(this)),Y(this,Oe,"f")?.debug("DidChangeConfigurationNotification registered"),Y(this,Oe,"f")?.debug("Registering DidChangeWorkspaceFoldersNotification"),Y(this,Rt,"f").notifications.on(Gl.DidChangeWorkspaceFoldersNotification.type,()=>Y(this,Ln,"m",Bl).call(this)),Y(this,Oe,"f")?.debug("DidChangeWorkspaceFoldersNotification registered")}};xt.FormatterModule=Xl;Rt=new WeakMap,Oe=new WeakMap,us=new WeakMap,Mr=new WeakMap,Ln=new WeakSet,Ul=async function(e){return(await Y(this,Rt,"f").getOptions(e.uri)).validate.includes(e.languageId)},ec=async function(e){if(!Y(this,us,"f")||!await Y(this,Ln,"m",Ul).call(this,e)||Y(this,Mr,"f").has(e.uri))return;let{scheme:n,fsPath:r}=aE.URI.parse(e.uri),i=(n==="file"?r.replace(/\\/g,"/"):r).replace(/[[\]{}]/g,"?"),o={documentSelector:[{scheme:n,pattern:i}]};Y(this,Mr,"f").set(e.uri,Y(this,Rt,"f").connection.client.register(Gl.DocumentFormattingRequest.type,o)),Y(this,Oe,"f")?.debug("Registering formatter for document",{uri:e.uri,options:o}),Y(this,Rt,"f").connection.sendNotification(sE.Notification.DidRegisterDocumentFormattingEditProvider,{uri:e.uri,options:o})},D_=function(e){let n=Y(this,Mr,"f").get(e);!n||(Y(this,Oe,"f")?.debug("Deregistering formatter for document",{uri:e}),n.then(({dispose:r})=>r()).catch(r=>{Y(this,Oe,"f")?.error("Error deregistering formatter for document",{uri:e,error:r})}),Y(this,Mr,"f").delete(e))},Bl=function(){for(let[e,n]of Y(this,Mr,"f"))Y(this,Oe,"f")?.debug("Deregistering formatter for document",{uri:e}),n.then(({dispose:r})=>r()).catch(r=>{Y(this,Oe,"f")?.error("Error deregistering formatter for document",{uri:e,error:r})});Y(this,Mr,"f").clear()};Xl.id="formatter"});var O_=T(Wn=>{"use strict";var Vl=Wn&&Wn.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},He=Wn&&Wn.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Jl=Wn&&Wn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},tc,jn,It,nc,rc,T_,q_;Object.defineProperty(Wn,"__esModule",{value:!0});Wn.OldStylelintWarningModule=void 0;var cE=Jl(require("path")),uE=Jl(require("fs/promises")),E_=Jl(Tc()),lE=zi(),dE=es(),Ql=class{constructor({context:e,logger:n}){tc.add(this),jn.set(this,void 0),It.set(this,void 0),nc.set(this,new Set),rc.set(this,!1),Vl(this,jn,e,"f"),Vl(this,It,n,"f")}onInitialize({capabilities:e}){Vl(this,rc,e.window?.showDocument?.support??!1,"f")}onDidRegisterHandlers(){He(this,It,"f")?.debug("Registering onDidOpen handler"),He(this,jn,"f").documents.onDidOpen(async({document:e})=>{let n=await He(this,tc,"m",q_).call(this,e);if(!n)return;He(this,It,"f")?.warn(`Found unsupported version of Stylelint: ${n}`);let r=`Stylelint version ${n} is no longer supported. While it may continue to work for a while, you may encounter unexpected behavior. Please upgrade to version 14.0.0 or newer. See the migration guide for more information.`;if(!He(this,rc,"f")){He(this,jn,"f").connection.window.showWarningMessage(r);return}(await He(this,jn,"f").connection.window.showWarningMessage(r,{title:"Open migration guide"}))?.title==="Open migration guide"&&((await He(this,jn,"f").connection.window.showDocument({uri:"https://github.com/stylelint/vscode-stylelint#migrating-from-vscode-stylelint-0xstylelint-13x",external:!0})).success||He(this,It,"f")?.warn("Failed to open migration guide"))}),He(this,It,"f")?.debug("onDidOpen handler registered")}};Wn.OldStylelintWarningModule=Ql;jn=new WeakMap,It=new WeakMap,nc=new WeakMap,rc=new WeakMap,tc=new WeakSet,T_=async function(e){let n=await He(this,jn,"f").resolveStylelint(e);if(!n){He(this,It,"f")?.debug("Stylelint not found",{uri:e.uri});return}let r=await(0,dE.findPackageRoot)(n.resolvedPath);if(!r){He(this,It,"f")?.debug("Stylelint package root not found",{uri:e.uri});return}let i=cE.default.join(r,"package.json");try{let s=await uE.default.readFile(i,"utf8");return JSON.parse(s).version}catch(s){He(this,It,"f")?.debug("Stylelint package manifest could not be read",{uri:e.uri,manifestPath:i,error:s});return}},q_=async function(e){if(!(await He(this,jn,"f").getOptions(e.uri)).validate.includes(e.languageId)){He(this,It,"f")?.debug("Document should not be validated, ignoring",{uri:e.uri,language:e.languageId});return}let r=await(0,lE.getWorkspaceFolder)(He(this,jn,"f").connection,e);if(!r){He(this,It,"f")?.debug("Document not part of a workspace, ignoring",{uri:e.uri});return}if(He(this,nc,"f").has(r)){He(this,It,"f")?.debug("Document has already been checked, ignoring",{uri:e.uri});return}He(this,nc,"f").add(r);let i=await He(this,tc,"m",T_).call(this,e);if(!!i)try{let s=E_.default.coerce(i);if(!s)throw new Error(`Could not coerce version "${i}"`);return E_.default.lt(s,"14.0.0")?i:void 0}catch(s){He(this,It,"f")?.debug("Stylelint version could not be parsed",{uri:e.uri,version:i,error:s});return}};Ql.id="old-stylelint-warning"});var M_=T(xr=>{"use strict";var F_=xr&&xr.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},ye=xr&&xr.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},$n,sn,dt,Qi,k_,Yl,ic,Zl;Object.defineProperty(xr,"__esModule",{value:!0});xr.ValidatorModule=void 0;var fE=ie(),ed=class{constructor({context:e,logger:n}){$n.add(this),sn.set(this,void 0),dt.set(this,void 0),Qi.set(this,new Map),F_(this,sn,e,"f"),F_(this,dt,n,"f")}getDiagnostics(e){return ye(this,Qi,"f").get(e)??[]}onInitialize(){ye(this,$n,"m",ic).call(this)}onDidRegisterHandlers(){ye(this,dt,"f")?.debug("Registering handlers"),ye(this,sn,"f").notifications.on(fE.DidChangeWatchedFilesNotification.type,async()=>await ye(this,$n,"m",ic).call(this)),ye(this,dt,"f")?.debug("onDidChangeWatchedFiles handler registered"),ye(this,sn,"f").documents.onDidChangeContent(async({document:e})=>await ye(this,$n,"m",Yl).call(this,e)),ye(this,dt,"f")?.debug("onDidChangeContent handler registered"),ye(this,sn,"f").documents.onDidClose(({document:e})=>{ye(this,$n,"m",Zl).call(this,e)}),ye(this,dt,"f")?.debug("onDidClose handler registered"),ye(this,dt,"f")?.debug("Handlers registered")}async onDidChangeConfiguration(){ye(this,dt,"f")?.debug("Received onDidChangeConfiguration"),await ye(this,$n,"m",ic).call(this)}};xr.ValidatorModule=ed;sn=new WeakMap,dt=new WeakMap,Qi=new WeakMap,$n=new WeakSet,k_=async function(e){return(await ye(this,sn,"f").getOptions(e.uri)).validate.includes(e.languageId)},Yl=async function(e){if(!await ye(this,$n,"m",k_).call(this,e)){ye(this,Qi,"f").has(e.uri)?(ye(this,dt,"f")?.debug("Document should not be validated, clearing diagnostics",{uri:e.uri,language:e.languageId}),ye(this,$n,"m",Zl).call(this,e)):ye(this,dt,"f")?.debug("Document should not be validated, ignoring",{uri:e.uri,language:e.languageId});return}let n=await ye(this,sn,"f").lintDocument(e);if(!n){ye(this,dt,"f")?.debug("No lint result, ignoring",{uri:e.uri});return}ye(this,dt,"f")?.debug("Sending diagnostics",{uri:e.uri,result:n});try{ye(this,sn,"f").connection.sendDiagnostics({uri:e.uri,diagnostics:n.diagnostics}),ye(this,Qi,"f").set(e.uri,n.diagnostics),ye(this,dt,"f")?.debug("Diagnostics sent",{uri:e.uri})}catch(r){ye(this,sn,"f").displayError(r),ye(this,dt,"f")?.error("Failed to send diagnostics",{uri:e.uri,error:r})}},ic=async function(){await Promise.allSettled(ye(this,sn,"f").documents.all().map(e=>ye(this,$n,"m",Yl).call(this,e)))},Zl=function({uri:e}){ye(this,dt,"f")?.debug("Clearing diagnostics for document",{uri:e}),ye(this,Qi,"f").delete(e),ye(this,sn,"f").connection.sendDiagnostics({uri:e,diagnostics:[]}),ye(this,dt,"f")?.debug("Diagnostics cleared",{uri:e})};ed.id="validator"});var x_=T(an=>{"use strict";var hE=an&&an.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Yi=an&&an.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&hE(e,t,n)};Object.defineProperty(an,"__esModule",{value:!0});Yi(pv(),an);Yi(y_(),an);Yi(S_(),an);Yi(P_(),an);Yi(O_(),an);Yi(M_(),an)});var N_=T((I_,oc)=>{(function(t){if(typeof oc=="object"&&typeof oc.exports=="object"){var e=t(require,I_);e!==void 0&&(oc.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=void 0;class n{constructor(d,h,p,m){this._uri=d,this._languageId=h,this._version=p,this._content=m,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(d){if(d){let h=this.offsetAt(d.start),p=this.offsetAt(d.end);return this._content.substring(h,p)}return this._content}update(d,h){for(let p of d)if(n.isIncremental(p)){let m=o(p.range),v=this.offsetAt(m.start),O=this.offsetAt(m.end);this._content=this._content.substring(0,v)+p.text+this._content.substring(O,this._content.length);let F=Math.max(m.start.line,0),N=Math.max(m.end.line,0),b=this._lineOffsets,w=s(p.text,!1,v);if(N-F===w.length)for(let k=0,W=w.length;k<W;k++)b[k+F+1]=w[k];else w.length<1e4?b.splice(F+1,N-F,...w):this._lineOffsets=b=b.slice(0,F+1).concat(w,b.slice(N+1));let q=p.text.length-(O-v);if(q!==0)for(let k=F+1+w.length,W=b.length;k<W;k++)b[k]=b[k]+q}else if(n.isFull(p))this._content=p.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=h}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=s(this._content,!0)),this._lineOffsets}positionAt(d){d=Math.max(Math.min(d,this._content.length),0);let h=this.getLineOffsets(),p=0,m=h.length;if(m===0)return{line:0,character:d};for(;p<m;){let O=Math.floor((p+m)/2);h[O]>d?m=O:p=O+1}let v=p-1;return{line:v,character:d-h[v]}}offsetAt(d){let h=this.getLineOffsets();if(d.line>=h.length)return this._content.length;if(d.line<0)return 0;let p=h[d.line],m=d.line+1<h.length?h[d.line+1]:this._content.length;return Math.max(Math.min(p+d.character,m),p)}get lineCount(){return this.getLineOffsets().length}static isIncremental(d){let h=d;return h!=null&&typeof h.text=="string"&&h.range!==void 0&&(h.rangeLength===void 0||typeof h.rangeLength=="number")}static isFull(d){let h=d;return h!=null&&typeof h.text=="string"&&h.range===void 0&&h.rangeLength===void 0}}var r;(function(c){function d(m,v,O,F){return new n(m,v,O,F)}c.create=d;function h(m,v,O){if(m instanceof n)return m.update(v,O),m;throw new Error("TextDocument.update: document must be created by TextDocument.create")}c.update=h;function p(m,v){let O=m.getText(),F=i(v.map(a),(w,q)=>{let k=w.range.start.line-q.range.start.line;return k===0?w.range.start.character-q.range.start.character:k}),N=0,b=[];for(let w of F){let q=m.offsetAt(w.range.start);if(q<N)throw new Error("Overlapping edit");q>N&&b.push(O.substring(N,q)),w.newText.length&&b.push(w.newText),N=m.offsetAt(w.range.end)}return b.push(O.substr(N)),b.join("")}c.applyEdits=p})(r=e.TextDocument||(e.TextDocument={}));function i(c,d){if(c.length<=1)return c;let h=c.length/2|0,p=c.slice(0,h),m=c.slice(h);i(p,d),i(m,d);let v=0,O=0,F=0;for(;v<p.length&&O<m.length;)d(p[v],m[O])<=0?c[F++]=p[v++]:c[F++]=m[O++];for(;v<p.length;)c[F++]=p[v++];for(;O<m.length;)c[F++]=m[O++];return c}function s(c,d,h=0){let p=d?[h]:[];for(let m=0;m<c.length;m++){let v=c.charCodeAt(m);(v===13||v===10)&&(v===13&&m+1<c.length&&c.charCodeAt(m+1)===10&&m++,p.push(h+m+1))}return p}function o(c){let d=c.start,h=c.end;return d.line>h.line||d.line===h.line&&d.character>h.character?{start:h,end:d}:c}function a(c){let d=o(c.range);return d!==c.range?{newText:c.newText,range:d}:c}})});var ac=T(sc=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});sc.isObject=void 0;function gE(t){return typeof t=="object"&&t!==null}sc.isObject=gE});var L_=T(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.mergeAssign=void 0;var pE=ac();function A_(t,e,n){let r=t;for(let i of[e,n])if(!!i)for(let s of Object.getOwnPropertyNames(i)){if(s==="__proto__"||s==="constructor")continue;let o=i[s];if((0,pE.isObject)(o)){if(Array.isArray(o)){let a=r[s];r[s]=Array.isArray(a)?a.concat(o):o;continue}r[s]||(r[s]={}),r[s]=A_(r[s],o)}else r[s]=o}return r}cc.mergeAssign=A_});var W_=T((tM,j_)=>{"use strict";j_.exports=mE;function Zi(t){return t instanceof Buffer?Buffer.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}function mE(t){if(t=t||{},t.circles)return vE(t);return t.proto?r:n;function e(i,s){for(var o=Object.keys(i),a=new Array(o.length),c=0;c<o.length;c++){var d=o[c],h=i[d];typeof h!="object"||h===null?a[d]=h:h instanceof Date?a[d]=new Date(h):ArrayBuffer.isView(h)?a[d]=Zi(h):a[d]=s(h)}return a}function n(i){if(typeof i!="object"||i===null)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return e(i,n);if(i instanceof Map)return new Map(e(Array.from(i),n));if(i instanceof Set)return new Set(e(Array.from(i),n));var s={};for(var o in i)if(Object.hasOwnProperty.call(i,o)!==!1){var a=i[o];typeof a!="object"||a===null?s[o]=a:a instanceof Date?s[o]=new Date(a):a instanceof Map?s[o]=new Map(e(Array.from(a),n)):a instanceof Set?s[o]=new Set(e(Array.from(a),n)):ArrayBuffer.isView(a)?s[o]=Zi(a):s[o]=n(a)}return s}function r(i){if(typeof i!="object"||i===null)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return e(i,r);if(i instanceof Map)return new Map(e(Array.from(i),r));if(i instanceof Set)return new Set(e(Array.from(i),r));var s={};for(var o in i){var a=i[o];typeof a!="object"||a===null?s[o]=a:a instanceof Date?s[o]=new Date(a):a instanceof Map?s[o]=new Map(e(Array.from(a),r)):a instanceof Set?s[o]=new Set(e(Array.from(a),r)):ArrayBuffer.isView(a)?s[o]=Zi(a):s[o]=r(a)}return s}}function vE(t){var e=[],n=[];return t.proto?s:i;function r(o,a){for(var c=Object.keys(o),d=new Array(c.length),h=0;h<c.length;h++){var p=c[h],m=o[p];if(typeof m!="object"||m===null)d[p]=m;else if(m instanceof Date)d[p]=new Date(m);else if(ArrayBuffer.isView(m))d[p]=Zi(m);else{var v=e.indexOf(m);v!==-1?d[p]=n[v]:d[p]=a(m)}}return d}function i(o){if(typeof o!="object"||o===null)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return r(o,i);if(o instanceof Map)return new Map(r(Array.from(o),i));if(o instanceof Set)return new Set(r(Array.from(o),i));var a={};e.push(o),n.push(a);for(var c in o)if(Object.hasOwnProperty.call(o,c)!==!1){var d=o[c];if(typeof d!="object"||d===null)a[c]=d;else if(d instanceof Date)a[c]=new Date(d);else if(d instanceof Map)a[c]=new Map(r(Array.from(d),i));else if(d instanceof Set)a[c]=new Set(r(Array.from(d),i));else if(ArrayBuffer.isView(d))a[c]=Zi(d);else{var h=e.indexOf(d);h!==-1?a[c]=n[h]:a[c]=i(d)}}return e.pop(),n.pop(),a}function s(o){if(typeof o!="object"||o===null)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return r(o,s);if(o instanceof Map)return new Map(r(Array.from(o),s));if(o instanceof Set)return new Set(r(Array.from(o),s));var a={};e.push(o),n.push(a);for(var c in o){var d=o[c];if(typeof d!="object"||d===null)a[c]=d;else if(d instanceof Date)a[c]=new Date(d);else if(d instanceof Map)a[c]=new Map(r(Array.from(d),s));else if(d instanceof Set)a[c]=new Set(r(Array.from(d),s));else if(ArrayBuffer.isView(d))a[c]=Zi(d);else{var h=e.indexOf(d);h!==-1?a[c]=n[h]:a[c]=s(d)}}return e.pop(),n.pop(),a}}});var H_=T(eo=>{"use strict";var yE=eo&&eo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(eo,"__esModule",{value:!0});eo.mergeOptionsWithDefaults=void 0;var _E=yE(W_()),td=ac(),uc=(0,_E.default)();function $_(t,e,n,r,i){if(!(0,td.isObject)(t))return uc(e);let s={};for(let o of Object.keys(e)){let a=e[o],c=t[o];if(c!==void 0){if((0,td.isObject)(c)){if(n.has(c)){i.add([c,s,o]);continue}n.add(c);let d=Array.isArray(c)?c.map(h=>uc(h)):(0,td.isObject)(a)&&!Array.isArray(a)?$_(c,a,n,r,i):uc(c);r.set(c,d),s[o]=d;continue}s[o]=c;continue}s[o]=uc(a)}return s}function wE(t,e){let n=new WeakSet,r=new WeakMap,i=new Set,s=$_(t,e,n,r,i);for(let[o,a,c]of i)a[c]=r.get(o);return s}eo.mergeOptionsWithDefaults=wE});var z_=T(sr=>{"use strict";var bE=sr&&sr.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),nd=sr&&sr.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&bE(e,t,n)};Object.defineProperty(sr,"__esModule",{value:!0});nd(ac(),sr);nd(L_(),sr);nd(H_(),sr)});var ew=T(Ir=>{"use strict";var Cn=Ir&&Ir.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},A=Ir&&Ir.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},je,Sn,ue,to,ls,ui,ds,no,ro,lc,io,oo,so,ao,fs,K_,U_,B_,G_,X_,hs,V_,J_,Q_,Y_;Object.defineProperty(Ir,"__esModule",{value:!0});Ir.StylelintLanguageServer=void 0;var RE=N_(),CE=Dl(),dc=ie(),SE=zi(),rd=ya(),id=z_(),DE=cs(),PE=es(),TE=ki(),od={codeAction:{disableRuleComment:{location:"separateLine"}},config:null,configFile:"",configBasedir:"",customSyntax:"",ignoreDisables:!1,packageManager:"npm",reportDescriptionlessDisables:!1,reportInvalidScopeDisables:!1,reportNeedlessDisables:!1,snippet:["css","postcss"],stylelintPath:"",validate:["css","postcss"]},Z_=class{constructor({connection:e,logger:n,modules:r}){je.add(this),Sn.set(this,void 0),ue.set(this,void 0),to.set(this,void 0),ls.set(this,void 0),ui.set(this,void 0),ds.set(this,void 0),no.set(this,void 0),ro.set(this,void 0),lc.set(this,void 0),io.set(this,new Map),oo.set(this,!1),so.set(this,new Map),Cn(this,Sn,e,"f"),Cn(this,ue,n?.child({component:"language-server"}),"f"),Cn(this,to,new rd.NotificationManager(e,A(this,ue,"f")),"f"),Cn(this,ls,new rd.CommandManager(e,A(this,ue,"f")),"f"),Cn(this,ui,od,"f"),Cn(this,ds,new PE.StylelintResolver(e,A(this,ue,"f")),"f"),Cn(this,no,new DE.StylelintRunner(e,A(this,ue,"f"),A(this,ds,"f")),"f"),Cn(this,ro,new CE.TextDocuments(RE.TextDocument),"f"),Cn(this,lc,{connection:A(this,Sn,"f"),notifications:A(this,to,"f"),commands:A(this,ls,"f"),documents:A(this,ro,"f"),runner:A(this,no,"f"),getOptions:A(this,je,"m",fs).bind(this),getModule:A(this,je,"m",G_).bind(this),getFixes:A(this,je,"m",B_).bind(this),displayError:A(this,je,"m",ao).bind(this),lintDocument:A(this,je,"m",U_).bind(this),resolveStylelint:A(this,je,"m",K_).bind(this)},"f");let i=new Proxy(A(this,lc,"f"),{get(s,o){return s[o]},set(){throw new Error("Cannot set read-only property")}});if(r)for(let s of r){if(A(this,ue,"f")?.info("Registering module",{module:s.id}),!s.id)throw new Error("Modules must have an ID");if(typeof s.id!="string")throw new Error("Module IDs must be strings");let o=new s({context:i,logger:n?.child({component:`language-server:${s.id}`})});if(A(this,io,"f").has(s.id))throw new Error(`Module with ID "${s.id}" already registered`);A(this,io,"f").set(s.id,o),A(this,ue,"f")?.info("Module registered",{module:s.id})}}start(){A(this,ue,"f")?.info("Starting language server"),A(this,ro,"f").listen(A(this,Sn,"f")),A(this,Sn,"f").listen(),A(this,je,"m",X_).call(this),A(this,ue,"f")?.info("Language server started")}};Ir.StylelintLanguageServer=Z_;Sn=new WeakMap,ue=new WeakMap,to=new WeakMap,ls=new WeakMap,ui=new WeakMap,ds=new WeakMap,no=new WeakMap,ro=new WeakMap,lc=new WeakMap,io=new WeakMap,oo=new WeakMap,so=new WeakMap,je=new WeakSet,ao=function(e){(0,rd.displayError)(A(this,Sn,"f"),e)},fs=async function(e){if(!A(this,oo,"f"))return A(this,ui,"f");let n=A(this,so,"f").get(e);if(n)return A(this,ue,"f")?.debug("Returning cached options",{resource:e}),n;A(this,ue,"f")?.debug("Requesting options from client",{resource:e});let r=await A(this,Sn,"f").workspace.getConfiguration({scopeUri:e,section:"stylelint"});A(this,ue,"f")?.debug("Received options from client",{resource:e,options:r});let i=(0,id.mergeOptionsWithDefaults)(r,od);return Object.freeze(i),A(this,so,"f").set(e,i),A(this,ue,"f")?.debug("Returning options",{resource:e,options:i}),i},K_=async function(e){A(this,ue,"f")?.debug("Resolving Stylelint",{uri:e.uri});try{let n=await A(this,je,"m",fs).call(this,e.uri),r=await A(this,ds,"f").resolve(n,e);return r?A(this,ue,"f")?.debug("Stylelint resolved",{uri:e.uri,resolvedPath:r.resolvedPath}):A(this,ue,"f")?.warn("Failed to resolve Stylelint",{uri:e.uri}),r}catch(n){A(this,je,"m",ao).call(this,n),A(this,ue,"f")?.error("Error resolving Stylelint",{uri:e.uri,error:n});return}},U_=async function(e,n={}){A(this,ue,"f")?.debug("Linting document",{uri:e.uri,linterOptions:n});try{let r=await A(this,je,"m",fs).call(this,e.uri),i=await A(this,no,"f").lintDocument(e,n,r);return A(this,ue,"f")?.debug("Lint run complete",{uri:e.uri,results:i}),i}catch(r){A(this,je,"m",ao).call(this,r),A(this,ue,"f")?.error("Error running lint",{uri:e.uri,error:r});return}},B_=async function(e,n={}){try{let r=await A(this,je,"m",fs).call(this,e.uri),i=await(0,SE.getFixes)(A(this,no,"f"),e,n,r);return A(this,ue,"f")?.debug("Fixes retrieved",{uri:e.uri,edits:i}),i}catch(r){return A(this,je,"m",ao).call(this,r),A(this,ue,"f")?.error("Error getting fixes",{uri:e.uri,error:r}),[]}},G_=function(e){return A(this,io,"f").get(e)},X_=function(){A(this,ue,"f")?.info("Registering handlers"),A(this,Sn,"f").onInitialize(A(this,je,"m",V_).bind(this)),A(this,ue,"f")?.debug("connection.onInitialize handler registered"),A(this,to,"f").on(dc.InitializedNotification.type,A(this,je,"m",J_).bind(this)),A(this,ue,"f")?.debug("connection.onInitialized handler registered"),A(this,ls,"f").register(),A(this,to,"f").on(dc.DidChangeConfigurationNotification.type,A(this,je,"m",Y_).bind(this)),A(this,ue,"f")?.debug("connection.onDidChangeConfiguration handler registered"),A(this,ro,"f").onDidClose(A(this,je,"m",Q_).bind(this)),A(this,ue,"f")?.debug("documents.onDidClose handler registered"),A(this,je,"m",hs).call(this,"onDidRegisterHandlers"),A(this,ue,"f")?.info("Handlers registered")},hs=function(e,...n){A(this,ue,"f")?.debug(`Invoking ${String(e)}`);let r=Object.create(null);for(let[i,s]of A(this,io,"f")){let o=s[e];if(o)try{r[i]=o.apply(s,n),A(this,ue,"f")?.debug(`Invoked ${String(e)}`,{module:i,returnValue:r[i]})}catch(a){A(this,je,"m",ao).call(this,a),A(this,ue,"f")?.error(`Error invoking ${String(e)}`,{module:i,error:a})}}return r},V_=function(e){A(this,ue,"f")?.debug("received onInitialize",{params:e});let n={capabilities:{textDocumentSync:{openClose:!0,change:dc.TextDocumentSyncKind.Full}}};e.capabilities.workspace?.configuration&&(A(this,ue,"f")?.debug("Client reports workspace configuration support; using scoped configuration"),Cn(this,oo,!0,"f"));for(let[,r]of Object.entries(A(this,je,"m",hs).call(this,"onInitialize",e)))r&&(0,id.mergeAssign)(n,r);return A(this,ue,"f")?.debug("Returning initialization results",{result:n}),n},J_=async function(e){A(this,ue,"f")?.debug("received onInitialized",{params:e}),A(this,oo,"f")&&(A(this,ue,"f")?.debug("Registering DidChangeConfigurationNotification"),await A(this,Sn,"f").client.register(dc.DidChangeConfigurationNotification.type,{section:"stylelint"}))},Q_=function({document:e}){A(this,ue,"f")?.debug("received documents.onDidClose, clearing cached options",{uri:e.uri}),A(this,so,"f").delete(e.uri)},Y_=function(e){if(A(this,oo,"f")){A(this,ue,"f")?.debug("received onDidChangeConfiguration, clearing cached options",{params:e}),A(this,so,"f").clear(),A(this,je,"m",hs).call(this,"onDidChangeConfiguration"),A(this,Sn,"f").sendNotification(TE.Notification.DidResetConfiguration);return}A(this,ue,"f")?.debug("received onDidChangeConfiguration",{params:e}),Cn(this,ui,(0,id.mergeOptionsWithDefaults)(e.settings.stylelint,od),"f"),Object.freeze(A(this,ui,"f")),A(this,ue,"f")?.debug("Global options updated",{options:A(this,ui,"f")}),A(this,je,"m",hs).call(this,"onDidChangeConfiguration")}});var rw=T(Nt=>{"use strict";var tw=Nt&&Nt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),qE=Nt&&Nt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),EE=Nt&&Nt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&tw(e,t,n);return qE(e,t),e},nw=Nt&&Nt.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&tw(e,t,n)};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.modules=void 0;Nt.modules=EE(x_());nw(ew(),Nt);nw(ki(),Nt)});var ow=T(hc=>{"use strict";Object.defineProperty(hc,"__esModule",{value:!0});hc.activate=void 0;var OE=require("events"),sd=dv(),gs=require("vscode"),iw=Bu(),fc=rw();function FE({subscriptions:t}){let e=require.resolve("./start-server"),n=Object.assign(new OE.EventEmitter,{codeActionReady:!1}),r=new sd.LanguageClient("Stylelint",{run:{module:e},debug:{module:e,options:{execArgv:["--nolazy","--inspect=6004"]}}},{documentSelector:[{scheme:"file"},{scheme:"untitled"}],diagnosticCollectionName:"Stylelint",synchronize:{fileEvents:gs.workspace.createFileSystemWatcher("**/{.stylelintrc{,.js,.json,.yaml,.yml},stylelint.config.js,.stylelintignore}")}});return r.onReady().then(()=>{r.onNotification(fc.Notification.DidRegisterCodeActionRequestHandler,()=>{n.codeActionReady=!0}),r.onNotification(fc.Notification.DidRegisterDocumentFormattingEditProvider,i=>{n.emit(iw.ApiEvent.DidRegisterDocumentFormattingEditProvider,i)}),r.onNotification(fc.Notification.DidResetConfiguration,()=>{n.emit(iw.ApiEvent.DidResetConfiguration)})}).catch(async i=>{await gs.window.showErrorMessage(`Stylelint: ${i instanceof Error?i.message:String(i)}`)}),t.push(gs.commands.registerCommand("stylelint.executeAutofix",async()=>{let i=gs.window.activeTextEditor;if(!i)return;let s={uri:i.document.uri.toString(),version:i.document.version},o={command:fc.CommandId.ApplyAutoFix,arguments:[s]};await r.sendRequest(sd.ExecuteCommandRequest.type,o).then(void 0,async()=>{await gs.window.showErrorMessage("Failed to apply Stylelint fixes to the document. Please consider opening an issue with steps to reproduce.")})})),t.push(new sd.SettingMonitor(r,"stylelint.enable").start()),n}hc.activate=FE});"use strict";var kE=exports&&exports.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),sw=exports&&exports.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&kE(e,t,n)};Object.defineProperty(exports,"__esModule",{value:!0});sw(ow(),exports);sw(Bu(),exports);

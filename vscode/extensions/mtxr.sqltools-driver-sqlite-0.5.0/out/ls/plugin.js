var Yh=Object.create;var wr=Object.defineProperty,Xh=Object.defineProperties,zh=Object.getOwnPropertyDescriptor,Kh=Object.getOwnPropertyDescriptors,Jh=Object.getOwnPropertyNames,Ca=Object.getOwnPropertySymbols,Qh=Object.getPrototypeOf,Aa=Object.prototype.hasOwnProperty,Zh=Object.prototype.propertyIsEnumerable;var Ae=Math.pow,Pi=(e,t,r)=>t in e?wr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ct=(e,t)=>{for(var r in t||(t={}))Aa.call(t,r)&&Pi(e,r,t[r]);if(Ca)for(var r of Ca(t))Zh.call(t,r)&&Pi(e,r,t[r]);return e},Di=(e,t)=>Xh(e,Kh(t));var k=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ed=(e,t)=>{for(var r in t)wr(e,r,{get:t[r],enumerable:!0})},ba=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Jh(t))!Aa.call(e,i)&&i!==r&&wr(e,i,{get:()=>t[i],enumerable:!(n=zh(t,i))||n.enumerable});return e};var sr=(e,t,r)=>(r=e!=null?Yh(Qh(e)):{},ba(t||!e||!e.__esModule?wr(r,"default",{value:e,enumerable:!0}):r,e)),td=e=>ba(wr({},"__esModule",{value:!0}),e);var je=(e,t,r)=>(Pi(e,typeof t!="symbol"?t+"":t,r),r);var $e=(e,t,r)=>new Promise((n,i)=>{var s=f=>{try{a(r.next(f))}catch(p){i(p)}},o=f=>{try{a(r.throw(f))}catch(p){i(p)}},a=f=>f.done?n(f.value):Promise.resolve(f.value).then(s,o);a((r=r.apply(e,t)).next())});var or=k(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});function rd(e){return e===!0||e===!1}Rt.boolean=rd;function La(e){return typeof e=="string"||e instanceof String}Rt.string=La;function nd(e){return typeof e=="number"||e instanceof Number}Rt.number=nd;function id(e){return e instanceof Error}Rt.error=id;function sd(e){return typeof e=="function"}Rt.func=sd;function wa(e){return Array.isArray(e)}Rt.array=wa;function od(e){return wa(e)&&e.every(t=>La(t))}Rt.stringArray=od});var Da=k(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});var Bt=or(),Pa;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.serverErrorStart=-32099,e.serverErrorEnd=-32e3,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.RequestCancelled=-32800,e.ContentModified=-32801,e.MessageWriteError=1,e.MessageReadError=2})(Pa=pe.ErrorCodes||(pe.ErrorCodes={}));var Pr=class extends Error{constructor(t,r,n){super(r),this.code=Bt.number(t)?t:Pa.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,Pr.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};pe.ResponseError=Pr;var ye=class{constructor(t,r){this._method=t,this._numberOfParams=r}get method(){return this._method}get numberOfParams(){return this._numberOfParams}};pe.AbstractMessageType=ye;var Mi=class extends ye{constructor(t){super(t,0)}};pe.RequestType0=Mi;var ki=class extends ye{constructor(t){super(t,1)}};pe.RequestType=ki;var xi=class extends ye{constructor(t){super(t,1)}};pe.RequestType1=xi;var qi=class extends ye{constructor(t){super(t,2)}};pe.RequestType2=qi;var Fi=class extends ye{constructor(t){super(t,3)}};pe.RequestType3=Fi;var Ui=class extends ye{constructor(t){super(t,4)}};pe.RequestType4=Ui;var ji=class extends ye{constructor(t){super(t,5)}};pe.RequestType5=ji;var Wi=class extends ye{constructor(t){super(t,6)}};pe.RequestType6=Wi;var Gi=class extends ye{constructor(t){super(t,7)}};pe.RequestType7=Gi;var Hi=class extends ye{constructor(t){super(t,8)}};pe.RequestType8=Hi;var Bi=class extends ye{constructor(t){super(t,9)}};pe.RequestType9=Bi;var $i=class extends ye{constructor(t){super(t,1),this._=void 0}};pe.NotificationType=$i;var Vi=class extends ye{constructor(t){super(t,0)}};pe.NotificationType0=Vi;var Yi=class extends ye{constructor(t){super(t,1)}};pe.NotificationType1=Yi;var Xi=class extends ye{constructor(t){super(t,2)}};pe.NotificationType2=Xi;var zi=class extends ye{constructor(t){super(t,3)}};pe.NotificationType3=zi;var Ki=class extends ye{constructor(t){super(t,4)}};pe.NotificationType4=Ki;var Ji=class extends ye{constructor(t){super(t,5)}};pe.NotificationType5=Ji;var Qi=class extends ye{constructor(t){super(t,6)}};pe.NotificationType6=Qi;var Zi=class extends ye{constructor(t){super(t,7)}};pe.NotificationType7=Zi;var es=class extends ye{constructor(t){super(t,8)}};pe.NotificationType8=es;var ts=class extends ye{constructor(t){super(t,9)}};pe.NotificationType9=ts;function ad(e){let t=e;return t&&Bt.string(t.method)&&(Bt.string(t.id)||Bt.number(t.id))}pe.isRequestMessage=ad;function cd(e){let t=e;return t&&Bt.string(t.method)&&e.id===void 0}pe.isNotificationMessage=cd;function ud(e){let t=e;return t&&(t.result!==void 0||!!t.error)&&(Bt.string(t.id)||Bt.number(t.id)||t.id===null)}pe.isResponseMessage=ud});var Dr=k($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});var ld;(function(e){function t(r){return{dispose:r}}e.create=t})(ld=$t.Disposable||($t.Disposable={}));var fd;(function(e){let t={dispose(){}};e.None=function(){return t}})(fd=$t.Event||($t.Event={}));var rs=class{add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(t,r)})}remove(t,r=null){if(!!this._callbacks){for(var n=!1,i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===t)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}}invoke(...t){if(!this._callbacks)return[];for(var r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0),s=0,o=n.length;s<o;s++)try{r.push(n[s].apply(i[s],t))}catch(a){console.error(a)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},ar=class{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new rs),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let i;return i={dispose:()=>{this._callbacks.remove(t,r),i.dispose=ar._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this)}},Array.isArray(n)&&n.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};$t.Emitter=ar;ar._noop=function(){}});var pn=k(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});var ns=Dr(),cr=or(),is=8192,Ma=Buffer.from("\r","ascii")[0],ka=Buffer.from(`
`,"ascii")[0],hd=`\r
`,ss=class{constructor(t="utf8"){this.encoding=t,this.index=0,this.buffer=Buffer.allocUnsafe(is)}append(t){var r=t;if(typeof t=="string"){var n=t,i=Buffer.byteLength(n,this.encoding);r=Buffer.allocUnsafe(i),r.write(n,0,i,this.encoding)}if(this.buffer.length-this.index>=r.length)r.copy(this.buffer,this.index,0,r.length);else{var s=(Math.ceil((this.index+r.length)/is)+1)*is;this.index===0?(this.buffer=Buffer.allocUnsafe(s),r.copy(this.buffer,0,0,r.length)):this.buffer=Buffer.concat([this.buffer.slice(0,this.index),r],s)}this.index+=r.length}tryReadHeaders(){let t,r=0;for(;r+3<this.index&&(this.buffer[r]!==Ma||this.buffer[r+1]!==ka||this.buffer[r+2]!==Ma||this.buffer[r+3]!==ka);)r++;if(r+3>=this.index)return t;t=Object.create(null),this.buffer.toString("ascii",0,r).split(hd).forEach(s=>{let o=s.indexOf(":");if(o===-1)throw new Error("Message header must separate key and value using :");let a=s.substr(0,o),f=s.substr(o+1).trim();t[a]=f});let i=r+4;return this.buffer=this.buffer.slice(i),this.index=this.index-i,t}tryReadContent(t){if(this.index<t)return null;let r=this.buffer.toString(this.encoding,0,t),n=t;return this.buffer.copy(this.buffer,0,n),this.index=this.index-n,r}get numberOfBytes(){return this.index}},dd;(function(e){function t(r){let n=r;return n&&cr.func(n.listen)&&cr.func(n.dispose)&&cr.func(n.onError)&&cr.func(n.onClose)&&cr.func(n.onPartialMessage)}e.is=t})(dd=At.MessageReader||(At.MessageReader={}));var Mr=class{constructor(){this.errorEmitter=new ns.Emitter,this.closeEmitter=new ns.Emitter,this.partialMessageEmitter=new ns.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${cr.string(t.message)?t.message:"unknown"}`)}};At.AbstractMessageReader=Mr;var dn=class extends Mr{constructor(t,r="utf8"){super(),this.readable=t,this.buffer=new ss(r),this._partialMessageTimeout=1e4}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t,this.readable.on("data",r=>{this.onData(r)}),this.readable.on("error",r=>this.fireError(r)),this.readable.on("close",()=>this.fireClose())}onData(t){for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let s=i["Content-Length"];if(!s)throw new Error("Header must provide a Content-Length property.");let o=parseInt(s);if(isNaN(o))throw new Error("Content-Length value must be a number.");this.nextMessageLength=o}var r=this.buffer.tryReadContent(this.nextMessageLength);if(r===null){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.messageToken++;var n=JSON.parse(r);this.callback(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=setTimeout((t,r)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};At.StreamMessageReader=dn;var os=class extends Mr{constructor(t){super(),this.process=t;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(t){this.process.on("message",t)}};At.IPCMessageReader=os;var as=class extends dn{constructor(t,r="utf-8"){super(t,r)}};At.SocketMessageReader=as});var gn=k(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});var xa=Dr(),kr=or(),qa="Content-Length: ",En=`\r
`,pd;(function(e){function t(r){let n=r;return n&&kr.func(n.dispose)&&kr.func(n.onClose)&&kr.func(n.onError)&&kr.func(n.write)}e.is=t})(pd=bt.MessageWriter||(bt.MessageWriter={}));var ur=class{constructor(){this.errorEmitter=new xa.Emitter,this.closeEmitter=new xa.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,r,n){this.errorEmitter.fire([this.asError(t),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${kr.string(t.message)?t.message:"unknown"}`)}};bt.AbstractMessageWriter=ur;var cs=class extends ur{constructor(t,r="utf8"){super(),this.writable=t,this.encoding=r,this.errorCount=0,this.writable.on("error",n=>this.fireError(n)),this.writable.on("close",()=>this.fireClose())}write(t){let r=JSON.stringify(t),n=Buffer.byteLength(r,this.encoding),i=[qa,n.toString(),En,En];try{this.writable.write(i.join(""),"ascii"),this.writable.write(r,this.encoding),this.errorCount=0}catch(s){this.errorCount++,this.fireError(s,t,this.errorCount)}}};bt.StreamMessageWriter=cs;var us=class extends ur{constructor(t){super(),this.process=t,this.errorCount=0,this.queue=[],this.sending=!1;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(t){!this.sending&&this.queue.length===0?this.doWriteMessage(t):this.queue.push(t)}doWriteMessage(t){try{this.process.send&&(this.sending=!0,this.process.send(t,void 0,void 0,r=>{this.sending=!1,r?(this.errorCount++,this.fireError(r,t,this.errorCount)):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())}))}catch(r){this.errorCount++,this.fireError(r,t,this.errorCount)}}};bt.IPCMessageWriter=us;var ls=class extends ur{constructor(t,r="utf8"){super(),this.socket=t,this.queue=[],this.sending=!1,this.encoding=r,this.errorCount=0,this.socket.on("error",n=>this.fireError(n)),this.socket.on("close",()=>this.fireClose())}dispose(){super.dispose(),this.socket.destroy()}write(t){!this.sending&&this.queue.length===0?this.doWriteMessage(t):this.queue.push(t)}doWriteMessage(t){let r=JSON.stringify(t),n=Buffer.byteLength(r,this.encoding),i=[qa,n.toString(),En,En];try{this.sending=!0,this.socket.write(i.join(""),"ascii",s=>{s&&this.handleError(s,t);try{this.socket.write(r,this.encoding,o=>{this.sending=!1,o?this.handleError(o,t):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())})}catch(o){this.handleError(o,t)}})}catch(s){this.handleError(s,t)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}};bt.SocketMessageWriter=ls});var Fa=k(xr=>{"use strict";Object.defineProperty(xr,"__esModule",{value:!0});var fs=Dr(),Ed=or(),hs;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:fs.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:fs.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||Ed.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}e.is=t})(hs=xr.CancellationToken||(xr.CancellationToken={}));var gd=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),mn=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?gd:(this._emitter||(this._emitter=new fs.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},ds=class{get token(){return this._token||(this._token=new mn),this._token}cancel(){this._token?this._token.cancel():this._token=hs.Cancelled}dispose(){this._token?this._token instanceof mn&&this._token.dispose():this._token=hs.None}};xr.CancellationTokenSource=ds});var Ua=k(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});var lt;(function(e){e.None=0,e.First=1,e.Last=2})(lt=qr.Touch||(qr.Touch={}));var ps=class{constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}has(t){return this._map.has(t)}get(t){let r=this._map.get(t);if(!!r)return r.value}set(t,r,n=lt.None){let i=this._map.get(t);if(i)i.value=r,n!==lt.None&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case lt.None:this.addItemLast(i);break;case lt.First:this.addItemFirst(i);break;case lt.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}}delete(t){let r=this._map.get(t);return r?(this._map.delete(t),this.removeItem(r),this._size--,!0):!1}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._head;for(;n;)r?t.bind(r)(n.value,n.key,this):t(n.value,n.key,this),n=n.next}forEachReverse(t,r){let n=this._tail;for(;n;)r?t.bind(r)(n.value,n.key,this):t(n.value,n.key,this),n=n.previous}values(){let t=[],r=this._head;for(;r;)t.push(r.value),r=r.next;return t}keys(){let t=[],r=this._head;for(;r;)t.push(r.key),r=r.next;return t}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head)this._head=t.next;else if(t===this._tail)this._tail=t.previous;else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==lt.First&&r!==lt.Last)){if(r===lt.First){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t}else if(r===lt.Last){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t}}}};qr.LinkedMap=ps});var Ha=k(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});var md=require("path"),Rd=require("os"),vd=require("crypto"),ja=require("net"),Wa=pn(),Ga=gn();function Td(){let e=vd.randomBytes(21).toString("hex");return process.platform==="win32"?`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`:md.join(Rd.tmpdir(),`vscode-${e}.sock`)}Fr.generateRandomPipeName=Td;function yd(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let o=ja.createServer(a=>{o.close(),r([new Wa.SocketMessageReader(a,t),new Ga.SocketMessageWriter(a,t)])});o.on("error",s),o.listen(e,()=>{o.removeListener("error",s),i({onConnected:()=>n})})})}Fr.createClientPipeTransport=yd;function _d(e,t="utf-8"){let r=ja.createConnection(e);return[new Wa.SocketMessageReader(r,t),new Ga.SocketMessageWriter(r,t)]}Fr.createServerPipeTransport=_d});var Ya=k(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});var Ba=require("net"),$a=pn(),Va=gn();function Nd(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let o=Ba.createServer(a=>{o.close(),r([new $a.SocketMessageReader(a,t),new Va.SocketMessageWriter(a,t)])});o.on("error",s),o.listen(e,"127.0.0.1",()=>{o.removeListener("error",s),i({onConnected:()=>n})})})}Rn.createClientSocketTransport=Nd;function Od(e,t="utf-8"){let r=Ba.createConnection(e,"127.0.0.1");return[new $a.SocketMessageReader(r,t),new Va.SocketMessageWriter(r,t)]}Rn.createServerSocketTransport=Od});var tt=k(z=>{"use strict";function za(e){for(var t in e)z.hasOwnProperty(t)||(z[t]=e[t])}Object.defineProperty(z,"__esModule",{value:!0});var De=or(),re=Da();z.RequestType=re.RequestType;z.RequestType0=re.RequestType0;z.RequestType1=re.RequestType1;z.RequestType2=re.RequestType2;z.RequestType3=re.RequestType3;z.RequestType4=re.RequestType4;z.RequestType5=re.RequestType5;z.RequestType6=re.RequestType6;z.RequestType7=re.RequestType7;z.RequestType8=re.RequestType8;z.RequestType9=re.RequestType9;z.ResponseError=re.ResponseError;z.ErrorCodes=re.ErrorCodes;z.NotificationType=re.NotificationType;z.NotificationType0=re.NotificationType0;z.NotificationType1=re.NotificationType1;z.NotificationType2=re.NotificationType2;z.NotificationType3=re.NotificationType3;z.NotificationType4=re.NotificationType4;z.NotificationType5=re.NotificationType5;z.NotificationType6=re.NotificationType6;z.NotificationType7=re.NotificationType7;z.NotificationType8=re.NotificationType8;z.NotificationType9=re.NotificationType9;var jr=pn();z.MessageReader=jr.MessageReader;z.StreamMessageReader=jr.StreamMessageReader;z.IPCMessageReader=jr.IPCMessageReader;z.SocketMessageReader=jr.SocketMessageReader;var Wr=gn();z.MessageWriter=Wr.MessageWriter;z.StreamMessageWriter=Wr.StreamMessageWriter;z.IPCMessageWriter=Wr.IPCMessageWriter;z.SocketMessageWriter=Wr.SocketMessageWriter;var Lt=Dr();z.Disposable=Lt.Disposable;z.Event=Lt.Event;z.Emitter=Lt.Emitter;var lr=Fa();z.CancellationTokenSource=lr.CancellationTokenSource;z.CancellationToken=lr.CancellationToken;var Xa=Ua();za(Ha());za(Ya());var Ur;(function(e){e.type=new re.NotificationType("$/cancelRequest")})(Ur||(Ur={}));var Tn;(function(e){e.type=new re.NotificationType("$/progress")})(Tn||(Tn={}));var Es=class{constructor(){}};z.ProgressType=Es;z.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Se;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"})(Se=z.Trace||(z.Trace={}));(function(e){function t(n){if(!De.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}}e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}e.toString=r})(Se=z.Trace||(z.Trace={}));var Ze;(function(e){e.Text="text",e.JSON="json"})(Ze=z.TraceFormat||(z.TraceFormat={}));(function(e){function t(r){return r=r.toLowerCase(),r==="json"?e.JSON:e.Text}e.fromString=t})(Ze=z.TraceFormat||(z.TraceFormat={}));var Ka;(function(e){e.type=new re.NotificationType("$/setTraceNotification")})(Ka=z.SetTraceNotification||(z.SetTraceNotification={}));var gs;(function(e){e.type=new re.NotificationType("$/logTraceNotification")})(gs=z.LogTraceNotification||(z.LogTraceNotification={}));var vn;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(vn=z.ConnectionErrors||(z.ConnectionErrors={}));var wt=class extends Error{constructor(t,r){super(r),this.code=t,Object.setPrototypeOf(this,wt.prototype)}};z.ConnectionError=wt;var Sd;(function(e){function t(r){let n=r;return n&&De.func(n.cancelUndispatched)}e.is=t})(Sd=z.ConnectionStrategy||(z.ConnectionStrategy={}));var et;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(et||(et={}));function Id(e,t,r,n){let i=0,s=0,o=0,a="2.0",f,p=Object.create(null),E,m=Object.create(null),R=new Map,N,A=new Xa.LinkedMap,x=Object.create(null),B=Object.create(null),j=Se.Off,Z=Ze.Text,$,_=et.New,v=new Lt.Emitter,C=new Lt.Emitter,X=new Lt.Emitter,U=new Lt.Emitter,V=new Lt.Emitter;function ne(l){return"req-"+l.toString()}function S(l){return l===null?"res-unknown-"+(++o).toString():"res-"+l.toString()}function b(){return"not-"+(++s).toString()}function F(l,u){re.isRequestMessage(u)?l.set(ne(u.id),u):re.isResponseMessage(u)?l.set(S(u.id),u):l.set(b(),u)}function W(l){}function Q(){return _===et.Listening}function J(){return _===et.Closed}function te(){return _===et.Disposed}function ve(){(_===et.New||_===et.Listening)&&(_=et.Closed,C.fire(void 0))}function de(l){v.fire([l,void 0,void 0])}function fe(l){v.fire(l)}e.onClose(ve),e.onError(de),t.onClose(ve),t.onError(fe);function Ie(){N||A.size===0||(N=setImmediate(()=>{N=void 0,me()}))}function me(){if(A.size===0)return;let l=A.shift();try{re.isRequestMessage(l)?Ce(l):re.isNotificationMessage(l)?Xe(l):re.isResponseMessage(l)?Fe(l):ke(l)}finally{Ie()}}let Le=l=>{try{if(re.isNotificationMessage(l)&&l.method===Ur.type.method){let u=ne(l.params.id),y=A.get(u);if(re.isRequestMessage(y)){let P=n&&n.cancelUndispatched?n.cancelUndispatched(y,W):void 0;if(P&&(P.error!==void 0||P.result!==void 0)){A.delete(u),P.id=y.id,ot(P,l.method,Date.now()),t.write(P);return}}}F(A,l)}finally{Ie()}};function Ce(l){if(te())return;function u(O,G,Y){let ee={jsonrpc:a,id:l.id};O instanceof re.ResponseError?ee.error=O.toJson():ee.result=O===void 0?null:O,ot(ee,G,Y),t.write(ee)}function y(O,G,Y){let ee={jsonrpc:a,id:l.id,error:O.toJson()};ot(ee,G,Y),t.write(ee)}function P(O,G,Y){O===void 0&&(O=null);let ee={jsonrpc:a,id:l.id,result:O};ot(ee,G,Y),t.write(ee)}ir(l);let c=p[l.method],d,g;c&&(d=c.type,g=c.handler);let T=Date.now();if(g||f){let O=new lr.CancellationTokenSource,G=String(l.id);B[G]=O;try{let Y;l.params===void 0||d!==void 0&&d.numberOfParams===0?Y=g?g(O.token):f(l.method,O.token):De.array(l.params)&&(d===void 0||d.numberOfParams>1)?Y=g?g(...l.params,O.token):f(l.method,...l.params,O.token):Y=g?g(l.params,O.token):f(l.method,l.params,O.token);let ee=Y;Y?ee.then?ee.then(Te=>{delete B[G],u(Te,l.method,T)},Te=>{delete B[G],Te instanceof re.ResponseError?y(Te,l.method,T):Te&&De.string(Te.message)?y(new re.ResponseError(re.ErrorCodes.InternalError,`Request ${l.method} failed with message: ${Te.message}`),l.method,T):y(new re.ResponseError(re.ErrorCodes.InternalError,`Request ${l.method} failed unexpectedly without providing any details.`),l.method,T)}):(delete B[G],u(Y,l.method,T)):(delete B[G],P(Y,l.method,T))}catch(Y){delete B[G],Y instanceof re.ResponseError?u(Y,l.method,T):Y&&De.string(Y.message)?y(new re.ResponseError(re.ErrorCodes.InternalError,`Request ${l.method} failed with message: ${Y.message}`),l.method,T):y(new re.ResponseError(re.ErrorCodes.InternalError,`Request ${l.method} failed unexpectedly without providing any details.`),l.method,T)}}else y(new re.ResponseError(re.ErrorCodes.MethodNotFound,`Unhandled method ${l.method}`),l.method,T)}function Fe(l){if(!te())if(l.id===null)l.error?r.error(`Received response message without id: Error is: 
${JSON.stringify(l.error,void 0,4)}`):r.error("Received response message without id. No further error information provided.");else{let u=String(l.id),y=x[u];if(br(l,y),y){delete x[u];try{if(l.error){let P=l.error;y.reject(new re.ResponseError(P.code,P.message,P.data))}else if(l.result!==void 0)y.resolve(l.result);else throw new Error("Should never happen.")}catch(P){P.message?r.error(`Response handler '${y.method}' failed with message: ${P.message}`):r.error(`Response handler '${y.method}' failed unexpectedly.`)}}}}function Xe(l){if(te())return;let u,y;if(l.method===Ur.type.method)y=P=>{let c=P.id,d=B[String(c)];d&&d.cancel()};else{let P=m[l.method];P&&(y=P.handler,u=P.type)}if(y||E)try{Ar(l),l.params===void 0||u!==void 0&&u.numberOfParams===0?y?y():E(l.method):De.array(l.params)&&(u===void 0||u.numberOfParams>1)?y?y(...l.params):E(l.method,...l.params):y?y(l.params):E(l.method,l.params)}catch(P){P.message?r.error(`Notification handler '${l.method}' failed with message: ${P.message}`):r.error(`Notification handler '${l.method}' failed unexpectedly.`)}else X.fire(l)}function ke(l){if(!l){r.error("Received empty message.");return}r.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(l,null,4)}`);let u=l;if(De.string(u.id)||De.number(u.id)){let y=String(u.id),P=x[y];P&&P.reject(new Error("The received response has neither a result nor an error property."))}}function Ue(l){if(!(j===Se.Off||!$))if(Z===Ze.Text){let u;j===Se.Verbose&&l.params&&(u=`Params: ${JSON.stringify(l.params,null,4)}

`),$.log(`Sending request '${l.method} - (${l.id})'.`,u)}else at("send-request",l)}function gt(l){if(!(j===Se.Off||!$))if(Z===Ze.Text){let u;j===Se.Verbose&&(l.params?u=`Params: ${JSON.stringify(l.params,null,4)}

`:u=`No parameters provided.

`),$.log(`Sending notification '${l.method}'.`,u)}else at("send-notification",l)}function ot(l,u,y){if(!(j===Se.Off||!$))if(Z===Ze.Text){let P;j===Se.Verbose&&(l.error&&l.error.data?P=`Error data: ${JSON.stringify(l.error.data,null,4)}

`:l.result?P=`Result: ${JSON.stringify(l.result,null,4)}

`:l.error===void 0&&(P=`No result returned.

`)),$.log(`Sending response '${u} - (${l.id})'. Processing request took ${Date.now()-y}ms`,P)}else at("send-response",l)}function ir(l){if(!(j===Se.Off||!$))if(Z===Ze.Text){let u;j===Se.Verbose&&l.params&&(u=`Params: ${JSON.stringify(l.params,null,4)}

`),$.log(`Received request '${l.method} - (${l.id})'.`,u)}else at("receive-request",l)}function Ar(l){if(!(j===Se.Off||!$||l.method===gs.type.method))if(Z===Ze.Text){let u;j===Se.Verbose&&(l.params?u=`Params: ${JSON.stringify(l.params,null,4)}

`:u=`No parameters provided.

`),$.log(`Received notification '${l.method}'.`,u)}else at("receive-notification",l)}function br(l,u){if(!(j===Se.Off||!$))if(Z===Ze.Text){let y;if(j===Se.Verbose&&(l.error&&l.error.data?y=`Error data: ${JSON.stringify(l.error.data,null,4)}

`:l.result?y=`Result: ${JSON.stringify(l.result,null,4)}

`:l.error===void 0&&(y=`No result returned.

`)),u){let P=l.error?` Request failed: ${l.error.message} (${l.error.code}).`:"";$.log(`Received response '${u.method} - (${l.id})' in ${Date.now()-u.timerStart}ms.${P}`,y)}else $.log(`Received response ${l.id} without active response promise.`,y)}else at("receive-response",l)}function at(l,u){if(!$||j===Se.Off)return;let y={isLSPMessage:!0,type:l,message:u,timestamp:Date.now()};$.log(y)}function ct(){if(J())throw new wt(vn.Closed,"Connection is closed.");if(te())throw new wt(vn.Disposed,"Connection is disposed.")}function Lr(){if(Q())throw new wt(vn.AlreadyListening,"Connection is already listening")}function D(){if(!Q())throw new Error("Call listen() first.")}function h(l){return l===void 0?null:l}function I(l,u){let y,P=l.numberOfParams;switch(P){case 0:y=null;break;case 1:y=h(u[0]);break;default:y=[];for(let c=0;c<u.length&&c<P;c++)y.push(h(u[c]));if(u.length<P)for(let c=u.length;c<P;c++)y.push(null);break}return y}let w={sendNotification:(l,...u)=>{ct();let y,P;if(De.string(l))switch(y=l,u.length){case 0:P=null;break;case 1:P=u[0];break;default:P=u;break}else y=l.method,P=I(l,u);let c={jsonrpc:a,method:y,params:P};gt(c),t.write(c)},onNotification:(l,u)=>{ct(),De.func(l)?E=l:u&&(De.string(l)?m[l]={type:void 0,handler:u}:m[l.method]={type:l,handler:u})},onProgress:(l,u,y)=>{if(R.has(u))throw new Error(`Progress handler for token ${u} already registered`);return R.set(u,y),{dispose:()=>{R.delete(u)}}},sendProgress:(l,u,y)=>{w.sendNotification(Tn.type,{token:u,value:y})},onUnhandledProgress:U.event,sendRequest:(l,...u)=>{ct(),D();let y,P,c;if(De.string(l))switch(y=l,u.length){case 0:P=null;break;case 1:lr.CancellationToken.is(u[0])?(P=null,c=u[0]):P=h(u[0]);break;default:let T=u.length-1;lr.CancellationToken.is(u[T])?(c=u[T],u.length===2?P=h(u[0]):P=u.slice(0,T).map(O=>h(O))):P=u.map(O=>h(O));break}else{y=l.method,P=I(l,u);let T=l.numberOfParams;c=lr.CancellationToken.is(u[T])?u[T]:void 0}let d=i++,g=new Promise((T,O)=>{let G={jsonrpc:a,id:d,method:y,params:P},Y={method:y,timerStart:Date.now(),resolve:T,reject:O};Ue(G);try{t.write(G)}catch(ee){Y.reject(new re.ResponseError(re.ErrorCodes.MessageWriteError,ee.message?ee.message:"Unknown reason")),Y=null}Y&&(x[String(d)]=Y)});return c&&c.onCancellationRequested(()=>{w.sendNotification(Ur.type,{id:d})}),g},onRequest:(l,u)=>{ct(),De.func(l)?f=l:u&&(De.string(l)?p[l]={type:void 0,handler:u}:p[l.method]={type:l,handler:u})},trace:(l,u,y)=>{let P=!1,c=Ze.Text;y!==void 0&&(De.boolean(y)?P=y:(P=y.sendNotification||!1,c=y.traceFormat||Ze.Text)),j=l,Z=c,j===Se.Off?$=void 0:$=u,P&&!J()&&!te()&&w.sendNotification(Ka.type,{value:Se.toString(l)})},onError:v.event,onClose:C.event,onUnhandledNotification:X.event,onDispose:V.event,dispose:()=>{if(te())return;_=et.Disposed,V.fire(void 0);let l=new Error("Connection got disposed.");Object.keys(x).forEach(u=>{x[u].reject(l)}),x=Object.create(null),B=Object.create(null),A=new Xa.LinkedMap,De.func(t.dispose)&&t.dispose(),De.func(e.dispose)&&e.dispose()},listen:()=>{ct(),Lr(),_=et.Listening,e.listen(Le)},inspect:()=>{console.log("inspect")}};return w.onNotification(gs.type,l=>{j===Se.Off||!$||$.log(l.message,j===Se.Verbose?l.verbose:void 0)}),w.onNotification(Tn.type,l=>{let u=R.get(l.token);u?u(l.value):U.fire(l)}),w}function Cd(e){return e.listen!==void 0&&e.read===void 0}function Ad(e){return e.write!==void 0&&e.end===void 0}function bd(e,t,r,n){r||(r=z.NullLogger);let i=Cd(e)?e:new jr.StreamMessageReader(e),s=Ad(t)?t:new Wr.StreamMessageWriter(t);return Id(i,s,r,n)}z.createMessageConnection=bd});var Qa=k((Ja,yn)=>{(function(e){if(typeof yn=="object"&&typeof yn.exports=="object"){var t=e(require,Ja);t!==void 0&&(yn.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;(function(h){function I(l,u){return{line:l,character:u}}h.create=I;function w(l){var u=l;return D.objectLiteral(u)&&D.number(u.line)&&D.number(u.character)}h.is=w})(r=t.Position||(t.Position={}));var n;(function(h){function I(l,u,y,P){if(D.number(l)&&D.number(u)&&D.number(y)&&D.number(P))return{start:r.create(l,u),end:r.create(y,P)};if(r.is(l)&&r.is(u))return{start:l,end:u};throw new Error("Range#create called with invalid arguments["+l+", "+u+", "+y+", "+P+"]")}h.create=I;function w(l){var u=l;return D.objectLiteral(u)&&r.is(u.start)&&r.is(u.end)}h.is=w})(n=t.Range||(t.Range={}));var i;(function(h){function I(l,u){return{uri:l,range:u}}h.create=I;function w(l){var u=l;return D.defined(u)&&n.is(u.range)&&(D.string(u.uri)||D.undefined(u.uri))}h.is=w})(i=t.Location||(t.Location={}));var s;(function(h){function I(l,u,y,P){return{targetUri:l,targetRange:u,targetSelectionRange:y,originSelectionRange:P}}h.create=I;function w(l){var u=l;return D.defined(u)&&n.is(u.targetRange)&&D.string(u.targetUri)&&(n.is(u.targetSelectionRange)||D.undefined(u.targetSelectionRange))&&(n.is(u.originSelectionRange)||D.undefined(u.originSelectionRange))}h.is=w})(s=t.LocationLink||(t.LocationLink={}));var o;(function(h){function I(l,u,y,P){return{red:l,green:u,blue:y,alpha:P}}h.create=I;function w(l){var u=l;return D.number(u.red)&&D.number(u.green)&&D.number(u.blue)&&D.number(u.alpha)}h.is=w})(o=t.Color||(t.Color={}));var a;(function(h){function I(l,u){return{range:l,color:u}}h.create=I;function w(l){var u=l;return n.is(u.range)&&o.is(u.color)}h.is=w})(a=t.ColorInformation||(t.ColorInformation={}));var f;(function(h){function I(l,u,y){return{label:l,textEdit:u,additionalTextEdits:y}}h.create=I;function w(l){var u=l;return D.string(u.label)&&(D.undefined(u.textEdit)||B.is(u))&&(D.undefined(u.additionalTextEdits)||D.typedArray(u.additionalTextEdits,B.is))}h.is=w})(f=t.ColorPresentation||(t.ColorPresentation={}));var p;(function(h){h.Comment="comment",h.Imports="imports",h.Region="region"})(p=t.FoldingRangeKind||(t.FoldingRangeKind={}));var E;(function(h){function I(l,u,y,P,c){var d={startLine:l,endLine:u};return D.defined(y)&&(d.startCharacter=y),D.defined(P)&&(d.endCharacter=P),D.defined(c)&&(d.kind=c),d}h.create=I;function w(l){var u=l;return D.number(u.startLine)&&D.number(u.startLine)&&(D.undefined(u.startCharacter)||D.number(u.startCharacter))&&(D.undefined(u.endCharacter)||D.number(u.endCharacter))&&(D.undefined(u.kind)||D.string(u.kind))}h.is=w})(E=t.FoldingRange||(t.FoldingRange={}));var m;(function(h){function I(l,u){return{location:l,message:u}}h.create=I;function w(l){var u=l;return D.defined(u)&&i.is(u.location)&&D.string(u.message)}h.is=w})(m=t.DiagnosticRelatedInformation||(t.DiagnosticRelatedInformation={}));var R;(function(h){h.Error=1,h.Warning=2,h.Information=3,h.Hint=4})(R=t.DiagnosticSeverity||(t.DiagnosticSeverity={}));var N;(function(h){h.Unnecessary=1,h.Deprecated=2})(N=t.DiagnosticTag||(t.DiagnosticTag={}));var A;(function(h){function I(l,u,y,P,c,d){var g={range:l,message:u};return D.defined(y)&&(g.severity=y),D.defined(P)&&(g.code=P),D.defined(c)&&(g.source=c),D.defined(d)&&(g.relatedInformation=d),g}h.create=I;function w(l){var u=l;return D.defined(u)&&n.is(u.range)&&D.string(u.message)&&(D.number(u.severity)||D.undefined(u.severity))&&(D.number(u.code)||D.string(u.code)||D.undefined(u.code))&&(D.string(u.source)||D.undefined(u.source))&&(D.undefined(u.relatedInformation)||D.typedArray(u.relatedInformation,m.is))}h.is=w})(A=t.Diagnostic||(t.Diagnostic={}));var x;(function(h){function I(l,u){for(var y=[],P=2;P<arguments.length;P++)y[P-2]=arguments[P];var c={title:l,command:u};return D.defined(y)&&y.length>0&&(c.arguments=y),c}h.create=I;function w(l){var u=l;return D.defined(u)&&D.string(u.title)&&D.string(u.command)}h.is=w})(x=t.Command||(t.Command={}));var B;(function(h){function I(y,P){return{range:y,newText:P}}h.replace=I;function w(y,P){return{range:{start:y,end:y},newText:P}}h.insert=w;function l(y){return{range:y,newText:""}}h.del=l;function u(y){var P=y;return D.objectLiteral(P)&&D.string(P.newText)&&n.is(P.range)}h.is=u})(B=t.TextEdit||(t.TextEdit={}));var j;(function(h){function I(l,u){return{textDocument:l,edits:u}}h.create=I;function w(l){var u=l;return D.defined(u)&&V.is(u.textDocument)&&Array.isArray(u.edits)}h.is=w})(j=t.TextDocumentEdit||(t.TextDocumentEdit={}));var Z;(function(h){function I(l,u){var y={kind:"create",uri:l};return u!==void 0&&(u.overwrite!==void 0||u.ignoreIfExists!==void 0)&&(y.options=u),y}h.create=I;function w(l){var u=l;return u&&u.kind==="create"&&D.string(u.uri)&&(u.options===void 0||(u.options.overwrite===void 0||D.boolean(u.options.overwrite))&&(u.options.ignoreIfExists===void 0||D.boolean(u.options.ignoreIfExists)))}h.is=w})(Z=t.CreateFile||(t.CreateFile={}));var $;(function(h){function I(l,u,y){var P={kind:"rename",oldUri:l,newUri:u};return y!==void 0&&(y.overwrite!==void 0||y.ignoreIfExists!==void 0)&&(P.options=y),P}h.create=I;function w(l){var u=l;return u&&u.kind==="rename"&&D.string(u.oldUri)&&D.string(u.newUri)&&(u.options===void 0||(u.options.overwrite===void 0||D.boolean(u.options.overwrite))&&(u.options.ignoreIfExists===void 0||D.boolean(u.options.ignoreIfExists)))}h.is=w})($=t.RenameFile||(t.RenameFile={}));var _;(function(h){function I(l,u){var y={kind:"delete",uri:l};return u!==void 0&&(u.recursive!==void 0||u.ignoreIfNotExists!==void 0)&&(y.options=u),y}h.create=I;function w(l){var u=l;return u&&u.kind==="delete"&&D.string(u.uri)&&(u.options===void 0||(u.options.recursive===void 0||D.boolean(u.options.recursive))&&(u.options.ignoreIfNotExists===void 0||D.boolean(u.options.ignoreIfNotExists)))}h.is=w})(_=t.DeleteFile||(t.DeleteFile={}));var v;(function(h){function I(w){var l=w;return l&&(l.changes!==void 0||l.documentChanges!==void 0)&&(l.documentChanges===void 0||l.documentChanges.every(function(u){return D.string(u.kind)?Z.is(u)||$.is(u)||_.is(u):j.is(u)}))}h.is=I})(v=t.WorkspaceEdit||(t.WorkspaceEdit={}));var C=function(){function h(I){this.edits=I}return h.prototype.insert=function(I,w){this.edits.push(B.insert(I,w))},h.prototype.replace=function(I,w){this.edits.push(B.replace(I,w))},h.prototype.delete=function(I){this.edits.push(B.del(I))},h.prototype.add=function(I){this.edits.push(I)},h.prototype.all=function(){return this.edits},h.prototype.clear=function(){this.edits.splice(0,this.edits.length)},h}(),X=function(){function h(I){var w=this;this._textEditChanges=Object.create(null),I&&(this._workspaceEdit=I,I.documentChanges?I.documentChanges.forEach(function(l){if(j.is(l)){var u=new C(l.edits);w._textEditChanges[l.textDocument.uri]=u}}):I.changes&&Object.keys(I.changes).forEach(function(l){var u=new C(I.changes[l]);w._textEditChanges[l]=u}))}return Object.defineProperty(h.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0}),h.prototype.getTextEditChange=function(I){if(V.is(I)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var w=I,l=this._textEditChanges[w.uri];if(!l){var u=[],y={textDocument:w,edits:u};this._workspaceEdit.documentChanges.push(y),l=new C(u),this._textEditChanges[w.uri]=l}return l}else{if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var l=this._textEditChanges[I];if(!l){var u=[];this._workspaceEdit.changes[I]=u,l=new C(u),this._textEditChanges[I]=l}return l}},h.prototype.createFile=function(I,w){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(Z.create(I,w))},h.prototype.renameFile=function(I,w,l){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push($.create(I,w,l))},h.prototype.deleteFile=function(I,w){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(_.create(I,w))},h.prototype.checkDocumentChanges=function(){if(!this._workspaceEdit||!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.")},h}();t.WorkspaceChange=X;var U;(function(h){function I(l){return{uri:l}}h.create=I;function w(l){var u=l;return D.defined(u)&&D.string(u.uri)}h.is=w})(U=t.TextDocumentIdentifier||(t.TextDocumentIdentifier={}));var V;(function(h){function I(l,u){return{uri:l,version:u}}h.create=I;function w(l){var u=l;return D.defined(u)&&D.string(u.uri)&&(u.version===null||D.number(u.version))}h.is=w})(V=t.VersionedTextDocumentIdentifier||(t.VersionedTextDocumentIdentifier={}));var ne;(function(h){function I(l,u,y,P){return{uri:l,languageId:u,version:y,text:P}}h.create=I;function w(l){var u=l;return D.defined(u)&&D.string(u.uri)&&D.string(u.languageId)&&D.number(u.version)&&D.string(u.text)}h.is=w})(ne=t.TextDocumentItem||(t.TextDocumentItem={}));var S;(function(h){h.PlainText="plaintext",h.Markdown="markdown"})(S=t.MarkupKind||(t.MarkupKind={})),function(h){function I(w){var l=w;return l===h.PlainText||l===h.Markdown}h.is=I}(S=t.MarkupKind||(t.MarkupKind={}));var b;(function(h){function I(w){var l=w;return D.objectLiteral(w)&&S.is(l.kind)&&D.string(l.value)}h.is=I})(b=t.MarkupContent||(t.MarkupContent={}));var F;(function(h){h.Text=1,h.Method=2,h.Function=3,h.Constructor=4,h.Field=5,h.Variable=6,h.Class=7,h.Interface=8,h.Module=9,h.Property=10,h.Unit=11,h.Value=12,h.Enum=13,h.Keyword=14,h.Snippet=15,h.Color=16,h.File=17,h.Reference=18,h.Folder=19,h.EnumMember=20,h.Constant=21,h.Struct=22,h.Event=23,h.Operator=24,h.TypeParameter=25})(F=t.CompletionItemKind||(t.CompletionItemKind={}));var W;(function(h){h.PlainText=1,h.Snippet=2})(W=t.InsertTextFormat||(t.InsertTextFormat={}));var Q;(function(h){h.Deprecated=1})(Q=t.CompletionItemTag||(t.CompletionItemTag={}));var J;(function(h){function I(w){return{label:w}}h.create=I})(J=t.CompletionItem||(t.CompletionItem={}));var te;(function(h){function I(w,l){return{items:w||[],isIncomplete:!!l}}h.create=I})(te=t.CompletionList||(t.CompletionList={}));var ve;(function(h){function I(l){return l.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}h.fromPlainText=I;function w(l){var u=l;return D.string(u)||D.objectLiteral(u)&&D.string(u.language)&&D.string(u.value)}h.is=w})(ve=t.MarkedString||(t.MarkedString={}));var de;(function(h){function I(w){var l=w;return!!l&&D.objectLiteral(l)&&(b.is(l.contents)||ve.is(l.contents)||D.typedArray(l.contents,ve.is))&&(w.range===void 0||n.is(w.range))}h.is=I})(de=t.Hover||(t.Hover={}));var fe;(function(h){function I(w,l){return l?{label:w,documentation:l}:{label:w}}h.create=I})(fe=t.ParameterInformation||(t.ParameterInformation={}));var Ie;(function(h){function I(w,l){for(var u=[],y=2;y<arguments.length;y++)u[y-2]=arguments[y];var P={label:w};return D.defined(l)&&(P.documentation=l),D.defined(u)?P.parameters=u:P.parameters=[],P}h.create=I})(Ie=t.SignatureInformation||(t.SignatureInformation={}));var me;(function(h){h.Text=1,h.Read=2,h.Write=3})(me=t.DocumentHighlightKind||(t.DocumentHighlightKind={}));var Le;(function(h){function I(w,l){var u={range:w};return D.number(l)&&(u.kind=l),u}h.create=I})(Le=t.DocumentHighlight||(t.DocumentHighlight={}));var Ce;(function(h){h.File=1,h.Module=2,h.Namespace=3,h.Package=4,h.Class=5,h.Method=6,h.Property=7,h.Field=8,h.Constructor=9,h.Enum=10,h.Interface=11,h.Function=12,h.Variable=13,h.Constant=14,h.String=15,h.Number=16,h.Boolean=17,h.Array=18,h.Object=19,h.Key=20,h.Null=21,h.EnumMember=22,h.Struct=23,h.Event=24,h.Operator=25,h.TypeParameter=26})(Ce=t.SymbolKind||(t.SymbolKind={}));var Fe;(function(h){h.Deprecated=1})(Fe=t.SymbolTag||(t.SymbolTag={}));var Xe;(function(h){function I(w,l,u,y,P){var c={name:w,kind:l,location:{uri:y,range:u}};return P&&(c.containerName=P),c}h.create=I})(Xe=t.SymbolInformation||(t.SymbolInformation={}));var ke;(function(h){function I(l,u,y,P,c,d){var g={name:l,detail:u,kind:y,range:P,selectionRange:c};return d!==void 0&&(g.children=d),g}h.create=I;function w(l){var u=l;return u&&D.string(u.name)&&D.number(u.kind)&&n.is(u.range)&&n.is(u.selectionRange)&&(u.detail===void 0||D.string(u.detail))&&(u.deprecated===void 0||D.boolean(u.deprecated))&&(u.children===void 0||Array.isArray(u.children))}h.is=w})(ke=t.DocumentSymbol||(t.DocumentSymbol={}));var Ue;(function(h){h.Empty="",h.QuickFix="quickfix",h.Refactor="refactor",h.RefactorExtract="refactor.extract",h.RefactorInline="refactor.inline",h.RefactorRewrite="refactor.rewrite",h.Source="source",h.SourceOrganizeImports="source.organizeImports",h.SourceFixAll="source.fixAll"})(Ue=t.CodeActionKind||(t.CodeActionKind={}));var gt;(function(h){function I(l,u){var y={diagnostics:l};return u!=null&&(y.only=u),y}h.create=I;function w(l){var u=l;return D.defined(u)&&D.typedArray(u.diagnostics,A.is)&&(u.only===void 0||D.typedArray(u.only,D.string))}h.is=w})(gt=t.CodeActionContext||(t.CodeActionContext={}));var ot;(function(h){function I(l,u,y){var P={title:l};return x.is(u)?P.command=u:P.edit=u,y!==void 0&&(P.kind=y),P}h.create=I;function w(l){var u=l;return u&&D.string(u.title)&&(u.diagnostics===void 0||D.typedArray(u.diagnostics,A.is))&&(u.kind===void 0||D.string(u.kind))&&(u.edit!==void 0||u.command!==void 0)&&(u.command===void 0||x.is(u.command))&&(u.isPreferred===void 0||D.boolean(u.isPreferred))&&(u.edit===void 0||v.is(u.edit))}h.is=w})(ot=t.CodeAction||(t.CodeAction={}));var ir;(function(h){function I(l,u){var y={range:l};return D.defined(u)&&(y.data=u),y}h.create=I;function w(l){var u=l;return D.defined(u)&&n.is(u.range)&&(D.undefined(u.command)||x.is(u.command))}h.is=w})(ir=t.CodeLens||(t.CodeLens={}));var Ar;(function(h){function I(l,u){return{tabSize:l,insertSpaces:u}}h.create=I;function w(l){var u=l;return D.defined(u)&&D.number(u.tabSize)&&D.boolean(u.insertSpaces)}h.is=w})(Ar=t.FormattingOptions||(t.FormattingOptions={}));var br;(function(h){function I(l,u,y){return{range:l,target:u,data:y}}h.create=I;function w(l){var u=l;return D.defined(u)&&n.is(u.range)&&(D.undefined(u.target)||D.string(u.target))}h.is=w})(br=t.DocumentLink||(t.DocumentLink={}));var at;(function(h){function I(l,u){return{range:l,parent:u}}h.create=I;function w(l){var u=l;return u!==void 0&&n.is(u.range)&&(u.parent===void 0||h.is(u.parent))}h.is=w})(at=t.SelectionRange||(t.SelectionRange={})),t.EOL=[`
`,`\r
`,"\r"];var ct;(function(h){function I(y,P,c,d){return new Lr(y,P,c,d)}h.create=I;function w(y){var P=y;return!!(D.defined(P)&&D.string(P.uri)&&(D.undefined(P.languageId)||D.string(P.languageId))&&D.number(P.lineCount)&&D.func(P.getText)&&D.func(P.positionAt)&&D.func(P.offsetAt))}h.is=w;function l(y,P){for(var c=y.getText(),d=u(P,function(ee,Te){var ut=ee.range.start.line-Te.range.start.line;return ut===0?ee.range.start.character-Te.range.start.character:ut}),g=c.length,T=d.length-1;T>=0;T--){var O=d[T],G=y.offsetAt(O.range.start),Y=y.offsetAt(O.range.end);if(Y<=g)c=c.substring(0,G)+O.newText+c.substring(Y,c.length);else throw new Error("Overlapping edit");g=G}return c}h.applyEdits=l;function u(y,P){if(y.length<=1)return y;var c=y.length/2|0,d=y.slice(0,c),g=y.slice(c);u(d,P),u(g,P);for(var T=0,O=0,G=0;T<d.length&&O<g.length;){var Y=P(d[T],g[O]);Y<=0?y[G++]=d[T++]:y[G++]=g[O++]}for(;T<d.length;)y[G++]=d[T++];for(;O<g.length;)y[G++]=g[O++];return y}})(ct=t.TextDocument||(t.TextDocument={}));var Lr=function(){function h(I,w,l,u){this._uri=I,this._languageId=w,this._version=l,this._content=u,this._lineOffsets=void 0}return Object.defineProperty(h.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),h.prototype.getText=function(I){if(I){var w=this.offsetAt(I.start),l=this.offsetAt(I.end);return this._content.substring(w,l)}return this._content},h.prototype.update=function(I,w){this._content=I.text,this._version=w,this._lineOffsets=void 0},h.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var I=[],w=this._content,l=!0,u=0;u<w.length;u++){l&&(I.push(u),l=!1);var y=w.charAt(u);l=y==="\r"||y===`
`,y==="\r"&&u+1<w.length&&w.charAt(u+1)===`
`&&u++}l&&w.length>0&&I.push(w.length),this._lineOffsets=I}return this._lineOffsets},h.prototype.positionAt=function(I){I=Math.max(Math.min(I,this._content.length),0);var w=this.getLineOffsets(),l=0,u=w.length;if(u===0)return r.create(0,I);for(;l<u;){var y=Math.floor((l+u)/2);w[y]>I?u=y:l=y+1}var P=l-1;return r.create(P,I-w[P])},h.prototype.offsetAt=function(I){var w=this.getLineOffsets();if(I.line>=w.length)return this._content.length;if(I.line<0)return 0;var l=w[I.line],u=I.line+1<w.length?w[I.line+1]:this._content.length;return Math.max(Math.min(l+I.character,u),l)},Object.defineProperty(h.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),h}(),D;(function(h){var I=Object.prototype.toString;function w(T){return typeof T!="undefined"}h.defined=w;function l(T){return typeof T=="undefined"}h.undefined=l;function u(T){return T===!0||T===!1}h.boolean=u;function y(T){return I.call(T)==="[object String]"}h.string=y;function P(T){return I.call(T)==="[object Number]"}h.number=P;function c(T){return I.call(T)==="[object Function]"}h.func=c;function d(T){return T!==null&&typeof T=="object"}h.objectLiteral=d;function g(T,O){return Array.isArray(T)&&T.every(O)}h.typedArray=g})(D||(D={}))})});var tc=k(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});function Ld(e){return e===!0||e===!1}rt.boolean=Ld;function Za(e){return typeof e=="string"||e instanceof String}rt.string=Za;function wd(e){return typeof e=="number"||e instanceof Number}rt.number=wd;function Pd(e){return e instanceof Error}rt.error=Pd;function Dd(e){return typeof e=="function"}rt.func=Dd;function ec(e){return Array.isArray(e)}rt.array=ec;function Md(e){return ec(e)&&e.every(t=>Za(t))}rt.stringArray=Md;function kd(e,t){return Array.isArray(e)&&e.every(t)}rt.typedArray=kd;function xd(e){return e!==null&&typeof e=="object"}rt.objectLiteral=xd});var Ve=k(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});var _n=tt(),ms=class extends _n.RequestType0{constructor(t){super(t)}};fr.ProtocolRequestType0=ms;var Rs=class extends _n.RequestType{constructor(t){super(t)}};fr.ProtocolRequestType=Rs;var vs=class extends _n.NotificationType{constructor(t){super(t)}};fr.ProtocolNotificationType=vs;var Ts=class extends _n.NotificationType0{constructor(t){super(t)}};fr.ProtocolNotificationType0=Ts});var rc=k(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});var qd=tt(),Fd=Ve(),Ud;(function(e){e.method="textDocument/implementation",e.type=new Fd.ProtocolRequestType(e.method),e.resultType=new qd.ProgressType})(Ud=Nn.ImplementationRequest||(Nn.ImplementationRequest={}))});var nc=k(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});var jd=tt(),Wd=Ve(),Gd;(function(e){e.method="textDocument/typeDefinition",e.type=new Wd.ProtocolRequestType(e.method),e.resultType=new jd.ProgressType})(Gd=On.TypeDefinitionRequest||(On.TypeDefinitionRequest={}))});var sc=k(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});var ic=Ve(),Hd;(function(e){e.type=new ic.ProtocolRequestType0("workspace/workspaceFolders")})(Hd=hr.WorkspaceFoldersRequest||(hr.WorkspaceFoldersRequest={}));var Bd;(function(e){e.type=new ic.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(Bd=hr.DidChangeWorkspaceFoldersNotification||(hr.DidChangeWorkspaceFoldersNotification={}))});var oc=k(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});var $d=Ve(),Vd;(function(e){e.type=new $d.ProtocolRequestType("workspace/configuration")})(Vd=Sn.ConfigurationRequest||(Sn.ConfigurationRequest={}))});var cc=k(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});var Yd=tt(),ac=Ve(),Xd;(function(e){e.method="textDocument/documentColor",e.type=new ac.ProtocolRequestType(e.method),e.resultType=new Yd.ProgressType})(Xd=dr.DocumentColorRequest||(dr.DocumentColorRequest={}));var zd;(function(e){e.type=new ac.ProtocolRequestType("textDocument/colorPresentation")})(zd=dr.ColorPresentationRequest||(dr.ColorPresentationRequest={}))});var uc=k(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});var Kd=tt(),Jd=Ve(),Qd;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(Qd=pr.FoldingRangeKind||(pr.FoldingRangeKind={}));var Zd;(function(e){e.method="textDocument/foldingRange",e.type=new Jd.ProtocolRequestType(e.method),e.resultType=new Kd.ProgressType})(Zd=pr.FoldingRangeRequest||(pr.FoldingRangeRequest={}))});var lc=k(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});var ep=tt(),tp=Ve(),rp;(function(e){e.method="textDocument/declaration",e.type=new tp.ProtocolRequestType(e.method),e.resultType=new ep.ProgressType})(rp=In.DeclarationRequest||(In.DeclarationRequest={}))});var fc=k(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});var np=tt(),ip=Ve(),sp;(function(e){e.method="textDocument/selectionRange",e.type=new ip.ProtocolRequestType(e.method),e.resultType=new np.ProgressType})(sp=Cn.SelectionRangeRequest||(Cn.SelectionRangeRequest={}))});var dc=k(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});var op=tt(),hc=Ve(),ap;(function(e){e.type=new op.ProgressType})(ap=Pt.WorkDoneProgress||(Pt.WorkDoneProgress={}));var cp;(function(e){e.type=new hc.ProtocolRequestType("window/workDoneProgress/create")})(cp=Pt.WorkDoneProgressCreateRequest||(Pt.WorkDoneProgressCreateRequest={}));var up;(function(e){e.type=new hc.ProtocolNotificationType("window/workDoneProgress/cancel")})(up=Pt.WorkDoneProgressCancelNotification||(Pt.WorkDoneProgressCancelNotification={}))});var Rc=k(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});var Dt=tc(),vt=tt(),ae=Ve(),lp=rc();M.ImplementationRequest=lp.ImplementationRequest;var fp=nc();M.TypeDefinitionRequest=fp.TypeDefinitionRequest;var pc=sc();M.WorkspaceFoldersRequest=pc.WorkspaceFoldersRequest;M.DidChangeWorkspaceFoldersNotification=pc.DidChangeWorkspaceFoldersNotification;var hp=oc();M.ConfigurationRequest=hp.ConfigurationRequest;var Ec=cc();M.DocumentColorRequest=Ec.DocumentColorRequest;M.ColorPresentationRequest=Ec.ColorPresentationRequest;var dp=uc();M.FoldingRangeRequest=dp.FoldingRangeRequest;var pp=lc();M.DeclarationRequest=pp.DeclarationRequest;var Ep=fc();M.SelectionRangeRequest=Ep.SelectionRangeRequest;var ys=dc();M.WorkDoneProgress=ys.WorkDoneProgress;M.WorkDoneProgressCreateRequest=ys.WorkDoneProgressCreateRequest;M.WorkDoneProgressCancelNotification=ys.WorkDoneProgressCancelNotification;var gc;(function(e){function t(r){let n=r;return Dt.string(n.language)||Dt.string(n.scheme)||Dt.string(n.pattern)}e.is=t})(gc=M.DocumentFilter||(M.DocumentFilter={}));var mc;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!Dt.string(n)&&!gc.is(n))return!1;return!0}e.is=t})(mc=M.DocumentSelector||(M.DocumentSelector={}));var gp;(function(e){e.type=new ae.ProtocolRequestType("client/registerCapability")})(gp=M.RegistrationRequest||(M.RegistrationRequest={}));var mp;(function(e){e.type=new ae.ProtocolRequestType("client/unregisterCapability")})(mp=M.UnregistrationRequest||(M.UnregistrationRequest={}));var Rp;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(Rp=M.ResourceOperationKind||(M.ResourceOperationKind={}));var vp;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(vp=M.FailureHandlingKind||(M.FailureHandlingKind={}));var Tp;(function(e){function t(r){let n=r;return n&&Dt.string(n.id)&&n.id.length>0}e.hasId=t})(Tp=M.StaticRegistrationOptions||(M.StaticRegistrationOptions={}));var yp;(function(e){function t(r){let n=r;return n&&(n.documentSelector===null||mc.is(n.documentSelector))}e.is=t})(yp=M.TextDocumentRegistrationOptions||(M.TextDocumentRegistrationOptions={}));var _p;(function(e){function t(n){let i=n;return Dt.objectLiteral(i)&&(i.workDoneProgress===void 0||Dt.boolean(i.workDoneProgress))}e.is=t;function r(n){let i=n;return i&&Dt.boolean(i.workDoneProgress)}e.hasWorkDoneProgress=r})(_p=M.WorkDoneProgressOptions||(M.WorkDoneProgressOptions={}));var Np;(function(e){e.type=new ae.ProtocolRequestType("initialize")})(Np=M.InitializeRequest||(M.InitializeRequest={}));var Op;(function(e){e.unknownProtocolVersion=1})(Op=M.InitializeError||(M.InitializeError={}));var Sp;(function(e){e.type=new ae.ProtocolNotificationType("initialized")})(Sp=M.InitializedNotification||(M.InitializedNotification={}));var Ip;(function(e){e.type=new ae.ProtocolRequestType0("shutdown")})(Ip=M.ShutdownRequest||(M.ShutdownRequest={}));var Cp;(function(e){e.type=new ae.ProtocolNotificationType0("exit")})(Cp=M.ExitNotification||(M.ExitNotification={}));var Ap;(function(e){e.type=new ae.ProtocolNotificationType("workspace/didChangeConfiguration")})(Ap=M.DidChangeConfigurationNotification||(M.DidChangeConfigurationNotification={}));var bp;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4})(bp=M.MessageType||(M.MessageType={}));var Lp;(function(e){e.type=new ae.ProtocolNotificationType("window/showMessage")})(Lp=M.ShowMessageNotification||(M.ShowMessageNotification={}));var wp;(function(e){e.type=new ae.ProtocolRequestType("window/showMessageRequest")})(wp=M.ShowMessageRequest||(M.ShowMessageRequest={}));var Pp;(function(e){e.type=new ae.ProtocolNotificationType("window/logMessage")})(Pp=M.LogMessageNotification||(M.LogMessageNotification={}));var Dp;(function(e){e.type=new ae.ProtocolNotificationType("telemetry/event")})(Dp=M.TelemetryEventNotification||(M.TelemetryEventNotification={}));var Mp;(function(e){e.None=0,e.Full=1,e.Incremental=2})(Mp=M.TextDocumentSyncKind||(M.TextDocumentSyncKind={}));var kp;(function(e){e.method="textDocument/didOpen",e.type=new ae.ProtocolNotificationType(e.method)})(kp=M.DidOpenTextDocumentNotification||(M.DidOpenTextDocumentNotification={}));var xp;(function(e){e.method="textDocument/didChange",e.type=new ae.ProtocolNotificationType(e.method)})(xp=M.DidChangeTextDocumentNotification||(M.DidChangeTextDocumentNotification={}));var qp;(function(e){e.method="textDocument/didClose",e.type=new ae.ProtocolNotificationType(e.method)})(qp=M.DidCloseTextDocumentNotification||(M.DidCloseTextDocumentNotification={}));var Fp;(function(e){e.method="textDocument/didSave",e.type=new ae.ProtocolNotificationType(e.method)})(Fp=M.DidSaveTextDocumentNotification||(M.DidSaveTextDocumentNotification={}));var Up;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(Up=M.TextDocumentSaveReason||(M.TextDocumentSaveReason={}));var jp;(function(e){e.method="textDocument/willSave",e.type=new ae.ProtocolNotificationType(e.method)})(jp=M.WillSaveTextDocumentNotification||(M.WillSaveTextDocumentNotification={}));var Wp;(function(e){e.method="textDocument/willSaveWaitUntil",e.type=new ae.ProtocolRequestType(e.method)})(Wp=M.WillSaveTextDocumentWaitUntilRequest||(M.WillSaveTextDocumentWaitUntilRequest={}));var Gp;(function(e){e.type=new ae.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(Gp=M.DidChangeWatchedFilesNotification||(M.DidChangeWatchedFilesNotification={}));var Hp;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(Hp=M.FileChangeType||(M.FileChangeType={}));var Bp;(function(e){e.Create=1,e.Change=2,e.Delete=4})(Bp=M.WatchKind||(M.WatchKind={}));var $p;(function(e){e.type=new ae.ProtocolNotificationType("textDocument/publishDiagnostics")})($p=M.PublishDiagnosticsNotification||(M.PublishDiagnosticsNotification={}));var Vp;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(Vp=M.CompletionTriggerKind||(M.CompletionTriggerKind={}));var Yp;(function(e){e.method="textDocument/completion",e.type=new ae.ProtocolRequestType(e.method),e.resultType=new vt.ProgressType})(Yp=M.CompletionRequest||(M.CompletionRequest={}));var Xp;(function(e){e.method="completionItem/resolve",e.type=new ae.ProtocolRequestType(e.method)})(Xp=M.CompletionResolveRequest||(M.CompletionResolveRequest={}));var zp;(function(e){e.method="textDocument/hover",e.type=new ae.ProtocolRequestType(e.method)})(zp=M.HoverRequest||(M.HoverRequest={}));var Kp;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(Kp=M.SignatureHelpTriggerKind||(M.SignatureHelpTriggerKind={}));var Jp;(function(e){e.method="textDocument/signatureHelp",e.type=new ae.ProtocolRequestType(e.method)})(Jp=M.SignatureHelpRequest||(M.SignatureHelpRequest={}));var Qp;(function(e){e.method="textDocument/definition",e.type=new ae.ProtocolRequestType(e.method),e.resultType=new vt.ProgressType})(Qp=M.DefinitionRequest||(M.DefinitionRequest={}));var Zp;(function(e){e.method="textDocument/references",e.type=new ae.ProtocolRequestType(e.method),e.resultType=new vt.ProgressType})(Zp=M.ReferencesRequest||(M.ReferencesRequest={}));var eE;(function(e){e.method="textDocument/documentHighlight",e.type=new ae.ProtocolRequestType(e.method),e.resultType=new vt.ProgressType})(eE=M.DocumentHighlightRequest||(M.DocumentHighlightRequest={}));var tE;(function(e){e.method="textDocument/documentSymbol",e.type=new ae.ProtocolRequestType(e.method),e.resultType=new vt.ProgressType})(tE=M.DocumentSymbolRequest||(M.DocumentSymbolRequest={}));var rE;(function(e){e.method="textDocument/codeAction",e.type=new ae.ProtocolRequestType(e.method),e.resultType=new vt.ProgressType})(rE=M.CodeActionRequest||(M.CodeActionRequest={}));var nE;(function(e){e.method="workspace/symbol",e.type=new ae.ProtocolRequestType(e.method),e.resultType=new vt.ProgressType})(nE=M.WorkspaceSymbolRequest||(M.WorkspaceSymbolRequest={}));var iE;(function(e){e.type=new ae.ProtocolRequestType("textDocument/codeLens"),e.resultType=new vt.ProgressType})(iE=M.CodeLensRequest||(M.CodeLensRequest={}));var sE;(function(e){e.type=new ae.ProtocolRequestType("codeLens/resolve")})(sE=M.CodeLensResolveRequest||(M.CodeLensResolveRequest={}));var oE;(function(e){e.method="textDocument/documentLink",e.type=new ae.ProtocolRequestType(e.method),e.resultType=new vt.ProgressType})(oE=M.DocumentLinkRequest||(M.DocumentLinkRequest={}));var aE;(function(e){e.type=new ae.ProtocolRequestType("documentLink/resolve")})(aE=M.DocumentLinkResolveRequest||(M.DocumentLinkResolveRequest={}));var cE;(function(e){e.method="textDocument/formatting",e.type=new ae.ProtocolRequestType(e.method)})(cE=M.DocumentFormattingRequest||(M.DocumentFormattingRequest={}));var uE;(function(e){e.method="textDocument/rangeFormatting",e.type=new ae.ProtocolRequestType(e.method)})(uE=M.DocumentRangeFormattingRequest||(M.DocumentRangeFormattingRequest={}));var lE;(function(e){e.method="textDocument/onTypeFormatting",e.type=new ae.ProtocolRequestType(e.method)})(lE=M.DocumentOnTypeFormattingRequest||(M.DocumentOnTypeFormattingRequest={}));var fE;(function(e){e.method="textDocument/rename",e.type=new ae.ProtocolRequestType(e.method)})(fE=M.RenameRequest||(M.RenameRequest={}));var hE;(function(e){e.method="textDocument/prepareRename",e.type=new ae.ProtocolRequestType(e.method)})(hE=M.PrepareRenameRequest||(M.PrepareRenameRequest={}));var dE;(function(e){e.type=new ae.ProtocolRequestType("workspace/executeCommand")})(dE=M.ExecuteCommandRequest||(M.ExecuteCommandRequest={}));var pE;(function(e){e.type=new ae.ProtocolRequestType("workspace/applyEdit")})(pE=M.ApplyWorkspaceEditRequest||(M.ApplyWorkspaceEditRequest={}))});var vc=k(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});var _s=Ve(),EE;(function(e){e.method="textDocument/prepareCallHierarchy",e.type=new _s.ProtocolRequestType(e.method)})(EE=Mt.CallHierarchyPrepareRequest||(Mt.CallHierarchyPrepareRequest={}));var gE;(function(e){e.method="callHierarchy/incomingCalls",e.type=new _s.ProtocolRequestType(e.method)})(gE=Mt.CallHierarchyIncomingCallsRequest||(Mt.CallHierarchyIncomingCallsRequest={}));var mE;(function(e){e.method="callHierarchy/outgoingCalls",e.type=new _s.ProtocolRequestType(e.method)})(mE=Mt.CallHierarchyOutgoingCallsRequest||(Mt.CallHierarchyOutgoingCallsRequest={}))});var Tc=k(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});var Ns=Ve(),RE;(function(e){e.comment="comment",e.keyword="keyword",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.namespace="namespace",e.type="type",e.struct="struct",e.class="class",e.interface="interface",e.enum="enum",e.typeParameter="typeParameter",e.function="function",e.member="member",e.property="property",e.macro="macro",e.variable="variable",e.parameter="parameter",e.label="label"})(RE=We.SemanticTokenTypes||(We.SemanticTokenTypes={}));var vE;(function(e){e.documentation="documentation",e.declaration="declaration",e.definition="definition",e.reference="reference",e.static="static",e.abstract="abstract",e.deprecated="deprecated",e.async="async",e.volatile="volatile",e.readonly="readonly"})(vE=We.SemanticTokenModifiers||(We.SemanticTokenModifiers={}));var TE;(function(e){function t(r){let n=r;return n!==void 0&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}e.is=t})(TE=We.SemanticTokens||(We.SemanticTokens={}));var yE;(function(e){e.method="textDocument/semanticTokens",e.type=new Ns.ProtocolRequestType(e.method)})(yE=We.SemanticTokensRequest||(We.SemanticTokensRequest={}));var _E;(function(e){e.method="textDocument/semanticTokens/edits",e.type=new Ns.ProtocolRequestType(e.method)})(_E=We.SemanticTokensEditsRequest||(We.SemanticTokensEditsRequest={}));var NE;(function(e){e.method="textDocument/semanticTokens/range",e.type=new Ns.ProtocolRequestType(e.method)})(NE=We.SemanticTokensRangeRequest||(We.SemanticTokensRangeRequest={}))});var kt=k(he=>{"use strict";function yc(e){for(var t in e)he.hasOwnProperty(t)||(he[t]=e[t])}Object.defineProperty(he,"__esModule",{value:!0});var Re=tt();he.ErrorCodes=Re.ErrorCodes;he.ResponseError=Re.ResponseError;he.CancellationToken=Re.CancellationToken;he.CancellationTokenSource=Re.CancellationTokenSource;he.Disposable=Re.Disposable;he.Event=Re.Event;he.Emitter=Re.Emitter;he.Trace=Re.Trace;he.TraceFormat=Re.TraceFormat;he.SetTraceNotification=Re.SetTraceNotification;he.LogTraceNotification=Re.LogTraceNotification;he.RequestType=Re.RequestType;he.RequestType0=Re.RequestType0;he.NotificationType=Re.NotificationType;he.NotificationType0=Re.NotificationType0;he.MessageReader=Re.MessageReader;he.MessageWriter=Re.MessageWriter;he.ConnectionStrategy=Re.ConnectionStrategy;he.StreamMessageReader=Re.StreamMessageReader;he.StreamMessageWriter=Re.StreamMessageWriter;he.IPCMessageReader=Re.IPCMessageReader;he.IPCMessageWriter=Re.IPCMessageWriter;he.createClientPipeTransport=Re.createClientPipeTransport;he.createServerPipeTransport=Re.createServerPipeTransport;he.generateRandomPipeName=Re.generateRandomPipeName;he.createClientSocketTransport=Re.createClientSocketTransport;he.createServerSocketTransport=Re.createServerSocketTransport;he.ProgressType=Re.ProgressType;yc(Qa());yc(Rc());var Er=vc(),Tt=Tc(),OE;(function(e){let t;(function(a){a.method=Er.CallHierarchyPrepareRequest.method,a.type=Er.CallHierarchyPrepareRequest.type})(t=e.CallHierarchyPrepareRequest||(e.CallHierarchyPrepareRequest={}));let r;(function(a){a.method=Er.CallHierarchyIncomingCallsRequest.method,a.type=Er.CallHierarchyIncomingCallsRequest.type})(r=e.CallHierarchyIncomingCallsRequest||(e.CallHierarchyIncomingCallsRequest={}));let n;(function(a){a.method=Er.CallHierarchyOutgoingCallsRequest.method,a.type=Er.CallHierarchyOutgoingCallsRequest.type})(n=e.CallHierarchyOutgoingCallsRequest||(e.CallHierarchyOutgoingCallsRequest={})),e.SemanticTokenTypes=Tt.SemanticTokenTypes,e.SemanticTokenModifiers=Tt.SemanticTokenModifiers,e.SemanticTokens=Tt.SemanticTokens;let i;(function(a){a.method=Tt.SemanticTokensRequest.method,a.type=Tt.SemanticTokensRequest.type})(i=e.SemanticTokensRequest||(e.SemanticTokensRequest={}));let s;(function(a){a.method=Tt.SemanticTokensEditsRequest.method,a.type=Tt.SemanticTokensEditsRequest.type})(s=e.SemanticTokensEditsRequest||(e.SemanticTokensEditsRequest={}));let o;(function(a){a.method=Tt.SemanticTokensRangeRequest.method,a.type=Tt.SemanticTokensRangeRequest.type})(o=e.SemanticTokensRangeRequest||(e.SemanticTokensRangeRequest={}))})(OE=he.Proposed||(he.Proposed={}));function SE(e,t,r,n){return Re.createMessageConnection(e,t,r,n)}he.createProtocolConnection=SE});var Os=k(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});function IE(e){return e===!0||e===!1}nt.boolean=IE;function _c(e){return typeof e=="string"||e instanceof String}nt.string=_c;function CE(e){return typeof e=="number"||e instanceof Number}nt.number=CE;function AE(e){return e instanceof Error}nt.error=AE;function Nc(e){return typeof e=="function"}nt.func=Nc;function Oc(e){return Array.isArray(e)}nt.array=Oc;function bE(e){return Oc(e)&&e.every(t=>_c(t))}nt.stringArray=bE;function LE(e,t){return Array.isArray(e)&&e.every(t)}nt.typedArray=LE;function wE(e){return e&&Nc(e.then)}nt.thenable=wE});var Sc=k(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});var PE=kt(),DE=Os();Ss.ConfigurationFeature=e=>class extends e{getConfiguration(t){return t?DE.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let r={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(PE.ConfigurationRequest.type,r).then(n=>Array.isArray(t)?n:n[0])}}});var Ic=k(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});var An=kt();Is.WorkspaceFoldersFeature=e=>class extends e{initialize(t){let r=t.workspace;r&&r.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new An.Emitter,this.connection.onNotification(An.DidChangeWorkspaceFoldersNotification.type,n=>{this._onDidChangeWorkspaceFolders.fire(n.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(An.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(An.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}}});var Cs=k(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});var Gr=class{constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}},ce=class extends Gr{constructor(){super([ce._randomHex(),ce._randomHex(),ce._randomHex(),ce._randomHex(),ce._randomHex(),ce._randomHex(),ce._randomHex(),ce._randomHex(),"-",ce._randomHex(),ce._randomHex(),ce._randomHex(),ce._randomHex(),"-","4",ce._randomHex(),ce._randomHex(),ce._randomHex(),"-",ce._oneOf(ce._timeHighBits),ce._randomHex(),ce._randomHex(),ce._randomHex(),"-",ce._randomHex(),ce._randomHex(),ce._randomHex(),ce._randomHex(),ce._randomHex(),ce._randomHex(),ce._randomHex(),ce._randomHex(),ce._randomHex(),ce._randomHex(),ce._randomHex(),ce._randomHex()].join(""))}static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return ce._oneOf(ce._chars)}};ce._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];ce._timeHighBits=["8","9","a","b"];Vt.empty=new Gr("00000000-0000-0000-0000-000000000000");function Cc(){return new ce}Vt.v4=Cc;var ME=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Ac(e){return ME.test(e)}Vt.isUUID=Ac;function kE(e){if(!Ac(e))throw new Error("invalid uuid");return new Gr(e)}Vt.parse=kE;function xE(){return Cc().asHex()}Vt.generateUuid=xE});var bc=k(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});var xt=kt(),qE=Cs(),ft=class{constructor(t,r){this._connection=t,this._token=r,ft.Instances.set(this._token,this),this._source=new xt.CancellationTokenSource}get token(){return this._source.token}begin(t,r,n,i){let s={kind:"begin",title:t,percentage:r,message:n,cancellable:i};this._connection.sendProgress(xt.WorkDoneProgress.type,this._token,s)}report(t,r){let n={kind:"report"};typeof t=="number"?(n.percentage=t,r!==void 0&&(n.message=r)):n.message=t,this._connection.sendProgress(xt.WorkDoneProgress.type,this._token,n)}done(){ft.Instances.delete(this._token),this._source.dispose(),this._connection.sendProgress(xt.WorkDoneProgress.type,this._token,{kind:"end"})}cancel(){this._source.cancel()}};ft.Instances=new Map;var Hr=class{constructor(){this._source=new xt.CancellationTokenSource}get token(){return this._source.token}begin(){}report(){}done(){}};function FE(e,t){if(t===void 0||t.workDoneToken===void 0)return new Hr;let r=t.workDoneToken;return delete t.workDoneToken,new ft(e,r)}Br.attachWorkDone=FE;Br.ProgressFeature=e=>class extends e{initialize(t){var r;((r=t==null?void 0:t.window)===null||r===void 0?void 0:r.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(xt.WorkDoneProgressCancelNotification.type,n=>{let i=ft.Instances.get(n.token);i!==void 0&&i.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new Hr:new ft(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){let t=qE.generateUuid();return this.connection.sendRequest(xt.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new ft(this.connection,t))}else return Promise.resolve(new Hr)}};var As;(function(e){e.type=new xt.ProgressType})(As||(As={}));var bs=class{constructor(t,r){this._connection=t,this._token=r}report(t){this._connection.sendProgress(As.type,this._token,t)}};function UE(e,t){if(t===void 0||t.partialResultToken===void 0)return;let r=t.partialResultToken;return delete t.partialResultToken,new bs(e,r)}Br.attachPartialResult=UE});var wc=k(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});var jE=require("url"),it=require("path"),Ls=require("fs"),Ds=require("child_process");function WE(e){let t=jE.parse(e);if(t.protocol!=="file:"||!t.path)return;let r=t.path.split("/");for(var n=0,i=r.length;n<i;n++)r[n]=decodeURIComponent(r[n]);if(process.platform==="win32"&&r.length>1){let s=r[0],o=r[1];s.length===0&&o.length>1&&o[1]===":"&&r.shift()}return it.normalize(r.join("/"))}yt.uriToFilePath=WE;function ws(){return process.platform==="win32"}function bn(e,t,r,n){let i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((o,a)=>{let f=process.env,p=Object.create(null);Object.keys(f).forEach(E=>p[E]=f[E]),t&&Ls.existsSync(t)&&(p[i]?p[i]=t+it.delimiter+p[i]:p[i]=t,n&&n(`NODE_PATH value is: ${p[i]}`)),p.ELECTRON_RUN_AS_NODE="1";try{let E=Ds.fork("",[],{cwd:r,env:p,execArgv:["-e",s]});if(E.pid===void 0){a(new Error(`Starting process to resolve node module  ${e} failed`));return}E.on("error",R=>{a(R)}),E.on("message",R=>{R.c==="r"&&(E.send({c:"e"}),R.s?o(R.r):a(new Error(`Failed to resolve module: ${e}`)))});let m={c:"rs",a:e};E.send(m)}catch(E){a(E)}})}yt.resolve=bn;function Ps(e){let t="npm",r=Object.create(null);Object.keys(process.env).forEach(s=>r[s]=process.env[s]),r.NO_UPDATE_NOTIFIER="true";let n={encoding:"utf8",env:r};ws()&&(t="npm.cmd",n.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let s=Ds.spawnSync(t,["config","get","prefix"],n).stdout;if(!s){e&&e("'npm config get prefix' didn't return a value.");return}let o=s.trim();return e&&e(`'npm config get prefix' value is: ${o}`),o.length>0?ws()?it.join(o,"node_modules"):it.join(o,"lib","node_modules"):void 0}catch(s){return}finally{process.removeListener("SIGPIPE",i)}}yt.resolveGlobalNodePath=Ps;function GE(e){let t="yarn",r={encoding:"utf8"};ws()&&(t="yarn.cmd",r.shell=!0);let n=()=>{};try{process.on("SIGPIPE",n);let i=Ds.spawnSync(t,["global","dir","--json"],r),s=i.stdout;if(!s){e&&(e("'yarn global dir' didn't return a value."),i.stderr&&e(i.stderr));return}let o=s.trim().split(/\r?\n/);for(let a of o)try{let f=JSON.parse(a);if(f.type==="log")return it.join(f.data,"node_modules")}catch(f){}return}catch(i){return}finally{process.removeListener("SIGPIPE",n)}}yt.resolveGlobalYarnPath=GE;var Lc;(function(e){let t;function r(){return t!==void 0||(process.platform==="win32"?t=!1:t=!Ls.existsSync(__filename.toUpperCase())||!Ls.existsSync(__filename.toLowerCase())),t}e.isCaseSensitive=r;function n(i,s){return r()?it.normalize(s).indexOf(it.normalize(i))===0:it.normalize(s).toLowerCase().indexOf(it.normalize(i).toLowerCase())===0}e.isParent=n})(Lc=yt.FileSystem||(yt.FileSystem={}));function HE(e,t,r,n){return r?(it.isAbsolute(r)||(r=it.join(e,r)),bn(t,r,r,n).then(i=>Lc.isParent(r,i)?i:Promise.reject(new Error(`Failed to load ${t} from node path location.`))).then(void 0,i=>bn(t,Ps(n),e,n))):bn(t,Ps(n),e,n)}yt.resolveModulePath=HE});var Pc=k(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});var Ms=kt();ks.CallHierarchyFeature=e=>class extends e{get callHierarchy(){return{onPrepare:t=>{this.connection.onRequest(Ms.Proposed.CallHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0))},onIncomingCalls:t=>{let r=Ms.Proposed.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onOutgoingCalls:t=>{let r=Ms.Proposed.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}}});var Dc=k(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});var xs=kt();Ln.SemanticTokensFeature=e=>class extends e{get semanticTokens(){return{on:t=>{let r=xs.Proposed.SemanticTokensRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onEdits:t=>{let r=xs.Proposed.SemanticTokensEditsRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onRange:t=>{let r=xs.Proposed.SemanticTokensRangeRequest.type;this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};var qs=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,r,n,i,s){let o=t,a=r;this._dataLen>0&&(o-=this._prevLine,o===0&&(a-=this._prevChar)),this._data[this._dataLen++]=o,this._data[this._dataLen++]=a,this._data[this._dataLen++]=n,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._prevLine=t,this._prevChar=r}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){let t=this._prevData.length,r=this._data.length,n=0;for(;n<r&&n<t&&this._prevData[n]===this._data[n];)n++;if(n<r&&n<t){let i=0;for(;i<r&&i<t&&this._prevData[t-1-i]===this._data[r-1-i];)i++;let s=this._data.slice(n,r-i);return{resultId:this.id,edits:[{start:n,deleteCount:t-i-n,data:s}]}}else return n<r?{resultId:this.id,edits:[{start:n,deleteCount:0,data:this._data.slice(n)}]}:n<t?{resultId:this.id,edits:[{start:n,deleteCount:t-n}]}:{resultId:this.id,edits:[]}}else return this.build()}};Ln.SemanticTokensBuilder=qs});var $c=k(_e=>{"use strict";function BE(e){for(var t in e)_e.hasOwnProperty(t)||(_e[t]=e[t])}Object.defineProperty(_e,"__esModule",{value:!0});var H=kt();_e.Event=H.Event;var $E=Sc(),VE=Ic(),oe=bc(),xe=Os(),Us=Cs();BE(kt());var $r=wc(),YE;(function(e){e.uriToFilePath=$r.uriToFilePath,e.resolveGlobalNodePath=$r.resolveGlobalNodePath,e.resolveGlobalYarnPath=$r.resolveGlobalYarnPath,e.resolve=$r.resolve,e.resolveModulePath=$r.resolveModulePath})(YE=_e.Files||(_e.Files={}));var gr=!1,qc;function XE(){let e="--clientProcessId";function t(r){try{let n=parseInt(r);isNaN(n)||(qc=setInterval(()=>{try{process.kill(n,0)}catch(i){process.exit(gr?0:1)}},3e3))}catch(n){}}for(let r=2;r<process.argv.length;r++){let n=process.argv[r];if(n===e&&r+1<process.argv.length){t(process.argv[r+1]);return}else{let i=n.split("=");i[0]===e&&t(i[1])}}}XE();function Fs(e){if(e!==null)return e}var js=class{constructor(t){this._documents=Object.create(null),this._configuration=t,this._onDidChangeContent=new H.Emitter,this._onDidOpen=new H.Emitter,this._onDidClose=new H.Emitter,this._onDidSave=new H.Emitter,this._onWillSave=new H.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._documents[t]}all(){return Object.keys(this._documents).map(t=>this._documents[t])}keys(){return Object.keys(this._documents)}listen(t){t.__textDocumentSync=H.TextDocumentSyncKind.Full,t.onDidOpenTextDocument(r=>{let n=r.textDocument,i=this._configuration.create(n.uri,n.languageId,n.version,n.text);this._documents[n.uri]=i;let s=Object.freeze({document:i});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)}),t.onDidChangeTextDocument(r=>{let n=r.textDocument,i=r.contentChanges;if(i.length===0)return;let s=this._documents[n.uri],{version:o}=n;if(o==null)throw new Error(`Received document change event for ${n.uri} without valid version identifier`);s=this._configuration.update(s,i,o),this._documents[n.uri]=s,this._onDidChangeContent.fire(Object.freeze({document:s}))}),t.onDidCloseTextDocument(r=>{let n=this._documents[r.textDocument.uri];n&&(delete this._documents[r.textDocument.uri],this._onDidClose.fire(Object.freeze({document:n})))}),t.onWillSaveTextDocument(r=>{let n=this._documents[r.textDocument.uri];n&&this._onWillSave.fire(Object.freeze({document:n,reason:r.reason}))}),t.onWillSaveTextDocumentWaitUntil((r,n)=>{let i=this._documents[r.textDocument.uri];return i&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:i,reason:r.reason}),n):[]}),t.onDidSaveTextDocument(r=>{let n=this._documents[r.textDocument.uri];n&&this._onDidSave.fire(Object.freeze({document:n}))})}};_e.TextDocuments=js;var Ws=class{constructor(){this._messages=Object.create(null)}add(t){let r=this._messages[t];r||(r=0),r++,this._messages[t]=r}sendErrors(t){Object.keys(this._messages).forEach(r=>{t.window.showErrorMessage(r)})}};_e.ErrorMessageTracker=Ws;var wn=class{constructor(){}rawAttach(t){this._rawConnection=t}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(t){}initialize(t){}error(t){this.send(H.MessageType.Error,t)}warn(t){this.send(H.MessageType.Warning,t)}info(t){this.send(H.MessageType.Info,t)}log(t){this.send(H.MessageType.Log,t)}send(t,r){this._rawConnection&&this._rawConnection.sendNotification(H.LogMessageNotification.type,{type:t,message:r})}},Gs=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}showErrorMessage(t,...r){let n={type:H.MessageType.Error,message:t,actions:r};return this._connection.sendRequest(H.ShowMessageRequest.type,n).then(Fs)}showWarningMessage(t,...r){let n={type:H.MessageType.Warning,message:t,actions:r};return this._connection.sendRequest(H.ShowMessageRequest.type,n).then(Fs)}showInformationMessage(t,...r){let n={type:H.MessageType.Info,message:t,actions:r};return this._connection.sendRequest(H.ShowMessageRequest.type,n).then(Fs)}},Mc=oe.ProgressFeature(Gs),zE;(function(e){function t(){return new Pn}e.create=t})(zE=_e.BulkRegistration||(_e.BulkRegistration={}));var Pn=class{constructor(){this._registrations=[],this._registered=new Set}add(t,r){let n=xe.string(t)?t:t.method;if(this._registered.has(n))throw new Error(`${n} is already added to this registration`);let i=Us.generateUuid();this._registrations.push({id:i,method:n,registerOptions:r||{}}),this._registered.add(n)}asRegistrationParams(){return{registrations:this._registrations}}},KE;(function(e){function t(){return new Vr(void 0,[])}e.create=t})(KE=_e.BulkUnregistration||(_e.BulkUnregistration={}));var Vr=class{constructor(t,r){this._connection=t,this._unregistrations=new Map,r.forEach(n=>{this._unregistrations.set(n.method,n)})}get isAttached(){return!!this._connection}attach(t){this._connection=t}add(t){this._unregistrations.set(t.method,t)}dispose(){let t=[];for(let n of this._unregistrations.values())t.push(n);let r={unregisterations:t};this._connection.sendRequest(H.UnregistrationRequest.type,r).then(void 0,n=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(t){let r=xe.string(t)?t:t.method,n=this._unregistrations.get(r);if(!n)return!1;let i={unregisterations:[n]};return this._connection.sendRequest(H.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(r)},s=>{this._connection.console.info(`Unregistering request handler for ${n.id} failed.`)}),!0}},Dn=class{attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}register(t,r,n){return t instanceof Pn?this.registerMany(t):t instanceof Vr?this.registerSingle1(t,r,n):this.registerSingle2(t,r)}registerSingle1(t,r,n){let i=xe.string(r)?r:r.method,s=Us.generateUuid(),o={registrations:[{id:s,method:i,registerOptions:n||{}}]};return t.isAttached||t.attach(this._connection),this._connection.sendRequest(H.RegistrationRequest.type,o).then(a=>(t.add({id:s,method:i}),t),a=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(a)))}registerSingle2(t,r){let n=xe.string(t)?t:t.method,i=Us.generateUuid(),s={registrations:[{id:i,method:n,registerOptions:r||{}}]};return this._connection.sendRequest(H.RegistrationRequest.type,s).then(o=>H.Disposable.create(()=>{this.unregisterSingle(i,n)}),o=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(o)))}unregisterSingle(t,r){let n={unregisterations:[{id:t,method:r}]};return this._connection.sendRequest(H.UnregistrationRequest.type,n).then(void 0,i=>{this.connection.console.info(`Unregistering request handler for ${t} failed.`)})}registerMany(t){let r=t.asRegistrationParams();return this._connection.sendRequest(H.RegistrationRequest.type,r).then(()=>new Vr(this._connection,r.registrations.map(n=>({id:n.id,method:n.method}))),n=>(this.connection.console.info("Bulk registration failed."),Promise.reject(n)))}},Hs=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}applyEdit(t){function r(i){return i&&!!i.edit}let n=r(t)?t:{edit:t};return this._connection.sendRequest(H.ApplyWorkspaceEditRequest.type,n)}},kc=VE.WorkspaceFoldersFeature($E.ConfigurationFeature(Hs)),Mn=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}logEvent(t){this._connection.sendNotification(H.TelemetryEventNotification.type,t)}},kn=class{constructor(){this._trace=H.Trace.Off}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}set trace(t){this._trace=t}log(t,r){this._trace!==H.Trace.Off&&this._connection.sendNotification(H.LogTraceNotification.type,{message:t,verbose:this._trace===H.Trace.Verbose?r:void 0})}},Yr=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return oe.attachWorkDone(this.connection,t)}attachPartialResultProgress(t,r){return oe.attachPartialResult(this.connection,r)}};_e.LanguagesImpl=Yr;function Fc(e,t){return function(r){return t(e(r))}}_e.combineConsoleFeatures=Fc;function Uc(e,t){return function(r){return t(e(r))}}_e.combineTelemetryFeatures=Uc;function jc(e,t){return function(r){return t(e(r))}}_e.combineTracerFeatures=jc;function Wc(e,t){return function(r){return t(e(r))}}_e.combineClientFeatures=Wc;function Gc(e,t){return function(r){return t(e(r))}}_e.combineWindowFeatures=Gc;function Hc(e,t){return function(r){return t(e(r))}}_e.combineWorkspaceFeatures=Hc;function Bc(e,t){return function(r){return t(e(r))}}_e.combineLanguagesFeatures=Bc;function JE(e,t){function r(i,s,o){return i&&s?o(i,s):i||s}return{__brand:"features",console:r(e.console,t.console,Fc),tracer:r(e.tracer,t.tracer,jc),telemetry:r(e.telemetry,t.telemetry,Uc),client:r(e.client,t.client,Wc),window:r(e.window,t.window,Gc),workspace:r(e.workspace,t.workspace,Hc)}}_e.combineFeatures=JE;function QE(e,t,r,n){let i,s,o,a;return e!==void 0&&e.__brand==="features"&&(i=e,e=t,t=r,r=n),H.ConnectionStrategy.is(e)?a=e:(s=e,o=t,a=r),ZE(s,o,a,i)}_e.createConnection=QE;function ZE(e,t,r,n){if(!e&&!t&&process.argv.length>2){let _,v,C=process.argv.slice(2);for(let X=0;X<C.length;X++){let U=C[X];if(U==="--node-ipc"){e=new H.IPCMessageReader(process),t=new H.IPCMessageWriter(process);break}else if(U==="--stdio"){e=process.stdin,t=process.stdout;break}else if(U==="--socket"){_=parseInt(C[X+1]);break}else if(U==="--pipe"){v=C[X+1];break}else{var i=U.split("=");if(i[0]==="--socket"){_=parseInt(i[1]);break}else if(i[0]==="--pipe"){v=i[1];break}}}if(_){let X=H.createServerSocketTransport(_);e=X[0],t=X[1]}else if(v){let X=H.createServerPipeTransport(v);e=X[0],t=X[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+s);if(!t)throw new Error("Connection output stream is not set. "+s);if(xe.func(e.read)&&xe.func(e.on)){let _=e;_.on("end",()=>{process.exit(gr?0:1)}),_.on("close",()=>{process.exit(gr?0:1)})}let o=n&&n.console?new(n.console(wn)):new wn,a=H.createProtocolConnection(e,t,o,r);o.rawAttach(a);let f=n&&n.tracer?new(n.tracer(kn)):new kn,p=n&&n.telemetry?new(n.telemetry(Mn)):new Mn,E=n&&n.client?new(n.client(Dn)):new Dn,m=n&&n.window?new(n.window(Mc)):new Mc,R=n&&n.workspace?new(n.workspace(kc)):new kc,N=n&&n.languages?new(n.languages(Yr)):new Yr,A=[o,f,p,E,m,R,N];function x(_){return _ instanceof Promise?_:xe.thenable(_)?new Promise((v,C)=>{_.then(X=>v(X),X=>C(X))}):Promise.resolve(_)}let B,j,Z,$={listen:()=>a.listen(),sendRequest:(_,...v)=>a.sendRequest(xe.string(_)?_:_.method,...v),onRequest:(_,v)=>a.onRequest(_,v),sendNotification:(_,v)=>{let C=xe.string(_)?_:_.method;arguments.length===1?a.sendNotification(C):a.sendNotification(C,v)},onNotification:(_,v)=>a.onNotification(_,v),onProgress:a.onProgress,sendProgress:a.sendProgress,onInitialize:_=>j=_,onInitialized:_=>a.onNotification(H.InitializedNotification.type,_),onShutdown:_=>B=_,onExit:_=>Z=_,get console(){return o},get telemetry(){return p},get tracer(){return f},get client(){return E},get window(){return m},get workspace(){return R},get languages(){return N},onDidChangeConfiguration:_=>a.onNotification(H.DidChangeConfigurationNotification.type,_),onDidChangeWatchedFiles:_=>a.onNotification(H.DidChangeWatchedFilesNotification.type,_),__textDocumentSync:void 0,onDidOpenTextDocument:_=>a.onNotification(H.DidOpenTextDocumentNotification.type,_),onDidChangeTextDocument:_=>a.onNotification(H.DidChangeTextDocumentNotification.type,_),onDidCloseTextDocument:_=>a.onNotification(H.DidCloseTextDocumentNotification.type,_),onWillSaveTextDocument:_=>a.onNotification(H.WillSaveTextDocumentNotification.type,_),onWillSaveTextDocumentWaitUntil:_=>a.onRequest(H.WillSaveTextDocumentWaitUntilRequest.type,_),onDidSaveTextDocument:_=>a.onNotification(H.DidSaveTextDocumentNotification.type,_),sendDiagnostics:_=>a.sendNotification(H.PublishDiagnosticsNotification.type,_),onHover:_=>a.onRequest(H.HoverRequest.type,(v,C)=>_(v,C,oe.attachWorkDone(a,v),void 0)),onCompletion:_=>a.onRequest(H.CompletionRequest.type,(v,C)=>_(v,C,oe.attachWorkDone(a,v),oe.attachPartialResult(a,v))),onCompletionResolve:_=>a.onRequest(H.CompletionResolveRequest.type,_),onSignatureHelp:_=>a.onRequest(H.SignatureHelpRequest.type,(v,C)=>_(v,C,oe.attachWorkDone(a,v),void 0)),onDeclaration:_=>a.onRequest(H.DeclarationRequest.type,(v,C)=>_(v,C,oe.attachWorkDone(a,v),oe.attachPartialResult(a,v))),onDefinition:_=>a.onRequest(H.DefinitionRequest.type,(v,C)=>_(v,C,oe.attachWorkDone(a,v),oe.attachPartialResult(a,v))),onTypeDefinition:_=>a.onRequest(H.TypeDefinitionRequest.type,(v,C)=>_(v,C,oe.attachWorkDone(a,v),oe.attachPartialResult(a,v))),onImplementation:_=>a.onRequest(H.ImplementationRequest.type,(v,C)=>_(v,C,oe.attachWorkDone(a,v),oe.attachPartialResult(a,v))),onReferences:_=>a.onRequest(H.ReferencesRequest.type,(v,C)=>_(v,C,oe.attachWorkDone(a,v),oe.attachPartialResult(a,v))),onDocumentHighlight:_=>a.onRequest(H.DocumentHighlightRequest.type,(v,C)=>_(v,C,oe.attachWorkDone(a,v),oe.attachPartialResult(a,v))),onDocumentSymbol:_=>a.onRequest(H.DocumentSymbolRequest.type,(v,C)=>_(v,C,oe.attachWorkDone(a,v),oe.attachPartialResult(a,v))),onWorkspaceSymbol:_=>a.onRequest(H.WorkspaceSymbolRequest.type,(v,C)=>_(v,C,oe.attachWorkDone(a,v),oe.attachPartialResult(a,v))),onCodeAction:_=>a.onRequest(H.CodeActionRequest.type,(v,C)=>_(v,C,oe.attachWorkDone(a,v),oe.attachPartialResult(a,v))),onCodeLens:_=>a.onRequest(H.CodeLensRequest.type,(v,C)=>_(v,C,oe.attachWorkDone(a,v),oe.attachPartialResult(a,v))),onCodeLensResolve:_=>a.onRequest(H.CodeLensResolveRequest.type,(v,C)=>_(v,C)),onDocumentFormatting:_=>a.onRequest(H.DocumentFormattingRequest.type,(v,C)=>_(v,C,oe.attachWorkDone(a,v),void 0)),onDocumentRangeFormatting:_=>a.onRequest(H.DocumentRangeFormattingRequest.type,(v,C)=>_(v,C,oe.attachWorkDone(a,v),void 0)),onDocumentOnTypeFormatting:_=>a.onRequest(H.DocumentOnTypeFormattingRequest.type,(v,C)=>_(v,C)),onRenameRequest:_=>a.onRequest(H.RenameRequest.type,(v,C)=>_(v,C,oe.attachWorkDone(a,v),void 0)),onPrepareRename:_=>a.onRequest(H.PrepareRenameRequest.type,(v,C)=>_(v,C)),onDocumentLinks:_=>a.onRequest(H.DocumentLinkRequest.type,(v,C)=>_(v,C,oe.attachWorkDone(a,v),oe.attachPartialResult(a,v))),onDocumentLinkResolve:_=>a.onRequest(H.DocumentLinkResolveRequest.type,(v,C)=>_(v,C)),onDocumentColor:_=>a.onRequest(H.DocumentColorRequest.type,(v,C)=>_(v,C,oe.attachWorkDone(a,v),oe.attachPartialResult(a,v))),onColorPresentation:_=>a.onRequest(H.ColorPresentationRequest.type,(v,C)=>_(v,C,oe.attachWorkDone(a,v),oe.attachPartialResult(a,v))),onFoldingRanges:_=>a.onRequest(H.FoldingRangeRequest.type,(v,C)=>_(v,C,oe.attachWorkDone(a,v),oe.attachPartialResult(a,v))),onSelectionRanges:_=>a.onRequest(H.SelectionRangeRequest.type,(v,C)=>_(v,C,oe.attachWorkDone(a,v),oe.attachPartialResult(a,v))),onExecuteCommand:_=>a.onRequest(H.ExecuteCommandRequest.type,(v,C)=>_(v,C,oe.attachWorkDone(a,v),void 0)),dispose:()=>a.dispose()};for(let _ of A)_.attach($);return a.onRequest(H.InitializeRequest.type,_=>{let v=_.processId;xe.number(v)&&qc===void 0&&setInterval(()=>{try{process.kill(v,0)}catch(C){process.exit(gr?0:1)}},3e3),xe.string(_.trace)&&(f.trace=H.Trace.fromString(_.trace));for(let C of A)C.initialize(_.capabilities);if(j){let C=j(_,new H.CancellationTokenSource().token,oe.attachWorkDone(a,_),void 0);return x(C).then(X=>{if(X instanceof H.ResponseError)return X;let U=X;U||(U={capabilities:{}});let V=U.capabilities;V||(V={},U.capabilities=V),V.textDocumentSync===void 0||V.textDocumentSync===null?V.textDocumentSync=xe.number($.__textDocumentSync)?$.__textDocumentSync:H.TextDocumentSyncKind.None:!xe.number(V.textDocumentSync)&&!xe.number(V.textDocumentSync.change)&&(V.textDocumentSync.change=xe.number($.__textDocumentSync)?$.__textDocumentSync:H.TextDocumentSyncKind.None);for(let ne of A)ne.fillServerCapabilities(V);return U})}else{let C={capabilities:{textDocumentSync:H.TextDocumentSyncKind.None}};for(let X of A)X.fillServerCapabilities(C.capabilities);return C}}),a.onRequest(H.ShutdownRequest.type,()=>{if(gr=!0,B)return B(new H.CancellationTokenSource().token)}),a.onNotification(H.ExitNotification.type,()=>{try{Z&&Z()}finally{gr?process.exit(0):process.exit(1)}}),a.onNotification(H.SetTraceNotification.type,_=>{f.trace=H.Trace.fromString(_.value)}),$}var eg=Pc(),xc=Dc(),tg;(function(e){e.all={__brand:"features",languages:Bc(eg.CallHierarchyFeature,xc.SemanticTokensFeature)},e.SemanticTokensBuilder=xc.SemanticTokensBuilder})(tg=_e.ProposedFeatures||(_e.ProposedFeatures={}))});var Bs=k(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.NotifyResponseError=void 0;var rg=$c(),xn=class extends rg.ResponseError{constructor(t,r,n){super(t,r,n)}};Xr.NotifyResponseError=xn;Xr.default=xn});var $s=k(mr=>{"use strict";Object.defineProperty(mr,"__esModule",{value:!0});mr.MissingModuleNotification=mr.ElectronNotSupportedNotification=void 0;mr.ElectronNotSupportedNotification="Core/electronNotSupported";mr.MissingModuleNotification="Core/missingModule"});var Vc=k(Yt=>{"use strict";var ng=Yt&&Yt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.ElectronNotSupportedError=void 0;var ig=ng(Bs()),sg=$s(),qn=class extends ig.default{constructor(t="Electron is not supported. You should enable 'sqltools.useNodeRuntime' and have NodeJS installed to continue."){super(1001,t,{notification:sg.ElectronNotSupportedNotification,dontNotify:!0})}};Yt.ElectronNotSupportedError=qn;Yt.default=qn});var Yc=k(Xt=>{"use strict";var og=Xt&&Xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.MissingModuleError=void 0;var ag=og(Bs()),cg=$s(),Fn=class extends ag.default{constructor(t,r,n=!1){super(1e3,`Missing module "${t.map((i,s)=>`${i.name}@${i.version||"latest"}${s===t.length-2?" and ":s===t.length-1?"":", "}`).join("")}". Need to ${n?"upgrade":"install"}.`,{notification:cg.MissingModuleNotification,dontNotify:!0,args:{conn:r,action:n?"upgrade":"install",deps:t}})}};Xt.MissingModuleError=Fn;Xt.default=Fn});var Kc=k((aN,Ys)=>{"use strict";var Ne=require("path"),Xc=require("os"),qt=Xc.homedir(),Vs=Xc.tmpdir(),{env:Rr}=process,ug=e=>{let t=Ne.join(qt,"Library");return{data:Ne.join(t,"Application Support",e),config:Ne.join(t,"Preferences",e),cache:Ne.join(t,"Caches",e),log:Ne.join(t,"Logs",e),temp:Ne.join(Vs,e)}},lg=e=>{let t=Rr.APPDATA||Ne.join(qt,"AppData","Roaming"),r=Rr.LOCALAPPDATA||Ne.join(qt,"AppData","Local");return{data:Ne.join(r,e,"Data"),config:Ne.join(t,e,"Config"),cache:Ne.join(r,e,"Cache"),log:Ne.join(r,e,"Log"),temp:Ne.join(Vs,e)}},fg=e=>{let t=Ne.basename(qt);return{data:Ne.join(Rr.XDG_DATA_HOME||Ne.join(qt,".local","share"),e),config:Ne.join(Rr.XDG_CONFIG_HOME||Ne.join(qt,".config"),e),cache:Ne.join(Rr.XDG_CACHE_HOME||Ne.join(qt,".cache"),e),log:Ne.join(Rr.XDG_STATE_HOME||Ne.join(qt,".local","state"),e),temp:Ne.join(Vs,t,e)}},zc=(e,t)=>{if(typeof e!="string")throw new TypeError(`Expected string, got ${typeof e}`);return t=Object.assign({suffix:"nodejs"},t),t.suffix&&(e+=`-${t.suffix}`),process.platform==="darwin"?ug(e):process.platform==="win32"?lg(e):fg(e)};Ys.exports=zc;Ys.exports.default=zc});var Xs=k((cN,Jc)=>{Jc.exports=function(){var e=Error.prepareStackTrace;Error.prepareStackTrace=function(r,n){return n};var t=new Error().stack;return Error.prepareStackTrace=e,t[2].getFileName()}});var Qc=k((uN,zr)=>{"use strict";var hg=process.platform==="win32",dg=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,zs={};function pg(e){return dg.exec(e).slice(1)}zs.parse=function(e){if(typeof e!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=pg(e);if(!t||t.length!==5)throw new TypeError("Invalid path '"+e+"'");return{root:t[1],dir:t[0]===t[1]?t[0]:t[0].slice(0,-1),base:t[2],ext:t[4],name:t[3]}};var Eg=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,Ks={};function gg(e){return Eg.exec(e).slice(1)}Ks.parse=function(e){if(typeof e!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=gg(e);if(!t||t.length!==5)throw new TypeError("Invalid path '"+e+"'");return{root:t[1],dir:t[0].slice(0,-1),base:t[2],ext:t[4],name:t[3]}};hg?zr.exports=zs.parse:zr.exports=Ks.parse;zr.exports.posix=Ks.parse;zr.exports.win32=zs.parse});var Js=k((lN,ru)=>{var tu=require("path"),Zc=tu.parse||Qc(),eu=function(t,r){var n="/";/^([A-Za-z]:)/.test(t)?n="":/^\\\\/.test(t)&&(n="\\\\");for(var i=[t],s=Zc(t);s.dir!==i[i.length-1];)i.push(s.dir),s=Zc(s.dir);return i.reduce(function(o,a){return o.concat(r.map(function(f){return tu.resolve(n,a,f)}))},[])};ru.exports=function(t,r,n){var i=r&&r.moduleDirectory?[].concat(r.moduleDirectory):["node_modules"];if(r&&typeof r.paths=="function")return r.paths(n,t,function(){return eu(t,i)},r);var s=eu(t,i);return r&&r.paths?s.concat(r.paths):s}});var Qs=k((fN,nu)=>{nu.exports=function(e,t){return t||{}}});var iu=k((hN,mg)=>{mg.exports={assert:!0,async_hooks:">= 8",buffer_ieee754:"< 0.9.7",buffer:!0,child_process:!0,cluster:!0,console:!0,constants:!0,crypto:!0,_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,dns:!0,domain:!0,events:!0,freelist:"< 6",fs:!0,"fs/promises":[">= 10 && < 10.1",">= 14"],_http_agent:">= 0.11.1",_http_client:">= 0.11.1",_http_common:">= 0.11.1",_http_incoming:">= 0.11.1",_http_outgoing:">= 0.11.1",_http_server:">= 0.11.1",http:!0,http2:">= 8.8",https:!0,inspector:">= 8.0.0",_linklist:"< 8",module:!0,net:!0,"node-inspect/lib/_inspect":">= 7.6.0 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6.0 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6.0 && < 12",os:!0,path:!0,perf_hooks:">= 8.5",process:">= 1",punycode:!0,querystring:!0,readline:!0,repl:!0,smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4",_stream_transform:">= 0.9.4",_stream_wrap:">= 1.4.1",_stream_passthrough:">= 0.9.4",_stream_readable:">= 0.9.4",_stream_writable:">= 0.9.4",stream:!0,string_decoder:!0,sys:!0,timers:!0,_tls_common:">= 0.11.13",_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3",tls:!0,trace_events:">= 10",tty:!0,url:!0,util:!0,"v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/consarray":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/csvparser":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/logreader":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/profile_view":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],"v8/tools/splaytree":[">= 4.4.0 && < 5",">= 5.2.0 && < 12"],v8:">= 1",vm:!0,wasi:">= 13.4 && < 13.5",worker_threads:">= 11.7",zlib:!0}});var eo=k((dN,au)=>{var Rg=process.versions&&process.versions.node&&process.versions.node.split(".")||[];function vg(e){for(var t=e.split(" "),r=t.length>1?t[0]:"=",n=(t.length>1?t[1]:t[0]).split("."),i=0;i<3;++i){var s=Number(Rg[i]||0),o=Number(n[i]||0);if(s!==o)return r==="<"?s<o:r===">="?s>=o:!1}return r===">="}function su(e){var t=e.split(/ ?&& ?/);if(t.length===0)return!1;for(var r=0;r<t.length;++r)if(!vg(t[r]))return!1;return!0}function Tg(e){if(typeof e=="boolean")return e;if(e&&typeof e=="object"){for(var t=0;t<e.length;++t)if(su(e[t]))return!0;return!1}return su(e)}var Zs=iu(),ou={};for(Un in Zs)Object.prototype.hasOwnProperty.call(Zs,Un)&&(ou[Un]=Tg(Zs[Un]));var Un;au.exports=ou});var jn=k((pN,cu)=>{var yg=eo();cu.exports=function(t){return Object.prototype.hasOwnProperty.call(yg,t)}});var lu=k((EN,uu)=>{var zt=require("fs"),we=require("path"),_g=Xs(),Ng=Js(),Og=Qs(),Sg=jn(),Ig=zt.realpath&&typeof zt.realpath.native=="function"?zt.realpath.native:zt.realpath,Cg=function(t,r){zt.stat(t,function(n,i){return n?n.code==="ENOENT"||n.code==="ENOTDIR"?r(null,!1):r(n):r(null,i.isFile()||i.isFIFO())})},Ag=function(t,r){zt.stat(t,function(n,i){return n?n.code==="ENOENT"||n.code==="ENOTDIR"?r(null,!1):r(n):r(null,i.isDirectory())})},bg=function(t,r){Ig(t,function(n,i){n&&n.code!=="ENOENT"?r(n):r(null,n?t:i)})},Kr=function(t,r,n,i){n&&n.preserveSymlinks===!1?t(r,i):i(null,r)},Lg=function(t,r,n){for(var i=Ng(r,n,t),s=0;s<i.length;s++)i[s]=we.join(i[s],t);return i};uu.exports=function(t,r,n){var i=n,s=r;if(typeof r=="function"&&(i=s,s={}),typeof t!="string"){var o=new TypeError("Path must be a string.");return process.nextTick(function(){i(o)})}s=Og(t,s);var a=s.isFile||Cg,f=s.isDirectory||Ag,p=s.readFile||zt.readFile,E=s.realpath||bg,m=s.packageIterator,R=s.extensions||[".js"],N=s.basedir||we.dirname(_g()),A=s.filename||N;s.paths=s.paths||[];var x=we.resolve(N);Kr(E,x,s,function(U,V){U?i(U):j(V)});var B;function j(U){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(t))B=we.resolve(U,t),(t==="."||t===".."||t.slice(-1)==="/")&&(B+="/"),/\/$/.test(t)&&B===U?v(B,s.package,Z):$(B,s.package,Z);else{if(Sg(t))return i(null,t);X(t,U,function(V,ne,S){if(V)i(V);else{if(ne)return Kr(E,ne,s,function(F,W){F?i(F):i(null,W,S)});var b=new Error("Cannot find module '"+t+"' from '"+A+"'");b.code="MODULE_NOT_FOUND",i(b)}})}}function Z(U,V,ne){U?i(U):V?i(null,V,ne):v(B,function(S,b,F){if(S)i(S);else if(b)Kr(E,b,s,function(Q,J){Q?i(Q):i(null,J,F)});else{var W=new Error("Cannot find module '"+t+"' from '"+A+"'");W.code="MODULE_NOT_FOUND",i(W)}})}function $(U,V,ne){var S=V,b=ne;typeof S=="function"&&(b=S,S=void 0);var F=[""].concat(R);W(F,U,S);function W(Q,J,te){if(Q.length===0)return b(null,void 0,te);var ve=J+Q[0],de=te;de?fe(null,de):_(we.dirname(ve),fe);function fe(me,Le,Ce){if(de=Le,me)return b(me);if(Ce&&de&&s.pathFilter){var Fe=we.relative(Ce,ve),Xe=Fe.slice(0,Fe.length-Q[0].length),ke=s.pathFilter(de,J,Xe);if(ke)return W([""].concat(R.slice()),we.resolve(Ce,ke),de)}a(ve,Ie)}function Ie(me,Le){if(me)return b(me);if(Le)return b(null,ve,de);W(Q.slice(1),J,de)}}}function _(U,V){if(U===""||U==="/"||process.platform==="win32"&&/^\w:[/\\]*$/.test(U)||/[/\\]node_modules[/\\]*$/.test(U))return V(null);Kr(E,U,s,function(ne,S){if(ne)return _(we.dirname(U),V);var b=we.join(S,"package.json");a(b,function(F,W){if(!W)return _(we.dirname(U),V);p(b,function(Q,J){Q&&V(Q);try{var te=JSON.parse(J)}catch(ve){}te&&s.packageFilter&&(te=s.packageFilter(te,b)),V(null,te,U)})})})}function v(U,V,ne){var S=ne,b=V;typeof b=="function"&&(S=b,b=s.package),Kr(E,U,s,function(F,W){if(F)return S(F);var Q=we.join(W,"package.json");a(Q,function(J,te){if(J)return S(J);if(!te)return $(we.join(U,"index"),b,S);p(Q,function(ve,de){if(ve)return S(ve);try{var fe=JSON.parse(de)}catch(me){}if(fe&&s.packageFilter&&(fe=s.packageFilter(fe,Q)),fe&&fe.main){if(typeof fe.main!="string"){var Ie=new TypeError("package \u201C"+fe.name+"\u201D `main` must be a string");return Ie.code="INVALID_PACKAGE_MAIN",S(Ie)}(fe.main==="."||fe.main==="./")&&(fe.main="index"),$(we.resolve(U,fe.main),fe,function(me,Le,Ce){if(me)return S(me);if(Le)return S(null,Le,Ce);if(!Ce)return $(we.join(U,"index"),Ce,S);var Fe=we.resolve(U,Ce.main);v(Fe,Ce,function(Xe,ke,Ue){if(Xe)return S(Xe);if(ke)return S(null,ke,Ue);$(we.join(U,"index"),Ue,S)})});return}$(we.join(U,"/index"),fe,S)})})})}function C(U,V){if(V.length===0)return U(null,void 0);var ne=V[0];f(we.dirname(ne),S);function S(W,Q){if(W)return U(W);if(!Q)return C(U,V.slice(1));$(ne,s.package,b)}function b(W,Q,J){if(W)return U(W);if(Q)return U(null,Q,J);v(ne,s.package,F)}function F(W,Q,J){if(W)return U(W);if(Q)return U(null,Q,J);C(U,V.slice(1))}}function X(U,V,ne){var S=function(){return Lg(U,V,s)};C(ne,m?m(U,V,S,s):S())}}});var hu=k((gN,fu)=>{var wg=jn(),Kt=require("fs"),Ge=require("path"),Pg=Xs(),Dg=Js(),Mg=Qs(),kg=Kt.realpathSync&&typeof Kt.realpathSync.native=="function"?Kt.realpathSync.native:Kt.realpathSync,xg=function(t){try{var r=Kt.statSync(t)}catch(n){if(n&&(n.code==="ENOENT"||n.code==="ENOTDIR"))return!1;throw n}return r.isFile()||r.isFIFO()},qg=function(t){try{var r=Kt.statSync(t)}catch(n){if(n&&(n.code==="ENOENT"||n.code==="ENOTDIR"))return!1;throw n}return r.isDirectory()},Fg=function(t){try{return kg(t)}catch(r){if(r.code!=="ENOENT")throw r}return t},Jr=function(t,r,n){return n&&n.preserveSymlinks===!1?t(r):r},Ug=function(t,r,n){for(var i=Dg(r,n,t),s=0;s<i.length;s++)i[s]=Ge.join(i[s],t);return i};fu.exports=function(t,r){if(typeof t!="string")throw new TypeError("Path must be a string.");var n=Mg(t,r),i=n.isFile||xg,s=n.readFileSync||Kt.readFileSync,o=n.isDirectory||qg,a=n.realpathSync||Fg,f=n.packageIterator,p=n.extensions||[".js"],E=n.basedir||Ge.dirname(Pg()),m=n.filename||E;n.paths=n.paths||[];var R=Jr(a,Ge.resolve(E),n);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(t)){var N=Ge.resolve(R,t);(t==="."||t===".."||t.slice(-1)==="/")&&(N+="/");var A=j(N)||$(N);if(A)return Jr(a,A,n)}else{if(wg(t))return t;var x=_(t,R);if(x)return Jr(a,x,n)}var B=new Error("Cannot find module '"+t+"' from '"+m+"'");throw B.code="MODULE_NOT_FOUND",B;function j(v){var C=Z(Ge.dirname(v));if(C&&C.dir&&C.pkg&&n.pathFilter){var X=Ge.relative(C.dir,v),U=n.pathFilter(C.pkg,v,X);U&&(v=Ge.resolve(C.dir,U))}if(i(v))return v;for(var V=0;V<p.length;V++){var ne=v+p[V];if(i(ne))return ne}}function Z(v){if(!(v===""||v==="/")&&!(process.platform==="win32"&&/^\w:[/\\]*$/.test(v))&&!/[/\\]node_modules[/\\]*$/.test(v)){var C=Ge.join(Jr(a,v,n),"package.json");if(!i(C))return Z(Ge.dirname(v));var X=s(C);try{var U=JSON.parse(X)}catch(V){}return U&&n.packageFilter&&(U=n.packageFilter(U,v)),{pkg:U,dir:v}}}function $(v){var C=Ge.join(Jr(a,v,n),"/package.json");if(i(C)){try{var X=s(C,"UTF8"),U=JSON.parse(X)}catch(b){}if(U&&n.packageFilter&&(U=n.packageFilter(U,v)),U&&U.main){if(typeof U.main!="string"){var V=new TypeError("package \u201C"+U.name+"\u201D `main` must be a string");throw V.code="INVALID_PACKAGE_MAIN",V}(U.main==="."||U.main==="./")&&(U.main="index");try{var ne=j(Ge.resolve(v,U.main));if(ne)return ne;var S=$(Ge.resolve(v,U.main));if(S)return S}catch(b){}}}return j(Ge.join(v,"/index"))}function _(v,C){for(var X=function(){return Ug(v,C,n)},U=f?f(v,C,X,n):X(),V=0;V<U.length;V++){var ne=U[V];if(o(Ge.dirname(ne))){var S=j(ne);if(S)return S;var b=$(ne);if(b)return b}}}}});var pu=k((mN,du)=>{var Wn=lu();Wn.core=eo();Wn.isCore=jn();Wn.sync=hu();du.exports=Wn});var Tu=k((se,vu)=>{se=vu.exports=ue;var ge;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?ge=function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:ge=function(){};se.SEMVER_SPEC_VERSION="2.0.0";var ro=256,Gn=Number.MAX_SAFE_INTEGER||9007199254740991,to=16,Ee=se.re=[],q=se.src=[],L=se.tokens={},mu=0;function le(e){L[e]=mu++}le("NUMERICIDENTIFIER");q[L.NUMERICIDENTIFIER]="0|[1-9]\\d*";le("NUMERICIDENTIFIERLOOSE");q[L.NUMERICIDENTIFIERLOOSE]="[0-9]+";le("NONNUMERICIDENTIFIER");q[L.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";le("MAINVERSION");q[L.MAINVERSION]="("+q[L.NUMERICIDENTIFIER]+")\\.("+q[L.NUMERICIDENTIFIER]+")\\.("+q[L.NUMERICIDENTIFIER]+")";le("MAINVERSIONLOOSE");q[L.MAINVERSIONLOOSE]="("+q[L.NUMERICIDENTIFIERLOOSE]+")\\.("+q[L.NUMERICIDENTIFIERLOOSE]+")\\.("+q[L.NUMERICIDENTIFIERLOOSE]+")";le("PRERELEASEIDENTIFIER");q[L.PRERELEASEIDENTIFIER]="(?:"+q[L.NUMERICIDENTIFIER]+"|"+q[L.NONNUMERICIDENTIFIER]+")";le("PRERELEASEIDENTIFIERLOOSE");q[L.PRERELEASEIDENTIFIERLOOSE]="(?:"+q[L.NUMERICIDENTIFIERLOOSE]+"|"+q[L.NONNUMERICIDENTIFIER]+")";le("PRERELEASE");q[L.PRERELEASE]="(?:-("+q[L.PRERELEASEIDENTIFIER]+"(?:\\."+q[L.PRERELEASEIDENTIFIER]+")*))";le("PRERELEASELOOSE");q[L.PRERELEASELOOSE]="(?:-?("+q[L.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+q[L.PRERELEASEIDENTIFIERLOOSE]+")*))";le("BUILDIDENTIFIER");q[L.BUILDIDENTIFIER]="[0-9A-Za-z-]+";le("BUILD");q[L.BUILD]="(?:\\+("+q[L.BUILDIDENTIFIER]+"(?:\\."+q[L.BUILDIDENTIFIER]+")*))";le("FULL");le("FULLPLAIN");q[L.FULLPLAIN]="v?"+q[L.MAINVERSION]+q[L.PRERELEASE]+"?"+q[L.BUILD]+"?";q[L.FULL]="^"+q[L.FULLPLAIN]+"$";le("LOOSEPLAIN");q[L.LOOSEPLAIN]="[v=\\s]*"+q[L.MAINVERSIONLOOSE]+q[L.PRERELEASELOOSE]+"?"+q[L.BUILD]+"?";le("LOOSE");q[L.LOOSE]="^"+q[L.LOOSEPLAIN]+"$";le("GTLT");q[L.GTLT]="((?:<|>)?=?)";le("XRANGEIDENTIFIERLOOSE");q[L.XRANGEIDENTIFIERLOOSE]=q[L.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*";le("XRANGEIDENTIFIER");q[L.XRANGEIDENTIFIER]=q[L.NUMERICIDENTIFIER]+"|x|X|\\*";le("XRANGEPLAIN");q[L.XRANGEPLAIN]="[v=\\s]*("+q[L.XRANGEIDENTIFIER]+")(?:\\.("+q[L.XRANGEIDENTIFIER]+")(?:\\.("+q[L.XRANGEIDENTIFIER]+")(?:"+q[L.PRERELEASE]+")?"+q[L.BUILD]+"?)?)?";le("XRANGEPLAINLOOSE");q[L.XRANGEPLAINLOOSE]="[v=\\s]*("+q[L.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+q[L.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+q[L.XRANGEIDENTIFIERLOOSE]+")(?:"+q[L.PRERELEASELOOSE]+")?"+q[L.BUILD]+"?)?)?";le("XRANGE");q[L.XRANGE]="^"+q[L.GTLT]+"\\s*"+q[L.XRANGEPLAIN]+"$";le("XRANGELOOSE");q[L.XRANGELOOSE]="^"+q[L.GTLT]+"\\s*"+q[L.XRANGEPLAINLOOSE]+"$";le("COERCE");q[L.COERCE]="(^|[^\\d])(\\d{1,"+to+"})(?:\\.(\\d{1,"+to+"}))?(?:\\.(\\d{1,"+to+"}))?(?:$|[^\\d])";le("COERCERTL");Ee[L.COERCERTL]=new RegExp(q[L.COERCE],"g");le("LONETILDE");q[L.LONETILDE]="(?:~>?)";le("TILDETRIM");q[L.TILDETRIM]="(\\s*)"+q[L.LONETILDE]+"\\s+";Ee[L.TILDETRIM]=new RegExp(q[L.TILDETRIM],"g");var jg="$1~";le("TILDE");q[L.TILDE]="^"+q[L.LONETILDE]+q[L.XRANGEPLAIN]+"$";le("TILDELOOSE");q[L.TILDELOOSE]="^"+q[L.LONETILDE]+q[L.XRANGEPLAINLOOSE]+"$";le("LONECARET");q[L.LONECARET]="(?:\\^)";le("CARETTRIM");q[L.CARETTRIM]="(\\s*)"+q[L.LONECARET]+"\\s+";Ee[L.CARETTRIM]=new RegExp(q[L.CARETTRIM],"g");var Wg="$1^";le("CARET");q[L.CARET]="^"+q[L.LONECARET]+q[L.XRANGEPLAIN]+"$";le("CARETLOOSE");q[L.CARETLOOSE]="^"+q[L.LONECARET]+q[L.XRANGEPLAINLOOSE]+"$";le("COMPARATORLOOSE");q[L.COMPARATORLOOSE]="^"+q[L.GTLT]+"\\s*("+q[L.LOOSEPLAIN]+")$|^$";le("COMPARATOR");q[L.COMPARATOR]="^"+q[L.GTLT]+"\\s*("+q[L.FULLPLAIN]+")$|^$";le("COMPARATORTRIM");q[L.COMPARATORTRIM]="(\\s*)"+q[L.GTLT]+"\\s*("+q[L.LOOSEPLAIN]+"|"+q[L.XRANGEPLAIN]+")";Ee[L.COMPARATORTRIM]=new RegExp(q[L.COMPARATORTRIM],"g");var Gg="$1$2$3";le("HYPHENRANGE");q[L.HYPHENRANGE]="^\\s*("+q[L.XRANGEPLAIN]+")\\s+-\\s+("+q[L.XRANGEPLAIN]+")\\s*$";le("HYPHENRANGELOOSE");q[L.HYPHENRANGELOOSE]="^\\s*("+q[L.XRANGEPLAINLOOSE]+")\\s+-\\s+("+q[L.XRANGEPLAINLOOSE]+")\\s*$";le("STAR");q[L.STAR]="(<|>)?=?\\s*\\*";for(Ft=0;Ft<mu;Ft++)ge(Ft,q[Ft]),Ee[Ft]||(Ee[Ft]=new RegExp(q[Ft]));var Ft;se.parse=Qt;function Qt(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof ue)return e;if(typeof e!="string"||e.length>ro)return null;var r=t.loose?Ee[L.LOOSE]:Ee[L.FULL];if(!r.test(e))return null;try{return new ue(e,t)}catch(n){return null}}se.valid=Hg;function Hg(e,t){var r=Qt(e,t);return r?r.version:null}se.clean=Bg;function Bg(e,t){var r=Qt(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}se.SemVer=ue;function ue(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof ue){if(e.loose===t.loose)return e;e=e.version}else if(typeof e!="string")throw new TypeError("Invalid Version: "+e);if(e.length>ro)throw new TypeError("version is longer than "+ro+" characters");if(!(this instanceof ue))return new ue(e,t);ge("SemVer",e,t),this.options=t,this.loose=!!t.loose;var r=e.trim().match(t.loose?Ee[L.LOOSE]:Ee[L.FULL]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Gn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Gn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Gn||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(function(n){if(/^[0-9]+$/.test(n)){var i=+n;if(i>=0&&i<Gn)return i}return n}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}ue.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};ue.prototype.toString=function(){return this.version};ue.prototype.compare=function(e){return ge("SemVer.compare",this.version,this.options,e),e instanceof ue||(e=new ue(e,this.options)),this.compareMain(e)||this.comparePre(e)};ue.prototype.compareMain=function(e){return e instanceof ue||(e=new ue(e,this.options)),Jt(this.major,e.major)||Jt(this.minor,e.minor)||Jt(this.patch,e.patch)};ue.prototype.comparePre=function(e){if(e instanceof ue||(e=new ue(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],n=e.prerelease[t];if(ge("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return Jt(r,n)}while(++t)};ue.prototype.compareBuild=function(e){e instanceof ue||(e=new ue(e,this.options));var t=0;do{var r=this.build[t],n=e.build[t];if(ge("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return Jt(r,n)}while(++t)};ue.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this};se.inc=$g;function $g(e,t,r,n){typeof r=="string"&&(n=r,r=void 0);try{return new ue(e,r).inc(t,n).version}catch(i){return null}}se.diff=Vg;function Vg(e,t){if(no(e,t))return null;var r=Qt(e),n=Qt(t),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var s="prerelease"}for(var o in r)if((o==="major"||o==="minor"||o==="patch")&&r[o]!==n[o])return i+o;return s}se.compareIdentifiers=Jt;var Eu=/^[0-9]+$/;function Jt(e,t){var r=Eu.test(e),n=Eu.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}se.rcompareIdentifiers=Yg;function Yg(e,t){return Jt(t,e)}se.major=Xg;function Xg(e,t){return new ue(e,t).major}se.minor=zg;function zg(e,t){return new ue(e,t).minor}se.patch=Kg;function Kg(e,t){return new ue(e,t).patch}se.compare=_t;function _t(e,t,r){return new ue(e,r).compare(new ue(t,r))}se.compareLoose=Jg;function Jg(e,t){return _t(e,t,!0)}se.compareBuild=Qg;function Qg(e,t,r){var n=new ue(e,r),i=new ue(t,r);return n.compare(i)||n.compareBuild(i)}se.rcompare=Zg;function Zg(e,t,r){return _t(t,e,r)}se.sort=em;function em(e,t){return e.sort(function(r,n){return se.compareBuild(r,n,t)})}se.rsort=tm;function tm(e,t){return e.sort(function(r,n){return se.compareBuild(n,r,t)})}se.gt=Qr;function Qr(e,t,r){return _t(e,t,r)>0}se.lt=Hn;function Hn(e,t,r){return _t(e,t,r)<0}se.eq=no;function no(e,t,r){return _t(e,t,r)===0}se.neq=Ru;function Ru(e,t,r){return _t(e,t,r)!==0}se.gte=io;function io(e,t,r){return _t(e,t,r)>=0}se.lte=so;function so(e,t,r){return _t(e,t,r)<=0}se.cmp=Bn;function Bn(e,t,r,n){switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return no(e,r,n);case"!=":return Ru(e,r,n);case">":return Qr(e,r,n);case">=":return io(e,r,n);case"<":return Hn(e,r,n);case"<=":return so(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}se.Comparator=ze;function ze(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof ze){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ze))return new ze(e,t);ge("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===vr?this.value="":this.value=this.operator+this.semver.version,ge("comp",this)}var vr={};ze.prototype.parse=function(e){var t=this.options.loose?Ee[L.COMPARATORLOOSE]:Ee[L.COMPARATOR],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new ue(r[2],this.options.loose):this.semver=vr};ze.prototype.toString=function(){return this.value};ze.prototype.test=function(e){if(ge("Comparator.test",e,this.options.loose),this.semver===vr||e===vr)return!0;if(typeof e=="string")try{e=new ue(e,this.options)}catch(t){return!1}return Bn(e,this.operator,this.semver,this.options)};ze.prototype.intersects=function(e,t){if(!(e instanceof ze))throw new TypeError("a Comparator is required");(!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1});var r;if(this.operator==="")return this.value===""?!0:(r=new Oe(e.value,t),$n(this.value,r,t));if(e.operator==="")return e.value===""?!0:(r=new Oe(this.value,t),$n(e.semver,r,t));var n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),s=this.semver.version===e.semver.version,o=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=Bn(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),f=Bn(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||i||s&&o||a||f};se.Range=Oe;function Oe(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof Oe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Oe(e.raw,t);if(e instanceof ze)return new Oe(e.value,t);if(!(this instanceof Oe))return new Oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(r){return this.parseRange(r.trim())},this).filter(function(r){return r.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}Oe.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range};Oe.prototype.toString=function(){return this.range};Oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?Ee[L.HYPHENRANGELOOSE]:Ee[L.HYPHENRANGE];e=e.replace(r,fm),ge("hyphen replace",e),e=e.replace(Ee[L.COMPARATORTRIM],Gg),ge("comparator trim",e,Ee[L.COMPARATORTRIM]),e=e.replace(Ee[L.TILDETRIM],jg),e=e.replace(Ee[L.CARETTRIM],Wg),e=e.split(/\s+/).join(" ");var n=t?Ee[L.COMPARATORLOOSE]:Ee[L.COMPARATOR],i=e.split(" ").map(function(s){return nm(s,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(s){return!!s.match(n)})),i=i.map(function(s){return new ze(s,this.options)},this),i};Oe.prototype.intersects=function(e,t){if(!(e instanceof Oe))throw new TypeError("a Range is required");return this.set.some(function(r){return gu(r,t)&&e.set.some(function(n){return gu(n,t)&&r.every(function(i){return n.every(function(s){return i.intersects(s,t)})})})})};function gu(e,t){for(var r=!0,n=e.slice(),i=n.pop();r&&n.length;)r=n.every(function(s){return i.intersects(s,t)}),i=n.pop();return r}se.toComparators=rm;function rm(e,t){return new Oe(e,t).set.map(function(r){return r.map(function(n){return n.value}).join(" ").trim().split(" ")})}function nm(e,t){return ge("comp",e,t),e=om(e,t),ge("caret",e),e=im(e,t),ge("tildes",e),e=cm(e,t),ge("xrange",e),e=lm(e,t),ge("stars",e),e}function qe(e){return!e||e.toLowerCase()==="x"||e==="*"}function im(e,t){return e.trim().split(/\s+/).map(function(r){return sm(r,t)}).join(" ")}function sm(e,t){var r=t.loose?Ee[L.TILDELOOSE]:Ee[L.TILDE];return e.replace(r,function(n,i,s,o,a){ge("tilde",e,n,i,s,o,a);var f;return qe(i)?f="":qe(s)?f=">="+i+".0.0 <"+(+i+1)+".0.0":qe(o)?f=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":a?(ge("replaceTilde pr",a),f=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+(+s+1)+".0"):f=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0",ge("tilde return",f),f})}function om(e,t){return e.trim().split(/\s+/).map(function(r){return am(r,t)}).join(" ")}function am(e,t){ge("caret",e,t);var r=t.loose?Ee[L.CARETLOOSE]:Ee[L.CARET];return e.replace(r,function(n,i,s,o,a){ge("caret",e,n,i,s,o,a);var f;return qe(i)?f="":qe(s)?f=">="+i+".0.0 <"+(+i+1)+".0.0":qe(o)?i==="0"?f=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":f=">="+i+"."+s+".0 <"+(+i+1)+".0.0":a?(ge("replaceCaret pr",a),i==="0"?s==="0"?f=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+s+"."+(+o+1):f=">="+i+"."+s+"."+o+"-"+a+" <"+i+"."+(+s+1)+".0":f=">="+i+"."+s+"."+o+"-"+a+" <"+(+i+1)+".0.0"):(ge("no pr"),i==="0"?s==="0"?f=">="+i+"."+s+"."+o+" <"+i+"."+s+"."+(+o+1):f=">="+i+"."+s+"."+o+" <"+i+"."+(+s+1)+".0":f=">="+i+"."+s+"."+o+" <"+(+i+1)+".0.0"),ge("caret return",f),f})}function cm(e,t){return ge("replaceXRanges",e,t),e.split(/\s+/).map(function(r){return um(r,t)}).join(" ")}function um(e,t){e=e.trim();var r=t.loose?Ee[L.XRANGELOOSE]:Ee[L.XRANGE];return e.replace(r,function(n,i,s,o,a,f){ge("xRange",e,n,i,s,o,a,f);var p=qe(s),E=p||qe(o),m=E||qe(a),R=m;return i==="="&&R&&(i=""),f=t.includePrerelease?"-0":"",p?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&R?(E&&(o=0),a=0,i===">"?(i=">=",E?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",E?s=+s+1:o=+o+1),n=i+s+"."+o+"."+a+f):E?n=">="+s+".0.0"+f+" <"+(+s+1)+".0.0"+f:m&&(n=">="+s+"."+o+".0"+f+" <"+s+"."+(+o+1)+".0"+f),ge("xRange return",n),n})}function lm(e,t){return ge("replaceStars",e,t),e.trim().replace(Ee[L.STAR],"")}function fm(e,t,r,n,i,s,o,a,f,p,E,m,R){return qe(r)?t="":qe(n)?t=">="+r+".0.0":qe(i)?t=">="+r+"."+n+".0":t=">="+t,qe(f)?a="":qe(p)?a="<"+(+f+1)+".0.0":qe(E)?a="<"+f+"."+(+p+1)+".0":m?a="<="+f+"."+p+"."+E+"-"+m:a="<="+a,(t+" "+a).trim()}Oe.prototype.test=function(e){if(!e)return!1;if(typeof e=="string")try{e=new ue(e,this.options)}catch(r){return!1}for(var t=0;t<this.set.length;t++)if(hm(this.set[t],e,this.options))return!0;return!1};function hm(e,t,r){for(var n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(n=0;n<e.length;n++)if(ge(e[n].semver),e[n].semver!==vr&&e[n].semver.prerelease.length>0){var i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}se.satisfies=$n;function $n(e,t,r){try{t=new Oe(t,r)}catch(n){return!1}return t.test(e)}se.maxSatisfying=dm;function dm(e,t,r){var n=null,i=null;try{var s=new Oe(t,r)}catch(o){return null}return e.forEach(function(o){s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new ue(n,r))}),n}se.minSatisfying=pm;function pm(e,t,r){var n=null,i=null;try{var s=new Oe(t,r)}catch(o){return null}return e.forEach(function(o){s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new ue(n,r))}),n}se.minVersion=Em;function Em(e,t){e=new Oe(e,t);var r=new ue("0.0.0");if(e.test(r)||(r=new ue("0.0.0-0"),e.test(r)))return r;r=null;for(var n=0;n<e.set.length;++n){var i=e.set[n];i.forEach(function(s){var o=new ue(s.semver.version);switch(s.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!r||Qr(r,o))&&(r=o);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+s.operator)}})}return r&&e.test(r)?r:null}se.validRange=gm;function gm(e,t){try{return new Oe(e,t).range||"*"}catch(r){return null}}se.ltr=mm;function mm(e,t,r){return oo(e,t,"<",r)}se.gtr=Rm;function Rm(e,t,r){return oo(e,t,">",r)}se.outside=oo;function oo(e,t,r,n){e=new ue(e,n),t=new Oe(t,n);var i,s,o,a,f;switch(r){case">":i=Qr,s=so,o=Hn,a=">",f=">=";break;case"<":i=Hn,s=io,o=Qr,a="<",f="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if($n(e,t,n))return!1;for(var p=0;p<t.set.length;++p){var E=t.set[p],m=null,R=null;if(E.forEach(function(N){N.semver===vr&&(N=new ze(">=0.0.0")),m=m||N,R=R||N,i(N.semver,m.semver,n)?m=N:o(N.semver,R.semver,n)&&(R=N)}),m.operator===a||m.operator===f||(!R.operator||R.operator===a)&&s(e,R.semver))return!1;if(R.operator===f&&o(e,R.semver))return!1}return!0}se.prerelease=vm;function vm(e,t){var r=Qt(e,t);return r&&r.prerelease.length?r.prerelease:null}se.intersects=Tm;function Tm(e,t,r){return e=new Oe(e,r),t=new Oe(t,r),e.intersects(t)}se.coerce=ym;function ym(e,t){if(e instanceof ue)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};var r=null;if(!t.rtl)r=e.match(Ee[L.COERCE]);else{for(var n;(n=Ee[L.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Ee[L.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Ee[L.COERCERTL].lastIndex=-1}return r===null?null:Qt(r[2]+"."+(r[3]||"0")+"."+(r[4]||"0"),t)}});var uo=k((ao,co)=>{"use strict";var Vn=require("fs"),Nt=require("path"),{promisify:yu}=require("util"),_m=Tu(),_u=_m.satisfies(process.version,">=10.12.0"),Nu=e=>{if(process.platform==="win32"&&/[<>:"|?*]/.test(e.replace(Nt.parse(e).root,""))){let r=new Error(`Path contains invalid characters: ${e}`);throw r.code="EINVAL",r}},Ou=e=>Ct(Ct({},{mode:511,fs:Vn}),e),Su=e=>{let t=new Error(`operation not permitted, mkdir '${e}'`);return t.code="EPERM",t.errno=-4048,t.path=e,t.syscall="mkdir",t},Nm=(e,t)=>$e(ao,null,function*(){Nu(e),t=Ou(t);let r=yu(t.fs.mkdir),n=yu(t.fs.stat);if(_u&&t.fs.mkdir===Vn.mkdir){let s=Nt.resolve(e);return yield r(s,{mode:t.mode,recursive:!0}),s}let i=s=>$e(ao,null,function*(){try{return yield r(s,t.mode),s}catch(o){if(o.code==="EPERM")throw o;if(o.code==="ENOENT"){if(Nt.dirname(s)===s)throw Su(s);if(o.message.includes("null bytes"))throw o;return yield i(Nt.dirname(s)),i(s)}try{if(!(yield n(s)).isDirectory())throw new Error("The path is not a directory")}catch(a){throw o}return s}});return i(Nt.resolve(e))});co.exports=Nm;co.exports.sync=(e,t)=>{if(Nu(e),t=Ou(t),_u&&t.fs.mkdirSync===Vn.mkdirSync){let n=Nt.resolve(e);return Vn.mkdirSync(n,{mode:t.mode,recursive:!0}),n}let r=n=>{try{t.fs.mkdirSync(n,t.mode)}catch(i){if(i.code==="EPERM")throw i;if(i.code==="ENOENT"){if(Nt.dirname(n)===n)throw Su(n);if(i.message.includes("null bytes"))throw i;return r(Nt.dirname(n)),r(n)}try{if(!t.fs.statSync(n).isDirectory())throw new Error("The path is not a directory")}catch(s){throw i}}return n};return r(Nt.resolve(e))}});var Au=k(He=>{"use strict";var Om=He&&He.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Sm=He&&He.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Im=He&&He.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Om(t,e,r);return Sm(t,e),t},ho=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(He,"__esModule",{value:!0});He.sqltoolsResolve=void 0;var Cm=ho(Kc()),Am=ho(require("path")),Iu=ho(require("fs")),bm=pu(),Cu=Im(uo()),lo=(0,Cm.default)(`vscode-${process.env.EXT_NAMESPACE||"sqltools"}`,{suffix:null});Iu.default.existsSync(lo.data)||Cu.sync(lo.data);Iu.default.existsSync(fo("node_modules"))||Cu.sync(fo("node_modules"));function fo(...e){return Am.default.resolve(lo.data,...e)}var Lm=e=>(0,bm.sync)(e,{basedir:fo()});He.sqltoolsResolve=Lm;var wm=e=>require((0,He.sqltoolsResolve)(e));He.default=wm});var Pu=k((vN,wu)=>{"use strict";wu.exports=Lu;var po=Symbol("circular-ref-tag"),Eo=Symbol("pino-raw-err-ref"),bu=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[Eo]},set:function(e){this[Eo]=e}}});Object.defineProperty(bu,Eo,{writable:!0,value:{}});function Lu(e){if(!(e instanceof Error))return e;e[po]=void 0;let t=Object.create(bu);t.type=e.constructor.name,t.message=e.message,t.stack=e.stack;for(let r in e)if(t[r]===void 0){let n=e[r];n instanceof Error?n.hasOwnProperty(po)||(t[r]=Lu(n)):t[r]=n}return delete e[po],t.raw=e,t}});var xu=k((TN,ku)=>{"use strict";ku.exports={mapHttpRequest:Pm,reqSerializer:Mu};var go=Symbol("pino-raw-req-ref"),Du=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[go]},set:function(e){this[go]=e}}});Object.defineProperty(Du,go,{writable:!0,value:{}});function Mu(e){var t=e.info||e.connection;let r=Object.create(Du);return r.id=typeof e.id=="function"?e.id():e.id||(e.info?e.info.id:void 0),r.method=e.method,e.originalUrl?r.url=e.originalUrl:r.url=e.path||(e.url?e.url.path||e.url:void 0),r.headers=e.headers,r.remoteAddress=t&&t.remoteAddress,r.remotePort=t&&t.remotePort,r.raw=e.raw||e,r}function Pm(e){return{req:Mu(e)}}});var ju=k((yN,Uu)=>{"use strict";Uu.exports={mapHttpResponse:Dm,resSerializer:Fu};var mo=Symbol("pino-raw-res-ref"),qu=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[mo]},set:function(e){this[mo]=e}}});Object.defineProperty(qu,mo,{writable:!0,value:{}});function Fu(e){let t=Object.create(qu);return t.statusCode=e.statusCode,t.headers=e.getHeaders?e.getHeaders():e._headers,t.raw=e,t}function Dm(e){return{res:Fu(e)}}});var vo=k((_N,Wu)=>{"use strict";var Ro=Pu(),Yn=xu(),Xn=ju();Wu.exports={err:Ro,mapHttpRequest:Yn.mapHttpRequest,mapHttpResponse:Xn.mapHttpResponse,req:Yn.reqSerializer,res:Xn.resSerializer,wrapErrorSerializer:function(t){return t===Ro?t:function(n){return t(Ro(n))}},wrapRequestSerializer:function(t){return t===Yn.reqSerializer?t:function(n){return t(Yn.reqSerializer(n))}},wrapResponseSerializer:function(t){return t===Xn.resSerializer?t:function(n){return t(Xn.resSerializer(n))}}}});var Hu=k((NN,Gu)=>{"use strict";var{createContext:Mm,runInContext:km}=require("vm");Gu.exports=xm;function xm(e={}){let{ERR_PATHS_MUST_BE_STRINGS:t=()=>"fast-redact - Paths must be strings",ERR_INVALID_PATH:r=n=>`fast-redact \u2013 Invalid path (${n})`}=e;return function({paths:i}){i.forEach(s=>{if(typeof s!="string")throw Error(t());try{if(/〇/.test(s))throw Error();let o=new Proxy({},{get:()=>o,set:()=>{throw Error()}}),a=(s[0]==="["?"":".")+s.replace(/^\*/,"\u3007").replace(/\.\*/g,".\u3007").replace(/\[\*\]/g,"[\u3007]");if(/\n|\r|;/.test(a)||/\/\*/.test(a))throw Error();km(`
          (function () {
            'use strict'
            o${a}
            if ([o${a}].length !== 1) throw Error()
          })()
        `,Mm({o,"\u3007":null}),{codeGeneration:{strings:!1,wasm:!1}})}catch(o){throw Error(r(s))}})}}});var zn=k((ON,Bu)=>{"use strict";Bu.exports=/[^.[\]]+|\[((?:.)*?)\]/g});var Vu=k((SN,$u)=>{"use strict";var qm=zn();$u.exports=Fm;function Fm({paths:e}){let t=[];var r=0;let n=e.reduce(function(i,s,o){var a=s.match(qm).map(E=>E.replace(/'|"|`/g,""));let f=s[0]==="[";a=a.map(E=>E[0]==="["?E.substr(1,E.length-2):E);let p=a.indexOf("*");if(p>-1){let E=a.slice(0,p),m=E.join("."),R=a.slice(p+1,a.length);if(R.indexOf("*")>-1)throw Error("fast-redact \u2013 Only one wildcard per path is supported");let N=R.length>0;r++,t.push({before:E,beforeStr:m,after:R,nested:N})}else i[s]={path:a,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(s),leadingBracket:f};return i},{});return{wildcards:t,wcLen:r,secret:n}}});var Xu=k((IN,Yu)=>{"use strict";var Um=zn();Yu.exports=jm;function jm({secret:e,serialize:t,wcLen:r,strict:n,isCensorFct:i},s){let o=Function("o",`
    if (typeof o !== 'object' || o == null) {
      ${Bm(n,t)}
    }
    const { censor, secret } = this
    ${Wm(e,i)}
    this.compileRestore()
    ${Gm(r>0,i)}
    ${Hm(t)}
  `).bind(s);return t===!1&&(o.restore=a=>s.restore(a)),o}function Wm(e,t){return Object.keys(e).map(r=>{let{escPath:n,leadingBracket:i}=e[r],s=i?1:0,o=i?"":".",a=[];for(var f;(f=Um.exec(r))!==null;){let[,m]=f,{index:R,input:N}=f;R>s&&a.push(N.substring(0,R-(m?0:1)))}var p=a.map(m=>`o${o}${m}`).join(" && ");p.length===0?p+=`o${o}${r} != null`:p+=` && o${o}${r} != null`;let E=`
      switch (true) {
        ${a.reverse().map(m=>`
          case o${o}${m} === censor:
            secret[${n}].circle = ${JSON.stringify(m)}
            break
        `).join(`
`)}
      }
    `;return`
      if (${p}) {
        const val = o${o}${r}
        if (val === censor) {
          secret[${n}].precensored = true
        } else {
          secret[${n}].val = val
          o${o}${r} = ${t?"censor(val)":"censor"}
          ${E}
        }
      }
    `}).join(`
`)}function Gm(e,t){return e===!0?`
    {
      const { wildcards, wcLen, groupRedact, nestedRedact } = this
      for (var i = 0; i < wcLen; i++) {
        const { before, beforeStr, after, nested } = wildcards[i]
        if (nested === true) {
          secret[beforeStr] = secret[beforeStr] || []
          nestedRedact(secret[beforeStr], o, before, after, censor, ${t})
        } else secret[beforeStr] = groupRedact(o, before, censor, ${t})
      }
    }
  `:""}function Hm(e){return e===!1?"return o":`
    var s = this.serialize(o)
    this.restore(o)
    return s
  `}function Bm(e,t){return e===!0?"throw Error('fast-redact: primitives cannot be redacted')":t===!1?"return o":"return this.serialize(o)"}});var To=k((CN,Ku)=>{"use strict";Ku.exports={groupRedact:Vm,groupRestore:$m,nestedRedact:Xm,nestedRestore:Ym};function $m({keys:e,values:t,target:r}){if(r==null)return;let n=e.length;for(var i=0;i<n;i++){let s=e[i];r[s]=t[i]}}function Vm(e,t,r,n){let i=zu(e,t);if(i==null)return{keys:null,values:null,target:null,flat:!0};let s=Object.keys(i),o=s.length,a=new Array(o);for(var f=0;f<o;f++){let p=s[f];a[f]=i[p],i[p]=n?r(i[p]):r}return{keys:s,values:a,target:i,flat:!0}}function Ym(e){let t=e.length;for(var r=0;r<t;r++){let{key:n,target:i,value:s}=e[r];i[n]=s}}function Xm(e,t,r,n,i,s){let o=zu(t,r);if(o==null)return;let a=Object.keys(o),f=a.length;for(var p=0;p<f;p++){let E=a[p],{value:m,parent:R,exists:N}=Km(o,E,n,i,s);N===!0&&R!==null&&e.push({key:n[n.length-1],target:R,value:m})}return e}function zm(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Km(e,t,r,n,i){var s=-1,o=r.length,a=o-1,f,p,E,m=null,R=!0;if(E=f=e[t],typeof f!="object")return{value:null,parent:null,exists:R};for(;f!=null&&++s<o;){if(t=r[s],m=E,!(t in f)){R=!1;break}if(E=f[t],p=i?n(E):n,p=s!==a?E:p,f[t]=zm(f,t)&&p===E||p===void 0&&n!==void 0?f[t]:p,f=f[t],typeof f!="object")break}return{value:E,parent:m,exists:R}}function zu(e,t){for(var r=-1,n=t.length,i=e;i!=null&&++r<n;)i=i[t[r]];return i}});var Qu=k((AN,Ju)=>{"use strict";var{groupRestore:Jm,nestedRestore:Qm}=To();Ju.exports=Zm;function Zm({secret:e,wcLen:t}){return function(){if(this.restore)return;let n=Object.keys(e).filter(a=>e[a].precensored===!1),i=eR(e,n),s=t>0,o=s?{secret:e,groupRestore:Jm,nestedRestore:Qm}:{secret:e};this.restore=Function("o",tR(i,n,s)).bind(o)}}function eR(e,t){return t.map(r=>{let{circle:n,escPath:i,leadingBracket:s}=e[r],a=n?`o.${n} = secret[${i}].val`:`o${s?"":"."}${r} = secret[${i}].val`,f=`secret[${i}].val = undefined`;return`
      if (secret[${i}].val !== undefined) {
        try { ${a} } catch (e) {}
        ${f}
      }
    `}).join("")}function tR(e,t,r){let n=r===!0?`
    const keys = Object.keys(secret)
    const len = keys.length
    for (var i = ${t.length}; i < len; i++) {
      const k = keys[i]
      const o = secret[k]
      if (o.flat === true) this.groupRestore(o)
      else this.nestedRestore(o)
      secret[k] = null
    }
  `:"";return`
    const secret = this.secret
    ${e}
    ${n}
    return o
  `}});var el=k((bN,Zu)=>{"use strict";Zu.exports=rR;function rR(e){let{secret:t,censor:r,isCensorFct:n,compileRestore:i,serialize:s,groupRedact:o,nestedRedact:a,wildcards:f,wcLen:p}=e,E=[{secret:t,censor:r,isCensorFct:n,compileRestore:i}];return E.push({secret:t}),s!==!1&&E.push({serialize:s}),p>0&&E.push({groupRedact:o,nestedRedact:a,wildcards:f,wcLen:p}),Object.assign(...E)}});var nl=k((LN,rl)=>{"use strict";var tl=Hu(),nR=Vu(),iR=Xu(),sR=Qu(),{groupRedact:oR,nestedRedact:aR}=To(),cR=el(),uR=zn(),lR=tl(),yo=e=>e;yo.restore=yo;var fR="[REDACTED]";_o.rx=uR;_o.validator=tl;rl.exports=_o;function _o(e={}){let t=Array.from(new Set(e.paths||[])),r="serialize"in e&&(e.serialize===!1||typeof e.serialize=="function")?e.serialize:JSON.stringify,n=e.remove;if(n===!0&&r!==JSON.stringify)throw Error("fast-redact \u2013 remove option may only be set when serializer is JSON.stringify");let i=n===!0?void 0:"censor"in e?e.censor:fR,s=typeof i=="function";if(t.length===0)return r||yo;lR({paths:t,serialize:r,censor:i});let{wildcards:o,wcLen:a,secret:f}=nR({paths:t,censor:i}),p=sR({secret:f,wcLen:a}),E="strict"in e?e.strict:!0;return iR({secret:f,wcLen:a,serialize:r,strict:E,isCensorFct:s},cR({secret:f,censor:i,compileRestore:p,serialize:r,groupRedact:oR,nestedRedact:aR,wildcards:o,wcLen:a}))}});var Tr=k((wN,il)=>{"use strict";var hR=Symbol("pino.setLevel"),dR=Symbol("pino.getLevel"),pR=Symbol("pino.levelVal"),ER=Symbol("pino.useLevelLabels"),gR=Symbol("pino.useOnlyCustomLevels"),mR=Symbol("pino.mixin"),RR=Symbol("pino.lsCache"),vR=Symbol("pino.chindings"),TR=Symbol("pino.parsedChindings"),yR=Symbol("pino.asJson"),_R=Symbol("pino.write"),NR=Symbol("pino.redactFmt"),OR=Symbol("pino.time"),SR=Symbol("pino.timeSliceIndex"),IR=Symbol("pino.stream"),CR=Symbol("pino.stringify"),AR=Symbol("pino.stringifiers"),bR=Symbol("pino.end"),LR=Symbol("pino.formatOpts"),wR=Symbol("pino.messageKey"),PR=Symbol("pino.nestedKey"),DR=Symbol("pino.wildcardFirst"),MR=Symbol.for("pino.serializers"),kR=Symbol.for("pino.formatters"),xR=Symbol.for("pino.hooks"),qR=Symbol.for("pino.metadata");il.exports={setLevelSym:hR,getLevelSym:dR,levelValSym:pR,useLevelLabelsSym:ER,mixinSym:mR,lsCacheSym:RR,chindingsSym:vR,parsedChindingsSym:TR,asJsonSym:yR,writeSym:_R,serializersSym:MR,redactFmtSym:NR,timeSym:OR,timeSliceIndexSym:SR,streamSym:IR,stringifySym:CR,stringifiersSym:AR,endSym:bR,formatOptsSym:LR,messageKeySym:wR,nestedKeySym:PR,wildcardFirstSym:DR,needsMetadataGsym:qR,useOnlyCustomLevelsSym:gR,formattersSym:kR,hooksSym:xR}});var ul=k((PN,cl)=>{"use strict";var Oo=nl(),{redactFmtSym:FR,wildcardFirstSym:Kn}=Tr(),{rx:No,validator:UR}=Oo,sl=UR({ERR_PATHS_MUST_BE_STRINGS:()=>"pino \u2013 redacted paths must be strings",ERR_INVALID_PATH:e=>`pino \u2013 redact paths array contains an invalid path (${e})`}),ol="[Redacted]",al=!1;function jR(e,t){let{paths:r,censor:n}=WR(e),i=r.reduce((a,f)=>{No.lastIndex=0;let p=No.exec(f),E=No.exec(f),m=p[1]!==void 0?p[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):p[0];if(m==="*"&&(m=Kn),E===null)return a[m]=null,a;if(a[m]===null)return a;let{index:R}=E,N=`${f.substr(R,f.length-1)}`;return a[m]=a[m]||[],m!==Kn&&a[m].length===0&&a[m].push(...a[Kn]||[]),m===Kn&&Object.keys(a).forEach(function(A){a[A]&&a[A].push(N)}),a[m].push(N),a},{}),s={[FR]:Oo({paths:r,censor:n,serialize:t,strict:al})},o=(...a)=>t(typeof n=="function"?n(...a):n);return[...Object.keys(i),...Object.getOwnPropertySymbols(i)].reduce((a,f)=>(i[f]===null?a[f]=o:a[f]=Oo({paths:i[f],censor:n,serialize:t,strict:al}),a),s)}function WR(e){if(Array.isArray(e))return e={paths:e,censor:ol},sl(e),e;var{paths:t,censor:r=ol,remove:n}=e;if(Array.isArray(t)===!1)throw Error("pino \u2013 redact must contain an array of strings");return n===!0&&(r=void 0),sl({paths:t,censor:r}),{paths:t,censor:r}}cl.exports=jR});var fl=k((DN,ll)=>{"use strict";var GR=()=>"",HR=()=>`,"time":${Date.now()}`,BR=()=>`,"time":${Math.round(Date.now()/1e3)}`,$R=()=>`,"time":"${new Date(Date.now()).toISOString()}"`;ll.exports={nullTime:GR,epochTime:HR,unixTime:BR,isoTime:$R}});var Jn=k((MN,hl)=>{"use strict";function VR(e){return e|0,e}hl.exports=VR});var dl=k((kN,So)=>{"use strict";if(typeof SharedArrayBuffer!="undefined"&&typeof Atomics!="undefined"){let t=function(r){if((r>0&&r<1/0)===!1)throw typeof r!="number"&&typeof r!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");Atomics.wait(e,0,0,Number(r))},e=new Int32Array(new SharedArrayBuffer(4));So.exports=t}else{let e=function(t){if((t>0&&t<1/0)===!1)throw typeof t!="number"&&typeof t!="bigint"?TypeError("sleep: ms must be a number"):RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity");let n=Date.now()+Number(t);for(;n>Date.now(););};So.exports=e}});var Co=k((xN,gl)=>{"use strict";var ht=require("fs"),YR=require("events"),XR=Jn(),zR=require("util").inherits,pl=100,KR=dl(),Io=16*1024*1024;function El(e,t){t._opening=!0,t._writing=!0,t._asyncDrainScheduled=!1,t.file=e;function r(n,i){if(n){t.emit("error",n);return}if(t.fd=i,t._reopening=!1,t._opening=!1,t._writing=!1,t.emit("ready"),!t._reopening){var s=t._buf.length;s>0&&s>t.minLength&&!t.destroyed&&yr(t)}}if(t.sync){let n=ht.openSync(e,"a");r(null,n),process.nextTick(()=>t.emit("ready"))}else ht.open(e,"a",r)}function dt(e){if(!(this instanceof dt))return new dt(e);var{fd:t,dest:r,minLength:n,sync:i}=e||{};if(t=t||r,this._buf="",this.fd=-1,this._writing=!1,this._writingBuf="",this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this.file=null,this.destroyed=!1,this.sync=i||!1,this.minLength=n||0,typeof t=="number")this.fd=t,process.nextTick(()=>this.emit("ready"));else if(typeof t=="string")El(t,this);else throw new Error("SonicBoom supports only file descriptors and files");this.release=(s,o)=>{if(s){if(s.code==="EAGAIN")if(this.sync)try{KR(pl),this.release(void 0,0)}catch(f){this.release(f)}else setTimeout(()=>{ht.write(this.fd,this._writingBuf,"utf8",this.release)},pl);else this.emit("error",s);return}if(this._writingBuf.length!==o)if(this._writingBuf=this._writingBuf.slice(o),this.sync)try{do o=ht.writeSync(this.fd,this._writingBuf,"utf8"),this._writingBuf=this._writingBuf.slice(o);while(this._writingBuf.length!==0)}catch(f){this.release(f);return}else{ht.write(this.fd,this._writingBuf,"utf8",this.release);return}if(this._writingBuf="",!this.destroyed){var a=this._buf.length;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):a>0&&a>this.minLength?yr(this):this._ending?a>0?yr(this):(this._writing=!1,Qn(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(JR,this)):this.emit("drain"))}},this.on("newListener",function(s){s==="drain"&&(this._asyncDrainScheduled=!1)})}function JR(e){e.listenerCount("drain")>0&&(e._asyncDrainScheduled=!1,e.emit("drain"))}zR(dt,YR);dt.prototype.write=function(e){if(this.destroyed)throw new Error("SonicBoom destroyed");this._buf+=e;var t=this._buf.length;return!this._writing&&t>this.minLength&&yr(this),t<16384};dt.prototype.flush=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");this._writing||this.minLength<=0||yr(this)};dt.prototype.reopen=function(e){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.reopen(e)});return}if(!this._ending){if(!this.file)throw new Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");this._reopening=!0,!this._writing&&(ht.close(this.fd,t=>{if(t)return this.emit("error",t)}),El(e||this.file,this))}};dt.prototype.end=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.end()});return}if(!this._ending){if(this._ending=!0,!this._writing&&this._buf.length>0&&this.fd>=0){yr(this);return}this._writing||Qn(this)}};dt.prototype.flushSync=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");this._buf.length>0&&(ht.writeSync(this.fd,this._buf,"utf8"),this._buf="")};dt.prototype.destroy=function(){this.destroyed||Qn(this)};function yr(e){e._writing=!0;var t=e._buf,r=e.release;if(t.length>Io?(t=t.slice(0,Io),e._buf=e._buf.slice(Io)):e._buf="",XR(t),e._writingBuf=t,e.sync)try{var n=ht.writeSync(e.fd,t,"utf8");r(null,n)}catch(i){r(i)}else ht.write(e.fd,t,"utf8",r)}function Qn(e){if(e.fd===-1){e.once("ready",Qn.bind(null,e));return}ht.close(e.fd,t=>{if(t){e.emit("error",t);return}e._ending&&!e._writing&&e.emit("finish"),e.emit("close")}),e.destroyed=!0,e._buf=""}gl.exports=dt});var Rl=k((qN,ml)=>{"use strict";function QR(e){try{return JSON.stringify(e)}catch(t){return'"[Circular]"'}}ml.exports=ZR;function ZR(e,t,r){var n=r&&r.stringify||QR,i=1;if(typeof e=="object"&&e!==null){var s=t.length+i;if(s===1)return e;var o=new Array(s);o[0]=n(e);for(var a=1;a<s;a++)o[a]=n(t[a]);return o.join(" ")}if(typeof e!="string")return e;var f=t.length;if(f===0)return e;for(var p="",E="",m=1-i,R=-1,N=e&&e.length||0,A=0;A<N;){if(e.charCodeAt(A)===37&&A+1<N){switch(R=R>-1?R:0,e.charCodeAt(A+1)){case 100:if(m>=f||(R<A&&(E+=e.slice(R,A)),t[m]==null))break;E+=Number(t[m]),R=A=A+2;break;case 79:case 111:case 106:if(m>=f||(R<A&&(E+=e.slice(R,A)),t[m]===void 0))break;var x=typeof t[m];if(x==="string"){E+="'"+t[m]+"'",R=A+2,A++;break}if(x==="function"){E+=t[m].name||"<anonymous>",R=A+2,A++;break}E+=n(t[m]),R=A+2,A++;break;case 115:if(m>=f)break;R<A&&(E+=e.slice(R,A)),E+=String(t[m]),R=A+2,A++;break;case 37:R<A&&(E+=e.slice(R,A)),E+="%",R=A+2,A++;break}++m}++A}return R===-1?e:(R<N&&(E+=e.slice(R)),E)}});var Lo=k((FN,yl)=>{yl.exports=Zr;Zr.default=Zr;Zr.stable=vl;Zr.stableStringify=vl;var Ot=[],Ut=[];function Zr(e,t,r){Ao(e,"",[],void 0);var n;for(Ut.length===0?n=JSON.stringify(e,t,r):n=JSON.stringify(e,Tl(t),r);Ot.length!==0;){var i=Ot.pop();i.length===4?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}return n}function Ao(e,t,r,n){var i;if(typeof e=="object"&&e!==null){for(i=0;i<r.length;i++)if(r[i]===e){var s=Object.getOwnPropertyDescriptor(n,t);s.get!==void 0?s.configurable?(Object.defineProperty(n,t,{value:"[Circular]"}),Ot.push([n,t,e,s])):Ut.push([e,t]):(n[t]="[Circular]",Ot.push([n,t,e]));return}if(r.push(e),Array.isArray(e))for(i=0;i<e.length;i++)Ao(e[i],i,r,e);else{var o=Object.keys(e);for(i=0;i<o.length;i++){var a=o[i];Ao(e[a],a,r,e)}}r.pop()}}function ev(e,t){return e<t?-1:e>t?1:0}function vl(e,t,r){var n=bo(e,"",[],void 0)||e,i;for(Ut.length===0?i=JSON.stringify(n,t,r):i=JSON.stringify(n,Tl(t),r);Ot.length!==0;){var s=Ot.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}return i}function bo(e,t,r,n){var i;if(typeof e=="object"&&e!==null){for(i=0;i<r.length;i++)if(r[i]===e){var s=Object.getOwnPropertyDescriptor(n,t);s.get!==void 0?s.configurable?(Object.defineProperty(n,t,{value:"[Circular]"}),Ot.push([n,t,e,s])):Ut.push([e,t]):(n[t]="[Circular]",Ot.push([n,t,e]));return}if(typeof e.toJSON=="function")return;if(r.push(e),Array.isArray(e))for(i=0;i<e.length;i++)bo(e[i],i,r,e);else{var o={},a=Object.keys(e).sort(ev);for(i=0;i<a.length;i++){var f=a[i];bo(e[f],f,r,e),o[f]=e[f]}if(n!==void 0)Ot.push([n,t,e]),n[t]=o;else return o}r.pop()}}function Tl(e){return e=e!==void 0?e:function(t,r){return r},function(t,r){if(Ut.length>0)for(var n=0;n<Ut.length;n++){var i=Ut[n];if(i[1]===t&&i[0]===r){r="[Circular]",Ut.splice(n,1);break}}return e.call(this,t,r)}}});var Nl=k((UN,_l)=>{"use strict";_l.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var wo=k((jN,Sl)=>{var en=Nl(),Ol={};for(let e of Object.keys(en))Ol[en[e]]=e;var K={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};Sl.exports=K;for(let e of Object.keys(K)){if(!("channels"in K[e]))throw new Error("missing channels property: "+e);if(!("labels"in K[e]))throw new Error("missing channel labels property: "+e);if(K[e].labels.length!==K[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=K[e];delete K[e].channels,delete K[e].labels,Object.defineProperty(K[e],"channels",{value:t}),Object.defineProperty(K[e],"labels",{value:r})}K.rgb.hsl=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=s-i,a,f;s===i?a=0:t===s?a=(r-n)/o:r===s?a=2+(n-t)/o:n===s&&(a=4+(t-r)/o),a=Math.min(a*60,360),a<0&&(a+=360);let p=(i+s)/2;return s===i?f=0:p<=.5?f=o/(s+i):f=o/(2-s-i),[a,f*100,p*100]};K.rgb.hsv=function(e){let t,r,n,i,s,o=e[0]/255,a=e[1]/255,f=e[2]/255,p=Math.max(o,a,f),E=p-Math.min(o,a,f),m=function(R){return(p-R)/6/E+1/2};return E===0?(i=0,s=0):(s=E/p,t=m(o),r=m(a),n=m(f),o===p?i=n-r:a===p?i=1/3+t-n:f===p&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,p*100]};K.rgb.hwb=function(e){let t=e[0],r=e[1],n=e[2],i=K.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,s*100,n*100]};K.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n),s=(1-t-i)/(1-i)||0,o=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function tv(e,t){return Ae(e[0]-t[0],2)+Ae(e[1]-t[1],2)+Ae(e[2]-t[2],2)}K.rgb.keyword=function(e){let t=Ol[e];if(t)return t;let r=1/0,n;for(let i of Object.keys(en)){let s=en[i],o=tv(e,s);o<r&&(r=o,n=i)}return n};K.keyword.rgb=function(e){return en[e]};K.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?Ae((t+.055)/1.055,2.4):t/12.92,r=r>.04045?Ae((r+.055)/1.055,2.4):r/12.92,n=n>.04045?Ae((n+.055)/1.055,2.4):n/12.92;let i=t*.4124+r*.3576+n*.1805,s=t*.2126+r*.7152+n*.0722,o=t*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};K.rgb.lab=function(e){let t=K.rgb.xyz(e),r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?Ae(r,1/3):7.787*r+16/116,n=n>.008856?Ae(n,1/3):7.787*n+16/116,i=i>.008856?Ae(i,1/3):7.787*i+16/116;let s=116*n-16,o=500*(r-n),a=200*(n-i);return[s,o,a]};K.hsl.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i,s,o;if(r===0)return o=n*255,[o,o,o];n<.5?i=n*(1+r):i=n+r-n*r;let a=2*n-i,f=[0,0,0];for(let p=0;p<3;p++)s=t+1/3*-(p-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(i-a)*6*s:2*s<1?o=i:3*s<2?o=a+(i-a)*(2/3-s)*6:o=a,f[p]=o*255;return f};K.hsl.hsv=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=r,s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;let o=(n+r)/2,a=n===0?2*i/(s+i):2*r/(n+r);return[t,a*100,o*100]};K.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,s=t-Math.floor(t),o=255*n*(1-r),a=255*n*(1-r*s),f=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,f,o];case 1:return[a,n,o];case 2:return[o,n,f];case 3:return[o,a,n];case 4:return[f,o,n];case 5:return[n,o,a]}};K.hsv.hsl=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01),s,o;o=(2-r)*n;let a=(2-r)*i;return s=r*i,s/=a<=1?a:2-a,s=s||0,o/=2,[t,s*100,o*100]};K.hwb.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i=r+n,s;i>1&&(r/=i,n/=i);let o=Math.floor(6*t),a=1-n;s=6*t-o,(o&1)!==0&&(s=1-s);let f=r+s*(a-r),p,E,m;switch(o){default:case 6:case 0:p=a,E=f,m=r;break;case 1:p=f,E=a,m=r;break;case 2:p=r,E=a,m=f;break;case 3:p=r,E=f,m=a;break;case 4:p=f,E=r,m=a;break;case 5:p=a,E=r,m=f;break}return[p*255,E*255,m*255]};K.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100,s=1-Math.min(1,t*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[s*255,o*255,a*255]};K.xyz.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i,s,o;return i=t*3.2406+r*-1.5372+n*-.4986,s=t*-.9689+r*1.8758+n*.0415,o=t*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*Ae(i,1/2.4)-.055:i*12.92,s=s>.0031308?1.055*Ae(s,1/2.4)-.055:s*12.92,o=o>.0031308?1.055*Ae(o,1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};K.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?Ae(t,1/3):7.787*t+16/116,r=r>.008856?Ae(r,1/3):7.787*r+16/116,n=n>.008856?Ae(n,1/3):7.787*n+16/116;let i=116*r-16,s=500*(t-r),o=200*(r-n);return[i,s,o]};K.lab.xyz=function(e){let t=e[0],r=e[1],n=e[2],i,s,o;s=(t+16)/116,i=r/500+s,o=s-n/200;let a=Ae(s,3),f=Ae(i,3),p=Ae(o,3);return s=a>.008856?a:(s-16/116)/7.787,i=f>.008856?f:(i-16/116)/7.787,o=p>.008856?p:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};K.lab.lch=function(e){let t=e[0],r=e[1],n=e[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let o=Math.sqrt(r*r+n*n);return[t,o,i]};K.lch.lab=function(e){let t=e[0],r=e[1],i=e[2]/360*2*Math.PI,s=r*Math.cos(i),o=r*Math.sin(i);return[t,s,o]};K.rgb.ansi16=function(e,t=null){let[r,n,i]=e,s=t===null?K.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};K.hsv.ansi16=function(e){return K.rgb.ansi16(K.hsv.rgb(e),e[2])};K.rgb.ansi256=function(e){let t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};K.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let r=(~~(e>50)+1)*.5,n=(t&1)*r*255,i=(t>>1&1)*r*255,s=(t>>2&1)*r*255;return[n,i,s]};K.ansi256.rgb=function(e){if(e>=232){let s=(e-232)*10+8;return[s,s,s]}e-=16;let t,r=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[r,n,i]};K.rgb.hex=function(e){let r=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};K.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};K.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),s=Math.min(Math.min(t,r),n),o=i-s,a,f;return o<1?a=s/(1-o):a=0,o<=0?f=0:i===t?f=(r-n)/o%6:i===r?f=2+(n-t)/o:f=4+(t-r)/o,f/=6,f%=1,[f*360,o*100,a*100]};K.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],n*100,i*100]};K.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],n*100,i*100]};K.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],s=t%1*6,o=s%1,a=1-o,f=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return f=(1-r)*n,[(r*i[0]+f)*255,(r*i[1]+f)*255,(r*i[2]+f)*255]};K.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t),i=0;return n>0&&(i=t/n),[e[0],i*100,n*100]};K.hcg.hsl=function(e){let t=e[1]/100,n=e[2]/100*(1-t)+.5*t,i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],i*100,n*100]};K.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};K.hwb.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=1-r,i=n-t,s=0;return i<1&&(s=(n-i)/(1-i)),[e[0],i*100,s*100]};K.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};K.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};K.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};K.gray.hsl=function(e){return[0,0,e[0]]};K.gray.hsv=K.gray.hsl;K.gray.hwb=function(e){return[0,100,e[0]]};K.gray.cmyk=function(e){return[0,0,0,e[0]]};K.gray.lab=function(e){return[e[0],0,0]};K.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n};K.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}});var Cl=k((WN,Il)=>{var Zn=wo();function rv(){let e={},t=Object.keys(Zn);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function nv(e){let t=rv(),r=[e];for(t[e].distance=0;r.length;){let n=r.pop(),i=Object.keys(Zn[n]);for(let s=i.length,o=0;o<s;o++){let a=i[o],f=t[a];f.distance===-1&&(f.distance=t[n].distance+1,f.parent=n,r.unshift(a))}}return t}function iv(e,t){return function(r){return t(e(r))}}function sv(e,t){let r=[t[e].parent,e],n=Zn[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=iv(Zn[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}Il.exports=function(e){let t=nv(e),r={},n=Object.keys(t);for(let i=n.length,s=0;s<i;s++){let o=n[s];t[o].parent!==null&&(r[o]=sv(o,t))}return r}});var bl=k((GN,Al)=>{var Po=wo(),ov=Cl(),_r={},av=Object.keys(Po);function cv(e){let t=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function uv(e){let t=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=e(r);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}av.forEach(e=>{_r[e]={},Object.defineProperty(_r[e],"channels",{value:Po[e].channels}),Object.defineProperty(_r[e],"labels",{value:Po[e].labels});let t=ov(e);Object.keys(t).forEach(n=>{let i=t[n];_r[e][n]=uv(i),_r[e][n].raw=cv(i)})});Al.exports=_r});var kl=k((HN,Ml)=>{"use strict";var Ll=(e,t)=>(...r)=>`\x1B[${e(...r)+t}m`,wl=(e,t)=>(...r)=>{let n=e(...r);return`\x1B[${38+t};5;${n}m`},Pl=(e,t)=>(...r)=>{let n=e(...r);return`\x1B[${38+t};2;${n[0]};${n[1]};${n[2]}m`},ei=e=>e,Dl=(e,t,r)=>[e,t,r],Nr=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{let n=r();return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})},Do,Or=(e,t,r,n)=>{Do===void 0&&(Do=bl());let i=n?10:0,s={};for(let[o,a]of Object.entries(Do)){let f=o==="ansi16"?"ansi":o;o===t?s[f]=e(r,i):typeof a=="object"&&(s[f]=e(a[t],i))}return s};function lv(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(let[r,n]of Object.entries(t)){for(let[i,s]of Object.entries(n))t[i]={open:`\x1B[${s[0]}m`,close:`\x1B[${s[1]}m`},n[i]=t[i],e.set(s[0],s[1]);Object.defineProperty(t,r,{value:n,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1B[39m",t.bgColor.close="\x1B[49m",Nr(t.color,"ansi",()=>Or(Ll,"ansi16",ei,!1)),Nr(t.color,"ansi256",()=>Or(wl,"ansi256",ei,!1)),Nr(t.color,"ansi16m",()=>Or(Pl,"rgb",Dl,!1)),Nr(t.bgColor,"ansi",()=>Or(Ll,"ansi16",ei,!0)),Nr(t.bgColor,"ansi256",()=>Or(wl,"ansi256",ei,!0)),Nr(t.bgColor,"ansi16m",()=>Or(Pl,"rgb",Dl,!0)),t}Object.defineProperty(Ml,"exports",{enumerable:!0,get:lv})});var ql=k((BN,xl)=>{"use strict";xl.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var jl=k(($N,Ul)=>{"use strict";var fv=require("os"),Fl=require("tty"),Ke=ql(),{env:be}=process,jt;Ke("no-color")||Ke("no-colors")||Ke("color=false")||Ke("color=never")?jt=0:(Ke("color")||Ke("colors")||Ke("color=true")||Ke("color=always"))&&(jt=1);"FORCE_COLOR"in be&&(be.FORCE_COLOR==="true"?jt=1:be.FORCE_COLOR==="false"?jt=0:jt=be.FORCE_COLOR.length===0?1:Math.min(parseInt(be.FORCE_COLOR,10),3));function Mo(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function ko(e,t){if(jt===0)return 0;if(Ke("color=16m")||Ke("color=full")||Ke("color=truecolor"))return 3;if(Ke("color=256"))return 2;if(e&&!t&&jt===void 0)return 0;let r=jt||0;if(be.TERM==="dumb")return r;if(process.platform==="win32"){let n=fv.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in be)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(n=>n in be)||be.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in be)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(be.TEAMCITY_VERSION)?1:0;if("GITHUB_ACTIONS"in be)return 1;if(be.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in be){let n=parseInt((be.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(be.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(be.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(be.TERM)||"COLORTERM"in be?1:r}function hv(e){let t=ko(e,e&&e.isTTY);return Mo(t)}Ul.exports={supportsColor:hv,stdout:Mo(ko(!0,Fl.isatty(1))),stderr:Mo(ko(!0,Fl.isatty(2)))}});var Gl=k((VN,Wl)=>{"use strict";var dv=(e,t,r)=>{let n=e.indexOf(t);if(n===-1)return e;let i=t.length,s=0,o="";do o+=e.substr(s,n-s)+t+r,s=n+i,n=e.indexOf(t,s);while(n!==-1);return o+=e.substr(s),o},pv=(e,t,r,n)=>{let i=0,s="";do{let o=e[n-1]==="\r";s+=e.substr(i,(o?n-1:n)-i)+t+(o?`\r
`:`
`)+r,i=n+1,n=e.indexOf(`
`,i)}while(n!==-1);return s+=e.substr(i),s};Wl.exports={stringReplaceAll:dv,stringEncaseCRLFWithFirstIndex:pv}});var Yl=k((YN,Vl)=>{"use strict";var Ev=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,Hl=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,gv=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,mv=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,Rv=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function $l(e){let t=e[0]==="u",r=e[1]==="{";return t&&!r&&e.length===5||e[0]==="x"&&e.length===3?String.fromCharCode(parseInt(e.slice(1),16)):t&&r?String.fromCodePoint(parseInt(e.slice(2,-1),16)):Rv.get(e)||e}function vv(e,t){let r=[],n=t.trim().split(/\s*,\s*/g),i;for(let s of n){let o=Number(s);if(!Number.isNaN(o))r.push(o);else if(i=s.match(gv))r.push(i[2].replace(mv,(a,f,p)=>f?$l(f):p));else throw new Error(`Invalid Chalk template style argument: ${s} (in style '${e}')`)}return r}function Tv(e){Hl.lastIndex=0;let t=[],r;for(;(r=Hl.exec(e))!==null;){let n=r[1];if(r[2]){let i=vv(n,r[2]);t.push([n].concat(i))}else t.push([n])}return t}function Bl(e,t){let r={};for(let i of t)for(let s of i.styles)r[s[0]]=i.inverse?null:s.slice(1);let n=e;for(let[i,s]of Object.entries(r))if(!!Array.isArray(s)){if(!(i in n))throw new Error(`Unknown Chalk style: ${i}`);n=s.length>0?n[i](...s):n[i]}return n}Vl.exports=(e,t)=>{let r=[],n=[],i=[];if(t.replace(Ev,(s,o,a,f,p,E)=>{if(o)i.push($l(o));else if(f){let m=i.join("");i=[],n.push(r.length===0?m:Bl(e,r)(m)),r.push({inverse:a,styles:Tv(f)})}else if(p){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(Bl(e,r)(i.join(""))),i=[],r.pop()}else i.push(E)}),n.push(i.join("")),r.length>0){let s=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(s)}return n.join("")}});var Wo=k((XN,Zl)=>{"use strict";var tn=kl(),{stdout:qo,stderr:Fo}=jl(),{stringReplaceAll:yv,stringEncaseCRLFWithFirstIndex:_v}=Gl(),{isArray:ti}=Array,zl=["ansi","ansi","ansi256","ansi16m"],Sr=Object.create(null),Nv=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let r=qo?qo.level:0;e.level=t.level===void 0?r:t.level},Uo=class{constructor(t){return Kl(t)}},Kl=e=>{let t={};return Nv(t,e),t.template=(...r)=>Ql(t.template,...r),Object.setPrototypeOf(t,ri.prototype),Object.setPrototypeOf(t.template,t),t.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},t.template.Instance=Uo,t.template};function ri(e){return Kl(e)}for(let[e,t]of Object.entries(tn))Sr[e]={get(){let r=ni(this,jo(t.open,t.close,this._styler),this._isEmpty);return Object.defineProperty(this,e,{value:r}),r}};Sr.visible={get(){let e=ni(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:e}),e}};var Jl=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(let e of Jl)Sr[e]={get(){let{level:t}=this;return function(...r){let n=jo(tn.color[zl[t]][e](...r),tn.color.close,this._styler);return ni(this,n,this._isEmpty)}}};for(let e of Jl){let t="bg"+e[0].toUpperCase()+e.slice(1);Sr[t]={get(){let{level:r}=this;return function(...n){let i=jo(tn.bgColor[zl[r]][e](...n),tn.bgColor.close,this._styler);return ni(this,i,this._isEmpty)}}}}var Ov=Object.defineProperties(()=>{},Di(Ct({},Sr),{level:{enumerable:!0,get(){return this._generator.level},set(e){this._generator.level=e}}})),jo=(e,t,r)=>{let n,i;return r===void 0?(n=e,i=t):(n=r.openAll+e,i=t+r.closeAll),{open:e,close:t,openAll:n,closeAll:i,parent:r}},ni=(e,t,r)=>{let n=(...i)=>ti(i[0])&&ti(i[0].raw)?Xl(n,Ql(n,...i)):Xl(n,i.length===1?""+i[0]:i.join(" "));return Object.setPrototypeOf(n,Ov),n._generator=e,n._styler=t,n._isEmpty=r,n},Xl=(e,t)=>{if(e.level<=0||!t)return e._isEmpty?"":t;let r=e._styler;if(r===void 0)return t;let{openAll:n,closeAll:i}=r;if(t.indexOf("\x1B")!==-1)for(;r!==void 0;)t=yv(t,r.close,r.open),r=r.parent;let s=t.indexOf(`
`);return s!==-1&&(t=_v(t,i,n,s)),n+t+i},xo,Ql=(e,...t)=>{let[r]=t;if(!ti(r)||!ti(r.raw))return t.join(" ");let n=t.slice(1),i=[r.raw[0]];for(let s=1;s<r.length;s++)i.push(String(n[s-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[s]));return xo===void 0&&(xo=Yl()),xo(e,i.join(""))};Object.defineProperties(ri.prototype,Sr);var ii=ri();ii.supportsColor=qo;ii.stderr=ri({level:Fo?Fo.level:0});ii.stderr.supportsColor=Fo;Zl.exports=ii});var ef=k(si=>{(function(e){"use strict";function t(c){return c!==null?Object.prototype.toString.call(c)==="[object Array]":!1}function r(c){return c!==null?Object.prototype.toString.call(c)==="[object Object]":!1}function n(c,d){if(c===d)return!0;var g=Object.prototype.toString.call(c);if(g!==Object.prototype.toString.call(d))return!1;if(t(c)===!0){if(c.length!==d.length)return!1;for(var T=0;T<c.length;T++)if(n(c[T],d[T])===!1)return!1;return!0}if(r(c)===!0){var O={};for(var G in c)if(hasOwnProperty.call(c,G)){if(n(c[G],d[G])===!1)return!1;O[G]=!0}for(var Y in d)if(hasOwnProperty.call(d,Y)&&O[Y]!==!0)return!1;return!0}return!1}function i(c){if(c===""||c===!1||c===null)return!0;if(t(c)&&c.length===0)return!0;if(r(c)){for(var d in c)if(c.hasOwnProperty(d))return!1;return!0}else return!1}function s(c){for(var d=Object.keys(c),g=[],T=0;T<d.length;T++)g.push(c[d[T]]);return g}function o(c,d){var g={};for(var T in c)g[T]=c[T];for(var O in d)g[O]=d[O];return g}var a;typeof String.prototype.trimLeft=="function"?a=function(c){return c.trimLeft()}:a=function(c){return c.match(/^\s*(.*)/)[1]};var f=0,p=1,E=2,m=3,R=4,N=5,A=6,x=7,B=8,j=9,Z="EOF",$="UnquotedIdentifier",_="QuotedIdentifier",v="Rbracket",C="Rparen",X="Comma",U="Colon",V="Rbrace",ne="Number",S="Current",b="Expref",F="Pipe",W="Or",Q="And",J="EQ",te="GT",ve="LT",de="GTE",fe="LTE",Ie="NE",me="Flatten",Le="Star",Ce="Filter",Fe="Dot",Xe="Not",ke="Lbrace",Ue="Lbracket",gt="Lparen",ot="Literal",ir={".":Fe,"*":Le,",":X,":":U,"{":ke,"}":V,"]":v,"(":gt,")":C,"@":S},Ar={"<":!0,">":!0,"=":!0,"!":!0},br={" ":!0,"	":!0,"\n":!0};function at(c){return c>="a"&&c<="z"||c>="A"&&c<="Z"||c==="_"}function ct(c){return c>="0"&&c<="9"||c==="-"}function Lr(c){return c>="a"&&c<="z"||c>="A"&&c<="Z"||c>="0"&&c<="9"||c==="_"}function D(){}D.prototype={tokenize:function(c){var d=[];this._current=0;for(var g,T,O;this._current<c.length;)if(at(c[this._current]))g=this._current,T=this._consumeUnquotedIdentifier(c),d.push({type:$,value:T,start:g});else if(ir[c[this._current]]!==void 0)d.push({type:ir[c[this._current]],value:c[this._current],start:this._current}),this._current++;else if(ct(c[this._current]))O=this._consumeNumber(c),d.push(O);else if(c[this._current]==="[")O=this._consumeLBracket(c),d.push(O);else if(c[this._current]==='"')g=this._current,T=this._consumeQuotedIdentifier(c),d.push({type:_,value:T,start:g});else if(c[this._current]==="'")g=this._current,T=this._consumeRawStringLiteral(c),d.push({type:ot,value:T,start:g});else if(c[this._current]==="`"){g=this._current;var G=this._consumeLiteral(c);d.push({type:ot,value:G,start:g})}else if(Ar[c[this._current]]!==void 0)d.push(this._consumeOperator(c));else if(br[c[this._current]]!==void 0)this._current++;else if(c[this._current]==="&")g=this._current,this._current++,c[this._current]==="&"?(this._current++,d.push({type:Q,value:"&&",start:g})):d.push({type:b,value:"&",start:g});else if(c[this._current]==="|")g=this._current,this._current++,c[this._current]==="|"?(this._current++,d.push({type:W,value:"||",start:g})):d.push({type:F,value:"|",start:g});else{var Y=new Error("Unknown character:"+c[this._current]);throw Y.name="LexerError",Y}return d},_consumeUnquotedIdentifier:function(c){var d=this._current;for(this._current++;this._current<c.length&&Lr(c[this._current]);)this._current++;return c.slice(d,this._current)},_consumeQuotedIdentifier:function(c){var d=this._current;this._current++;for(var g=c.length;c[this._current]!=='"'&&this._current<g;){var T=this._current;c[T]==="\\"&&(c[T+1]==="\\"||c[T+1]==='"')?T+=2:T++,this._current=T}return this._current++,JSON.parse(c.slice(d,this._current))},_consumeRawStringLiteral:function(c){var d=this._current;this._current++;for(var g=c.length;c[this._current]!=="'"&&this._current<g;){var T=this._current;c[T]==="\\"&&(c[T+1]==="\\"||c[T+1]==="'")?T+=2:T++,this._current=T}this._current++;var O=c.slice(d+1,this._current-1);return O.replace("\\'","'")},_consumeNumber:function(c){var d=this._current;this._current++;for(var g=c.length;ct(c[this._current])&&this._current<g;)this._current++;var T=parseInt(c.slice(d,this._current));return{type:ne,value:T,start:d}},_consumeLBracket:function(c){var d=this._current;return this._current++,c[this._current]==="?"?(this._current++,{type:Ce,value:"[?",start:d}):c[this._current]==="]"?(this._current++,{type:me,value:"[]",start:d}):{type:Ue,value:"[",start:d}},_consumeOperator:function(c){var d=this._current,g=c[d];if(this._current++,g==="!")return c[this._current]==="="?(this._current++,{type:Ie,value:"!=",start:d}):{type:Xe,value:"!",start:d};if(g==="<")return c[this._current]==="="?(this._current++,{type:fe,value:"<=",start:d}):{type:ve,value:"<",start:d};if(g===">")return c[this._current]==="="?(this._current++,{type:de,value:">=",start:d}):{type:te,value:">",start:d};if(g==="="&&c[this._current]==="=")return this._current++,{type:J,value:"==",start:d}},_consumeLiteral:function(c){this._current++;for(var d=this._current,g=c.length,T;c[this._current]!=="`"&&this._current<g;){var O=this._current;c[O]==="\\"&&(c[O+1]==="\\"||c[O+1]==="`")?O+=2:O++,this._current=O}var G=a(c.slice(d,this._current));return G=G.replace("\\`","`"),this._looksLikeJSON(G)?T=JSON.parse(G):T=JSON.parse('"'+G+'"'),this._current++,T},_looksLikeJSON:function(c){var d='[{"',g=["true","false","null"],T="-0123456789";if(c==="")return!1;if(d.indexOf(c[0])>=0)return!0;if(g.indexOf(c)>=0)return!0;if(T.indexOf(c[0])>=0)try{return JSON.parse(c),!0}catch(O){return!1}else return!1}};var h={};h[Z]=0,h[$]=0,h[_]=0,h[v]=0,h[C]=0,h[X]=0,h[V]=0,h[ne]=0,h[S]=0,h[b]=0,h[F]=1,h[W]=2,h[Q]=3,h[J]=5,h[te]=5,h[ve]=5,h[de]=5,h[fe]=5,h[Ie]=5,h[me]=9,h[Le]=20,h[Ce]=21,h[Fe]=40,h[Xe]=45,h[ke]=50,h[Ue]=55,h[gt]=60;function I(){}I.prototype={parse:function(c){this._loadTokens(c),this.index=0;var d=this.expression(0);if(this._lookahead(0)!==Z){var g=this._lookaheadToken(0),T=new Error("Unexpected token type: "+g.type+", value: "+g.value);throw T.name="ParserError",T}return d},_loadTokens:function(c){var d=new D,g=d.tokenize(c);g.push({type:Z,value:"",start:c.length}),this.tokens=g},expression:function(c){var d=this._lookaheadToken(0);this._advance();for(var g=this.nud(d),T=this._lookahead(0);c<h[T];)this._advance(),g=this.led(T,g),T=this._lookahead(0);return g},_lookahead:function(c){return this.tokens[this.index+c].type},_lookaheadToken:function(c){return this.tokens[this.index+c]},_advance:function(){this.index++},nud:function(c){var d,g,T;switch(c.type){case ot:return{type:"Literal",value:c.value};case $:return{type:"Field",name:c.value};case _:var O={type:"Field",name:c.value};if(this._lookahead(0)===gt)throw new Error("Quoted identifier not allowed for function names.");return O;case Xe:return g=this.expression(h.Not),{type:"NotExpression",children:[g]};case Le:return d={type:"Identity"},g=null,this._lookahead(0)===v?g={type:"Identity"}:g=this._parseProjectionRHS(h.Star),{type:"ValueProjection",children:[d,g]};case Ce:return this.led(c.type,{type:"Identity"});case ke:return this._parseMultiselectHash();case me:return d={type:me,children:[{type:"Identity"}]},g=this._parseProjectionRHS(h.Flatten),{type:"Projection",children:[d,g]};case Ue:return this._lookahead(0)===ne||this._lookahead(0)===U?(g=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},g)):this._lookahead(0)===Le&&this._lookahead(1)===v?(this._advance(),this._advance(),g=this._parseProjectionRHS(h.Star),{type:"Projection",children:[{type:"Identity"},g]}):this._parseMultiselectList();case S:return{type:S};case b:return T=this.expression(h.Expref),{type:"ExpressionReference",children:[T]};case gt:for(var G=[];this._lookahead(0)!==C;)this._lookahead(0)===S?(T={type:S},this._advance()):T=this.expression(0),G.push(T);return this._match(C),G[0];default:this._errorToken(c)}},led:function(c,d){var g;switch(c){case Fe:var T=h.Dot;return this._lookahead(0)!==Le?(g=this._parseDotRHS(T),{type:"Subexpression",children:[d,g]}):(this._advance(),g=this._parseProjectionRHS(T),{type:"ValueProjection",children:[d,g]});case F:return g=this.expression(h.Pipe),{type:F,children:[d,g]};case W:return g=this.expression(h.Or),{type:"OrExpression",children:[d,g]};case Q:return g=this.expression(h.And),{type:"AndExpression",children:[d,g]};case gt:for(var O=d.name,G=[],Y,ee;this._lookahead(0)!==C;)this._lookahead(0)===S?(Y={type:S},this._advance()):Y=this.expression(0),this._lookahead(0)===X&&this._match(X),G.push(Y);return this._match(C),ee={type:"Function",name:O,children:G},ee;case Ce:var Te=this.expression(0);return this._match(v),this._lookahead(0)===me?g={type:"Identity"}:g=this._parseProjectionRHS(h.Filter),{type:"FilterProjection",children:[d,g,Te]};case me:var ut={type:me,children:[d]},Pe=this._parseProjectionRHS(h.Flatten);return{type:"Projection",children:[ut,Pe]};case J:case Ie:case te:case de:case ve:case fe:return this._parseComparator(d,c);case Ue:var ie=this._lookaheadToken(0);return ie.type===ne||ie.type===U?(g=this._parseIndexExpression(),this._projectIfSlice(d,g)):(this._match(Le),this._match(v),g=this._parseProjectionRHS(h.Star),{type:"Projection",children:[d,g]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(c){if(this._lookahead(0)===c)this._advance();else{var d=this._lookaheadToken(0),g=new Error("Expected "+c+", got: "+d.type);throw g.name="ParserError",g}},_errorToken:function(c){var d=new Error("Invalid token ("+c.type+'): "'+c.value+'"');throw d.name="ParserError",d},_parseIndexExpression:function(){if(this._lookahead(0)===U||this._lookahead(1)===U)return this._parseSliceExpression();var c={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match(v),c},_projectIfSlice:function(c,d){var g={type:"IndexExpression",children:[c,d]};return d.type==="Slice"?{type:"Projection",children:[g,this._parseProjectionRHS(h.Star)]}:g},_parseSliceExpression:function(){for(var c=[null,null,null],d=0,g=this._lookahead(0);g!==v&&d<3;){if(g===U)d++,this._advance();else if(g===ne)c[d]=this._lookaheadToken(0).value,this._advance();else{var T=this._lookahead(0),O=new Error("Syntax error, unexpected token: "+T.value+"("+T.type+")");throw O.name="Parsererror",O}g=this._lookahead(0)}return this._match(v),{type:"Slice",children:c}},_parseComparator:function(c,d){var g=this.expression(h[d]);return{type:"Comparator",name:d,children:[c,g]}},_parseDotRHS:function(c){var d=this._lookahead(0),g=[$,_,Le];if(g.indexOf(d)>=0)return this.expression(c);if(d===Ue)return this._match(Ue),this._parseMultiselectList();if(d===ke)return this._match(ke),this._parseMultiselectHash()},_parseProjectionRHS:function(c){var d;if(h[this._lookahead(0)]<10)d={type:"Identity"};else if(this._lookahead(0)===Ue)d=this.expression(c);else if(this._lookahead(0)===Ce)d=this.expression(c);else if(this._lookahead(0)===Fe)this._match(Fe),d=this._parseDotRHS(c);else{var g=this._lookaheadToken(0),T=new Error("Sytanx error, unexpected token: "+g.value+"("+g.type+")");throw T.name="ParserError",T}return d},_parseMultiselectList:function(){for(var c=[];this._lookahead(0)!==v;){var d=this.expression(0);if(c.push(d),this._lookahead(0)===X&&(this._match(X),this._lookahead(0)===v))throw new Error("Unexpected token Rbracket")}return this._match(v),{type:"MultiSelectList",children:c}},_parseMultiselectHash:function(){for(var c=[],d=[$,_],g,T,O,G;;){if(g=this._lookaheadToken(0),d.indexOf(g.type)<0)throw new Error("Expecting an identifier token, got: "+g.type);if(T=g.value,this._advance(),this._match(U),O=this.expression(0),G={type:"KeyValuePair",name:T,value:O},c.push(G),this._lookahead(0)===X)this._match(X);else if(this._lookahead(0)===V){this._match(V);break}}return{type:"MultiSelectHash",children:c}}};function w(c){this.runtime=c}w.prototype={search:function(c,d){return this.visit(c,d)},visit:function(c,d){var g,T,O,G,Y,ee,Te,ut,Pe,ie;switch(c.type){case"Field":return d===null?null:r(d)?(ee=d[c.name],ee===void 0?null:ee):null;case"Subexpression":for(O=this.visit(c.children[0],d),ie=1;ie<c.children.length;ie++)if(O=this.visit(c.children[1],O),O===null)return null;return O;case"IndexExpression":return Te=this.visit(c.children[0],d),ut=this.visit(c.children[1],Te),ut;case"Index":if(!t(d))return null;var mt=c.value;return mt<0&&(mt=d.length+mt),O=d[mt],O===void 0&&(O=null),O;case"Slice":if(!t(d))return null;var Vh=c.children.slice(0),Ii=this.computeSliceParams(d.length,Vh),ya=Ii[0],_a=Ii[1],Ci=Ii[2];if(O=[],Ci>0)for(ie=ya;ie<_a;ie+=Ci)O.push(d[ie]);else for(ie=ya;ie>_a;ie+=Ci)O.push(d[ie]);return O;case"Projection":var Qe=this.visit(c.children[0],d);if(!t(Qe))return null;for(Pe=[],ie=0;ie<Qe.length;ie++)T=this.visit(c.children[1],Qe[ie]),T!==null&&Pe.push(T);return Pe;case"ValueProjection":if(Qe=this.visit(c.children[0],d),!r(Qe))return null;Pe=[];var Na=s(Qe);for(ie=0;ie<Na.length;ie++)T=this.visit(c.children[1],Na[ie]),T!==null&&Pe.push(T);return Pe;case"FilterProjection":if(Qe=this.visit(c.children[0],d),!t(Qe))return null;var Ai=[],Oa=[];for(ie=0;ie<Qe.length;ie++)g=this.visit(c.children[2],Qe[ie]),i(g)||Ai.push(Qe[ie]);for(var bi=0;bi<Ai.length;bi++)T=this.visit(c.children[1],Ai[bi]),T!==null&&Oa.push(T);return Oa;case"Comparator":switch(G=this.visit(c.children[0],d),Y=this.visit(c.children[1],d),c.name){case J:O=n(G,Y);break;case Ie:O=!n(G,Y);break;case te:O=G>Y;break;case de:O=G>=Y;break;case ve:O=G<Y;break;case fe:O=G<=Y;break;default:throw new Error("Unknown comparator: "+c.name)}return O;case me:var Li=this.visit(c.children[0],d);if(!t(Li))return null;var hn=[];for(ie=0;ie<Li.length;ie++)T=Li[ie],t(T)?hn.push.apply(hn,T):hn.push(T);return hn;case"Identity":return d;case"MultiSelectList":if(d===null)return null;for(Pe=[],ie=0;ie<c.children.length;ie++)Pe.push(this.visit(c.children[ie],d));return Pe;case"MultiSelectHash":if(d===null)return null;Pe={};var wi;for(ie=0;ie<c.children.length;ie++)wi=c.children[ie],Pe[wi.name]=this.visit(wi.value,d);return Pe;case"OrExpression":return g=this.visit(c.children[0],d),i(g)&&(g=this.visit(c.children[1],d)),g;case"AndExpression":return G=this.visit(c.children[0],d),i(G)===!0?G:this.visit(c.children[1],d);case"NotExpression":return G=this.visit(c.children[0],d),i(G);case"Literal":return c.value;case F:return Te=this.visit(c.children[0],d),this.visit(c.children[1],Te);case S:return d;case"Function":var Sa=[];for(ie=0;ie<c.children.length;ie++)Sa.push(this.visit(c.children[ie],d));return this.runtime.callFunction(c.name,Sa);case"ExpressionReference":var Ia=c.children[0];return Ia.jmespathType=b,Ia;default:throw new Error("Unknown node type: "+c.type)}},computeSliceParams:function(c,d){var g=d[0],T=d[1],O=d[2],G=[null,null,null];if(O===null)O=1;else if(O===0){var Y=new Error("Invalid slice, step cannot be 0");throw Y.name="RuntimeError",Y}var ee=O<0;return g===null?g=ee?c-1:0:g=this.capSliceRange(c,g,O),T===null?T=ee?-1:c:T=this.capSliceRange(c,T,O),G[0]=g,G[1]=T,G[2]=O,G},capSliceRange:function(c,d,g){return d<0?(d+=c,d<0&&(d=g<0?-1:0)):d>=c&&(d=g<0?c-1:c),d}};function l(c){this._interpreter=c,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[f]}]},avg:{_func:this._functionAvg,_signature:[{types:[B]}]},ceil:{_func:this._functionCeil,_signature:[{types:[f]}]},contains:{_func:this._functionContains,_signature:[{types:[E,m]},{types:[p]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[E]},{types:[E]}]},floor:{_func:this._functionFloor,_signature:[{types:[f]}]},length:{_func:this._functionLength,_signature:[{types:[E,m,R]}]},map:{_func:this._functionMap,_signature:[{types:[A]},{types:[m]}]},max:{_func:this._functionMax,_signature:[{types:[B,j]}]},merge:{_func:this._functionMerge,_signature:[{types:[R],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[m]},{types:[A]}]},sum:{_func:this._functionSum,_signature:[{types:[B]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[E]},{types:[E]}]},min:{_func:this._functionMin,_signature:[{types:[B,j]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[m]},{types:[A]}]},type:{_func:this._functionType,_signature:[{types:[p]}]},keys:{_func:this._functionKeys,_signature:[{types:[R]}]},values:{_func:this._functionValues,_signature:[{types:[R]}]},sort:{_func:this._functionSort,_signature:[{types:[j,B]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[m]},{types:[A]}]},join:{_func:this._functionJoin,_signature:[{types:[E]},{types:[j]}]},reverse:{_func:this._functionReverse,_signature:[{types:[E,m]}]},to_array:{_func:this._functionToArray,_signature:[{types:[p]}]},to_string:{_func:this._functionToString,_signature:[{types:[p]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[p]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[p],variadic:!0}]}}}l.prototype={callFunction:function(c,d){var g=this.functionTable[c];if(g===void 0)throw new Error("Unknown function: "+c+"()");return this._validateArgs(c,d,g._signature),g._func.call(this,d)},_validateArgs:function(c,d,g){var T;if(g[g.length-1].variadic){if(d.length<g.length)throw T=g.length===1?" argument":" arguments",new Error("ArgumentError: "+c+"() takes at least"+g.length+T+" but received "+d.length)}else if(d.length!==g.length)throw T=g.length===1?" argument":" arguments",new Error("ArgumentError: "+c+"() takes "+g.length+T+" but received "+d.length);for(var O,G,Y,ee=0;ee<g.length;ee++){Y=!1,O=g[ee].types,G=this._getTypeName(d[ee]);for(var Te=0;Te<O.length;Te++)if(this._typeMatches(G,O[Te],d[ee])){Y=!0;break}if(!Y)throw new Error("TypeError: "+c+"() expected argument "+(ee+1)+" to be type "+O+" but received type "+G+" instead.")}},_typeMatches:function(c,d,g){if(d===p)return!0;if(d===j||d===B||d===m){if(d===m)return c===m;if(c===m){var T;d===B?T=f:d===j&&(T=E);for(var O=0;O<g.length;O++)if(!this._typeMatches(this._getTypeName(g[O]),T,g[O]))return!1;return!0}}else return c===d},_getTypeName:function(c){switch(Object.prototype.toString.call(c)){case"[object String]":return E;case"[object Number]":return f;case"[object Array]":return m;case"[object Boolean]":return N;case"[object Null]":return x;case"[object Object]":return c.jmespathType===b?A:R}},_functionStartsWith:function(c){return c[0].lastIndexOf(c[1])===0},_functionEndsWith:function(c){var d=c[0],g=c[1];return d.indexOf(g,d.length-g.length)!==-1},_functionReverse:function(c){var d=this._getTypeName(c[0]);if(d===E){for(var g=c[0],T="",O=g.length-1;O>=0;O--)T+=g[O];return T}else{var G=c[0].slice(0);return G.reverse(),G}},_functionAbs:function(c){return Math.abs(c[0])},_functionCeil:function(c){return Math.ceil(c[0])},_functionAvg:function(c){for(var d=0,g=c[0],T=0;T<g.length;T++)d+=g[T];return d/g.length},_functionContains:function(c){return c[0].indexOf(c[1])>=0},_functionFloor:function(c){return Math.floor(c[0])},_functionLength:function(c){return r(c[0])?Object.keys(c[0]).length:c[0].length},_functionMap:function(c){for(var d=[],g=this._interpreter,T=c[0],O=c[1],G=0;G<O.length;G++)d.push(g.visit(T,O[G]));return d},_functionMerge:function(c){for(var d={},g=0;g<c.length;g++){var T=c[g];for(var O in T)d[O]=T[O]}return d},_functionMax:function(c){if(c[0].length>0){var d=this._getTypeName(c[0][0]);if(d===f)return Math.max.apply(Math,c[0]);for(var g=c[0],T=g[0],O=1;O<g.length;O++)T.localeCompare(g[O])<0&&(T=g[O]);return T}else return null},_functionMin:function(c){if(c[0].length>0){var d=this._getTypeName(c[0][0]);if(d===f)return Math.min.apply(Math,c[0]);for(var g=c[0],T=g[0],O=1;O<g.length;O++)g[O].localeCompare(T)<0&&(T=g[O]);return T}else return null},_functionSum:function(c){for(var d=0,g=c[0],T=0;T<g.length;T++)d+=g[T];return d},_functionType:function(c){switch(this._getTypeName(c[0])){case f:return"number";case E:return"string";case m:return"array";case R:return"object";case N:return"boolean";case A:return"expref";case x:return"null"}},_functionKeys:function(c){return Object.keys(c[0])},_functionValues:function(c){for(var d=c[0],g=Object.keys(d),T=[],O=0;O<g.length;O++)T.push(d[g[O]]);return T},_functionJoin:function(c){var d=c[0],g=c[1];return g.join(d)},_functionToArray:function(c){return this._getTypeName(c[0])===m?c[0]:[c[0]]},_functionToString:function(c){return this._getTypeName(c[0])===E?c[0]:JSON.stringify(c[0])},_functionToNumber:function(c){var d=this._getTypeName(c[0]),g;return d===f?c[0]:d===E&&(g=+c[0],!isNaN(g))?g:null},_functionNotNull:function(c){for(var d=0;d<c.length;d++)if(this._getTypeName(c[d])!==x)return c[d];return null},_functionSort:function(c){var d=c[0].slice(0);return d.sort(),d},_functionSortBy:function(c){var d=c[0].slice(0);if(d.length===0)return d;var g=this._interpreter,T=c[1],O=this._getTypeName(g.visit(T,d[0]));if([f,E].indexOf(O)<0)throw new Error("TypeError");for(var G=this,Y=[],ee=0;ee<d.length;ee++)Y.push([ee,d[ee]]);Y.sort(function(ut,Pe){var ie=g.visit(T,ut[1]),mt=g.visit(T,Pe[1]);if(G._getTypeName(ie)!==O)throw new Error("TypeError: expected "+O+", received "+G._getTypeName(ie));if(G._getTypeName(mt)!==O)throw new Error("TypeError: expected "+O+", received "+G._getTypeName(mt));return ie>mt?1:ie<mt?-1:ut[0]-Pe[0]});for(var Te=0;Te<Y.length;Te++)d[Te]=Y[Te][1];return d},_functionMaxBy:function(c){for(var d=c[1],g=c[0],T=this.createKeyFunction(d,[f,E]),O=-1/0,G,Y,ee=0;ee<g.length;ee++)Y=T(g[ee]),Y>O&&(O=Y,G=g[ee]);return G},_functionMinBy:function(c){for(var d=c[1],g=c[0],T=this.createKeyFunction(d,[f,E]),O=1/0,G,Y,ee=0;ee<g.length;ee++)Y=T(g[ee]),Y<O&&(O=Y,G=g[ee]);return G},createKeyFunction:function(c,d){var g=this,T=this._interpreter,O=function(G){var Y=T.visit(c,G);if(d.indexOf(g._getTypeName(Y))<0){var ee="TypeError: expected one of "+d+", received "+g._getTypeName(Y);throw new Error(ee)}return Y};return O}};function u(c){var d=new I,g=d.parse(c);return g}function y(c){var d=new D;return d.tokenize(c)}function P(c,d){var g=new I,T=new l,O=new w(T);T._interpreter=O;var G=g.parse(d);return O.search(G,c)}e.tokenize=y,e.compile=u,e.search=P,e.strictDeepEqual=n})(typeof si=="undefined"?si.jmespath={}:si)});var oi=k((KN,tf)=>{"use strict";tf.exports={DATE_FORMAT:"yyyy-mm-dd HH:MM:ss.l o",ERROR_LIKE_KEYS:["err","error"],MESSAGE_KEY:"msg",LEVEL_KEY:"level",TIMESTAMP_KEY:"time",LEVELS:{default:"USERLVL",60:"FATAL",50:"ERROR",40:"WARN ",30:"INFO ",20:"DEBUG",10:"TRACE"},LEVEL_NAMES:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},LOGGER_KEYS:["pid","hostname","name","level","time","timestamp","v","caller"]}});var Go=k((JN,cf)=>{"use strict";var{LEVELS:ai,LEVEL_NAMES:Sv}=oi(),Wt=e=>e,rf={default:Wt,60:Wt,50:Wt,40:Wt,30:Wt,20:Wt,10:Wt,message:Wt},Iv=Wo(),Gt=new Iv.Instance({level:3}),nf={default:Gt.white,60:Gt.bgRed,50:Gt.red,40:Gt.yellow,30:Gt.green,20:Gt.blue,10:Gt.grey,message:Gt.cyan};function sf(e,t){if(Number.isInteger(+e))return Object.prototype.hasOwnProperty.call(ai,e)?t[e](ai[e]):t.default(ai.default);let r=Sv[e.toLowerCase()]||"default";return t[r](ai[r])}function of(e){return sf(e,rf)}of.message=rf.message;function af(e){return sf(e,nf)}af.message=nf.message;cf.exports=function(t=!1){return t?af:of}});var lf=k((Ho,uf)=>{(function(e){"use strict";var t=function(){var o=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,a=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,f=/[^-+\dA-Z]/g;return function(p,E,m,R){if(arguments.length===1&&s(p)==="string"&&!/\d/.test(p)&&(E=p,p=void 0),p=p||new Date,p instanceof Date||(p=new Date(p)),isNaN(p))throw TypeError("Invalid date");E=String(t.masks[E]||E||t.masks.default);var N=E.slice(0,4);(N==="UTC:"||N==="GMT:")&&(E=E.slice(4),m=!0,N==="GMT:"&&(R=!0));var A=m?"getUTC":"get",x=p[A+"Date"](),B=p[A+"Day"](),j=p[A+"Month"](),Z=p[A+"FullYear"](),$=p[A+"Hours"](),_=p[A+"Minutes"](),v=p[A+"Seconds"](),C=p[A+"Milliseconds"](),X=m?0:p.getTimezoneOffset(),U=n(p),V=i(p),ne={d:x,dd:r(x),ddd:t.i18n.dayNames[B],dddd:t.i18n.dayNames[B+7],m:j+1,mm:r(j+1),mmm:t.i18n.monthNames[j],mmmm:t.i18n.monthNames[j+12],yy:String(Z).slice(2),yyyy:Z,h:$%12||12,hh:r($%12||12),H:$,HH:r($),M:_,MM:r(_),s:v,ss:r(v),l:r(C,3),L:r(Math.round(C/10)),t:$<12?t.i18n.timeNames[0]:t.i18n.timeNames[1],tt:$<12?t.i18n.timeNames[2]:t.i18n.timeNames[3],T:$<12?t.i18n.timeNames[4]:t.i18n.timeNames[5],TT:$<12?t.i18n.timeNames[6]:t.i18n.timeNames[7],Z:R?"GMT":m?"UTC":(String(p).match(a)||[""]).pop().replace(f,""),o:(X>0?"-":"+")+r(Math.floor(Math.abs(X)/60)*100+Math.abs(X)%60,4),S:["th","st","nd","rd"][x%10>3?0:(x%100-x%10!=10)*x%10],W:U,N:V};return E.replace(o,function(S){return S in ne?ne[S]:S.slice(1,S.length-1)})}}();t.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},t.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};function r(o,a){for(o=String(o),a=a||2;o.length<a;)o="0"+o;return o}function n(o){var a=new Date(o.getFullYear(),o.getMonth(),o.getDate());a.setDate(a.getDate()-(a.getDay()+6)%7+3);var f=new Date(a.getFullYear(),0,4);f.setDate(f.getDate()-(f.getDay()+6)%7+3);var p=a.getTimezoneOffset()-f.getTimezoneOffset();a.setHours(a.getHours()-p);var E=(a-f)/(864e5*7);return 1+Math.floor(E)}function i(o){var a=o.getDay();return a===0&&(a=7),a}function s(o){return o===null?"null":o===void 0?"undefined":typeof o!="object"?typeof o:Array.isArray(o)?"array":{}.toString.call(o).slice(8,-1).toLowerCase()}typeof define=="function"&&define.amd?define(function(){return t}):typeof Ho=="object"?uf.exports=t:e.dateFormat=t})(Ho)});var vf=k((QN,$o)=>{"use strict";var rn=lf(),Cv=Lo(),hf=Go()(),{DATE_FORMAT:ff,ERROR_LIKE_KEYS:df,MESSAGE_KEY:pf,LEVEL_KEY:Av,TIMESTAMP_KEY:bv,LOGGER_KEYS:Ef}=oi();$o.exports={isObject:mf,prettifyErrorLog:Lv,prettifyLevel:wv,prettifyMessage:Pv,prettifyMetadata:Dv,prettifyObject:Rf,prettifyTime:Mv};$o.exports.internals={formatTime:gf,joinLinesWithIndentation:Bo};function gf(e,t=!1){if(t===!1)return e;let r=new Date(e);if(t===!0)return rn(r,"UTC:"+ff);let n=t.toUpperCase();if(n==="SYS:STANDARD")return rn(r,ff);let i=n.substr(0,4);return i==="SYS:"||i==="UTC:"?i==="UTC:"?rn(r,t):rn(r,t.slice(4)):rn(r,`UTC:${t}`)}function mf(e){return Object.prototype.toString.apply(e)==="[object Object]"}function Bo({input:e,ident:t="    ",eol:r=`
`}){let n=e.split(/\r?\n/);for(var i=1;i<n.length;i+=1)n[i]=t+n[i];return n.join(r)}function Lv({log:e,messageKey:t=pf,ident:r="    ",eol:n=`
`,errorLikeKeys:i=df,errorProperties:s=[]}){let o=e.stack,a=Bo({input:o,ident:r,eol:n}),f=`${r}${a}${n}`;if(s.length>0){let E=Ef.concat(t,"type","stack"),m;s[0]==="*"?m=Object.keys(e).filter(R=>E.includes(R)===!1):m=s.filter(R=>E.includes(R)===!1);for(var p=0;p<m.length;p+=1){let R=m[p];if(R in e){if(mf(e[R])){let N=Rf({input:e[R],errorLikeKeys:i,excludeLoggerKeys:!1,eol:n,ident:r});f=`${f}${R}: {${n}${N}}${n}`;continue}f=`${f}${R}: ${e[R]}${n}`}}}return f}function wv({log:e,colorizer:t=hf,levelKey:r=Av}){if(r in e)return t(e[r])}function Pv({log:e,messageFormat:t,messageKey:r=pf,colorizer:n=hf}){if(t){let i=String(t).replace(/{([^{}]+)}/g,function(s,o){return o&&e[o]?e[o]:""});return n.message(i)}if(r in e&&typeof e[r]=="string")return n.message(e[r])}function Dv({log:e}){let t="";if((e.name||e.pid||e.hostname)&&(t+="(",e.name&&(t+=e.name),e.name&&e.pid?t+="/"+e.pid:e.pid&&(t+=e.pid),e.hostname&&(t+=`${t==="("?"on":" on"} ${e.hostname}`),t+=")"),e.caller&&(t+=`${t===""?"":" "}<${e.caller}>`),t!=="")return t}function Rf({input:e,ident:t="    ",eol:r=`
`,skipKeys:n=[],customPrettifiers:i={},errorLikeKeys:s=df,excludeLoggerKeys:o=!0}){let a=Object.keys(e),f=[].concat(n);o===!0&&Array.prototype.push.apply(f,Ef);let p="",E=a.filter(N=>f.includes(N)===!1);for(var m=0;m<a.length;m+=1){let N=E[m],A=e[N];if(A===void 0)continue;let x;if(typeof i[N]=="function"?x=i[N](A,N,e):x=Cv(A,null,2),x===void 0)continue;let B=Bo({input:x,ident:t,eol:r});if(s.includes(N)===!0){let j=`${t}${N}: ${B}${r}`.split(r);for(var R=0;R<j.length;R+=1){R!==0&&(p+=r);let Z=j[R];if(/^\s*"stack"/.test(Z)){let $=/^(\s*"stack":)\s*(".*"),?$/.exec(Z);if($&&$.length===3){let _=/^\s*/.exec(Z)[0].length+4,v=" ".repeat(_),C=$[2];p+=$[1]+r+v+JSON.parse(C).replace(/\n/g,r+v)}}else p+=Z}}else p+=`${t}${N}: ${B}${r}`}return p}function Mv({log:e,timestampKey:t=bv,translateFormat:r=void 0}){let n=null;if(t in e?n=e[t]:"timestamp"in e&&(n=e.timestamp),n!==null)return r?"["+gf(n,r)+"]":`[${n}]`}});var Tf=k(Ir=>{"use strict";var kv={suspectRx:/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*\:/};Ir.parse=function(e,...t){let r=typeof t[0]=="object"&&t[0],n=t.length>1||!r?t[0]:void 0,i=t.length>1&&t[1]||r||{},s=JSON.parse(e,n);return i.protoAction==="ignore"||!s||typeof s!="object"||!e.match(kv.suspectRx)||Ir.scan(s,i),s};Ir.scan=function(e,t={}){let r=[e];for(;r.length;){let n=r;r=[];for(let i of n){if(Object.prototype.hasOwnProperty.call(i,"__proto__")){if(t.protoAction!=="remove")throw new SyntaxError("Object contains forbidden prototype property");delete i.__proto__}for(let s in i){let o=i[s];o&&typeof o=="object"&&r.push(i[s])}}}};Ir.safeParse=function(e,t){try{return Ir.parse(e,t)}catch(r){return null}}});var Nf=k((eO,_f)=>{"use strict";var xv=Wo(),qv=ef(),Fv=Go(),{ERROR_LIKE_KEYS:Uv,MESSAGE_KEY:jv,TIMESTAMP_KEY:Wv}=oi(),{isObject:yf,prettifyErrorLog:Gv,prettifyLevel:Hv,prettifyMessage:Bv,prettifyMetadata:$v,prettifyObject:Vv,prettifyTime:Yv}=vf(),Xv=Tf(),zv=e=>{try{return{value:Xv.parse(e,{protoAction:"remove"})}}catch(t){return{err:t}}},Kv={colorize:xv.supportsColor,crlf:!1,errorLikeObjectKeys:Uv,errorProps:"",levelFirst:!1,messageKey:jv,messageFormat:!1,timestampKey:Wv,translateTime:!1,useMetadata:!1,outputStream:process.stdout,customPrettifiers:{}};_f.exports=function(t){let r=Object.assign({},Kv,t),n=r.crlf?`\r
`:`
`,i="    ",s=r.messageKey,o=r.levelKey,a=r.messageFormat,f=r.timestampKey,p=r.errorLikeObjectKeys,E=r.errorProps.split(","),m=r.customPrettifiers,R=r.ignore?new Set(r.ignore.split(",")):void 0,N=Fv(r.colorize),A=r.search;return x;function x(B){let j;if(yf(B))j=B;else{let X=zv(B);if(X.err||!yf(X.value))return B+n;j=X.value}if(A&&!qv.search(j,A))return;let Z=Bv({log:j,messageKey:s,colorizer:N,messageFormat:a});R&&(j=Object.keys(j).filter(X=>!R.has(X)).reduce((X,U)=>(X[U]=j[U],X),{}));let $=Hv({log:j,colorizer:N,levelKey:o}),_=$v({log:j}),v=Yv({log:j,translateFormat:r.translateTime,timestampKey:f}),C="";if(r.levelFirst&&$&&(C=`${$}`),v&&C===""?C=`${v}`:v&&(C=`${C} ${v}`),!r.levelFirst&&$&&(C.length>0?C=`${C} ${$}`:C=$),_&&(C=`${C} ${_}:`),C.endsWith(":")===!1&&C!==""&&(C+=":"),Z&&(C=`${C} ${Z}`),C.length>0&&(C+=n),j.type==="Error"&&j.stack)C+=Gv({log:j,errorLikeKeys:p,errorProperties:E,ident:i,eol:n});else{let X=[s,o,f].filter(V=>typeof j[V]=="string"||typeof j[V]=="number");C+=Vv({input:j,skipKeys:X,customPrettifiers:m,errorLikeKeys:p,eol:n,ident:i})}return C}}});var ui=k((tO,kf)=>{"use strict";var Of=Rl(),{mapHttpRequest:Jv,mapHttpResponse:Qv}=vo(),bf=Co(),Zv=Lo(),{lsCacheSym:eT,chindingsSym:Xo,parsedChindingsSym:Vo,writeSym:Sf,serializersSym:zo,formatOptsSym:If,endSym:tT,stringifiersSym:Ko,stringifySym:Lf,wildcardFirstSym:wf,needsMetadataGsym:Pf,redactFmtSym:rT,streamSym:nT,nestedKeySym:Cf,formattersSym:Jo,messageKeySym:Df}=Tr();function nn(){}function iT(e,t){if(!t)return r;return function(...i){t.call(this,i,r)};function r(n,...i){if(typeof n=="object"){var s=n;n!==null&&(n.method&&n.headers&&n.socket?n=Jv(n):typeof n.setHeader=="function"&&(n=Qv(n))),this[Cf]&&(n={[this[Cf]]:n});var o;s===null&&i.length===0?o=[null]:(s=i.shift(),o=i),this[Sf](n,Of(s,o,this[If]),e)}else this[Sf](null,Of(n,i,this[If]),e)}}function sT(e){var t="",r=0,n=!1,i=255;let s=e.length;if(s>100)return JSON.stringify(e);for(var o=0;o<s&&i>=32;o++)i=e.charCodeAt(o),(i===34||i===92)&&(t+=e.slice(r,o)+"\\",r=o,n=!0);return n?t+=e.slice(r):t=e,i<32?JSON.stringify(e):'"'+t+'"'}function oT(e,t,r,n){let i=this[Lf],s=this[Ko],o=this[tT],a=this[Xo],f=this[zo],p=this[Jo],E=this[Df];var m=this[eT][r]+n;m=m+a;var R,N=e.hasOwnProperty===void 0;p.log&&(e=p.log(e)),t!==void 0&&(e[E]=t);let A=s[wf];for(var x in e)if(R=e[x],(N||e.hasOwnProperty(x))&&R!==void 0){R=f[x]?f[x](R):R;let B=s[x]||A;switch(typeof R){case"undefined":case"function":continue;case"number":Number.isFinite(R)===!1&&(R=null);case"boolean":B&&(R=B(R));break;case"string":R=(B||sT)(R);break;default:R=(B||i)(R)}if(R===void 0)continue;m+=',"'+x+'":'+R}return m+o}function aT(e,t){var r,n,i=e[Xo];let s=e[Lf],o=e[Ko],a=o[wf],f=e[zo],p=e[Jo].bindings;t=p(t);for(r in t)if(n=t[r],(r!=="level"&&r!=="serializers"&&r!=="formatters"&&r!=="customLevels"&&t.hasOwnProperty(r)&&n!==void 0)===!0){if(n=f[r]?f[r](n):n,n=(o[r]||a||s)(n),n===void 0)continue;i+=',"'+r+'":'+n}return i}function Mf(e,t,r,n){if(t&&typeof t=="function")return t=t.bind(n),Yo(t(e),r,e);try{var i=Nf();return i.asMetaWrapper=Yo,Yo(i(e),r,e)}catch(s){throw Error("Missing `pino-pretty` module: `pino-pretty` must be installed separately")}}function Yo(e,t,r){r=Object.assign({suppressFlushSyncWarning:!1},r);var n=!1;return{[Pf]:!0,lastLevel:0,lastMsg:null,lastObj:null,lastLogger:null,flushSync(){r.suppressFlushSyncWarning||n||(n=!0,Af(t,this),t.write(e(Object.assign({level:40,msg:"pino.final with prettyPrint does not support flushing",time:Date.now()},this.chindings()))))},chindings(){let i=this.lastLogger;var s=null;return i?(i.hasOwnProperty(Vo)?s=i[Vo]:(s=JSON.parse("{"+i[Xo].substr(1)+"}"),i[Vo]=s),s):null},write(i){let s=this.lastLogger,o=this.chindings();var a=this.lastTime;a.match(/^\d+/)&&(a=parseInt(a));var f=this.lastObj,p=this.lastMsg,E=null;let m=s[Jo],R=m.log?m.log(f):f,N=s[Df];p&&R&&!R.hasOwnProperty(N)&&(R[N]=p);let A=Object.assign({level:this.lastLevel,time:a},R,E),x=s[zo],B=Object.keys(x);for(var j,Z=0;Z<B.length;Z++)j=B[Z],A[j]!==void 0&&(A[j]=x[j](A[j]));for(j in o)A.hasOwnProperty(j)||(A[j]=o[j]);let _=s[Ko][rT],v=e(typeof _=="function"?_(A):A);v!==void 0&&(Af(t,this),t.write(v))}}}function cT(e){return e.write!==e.constructor.prototype.write}function ci(e){let t=new bf(e);return t.on("error",r),t;function r(n){if(n.code==="EPIPE"){t.write=nn,t.end=nn,t.flushSync=nn,t.destroy=nn;return}t.removeListener("error",r),t.emit("error",n)}}function uT(e){return function(r,n={},i){if(typeof n=="string"?(i=ci({dest:n,sync:!0}),n={}):typeof i=="string"?i=ci({dest:i,sync:!0}):(n instanceof bf||n.writable||n._writableState)&&(i=n,n=null),n=Object.assign({},e,n),"extreme"in n)throw Error("The extreme option has been removed, use pino.destination({ sync: false }) instead");if("onTerminated"in n)throw Error("The onTerminated option has been removed, use pino.final instead");"changeLevelName"in n&&(process.emitWarning("The changeLevelName option is deprecated and will be removed in v7. Use levelKey instead.",{code:"changeLevelName_deprecation"}),n.levelKey=n.changeLevelName,delete n.changeLevelName);let{enabled:s,prettyPrint:o,prettifier:a,messageKey:f}=n;if(s===!1&&(n.level="silent"),i=i||process.stdout,i===process.stdout&&i.fd>=0&&!cT(i)&&(i=ci({fd:i.fd,sync:!0})),o){let p=Object.assign({messageKey:f},o);i=Mf(p,a,i,r)}return{opts:n,stream:i}}}function lT(e,t){if(typeof e=="undefined"||typeof e.child!="function")throw Error("expected a pino logger instance");let r=typeof t!="undefined";if(r&&typeof t!="function")throw Error("if supplied, the handler parameter should be a function");let n=e[nT];if(typeof n.flushSync!="function")throw Error("final requires a stream that has a flushSync method, such as pino.destination");let i=new Proxy(e,{get:(s,o)=>o in s.levels.values?(...a)=>{s[o](...a),n.flushSync()}:s[o]});return r?(s=null,...o)=>{try{n.flushSync()}catch(a){}return t(s,i,...o)}:i}function fT(e){try{return JSON.stringify(e)}catch(t){return Zv(e)}}function hT(e,t,r){return{level:e,bindings:t,log:r}}function Af(e,t){e[Pf]===!0&&(e.lastLevel=t.lastLevel,e.lastMsg=t.lastMsg,e.lastObj=t.lastObj,e.lastTime=t.lastTime,e.lastLogger=t.lastLogger)}kf.exports={noop:nn,buildSafeSonicBoom:ci,getPrettyStream:Mf,asChindings:aT,asJson:oT,genLog:iT,createArgsNormalizer:uT,final:lT,stringify:fT,buildFormatters:hT}});var ea=k((rO,qf)=>{"use strict";var dT=Jn(),{lsCacheSym:pT,levelValSym:Qo,useOnlyCustomLevelsSym:ET,streamSym:gT,formattersSym:mT,hooksSym:RT}=Tr(),{noop:vT,genLog:Zt}=ui(),pt={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},xf={fatal:e=>{let t=Zt(pt.fatal,e);return function(...r){let n=this[gT];if(t.call(this,...r),typeof n.flushSync=="function")try{n.flushSync()}catch(i){}}},error:e=>Zt(pt.error,e),warn:e=>Zt(pt.warn,e),info:e=>Zt(pt.info,e),debug:e=>Zt(pt.debug,e),trace:e=>Zt(pt.trace,e)},Zo=Object.keys(pt).reduce((e,t)=>(e[pt[t]]=t,e),{}),TT=Object.keys(Zo).reduce((e,t)=>(e[t]=dT('{"level":'+Number(t)),e),{});function yT(e){let t=e[mT].level,{labels:r}=e.levels,n={};for(let i in r){let s=t(r[i],Number(i));n[i]=JSON.stringify(s).slice(0,-1)}return e[pT]=n,e}function _T(e,t){if(t)return!1;switch(e){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}function NT(e){let{labels:t,values:r}=this.levels;if(typeof e=="number"){if(t[e]===void 0)throw Error("unknown level value"+e);e=t[e]}if(r[e]===void 0)throw Error("unknown level "+e);let n=this[Qo],i=this[Qo]=r[e],s=this[ET],o=this[RT].logMethod;for(var a in r){if(i>r[a]){this[a]=vT;continue}this[a]=_T(a,s)?xf[a](o):Zt(r[a],o)}this.emit("level-change",e,i,t[n],n)}function OT(e){let{levels:t,levelVal:r}=this;return t&&t.labels?t.labels[r]:""}function ST(e){let{values:t}=this.levels,r=t[e];return r!==void 0&&r>=this[Qo]}function IT(e=null,t=!1){let r=e?Object.keys(e).reduce((s,o)=>(s[e[o]]=o,s),{}):null,n=Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),t?null:Zo,r),i=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),t?null:pt,e);return{labels:n,values:i}}function CT(e,t,r){if(typeof e=="number"){if(![].concat(Object.keys(t||{}).map(s=>t[s]),r?[]:Object.keys(Zo).map(s=>+s),1/0).includes(e))throw Error(`default level:${e} must be included in custom levels`);return}let n=Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),r?null:pt,t);if(!(e in n))throw Error(`default level:${e} must be included in custom levels`)}function AT(e,t){let{labels:r,values:n}=e;for(let i in t){if(i in n)throw Error("levels cannot be overridden");if(t[i]in r)throw Error("pre-existing level values cannot be used for new levels")}}qf.exports={initialLsCache:TT,genLsCache:yT,levelMethods:xf,getLevel:OT,setLevel:NT,isLevelEnabled:ST,mappings:IT,assertNoLevelCollisions:AT,assertDefaultLevelFound:CT}});var Ff=k((nO,bT)=>{bT.exports={name:"pino",version:"6.5.1",description:"super fast, all natural json logger",main:"pino.js",browser:"./browser.js",files:["pino.js","bin.js","browser.js","pretty.js","usage.txt","test","docs","example.js","lib"],scripts:{docs:"docsify serve","browser-test":"airtap --local 8080 test/browser*test.js",test:"standard | snazzy && tap --100 test/*test.js","cov-ui":"tap --coverage-report=html test/*test.js",bench:"node benchmarks/utils/runbench all","bench-basic":"node benchmarks/utils/runbench basic","bench-object":"node benchmarks/utils/runbench object","bench-deep-object":"node benchmarks/utils/runbench deep-object","bench-multi-arg":"node benchmarks/utils/runbench multi-arg","bench-longs-tring":"node benchmarks/utils/runbench long-string","bench-child":"node benchmarks/utils/runbench child","bench-child-child":"node benchmarks/utils/runbench child-child","bench-child-creation":"node benchmarks/utils/runbench child-creation","bench-formatters":"node benchmarks/utils/runbench formatters","update-bench-doc":"node benchmarks/utils/generate-benchmark-doc > docs/benchmarks.md"},bin:{pino:"./bin.js"},precommit:"test",repository:{type:"git",url:"git+https://github.com/pinojs/pino.git"},keywords:["fast","logger","stream","json"],author:"Matteo Collina <hello@matteocollina.com>",contributors:["David Mark Clements <huperekchuno@googlemail.com>","James Sumners <james.sumners@gmail.com>","Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)"],license:"MIT",bugs:{url:"https://github.com/pinojs/pino/issues"},homepage:"http://getpino.io",devDependencies:{airtap:"3.0.0",benchmark:"^2.1.4",bole:"^4.0.0",bunyan:"^1.8.14","docsify-cli":"^4.4.1",execa:"^4.0.0",fastbench:"^1.0.1","flush-write-stream":"^2.0.0","import-fresh":"^3.2.1",log:"^6.0.0",loglevel:"^1.6.7","pino-pretty":"^4.1.0","pre-commit":"^1.2.2",proxyquire:"^2.1.3",pump:"^3.0.0",semver:"^7.0.0",snazzy:"^8.0.0",split2:"^3.1.1",standard:"^14.3.3",steed:"^1.1.3","strip-ansi":"^6.0.0",tap:"^14.10.8",tape:"^5.0.0",through2:"^4.0.0",winston:"^3.3.3"},dependencies:{"fast-redact":"^2.0.0","fast-safe-stringify":"^2.0.7",flatstr:"^1.0.12","pino-std-serializers":"^2.4.2","quick-format-unescaped":"^4.0.1","sonic-boom":"^1.0.2"}}});var ta=k((iO,Uf)=>{"use strict";var{version:LT}=Ff();Uf.exports={version:LT}});var Xf=k((oO,Yf)=>{"use strict";var{EventEmitter:wT}=require("events"),PT=Co(),DT=Jn(),{lsCacheSym:MT,levelValSym:kT,setLevelSym:na,getLevelSym:jf,chindingsSym:ia,parsedChindingsSym:xT,mixinSym:qT,asJsonSym:Hf,writeSym:FT,timeSym:UT,timeSliceIndexSym:jT,streamSym:Bf,serializersSym:er,formattersSym:ra,useOnlyCustomLevelsSym:WT,needsMetadataGsym:GT}=Tr(),{getLevel:HT,setLevel:BT,isLevelEnabled:$T,mappings:VT,initialLsCache:YT,genLsCache:XT,assertNoLevelCollisions:zT}=ea(),{asChindings:$f,asJson:KT,buildFormatters:Wf}=ui(),{version:JT}=ta(),QT=class{},Vf={constructor:QT,child:ZT,bindings:ey,setBindings:ty,flush:ny,isLevelEnabled:$T,version:JT,get level(){return this[jf]()},set level(e){this[na](e)},get levelVal(){return this[kT]},set levelVal(e){throw Error("levelVal is read-only")},[MT]:YT,[FT]:ry,[Hf]:KT,[jf]:HT,[na]:BT};Object.setPrototypeOf(Vf,wT.prototype);Yf.exports=function(){return Object.create(Vf)};var Gf=e=>e;function ZT(e){if(!e)throw Error("missing bindings for child Pino");let t=this[er],r=this[ra],n=Object.create(this);if(e.hasOwnProperty("serializers")===!0){n[er]=Object.create(null);for(var i in t)n[er][i]=t[i];let p=Object.getOwnPropertySymbols(t);for(var s=0;s<p.length;s++){let m=p[s];n[er][m]=t[m]}for(var o in e.serializers)n[er][o]=e.serializers[o];let E=Object.getOwnPropertySymbols(e.serializers);for(var a=0;a<E.length;a++){let m=E[a];n[er][m]=e.serializers[m]}}else n[er]=t;if(e.hasOwnProperty("formatters")){let{level:p,bindings:E,log:m}=e.formatters;n[ra]=Wf(p||r.level,E||Gf,m||r.log)}else n[ra]=Wf(r.level,Gf,r.log);e.hasOwnProperty("customLevels")===!0&&(zT(this.levels,e.customLevels),n.levels=VT(e.customLevels,n[WT]),XT(n)),n[ia]=$f(n,e);let f=e.level||this.level;return n[na](f),n}function ey(){var t=`{${this[ia].substr(1)}}`,r=JSON.parse(t);return delete r.pid,delete r.hostname,r}function ty(e){let t=$f(this,e);this[ia]=t,delete this[xT]}function ry(e,t,r){let n=this[UT](),i=this[qT],s=e instanceof Error;var o;e==null?o=i?i():{}:(o=Object.assign(i?i():{},e),!t&&s&&(t=e.message),s&&(o.stack=e.stack,o.type||(o.type="Error")));let a=this[Hf](o,t,r,n),f=this[Bf];f[GT]===!0&&(f.lastLevel=r,f.lastObj=o,f.lastMsg=t,f.lastTime=n.slice(this[jT]),f.lastLogger=this),f instanceof PT?f.write(a):f.write(DT(a))}function ny(){let e=this[Bf];"flush"in e&&e.flush()}});var oh=k((aO,sh)=>{"use strict";var iy=require("os"),eh=vo(),sy=ul(),th=fl(),oy=Xf(),rh=Tr(),{assertDefaultLevelFound:ay,mappings:nh,genLsCache:cy}=ea(),{createArgsNormalizer:uy,asChindings:ly,final:fy,stringify:li,buildSafeSonicBoom:sa,buildFormatters:hy,noop:dy}=ui(),{version:py}=ta(),{chindingsSym:zf,redactFmtSym:Ey,serializersSym:Kf,timeSym:gy,timeSliceIndexSym:my,streamSym:Ry,stringifySym:Jf,stringifiersSym:Qf,setLevelSym:vy,endSym:Ty,formatOptsSym:yy,messageKeySym:_y,nestedKeySym:Ny,mixinSym:Oy,useOnlyCustomLevelsSym:Sy,formattersSym:Zf,hooksSym:Iy}=rh,{epochTime:ih,nullTime:Cy}=th,{pid:Ay}=process,by=iy.hostname(),Ly=eh.err,oa={level:"info",messageKey:"msg",nestedKey:null,enabled:!0,prettyPrint:!1,base:{pid:Ay,hostname:by},serializers:Object.assign(Object.create(null),{err:Ly}),formatters:Object.assign(Object.create(null),{bindings(e){return e},level(e,t){return{level:t}}}),hooks:{logMethod:void 0},timestamp:ih,name:void 0,redact:null,customLevels:null,levelKey:void 0,useOnlyCustomLevels:!1},wy=uy(oa),Py=Object.assign(Object.create(null),eh);function St(...e){let t={},{opts:r,stream:n}=wy(t,...e),{redact:i,crlf:s,serializers:o,timestamp:a,messageKey:f,nestedKey:p,base:E,name:m,level:R,customLevels:N,useLevelLabels:A,changeLevelName:x,levelKey:B,mixin:j,useOnlyCustomLevels:Z,formatters:$,hooks:_}=r,v=hy($.level,$.bindings,$.log);A&&!(x||B)?(process.emitWarning("useLevelLabels is deprecated, use the formatters.level option instead","Warning","PINODEP001"),v.level=Dy):(x||B)&&!A?(process.emitWarning("changeLevelName and levelKey are deprecated, use the formatters.level option instead","Warning","PINODEP002"),v.level=My(x||B)):(x||B)&&A&&(process.emitWarning("useLevelLabels is deprecated, use the formatters.level option instead","Warning","PINODEP001"),process.emitWarning("changeLevelName and levelKey are deprecated, use the formatters.level option instead","Warning","PINODEP002"),v.level=ky(x||B)),o[Symbol.for("pino.*")]&&(process.emitWarning("The pino.* serializer is deprecated, use the formatters.log options instead","Warning","PINODEP003"),v.log=o[Symbol.for("pino.*")]),v.bindings||(v.bindings=oa.formatters.bindings),v.level||(v.level=oa.formatters.level);let C=i?sy(i,li):{},X=i?{stringify:C[Ey]}:{stringify:li},U="}"+(s?`\r
`:`
`),V=ly.bind(null,{[zf]:"",[Kf]:o,[Qf]:C,[Jf]:li,[Zf]:v}),ne=E===null?"":V(m===void 0?E:Object.assign({},E,{name:m})),S=a instanceof Function?a:a?ih:Cy,b=S().indexOf(":")+1;if(Z&&!N)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(j&&typeof j!="function")throw Error(`Unknown mixin type "${typeof j}" - expected "function"`);ay(R,N,Z);let F=nh(N,Z);return Object.assign(t,{levels:F,[Sy]:Z,[Ry]:n,[gy]:S,[my]:b,[Jf]:li,[Qf]:C,[Ty]:U,[yy]:X,[_y]:f,[Ny]:p,[Kf]:o,[Oy]:j,[zf]:ne,[Zf]:v,[Iy]:_,silent:dy}),Object.setPrototypeOf(t,oy()),cy(t),t[vy](R),t}function Dy(e,t){return{level:e}}function My(e){return function(t,r){return{[e]:r}}}function ky(e){return function(t,r){return{[e]:t}}}St.extreme=(e=process.stdout.fd)=>(process.emitWarning("The pino.extreme() option is deprecated and will be removed in v7. Use pino.destination({ sync: false }) instead.",{code:"extreme_deprecation"}),sa({dest:e,minLength:4096,sync:!1}));St.destination=(e=process.stdout.fd)=>typeof e=="object"?(e.dest=e.dest||process.stdout.fd,sa(e)):sa({dest:e,minLength:0,sync:!0});St.final=fy;St.levels=nh();St.stdSerializers=Py;St.stdTimeFunctions=Object.assign({},th);St.symbols=rh;St.version=py;sh.exports=St});var ah=k(tr=>{"use strict";var aa=tr&&tr.__assign||function(){return aa=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},aa.apply(this,arguments)},xy=tr&&tr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};tr.__esModule=!0;var qy=xy(oh());function Fy(e,t){e===void 0&&(e={});var r=qy.default(aa({name:"ls",base:{},level:"info",formatters:{level:function(n){return{level:n}}},prettyPrint:!0},e),t);return r.show=function(){},r}tr.default=Fy});var ch=k(sn=>{"use strict";var Uy=sn&&sn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};sn.__esModule=!0;var jy=Uy(ah());sn.default=jy.default()});var uh=k(rr=>{"use strict";var fi=rr&&rr.__assign||function(){return fi=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},fi.apply(this,arguments)};rr.__esModule=!0;rr.createLogger=void 0;var hi;hi=ch().default;function Wy(e,t){return t===void 0&&(t={}),e?hi.child(fi(fi({},t),{ns:e})):hi}rr.createLogger=Wy;rr.default=hi});var lh=k((on,ca)=>{(function(e,t){if(typeof on=="object"&&typeof ca=="object")ca.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var r=t();for(var n in r)(typeof on=="object"?on:e)[n]=r[n]}})(on,function(){return(()=>{"use strict";var e={470:r=>{function n(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function i(o,a){for(var f,p="",E=0,m=-1,R=0,N=0;N<=o.length;++N){if(N<o.length)f=o.charCodeAt(N);else{if(f===47)break;f=47}if(f===47){if(!(m===N-1||R===1))if(m!==N-1&&R===2){if(p.length<2||E!==2||p.charCodeAt(p.length-1)!==46||p.charCodeAt(p.length-2)!==46){if(p.length>2){var A=p.lastIndexOf("/");if(A!==p.length-1){A===-1?(p="",E=0):E=(p=p.slice(0,A)).length-1-p.lastIndexOf("/"),m=N,R=0;continue}}else if(p.length===2||p.length===1){p="",E=0,m=N,R=0;continue}}a&&(p.length>0?p+="/..":p="..",E=2)}else p.length>0?p+="/"+o.slice(m+1,N):p=o.slice(m+1,N),E=N-m-1;m=N,R=0}else f===46&&R!==-1?++R:R=-1}return p}var s={resolve:function(){for(var o,a="",f=!1,p=arguments.length-1;p>=-1&&!f;p--){var E;p>=0?E=arguments[p]:(o===void 0&&(o=process.cwd()),E=o),n(E),E.length!==0&&(a=E+"/"+a,f=E.charCodeAt(0)===47)}return a=i(a,!f),f?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(o){if(n(o),o.length===0)return".";var a=o.charCodeAt(0)===47,f=o.charCodeAt(o.length-1)===47;return(o=i(o,!a)).length!==0||a||(o="."),o.length>0&&f&&(o+="/"),a?"/"+o:o},isAbsolute:function(o){return n(o),o.length>0&&o.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var o,a=0;a<arguments.length;++a){var f=arguments[a];n(f),f.length>0&&(o===void 0?o=f:o+="/"+f)}return o===void 0?".":s.normalize(o)},relative:function(o,a){if(n(o),n(a),o===a||(o=s.resolve(o))===(a=s.resolve(a)))return"";for(var f=1;f<o.length&&o.charCodeAt(f)===47;++f);for(var p=o.length,E=p-f,m=1;m<a.length&&a.charCodeAt(m)===47;++m);for(var R=a.length-m,N=E<R?E:R,A=-1,x=0;x<=N;++x){if(x===N){if(R>N){if(a.charCodeAt(m+x)===47)return a.slice(m+x+1);if(x===0)return a.slice(m+x)}else E>N&&(o.charCodeAt(f+x)===47?A=x:x===0&&(A=0));break}var B=o.charCodeAt(f+x);if(B!==a.charCodeAt(m+x))break;B===47&&(A=x)}var j="";for(x=f+A+1;x<=p;++x)x!==p&&o.charCodeAt(x)!==47||(j.length===0?j+="..":j+="/..");return j.length>0?j+a.slice(m+A):(m+=A,a.charCodeAt(m)===47&&++m,a.slice(m))},_makeLong:function(o){return o},dirname:function(o){if(n(o),o.length===0)return".";for(var a=o.charCodeAt(0),f=a===47,p=-1,E=!0,m=o.length-1;m>=1;--m)if((a=o.charCodeAt(m))===47){if(!E){p=m;break}}else E=!1;return p===-1?f?"/":".":f&&p===1?"//":o.slice(0,p)},basename:function(o,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');n(o);var f,p=0,E=-1,m=!0;if(a!==void 0&&a.length>0&&a.length<=o.length){if(a.length===o.length&&a===o)return"";var R=a.length-1,N=-1;for(f=o.length-1;f>=0;--f){var A=o.charCodeAt(f);if(A===47){if(!m){p=f+1;break}}else N===-1&&(m=!1,N=f+1),R>=0&&(A===a.charCodeAt(R)?--R==-1&&(E=f):(R=-1,E=N))}return p===E?E=N:E===-1&&(E=o.length),o.slice(p,E)}for(f=o.length-1;f>=0;--f)if(o.charCodeAt(f)===47){if(!m){p=f+1;break}}else E===-1&&(m=!1,E=f+1);return E===-1?"":o.slice(p,E)},extname:function(o){n(o);for(var a=-1,f=0,p=-1,E=!0,m=0,R=o.length-1;R>=0;--R){var N=o.charCodeAt(R);if(N!==47)p===-1&&(E=!1,p=R+1),N===46?a===-1?a=R:m!==1&&(m=1):a!==-1&&(m=-1);else if(!E){f=R+1;break}}return a===-1||p===-1||m===0||m===1&&a===p-1&&a===f+1?"":o.slice(a,p)},format:function(o){if(o===null||typeof o!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof o);return function(a,f){var p=f.dir||f.root,E=f.base||(f.name||"")+(f.ext||"");return p?p===f.root?p+E:p+"/"+E:E}(0,o)},parse:function(o){n(o);var a={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return a;var f,p=o.charCodeAt(0),E=p===47;E?(a.root="/",f=1):f=0;for(var m=-1,R=0,N=-1,A=!0,x=o.length-1,B=0;x>=f;--x)if((p=o.charCodeAt(x))!==47)N===-1&&(A=!1,N=x+1),p===46?m===-1?m=x:B!==1&&(B=1):m!==-1&&(B=-1);else if(!A){R=x+1;break}return m===-1||N===-1||B===0||B===1&&m===N-1&&m===R+1?N!==-1&&(a.base=a.name=R===0&&E?o.slice(1,N):o.slice(R,N)):(R===0&&E?(a.name=o.slice(1,m),a.base=o.slice(1,N)):(a.name=o.slice(R,m),a.base=o.slice(R,N)),a.ext=o.slice(m,N)),R>0?a.dir=o.slice(0,R-1):E&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};s.posix=s,r.exports=s},465:(r,n,i)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Utils=n.URI=void 0;var s=i(796);Object.defineProperty(n,"URI",{enumerable:!0,get:function(){return s.URI}});var o=i(679);Object.defineProperty(n,"Utils",{enumerable:!0,get:function(){return o.Utils}})},674:(r,n)=>{if(Object.defineProperty(n,"__esModule",{value:!0}),n.isWindows=void 0,typeof process=="object")n.isWindows=process.platform==="win32";else if(typeof navigator=="object"){var i=navigator.userAgent;n.isWindows=i.indexOf("Windows")>=0}},796:function(r,n,i){var s,o,a=this&&this.__extends||(s=function(S,b){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,W){F.__proto__=W}||function(F,W){for(var Q in W)Object.prototype.hasOwnProperty.call(W,Q)&&(F[Q]=W[Q])})(S,b)},function(S,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function F(){this.constructor=S}s(S,b),S.prototype=b===null?Object.create(b):(F.prototype=b.prototype,new F)});Object.defineProperty(n,"__esModule",{value:!0}),n.uriToFsPath=n.URI=void 0;var f=i(674),p=/^\w[\w\d+.-]*$/,E=/^\//,m=/^\/\//;function R(S,b){if(!S.scheme&&b)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(S.authority,'", path: "').concat(S.path,'", query: "').concat(S.query,'", fragment: "').concat(S.fragment,'"}'));if(S.scheme&&!p.test(S.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(S.path){if(S.authority){if(!E.test(S.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(m.test(S.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}var N="",A="/",x=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,B=function(){function S(b,F,W,Q,J,te){te===void 0&&(te=!1),typeof b=="object"?(this.scheme=b.scheme||N,this.authority=b.authority||N,this.path=b.path||N,this.query=b.query||N,this.fragment=b.fragment||N):(this.scheme=function(ve,de){return ve||de?ve:"file"}(b,te),this.authority=F||N,this.path=function(ve,de){switch(ve){case"https":case"http":case"file":de?de[0]!==A&&(de=A+de):de=A}return de}(this.scheme,W||N),this.query=Q||N,this.fragment=J||N,R(this,te))}return S.isUri=function(b){return b instanceof S||!!b&&typeof b.authority=="string"&&typeof b.fragment=="string"&&typeof b.path=="string"&&typeof b.query=="string"&&typeof b.scheme=="string"&&typeof b.fsPath=="string"&&typeof b.with=="function"&&typeof b.toString=="function"},Object.defineProperty(S.prototype,"fsPath",{get:function(){return C(this,!1)},enumerable:!1,configurable:!0}),S.prototype.with=function(b){if(!b)return this;var F=b.scheme,W=b.authority,Q=b.path,J=b.query,te=b.fragment;return F===void 0?F=this.scheme:F===null&&(F=N),W===void 0?W=this.authority:W===null&&(W=N),Q===void 0?Q=this.path:Q===null&&(Q=N),J===void 0?J=this.query:J===null&&(J=N),te===void 0?te=this.fragment:te===null&&(te=N),F===this.scheme&&W===this.authority&&Q===this.path&&J===this.query&&te===this.fragment?this:new Z(F,W,Q,J,te)},S.parse=function(b,F){F===void 0&&(F=!1);var W=x.exec(b);return W?new Z(W[2]||N,ne(W[4]||N),ne(W[5]||N),ne(W[7]||N),ne(W[9]||N),F):new Z(N,N,N,N,N)},S.file=function(b){var F=N;if(f.isWindows&&(b=b.replace(/\\/g,A)),b[0]===A&&b[1]===A){var W=b.indexOf(A,2);W===-1?(F=b.substring(2),b=A):(F=b.substring(2,W),b=b.substring(W)||A)}return new Z("file",F,b,N,N)},S.from=function(b){var F=new Z(b.scheme,b.authority,b.path,b.query,b.fragment);return R(F,!0),F},S.prototype.toString=function(b){return b===void 0&&(b=!1),X(this,b)},S.prototype.toJSON=function(){return this},S.revive=function(b){if(b){if(b instanceof S)return b;var F=new Z(b);return F._formatted=b.external,F._fsPath=b._sep===j?b.fsPath:null,F}return b},S}();n.URI=B;var j=f.isWindows?1:void 0,Z=function(S){function b(){var F=S!==null&&S.apply(this,arguments)||this;return F._formatted=null,F._fsPath=null,F}return a(b,S),Object.defineProperty(b.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=C(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),b.prototype.toString=function(F){return F===void 0&&(F=!1),F?X(this,!0):(this._formatted||(this._formatted=X(this,!1)),this._formatted)},b.prototype.toJSON=function(){var F={$mid:1};return this._fsPath&&(F.fsPath=this._fsPath,F._sep=j),this._formatted&&(F.external=this._formatted),this.path&&(F.path=this.path),this.scheme&&(F.scheme=this.scheme),this.authority&&(F.authority=this.authority),this.query&&(F.query=this.query),this.fragment&&(F.fragment=this.fragment),F},b}(B),$=((o={})[58]="%3A",o[47]="%2F",o[63]="%3F",o[35]="%23",o[91]="%5B",o[93]="%5D",o[64]="%40",o[33]="%21",o[36]="%24",o[38]="%26",o[39]="%27",o[40]="%28",o[41]="%29",o[42]="%2A",o[43]="%2B",o[44]="%2C",o[59]="%3B",o[61]="%3D",o[32]="%20",o);function _(S,b){for(var F=void 0,W=-1,Q=0;Q<S.length;Q++){var J=S.charCodeAt(Q);if(J>=97&&J<=122||J>=65&&J<=90||J>=48&&J<=57||J===45||J===46||J===95||J===126||b&&J===47)W!==-1&&(F+=encodeURIComponent(S.substring(W,Q)),W=-1),F!==void 0&&(F+=S.charAt(Q));else{F===void 0&&(F=S.substr(0,Q));var te=$[J];te!==void 0?(W!==-1&&(F+=encodeURIComponent(S.substring(W,Q)),W=-1),F+=te):W===-1&&(W=Q)}}return W!==-1&&(F+=encodeURIComponent(S.substring(W))),F!==void 0?F:S}function v(S){for(var b=void 0,F=0;F<S.length;F++){var W=S.charCodeAt(F);W===35||W===63?(b===void 0&&(b=S.substr(0,F)),b+=$[W]):b!==void 0&&(b+=S[F])}return b!==void 0?b:S}function C(S,b){var F;return F=S.authority&&S.path.length>1&&S.scheme==="file"?"//".concat(S.authority).concat(S.path):S.path.charCodeAt(0)===47&&(S.path.charCodeAt(1)>=65&&S.path.charCodeAt(1)<=90||S.path.charCodeAt(1)>=97&&S.path.charCodeAt(1)<=122)&&S.path.charCodeAt(2)===58?b?S.path.substr(1):S.path[1].toLowerCase()+S.path.substr(2):S.path,f.isWindows&&(F=F.replace(/\//g,"\\")),F}function X(S,b){var F=b?v:_,W="",Q=S.scheme,J=S.authority,te=S.path,ve=S.query,de=S.fragment;if(Q&&(W+=Q,W+=":"),(J||Q==="file")&&(W+=A,W+=A),J){var fe=J.indexOf("@");if(fe!==-1){var Ie=J.substr(0,fe);J=J.substr(fe+1),(fe=Ie.indexOf(":"))===-1?W+=F(Ie,!1):(W+=F(Ie.substr(0,fe),!1),W+=":",W+=F(Ie.substr(fe+1),!1)),W+="@"}(fe=(J=J.toLowerCase()).indexOf(":"))===-1?W+=F(J,!1):(W+=F(J.substr(0,fe),!1),W+=J.substr(fe))}if(te){if(te.length>=3&&te.charCodeAt(0)===47&&te.charCodeAt(2)===58)(me=te.charCodeAt(1))>=65&&me<=90&&(te="/".concat(String.fromCharCode(me+32),":").concat(te.substr(3)));else if(te.length>=2&&te.charCodeAt(1)===58){var me;(me=te.charCodeAt(0))>=65&&me<=90&&(te="".concat(String.fromCharCode(me+32),":").concat(te.substr(2)))}W+=F(te,!0)}return ve&&(W+="?",W+=F(ve,!1)),de&&(W+="#",W+=b?de:_(de,!1)),W}function U(S){try{return decodeURIComponent(S)}catch(b){return S.length>3?S.substr(0,3)+U(S.substr(3)):S}}n.uriToFsPath=C;var V=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function ne(S){return S.match(V)?S.replace(V,function(b){return U(b)}):S}},679:function(r,n,i){var s=this&&this.__spreadArray||function(p,E,m){if(m||arguments.length===2)for(var R,N=0,A=E.length;N<A;N++)!R&&N in E||(R||(R=Array.prototype.slice.call(E,0,N)),R[N]=E[N]);return p.concat(R||Array.prototype.slice.call(E))};Object.defineProperty(n,"__esModule",{value:!0}),n.Utils=void 0;var o,a=i(470),f=a.posix||a;(o=n.Utils||(n.Utils={})).joinPath=function(p){for(var E=[],m=1;m<arguments.length;m++)E[m-1]=arguments[m];return p.with({path:f.join.apply(f,s([p.path],E,!1))})},o.resolvePath=function(p){for(var E=[],m=1;m<arguments.length;m++)E[m-1]=arguments[m];var R=p.path||"/";return p.with({path:f.resolve.apply(f,s([R],E,!1))})},o.dirname=function(p){var E=f.dirname(p.path);return E.length===1&&E.charCodeAt(0)===46?p:p.with({path:E})},o.basename=function(p){return f.basename(p.path)},o.extname=function(p){return f.extname(p.path)}}},t={};return function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}(465)})()})});var dh=k(Ye=>{"use strict";var Gy=Ye&&Ye.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Hy=Ye&&Ye.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),By=Ye&&Ye.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Gy(t,e,r);return Hy(t,e),t},an=Ye&&Ye.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(E){try{p(n.next(E))}catch(m){o(m)}}function f(E){try{p(n.throw(E))}catch(m){o(m)}}function p(E){E.done?s(E.value):i(E.value).then(a,f)}p((n=n.apply(e,t||[])).next())})},di=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ye,"__esModule",{value:!0});var $y=di(Vc()),Vy=di(Yc()),fh=By(Au()),Yy=uh(),hh=di(require("path")),Xy=di(require("fs")),zy=lh(),Cr=class{constructor(t,r){this.credentials=t,this.getWorkspaceFolders=r,this.deps=[],this.queryResults=(n,i)=>an(this,void 0,void 0,function*(){let s=yield this.singleQuery(n,i);if(s.error)throw s.rawError;return s.results}),this.requireDep=n=>(0,fh.default)(n),this.resolveDep=n=>(0,fh.sqltoolsResolve)(n),this.log=(0,Yy.createLogger)(t.driver.toLowerCase())}getId(){return this.credentials.id}singleQuery(t,r){return this.query(t,r).then(([n])=>n)}describeTable(t,r){return an(this,void 0,void 0,function*(){let n=yield this.singleQuery(this.queries.describeTable(t),r);return n.baseQuery=this.queries.describeTable.raw,[n]})}showRecords(t,r){return an(this,void 0,void 0,function*(){let{limit:n,page:i=0}=r,s=Object.assign(Object.assign({},r),{limit:n,table:t,offset:i*n});if(typeof this.queries.fetchRecords=="function"&&typeof this.queries.countRecords=="function"){let[o,a]=yield Promise.all([this.singleQuery(this.queries.fetchRecords(s),r),this.singleQuery(this.queries.countRecords(s),r)]);return o.baseQuery=this.queries.fetchRecords.raw,o.pageSize=n,o.page=i,o.total=Number(a.results[0].total),o.queryType="showRecords",o.queryParams=t,[o]}return this.query(this.queries.fetchRecords(s),r)})}checkDependencies(){return an(this,void 0,void 0,function*(){if(!(!this.deps||this.deps.length===0)){if(Number(process.env.IS_NODE_RUNTIME||"0")!==1)throw new $y.default;this.deps.forEach(t=>{let r=!1;switch(t.type){case Cr.CONSTANTS.DEPENDENCY_PACKAGE:try{let{version:n}=JSON.parse(Xy.default.readFileSync(this.resolveDep(t.name+"/package.json")).toString());if(t.version&&n!==t.version)throw r=!0,new Error(`Version not matching. We need to upgrade ${t.name}`);this.requireDep(t.name)}catch(n){throw new Vy.default(this.deps,this.credentials,r)}break}})}})}getChildrenForItem(t){return this.log.error(`###### Attention ######getChildrenForItem not implemented for ${this.credentials.driver}
####################`),Promise.resolve([])}searchItems(t,r,n){return this.log.error(`###### Attention ######searchItems not implemented for ${this.credentials.driver}
####################`),Promise.resolve([])}toAbsolutePath(t){return an(this,void 0,void 0,function*(){if(!hh.default.isAbsolute(t)&&/\$\{workspaceFolder:(.+)}/g.test(t)){let r=t.match(/\$\{workspaceFolder:(.+)}/)[1];if(r){let i=(yield this.getWorkspaceFolders()).find(s=>s.name===r);t=hh.default.resolve(zy.URI.parse(i.uri,!0).fsPath,t.replace(/\$\{workspaceFolder:(.+)}/g,"./"))}}return t})}prepareMessage(t){return{message:t.toString(),date:new Date}}};Ye.default=Cr;Cr.CONSTANTS={DEPENDENCY_PACKAGE:"package",DEPENDENCY_NPM_SCRIPT:"npmscript"}});var ua=k((hO,Eh)=>{var ph={CONNECTION:"connection",CONNECTED_CONNECTION:"connectedConnection",COLUMN:"connection.column",FUNCTION:"connection.function",SCHEMA:"connection.schema",RESOURCE_GROUP:"connection.resource_group",DATABASE:"connection.database",TABLE:"connection.table",VIEW:"connection.view",MATERIALIZED_VIEW:"connection.materializedView",NO_CHILD:"NO_CHILD",KEYWORDS:"KEYWORDS"};Object.freeze(ph);Eh.exports={ContextValue:ph}});var gh=k(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});var Ky=(e,...t)=>{function r(n={}){return e.reduce((i,s,o)=>{let a=t[o];return i+=s.replace(/\r?\n\s+/g," "),typeof a!="undefined"&&(i+=typeof a!="function"?a:a(n)),i},"").trim()}return r.raw=e.reduce((n,i,s)=>{let o=t[s];return n+=i.replace(/\r?\n\s+/g," "),typeof o!="undefined"&&(n+="${"+o.toString()+"}"),n},"").trim(),r};la.default=Ky});var pa=k(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});da.default=u0;var o0=a0(require("crypto"));function a0(e){return e&&e.__esModule?e:{default:e}}var c0=new Uint8Array(16);function u0(){return o0.default.randomFillSync(c0)}});var _h=k(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.default=void 0;var l0=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;pi.default=l0});var un=k(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.default=void 0;var f0=h0(_h());function h0(e){return e&&e.__esModule?e:{default:e}}function d0(e){return typeof e=="string"&&f0.default.test(e)}var p0=d0;Ei.default=p0});var ln=k(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});gi.default=void 0;var E0=g0(un());function g0(e){return e&&e.__esModule?e:{default:e}}var Me=[];for(let e=0;e<256;++e)Me.push((e+256).toString(16).substr(1));function m0(e,t=0){let r=(Me[e[t+0]]+Me[e[t+1]]+Me[e[t+2]]+Me[e[t+3]]+"-"+Me[e[t+4]]+Me[e[t+5]]+"-"+Me[e[t+6]]+Me[e[t+7]]+"-"+Me[e[t+8]]+Me[e[t+9]]+"-"+Me[e[t+10]]+Me[e[t+11]]+Me[e[t+12]]+Me[e[t+13]]+Me[e[t+14]]+Me[e[t+15]]).toLowerCase();if(!(0,E0.default)(r))throw TypeError("Stringified UUID is invalid");return r}var R0=m0;gi.default=R0});var Sh=k(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.default=void 0;var v0=Oh(pa()),T0=Oh(ln());function Oh(e){return e&&e.__esModule?e:{default:e}}var Nh,Ea,ga=0,ma=0;function y0(e,t,r){let n=t&&r||0,i=t||new Array(16);e=e||{};let s=e.node||Nh,o=e.clockseq!==void 0?e.clockseq:Ea;if(s==null||o==null){let R=e.random||(e.rng||v0.default)();s==null&&(s=Nh=[R[0]|1,R[1],R[2],R[3],R[4],R[5]]),o==null&&(o=Ea=(R[6]<<8|R[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),f=e.nsecs!==void 0?e.nsecs:ma+1,p=a-ga+(f-ma)/1e4;if(p<0&&e.clockseq===void 0&&(o=o+1&16383),(p<0||a>ga)&&e.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ga=a,ma=f,Ea=o,a+=122192928e5;let E=((a&268435455)*1e4+f)%4294967296;i[n++]=E>>>24&255,i[n++]=E>>>16&255,i[n++]=E>>>8&255,i[n++]=E&255;let m=a/4294967296*1e4&268435455;i[n++]=m>>>8&255,i[n++]=m&255,i[n++]=m>>>24&15|16,i[n++]=m>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(let R=0;R<6;++R)i[n+R]=s[R];return t||(0,T0.default)(i)}var _0=y0;mi.default=_0});var Ra=k(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.default=void 0;var N0=O0(un());function O0(e){return e&&e.__esModule?e:{default:e}}function S0(e){if(!(0,N0.default)(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var I0=S0;Ri.default=I0});var va=k(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.default=L0;nr.URL=nr.DNS=void 0;var C0=Ih(ln()),A0=Ih(Ra());function Ih(e){return e&&e.__esModule?e:{default:e}}function b0(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var Ch="6ba7b810-9dad-11d1-80b4-00c04fd430c8";nr.DNS=Ch;var Ah="6ba7b811-9dad-11d1-80b4-00c04fd430c8";nr.URL=Ah;function L0(e,t,r){function n(i,s,o,a){if(typeof i=="string"&&(i=b0(i)),typeof s=="string"&&(s=(0,A0.default)(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let f=new Uint8Array(16+i.length);if(f.set(s),f.set(i,s.length),f=r(f),f[6]=f[6]&15|t,f[8]=f[8]&63|128,o){a=a||0;for(let p=0;p<16;++p)o[a+p]=f[p];return o}return(0,C0.default)(f)}try{n.name=e}catch(i){}return n.DNS=Ch,n.URL=Ah,n}});var bh=k(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.default=void 0;var w0=P0(require("crypto"));function P0(e){return e&&e.__esModule?e:{default:e}}function D0(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),w0.default.createHash("md5").update(e).digest()}var M0=D0;vi.default=M0});var wh=k(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});Ti.default=void 0;var k0=Lh(va()),x0=Lh(bh());function Lh(e){return e&&e.__esModule?e:{default:e}}var q0=(0,k0.default)("v3",48,x0.default),F0=q0;Ti.default=F0});var Dh=k(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});yi.default=void 0;var U0=Ph(pa()),j0=Ph(ln());function Ph(e){return e&&e.__esModule?e:{default:e}}function W0(e,t,r){e=e||{};let n=e.random||(e.rng||U0.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return(0,j0.default)(n)}var G0=W0;yi.default=G0});var Mh=k(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.default=void 0;var H0=B0(require("crypto"));function B0(e){return e&&e.__esModule?e:{default:e}}function $0(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),H0.default.createHash("sha1").update(e).digest()}var V0=$0;_i.default=V0});var xh=k(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.default=void 0;var Y0=kh(va()),X0=kh(Mh());function kh(e){return e&&e.__esModule?e:{default:e}}var z0=(0,Y0.default)("v5",80,X0.default),K0=z0;Ni.default=K0});var qh=k(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});Oi.default=void 0;var J0="00000000-0000-0000-0000-000000000000";Oi.default=J0});var Fh=k(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.default=void 0;var Q0=Z0(un());function Z0(e){return e&&e.__esModule?e:{default:e}}function e_(e){if(!(0,Q0.default)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var t_=e_;Si.default=t_});var Uh=k(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});Object.defineProperty(st,"v1",{enumerable:!0,get:function(){return r_.default}});Object.defineProperty(st,"v3",{enumerable:!0,get:function(){return n_.default}});Object.defineProperty(st,"v4",{enumerable:!0,get:function(){return i_.default}});Object.defineProperty(st,"v5",{enumerable:!0,get:function(){return s_.default}});Object.defineProperty(st,"NIL",{enumerable:!0,get:function(){return o_.default}});Object.defineProperty(st,"version",{enumerable:!0,get:function(){return a_.default}});Object.defineProperty(st,"validate",{enumerable:!0,get:function(){return c_.default}});Object.defineProperty(st,"stringify",{enumerable:!0,get:function(){return u_.default}});Object.defineProperty(st,"parse",{enumerable:!0,get:function(){return l_.default}});var r_=It(Sh()),n_=It(wh()),i_=It(Dh()),s_=It(xh()),o_=It(qh()),a_=It(Fh()),c_=It(un()),u_=It(ln()),l_=It(Ra());function It(e){return e&&e.__esModule?e:{default:e}}});var g_={};ed(g_,{default:()=>E_});module.exports=td(g_);var Ta=sr(dh());var cn=sr(ua()),Ht=sr(gh());function mh(e){return`"${e.label||e.toString()}"`}var Jy=Ht.default`
  SELECT C.*
  FROM pragma_table_info('${e=>e.label}') AS C
  ORDER BY C.cid ASC
`,Qy=Ht.default`
SELECT C.name AS label,
  C.*,
  C.type AS dataType,
  C."notnull" AS isNullable,
  C.pk AS isPk,
  '${cn.ContextValue.COLUMN}' as type
FROM pragma_table_info('${e=>e.label}') AS C
ORDER BY cid ASC
`,Zy=Ht.default`
SELECT *
FROM ${e=>mh(e.table)}
LIMIT ${e=>e.limit||50}
OFFSET ${e=>e.offset||0};
`,e0=Ht.default`
SELECT count(1) AS total
FROM ${e=>mh(e.table)};
`,Rh=(e,t="table")=>Ht.default`
SELECT name AS label,
  '${e}' AS type
FROM sqlite_master
WHERE LOWER(type) LIKE '${t.toLowerCase()}'
  AND name NOT LIKE 'sqlite_%'
ORDER BY name
`,t0=Rh(cn.ContextValue.TABLE),r0=Rh(cn.ContextValue.VIEW,"view"),n0=Ht.default`
SELECT name AS label,
  type
FROM sqlite_master
${e=>e.search?`WHERE LOWER(name) LIKE '%${e.search.toLowerCase()}%'`:""}
ORDER BY name
`,i0=Ht.default`
SELECT C.name AS label,
  T.name AS "table",
  C.type AS dataType,
  C."notnull" AS isNullable,
  C.pk AS isPk,
  '${cn.ContextValue.COLUMN}' as type
FROM sqlite_master AS T
LEFT OUTER JOIN pragma_table_info((T.name)) AS C ON 1 = 1
WHERE 1 = 1
${e=>e.tables.filter(t=>!!t.label).length?`AND LOWER(T.name) IN (${e.tables.filter(t=>!!t.label).map(t=>`'${t.label}'`.toLowerCase()).join(", ")})`:""}
${e=>e.search?`AND (
    LOWER(T.name || '.' || C.name) LIKE '%${e.search.toLowerCase()}%'
    OR LOWER(C.name) LIKE '%${e.search.toLowerCase()}%'
  )`:""}
ORDER BY C.name ASC,
  C.cid ASC
LIMIT ${e=>e.limit||100}
`,vh={describeTable:Jy,countRecords:e0,fetchColumns:Qy,fetchRecords:Zy,fetchTables:t0,fetchViews:r0,searchTables:n0,searchColumns:i0};var Hh=sr(uo()),Bh=require("path"),Be=sr(ua());var s0=/[\\^$.*+?()[\]{}|]/g,mO=RegExp(s0.source);var Je=class{static parse(t,r="mysql"){r==="mssql"&&(t=t.replace(/^[ \t]*GO;?[ \t]*$/gim,""));let n=";",i=[],s=!0,o;for(;s;){o==null&&(o=t);let a=Je.getStatements(o,r,n),f=a[0];if(f!=null&&f.trim()!=""&&i.push(f),o=a[1],o==null||o.trim()=="")break}return i}static getStatements(t,r,n){let i=null,s=!1,o=!1,a=!1,f=null,p=null,E=null,m=null,R=Array.from(t),N=[];for(let A=0;A<R.length;A++){let x=R[A];if(A>0&&(i=R[A-1]),A<R.length&&(f=R[A+1]),i!="\\"&&(x=="'"||x=='"')&&o==!1&&s==!1){o=!0,E=x;continue}if((x=="#"&&f==" "||x=="-"&&f=="-"||x=="/"&&f=="*")&&o==!1){s=!0,p=x;continue}if(s==!0&&((p=="#"||p=="-")&&x==`
`||p=="/"&&x=="*"&&f=="/")){s=!1,p=null;continue}if(i!="\\"&&x==E&&o==!0){o=!1,E=null;continue}if(x.toLowerCase()=="d"&&s==!1&&o==!1){let B=Je.getDelimiter(A,t,r);if(B!=null){let j=B[0],Z=B[1];t=t.substring(Z),N=Je.getStatements(t,r,j);break}}if(x=="$"&&s==!1&&o==!1){let B=t.substring(A);if(a==!1){let j=Je.getTag(B,r);j!=null&&(a=!0,m=j[0])}else{let j=Je.getTag(B,r);j!=null&&j[0]==m&&(a=!1)}}if(r==="mssql"&&x.toLowerCase()==="g"&&`${R[A+1]||""}`.toLowerCase()==="o"&&typeof R[A+2]!="undefined"&&/go\b/gi.test(`${x}${R[A+1]}${R[A+2]}`)&&(x=`${x}${R[A+1]}`),(x.toLowerCase()===n.toLowerCase()||x.toLowerCase()==="go")&&o==!1&&s==!1&&a==!1){let B=A+1;if(r==="mssql"&&x.toLowerCase()==="go"){B=A,N=Je.getQueryParts(t,B,2);break}N=Je.getQueryParts(t,B,0);break}}return N.length==0&&(t!=null&&(t=t.trim()),N.push(t,null)),N}static getQueryParts(t,r,n=1){let i=t.substring(0,r),s=t.substring(r+n),o=[];return i!=null&&(i=i.trim()),o.push(i),o.push(s),o}static getDelimiter(t,r,n){if(n=="mysql"){let i="delimiter ",s=i.length,o=r.substring(t);if(o.toLowerCase().indexOf(i)==0){let f=r.substring(t),p=f.indexOf(`
`);p==-1&&(p=r.length),f=f.substring(0,p),f=f.substring(s);let E=f.trim();if(E=Je.clearTextUntilComment(E),E!=null){E=E.trim();let m=o.indexOf(E)+t+E.length,R=[];return R.push(E),R.push(m),R}else return null}else return null}}static getTag(t,r){if(r=="pg"){let n=t.match(/^(\$[a-zA-Z]*\$)/i);if(n!=null&&n.length>1){let i=[],s=n[1].trim(),o=t.indexOf(s);return i.push(s),i.push(o),i}else return null}}static isGoDelimiter(t,r,n){if(t=="mssql"){let i=/(?:\bgo\b\s*)/i.exec(r);return i!=null&&i.index==n}}static clearTextUntilComment(t){let r=null,n=null,i=Array.from(t);for(let s=0;s<i.length;s++){let o=i[s];if(s<i.length&&(r=i[s+1]),o=="#"&&r==" "||o=="-"&&r=="-"||o=="/"&&r=="*")break;n==null&&(n=""),n+=o}return n}},Th=Je.parse;function yh(e,t="mysql"){return Th(e,t)}var Et=sr(Uh(),1),kS=Et.default.v1,xS=Et.default.v3,jh=Et.default.v4,qS=Et.default.v5,FS=Et.default.NIL,US=Et.default.version,jS=Et.default.validate,WS=Et.default.stringify,GS=Et.default.parse;var Wh=jh;var f_=["ABORT","ACTION","ADD","AFTER","ALL","ALTER","ALWAYS","ANALYZE","AND","AS","ASC","ATTACH","AUTOINCREMENT","BEFORE","BEGIN","BETWEEN","BY","CASCADE","CASE","CAST","CHECK","COLLATE","COLUMN","COMMIT","CONFLICT","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATABASE","DEFAULT","DEFERRABLE","DEFERRED","DELETE","DESC","DETACH","DISTINCT","DO","DROP","EACH","ELSE","END","ESCAPE","EXCEPT","EXCLUDE","EXCLUSIVE","EXISTS","EXPLAIN","FAIL","FILTER","FIRST","FOLLOWING","FOR","FOREIGN","FROM","FULL","GENERATED","GLOB","GROUP","GROUPS","HAVING","IF","IGNORE","IMMEDIATE","IN","INDEX","INDEXED","INITIALLY","INNER","INSERT","INSTEAD","INTERSECT","INTO","IS","ISNULL","JOIN","KEY","LAST","LEFT","LIKE","LIMIT","MATCH","NATURAL","NO","NOT","NOTHING","NOTNULL","NULL","NULLS","OF","OFFSET","ON","OR","ORDER","OTHERS","OUTER","OVER","PARTITION","PLAN","PRAGMA","PRECEDING","PRIMARY","QUERY","RAISE","RANGE","RECURSIVE","REFERENCES","REGEXP","REINDEX","RELEASE","RENAME","REPLACE","RESTRICT","RIGHT","ROLLBACK","ROW","ROWS","SAVEPOINT","SELECT","SET","TABLE","TEMP","TEMPORARY","THEN","TIES","TO","TRANSACTION","TRIGGER","UNBOUNDED","UNION","UNIQUE","UPDATE","USING","VACUUM","VALUES","VIEW","VIRTUAL","WHEN","WHERE","WINDOW","WITH","WITHOUT"],h_=f_.reduce((e,t)=>(e[t]={label:t,detail:t,filterText:t,sortText:(["SELECT","CREATE","UPDATE","DELETE"].includes(t)?"2:":"")+t,documentation:{value:`\`\`\`yaml
WORD: ${t}
\`\`\``,kind:"markdown"}},e),{}),Gh=h_;var d_="5.1.1",fn=class extends Ta.default{constructor(){super(...arguments);je(this,"deps",[{type:Ta.default.CONSTANTS.DEPENDENCY_PACKAGE,name:"sqlite3",version:d_}]);je(this,"queries",vh);je(this,"createDirIfNotExists",()=>$e(this,null,function*(){if(this.credentials.database.toLowerCase()===":memory:")return;let r=(0,Bh.dirname)(yield this.getDatabase());Hh.sync(r)}));je(this,"getDatabase",()=>this.toAbsolutePath(this.credentials.database));je(this,"query",(i,...s)=>$e(this,[i,...s],function*(r,n={}){let o=yield this.open(),{requestId:a}=n,f=yh(r.toString()).filter(Boolean),p=[];for(let E of f){let m=(yield this.runSingleQuery(o,E))||[],R=[];m.length===0&&E.toLowerCase()!=="select"&&R.push(this.prepareMessage(`${m.length} rows were affected.`)),p.push({requestId:a,resultId:Wh(),connId:this.getId(),cols:m&&m.length?Object.keys(m[0]):[],messages:R,query:E,results:m})}return p}));je(this,"getStaticCompletions",()=>$e(this,null,function*(){return Gh}))}get lib(){return this.requireDep("sqlite3")}open(){return $e(this,null,function*(){if(this.connection)return this.connection;yield this.createDirIfNotExists();let r=yield new Promise((n,i)=>$e(this,null,function*(){try{let s=new this.lib.Database(yield this.getDatabase(),o=>o?i(o):n(s))}catch(s){i(s)}}));return this.connection=Promise.resolve(r),this.connection})}close(){return $e(this,null,function*(){if(!this.connection)return Promise.resolve();let r=yield this.connection;yield new Promise((n,i)=>{r.close(s=>s?i(s):n())}),this.connection=null})}runSingleQuery(r,n){return new Promise((i,s)=>{r.all(n,(o,a)=>o?s(o):i(a))})}testConnection(){return $e(this,null,function*(){yield this.open(),yield this.query("SELECT 1",{})})}getChildrenForItem(i){return $e(this,arguments,function*({item:r,parent:n}){switch(r.type){case Be.ContextValue.CONNECTION:case Be.ContextValue.CONNECTED_CONNECTION:return[{label:"Tables",type:Be.ContextValue.RESOURCE_GROUP,iconId:"folder",childType:Be.ContextValue.TABLE},{label:"Views",type:Be.ContextValue.RESOURCE_GROUP,iconId:"folder",childType:Be.ContextValue.VIEW}];case Be.ContextValue.TABLE:case Be.ContextValue.VIEW:return this.queryResults(this.queries.fetchColumns(r));case Be.ContextValue.RESOURCE_GROUP:return this.getChildrenForGroup({item:r,parent:n})}return[]})}getChildrenForGroup(i){return $e(this,arguments,function*({parent:r,item:n}){switch(n.childType){case Be.ContextValue.TABLE:return this.queryResults(this.queries.fetchTables(r));case Be.ContextValue.VIEW:return this.queryResults(this.queries.fetchViews(r))}return[]})}searchItems(r,n,i={}){switch(r){case Be.ContextValue.TABLE:return this.queryResults(this.queries.searchTables({search:n}));case Be.ContextValue.COLUMN:return this.queryResults(this.queries.searchColumns(Ct({search:n},i)))}}};var $h=[{displayName:"SQLite (Node)",value:"SQLite"}];var p_={register(e){$h.forEach(({value:t})=>{e.getContext().drivers.set(t,fn)})}},E_=p_;0&&(module.exports={});

module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=409)}([function(e,t,n){"use strict";function r(e){return e&&0===e.length}function i(e){return null==e?[]:Object.keys(e)}function o(e){for(var t=[],n=Object.keys(e),r=0;r<n.length;r++)t.push(e[n[r]]);return t}function a(e,t){for(var n=[],r=i(e),o=0;o<r.length;o++){var a=r[o];n.push(t.call(null,e[a],a))}return n}function s(e,t){for(var n=[],r=0;r<e.length;r++)n.push(t.call(null,e[r],r));return n}function c(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?t=t.concat(c(r)):t.push(r)}return t}function u(e){return r(e)?void 0:e[0]}function l(e){var t=e&&e.length;return t?e[t-1]:void 0}function f(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t.call(null,e[n],n);else{if(!k(e))throw Error("non exhaustive match");var r=i(e);for(n=0;n<r.length;n++){var o=r[n],a=e[o];t.call(null,a,o)}}}function h(e){return"string"==typeof e}function p(e){return void 0===e}function d(e){return e instanceof Function}function m(e,t){return void 0===t&&(t=1),e.slice(t,e.length)}function g(e,t){return void 0===t&&(t=1),e.slice(0,e.length-t)}function v(e,t){var n=[];if(Array.isArray(e))for(var r=0;r<e.length;r++){var i=e[r];t.call(null,i)&&n.push(i)}return n}function y(e,t){return v(e,(function(e){return!t(e)}))}function b(e,t){for(var n=Object.keys(e),r={},i=0;i<n.length;i++){var o=n[i],a=e[o];t(a)&&(r[o]=a)}return r}function T(e,t){return!!k(e)&&e.hasOwnProperty(t)}function _(e,t){return void 0!==R(e,(function(e){return e===t}))}function O(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}function E(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function R(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t.call(null,r))return r}}function N(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];t.call(null,i)&&n.push(i)}return n}function S(e,t,n){for(var r=Array.isArray(e),a=r?e:o(e),s=r?[]:i(e),c=n,u=0;u<a.length;u++)c=t.call(null,c,a[u],r?u:s[u]);return c}function I(e){return y(e,(function(e){return null==e}))}function A(e,t){void 0===t&&(t=function(e){return e});var n=[];return S(e,(function(e,r){var i=t(r);return _(n,i)?e:(n.push(i),e.concat(r))}),[])}function C(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=[null],i=r.concat(t);return Function.bind.apply(e,i)}function x(e){return Array.isArray(e)}function L(e){return e instanceof RegExp}function k(e){return e instanceof Object}function w(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0}function P(e,t){return y(e,(function(e){return _(t,e)}))}function j(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return!0;return!1}function M(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function D(e,t){var n=O(e);return n.sort((function(e,n){return t(e)-t(n)})),n}function F(e,t){if(e.length!==t.length)throw Error("can't zipObject with different number of keys and values!");for(var n={},r=0;r<e.length;r++)n[e[r]]=t[r];return n}function U(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)for(var o=t[r],a=i(o),s=0;s<a.length;s++){var c=a[s];e[c]=o[c]}return e}function q(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)for(var o=t[r],a=i(o),s=0;s<a.length;s++){var c=a[s];T(e,c)||(e[c]=o[c])}return e}function B(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return q.apply(null,[{}].concat(e))}function W(e,t){var n={};return f(e,(function(e){var r=t(e),i=n[r];i?i.push(e):n[r]=[e]})),n}function z(e,t){for(var n=E(e),r=i(t),o=0;o<r.length;o++){var a=r[o],s=t[a];n[a]=s}return n}function K(){}function V(e){return e}function H(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(void 0!==r?r:void 0)}return t}function G(e){console&&console.error&&console.error("Error: "+e)}function $(e){console&&console.warn&&console.warn("Warning: "+e)}function Y(){return"function"==typeof Map}function X(e,t){t.forEach((function(t){var n=t.prototype;Object.getOwnPropertyNames(n).forEach((function(r){if("constructor"!==r){var i=Object.getOwnPropertyDescriptor(n,r);i&&(i.get||i.set)?Object.defineProperty(e.prototype,r,i):e.prototype[r]=t.prototype[r]}}))}))}function J(e){function t(){}t.prototype=e;var n=new t;function r(){return typeof n.bar}return r(),r(),e}function Z(e){return e[e.length-1]}function Q(e){var t=(new Date).getTime(),n=e();return{time:(new Date).getTime()-t,value:n}}n.d(t,"A",(function(){return r})),n.d(t,"G",(function(){return i})),n.d(t,"U",(function(){return o})),n.d(t,"J",(function(){return a})),n.d(t,"I",(function(){return s})),n.d(t,"t",(function(){return c})),n.d(t,"s",(function(){return u})),n.d(t,"H",(function(){return l})),n.d(t,"u",(function(){return f})),n.d(t,"E",(function(){return h})),n.d(t,"F",(function(){return p})),n.d(t,"B",(function(){return d})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return g})),n.d(t,"p",(function(){return v})),n.d(t,"P",(function(){return y})),n.d(t,"N",(function(){return b})),n.d(t,"w",(function(){return T})),n.d(t,"j",(function(){return _})),n.d(t,"g",(function(){return O})),n.d(t,"h",(function(){return E})),n.d(t,"q",(function(){return R})),n.d(t,"r",(function(){return N})),n.d(t,"O",(function(){return S})),n.d(t,"i",(function(){return I})),n.d(t,"T",(function(){return A})),n.d(t,"y",(function(){return x})),n.d(t,"D",(function(){return L})),n.d(t,"C",(function(){return k})),n.d(t,"o",(function(){return w})),n.d(t,"l",(function(){return P})),n.d(t,"Q",(function(){return j})),n.d(t,"x",(function(){return M})),n.d(t,"f",(function(){return U})),n.d(t,"k",(function(){return B})),n.d(t,"v",(function(){return W})),n.d(t,"K",(function(){return z})),n.d(t,"b",(function(){return K})),n.d(t,"a",(function(){return V})),n.d(t,"L",(function(){return H})),n.d(t,"c",(function(){return G})),n.d(t,"d",(function(){return $})),n.d(t,"z",(function(){return Y})),n.d(t,"e",(function(){return X})),n.d(t,"S",(function(){return J})),n.d(t,"M",(function(){return Z})),n.d(t,"R",(function(){return Q}))},function(e,t,n){"use strict";function r(e){return e&&0===e.length}function i(e){return null==e?[]:Object.keys(e)}function o(e){for(var t=[],n=Object.keys(e),r=0;r<n.length;r++)t.push(e[n[r]]);return t}function a(e,t){for(var n=[],r=i(e),o=0;o<r.length;o++){var a=r[o];n.push(t.call(null,e[a],a))}return n}function s(e,t){for(var n=[],r=0;r<e.length;r++)n.push(t.call(null,e[r],r));return n}function c(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?t=t.concat(c(r)):t.push(r)}return t}function u(e){return r(e)?void 0:e[0]}function l(e){var t=e&&e.length;return t?e[t-1]:void 0}function f(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t.call(null,e[n],n);else{if(!k(e))throw Error("non exhaustive match");var r=i(e);for(n=0;n<r.length;n++){var o=r[n],a=e[o];t.call(null,a,o)}}}function h(e){return"string"==typeof e}function p(e){return void 0===e}function d(e){return e instanceof Function}function m(e,t){return void 0===t&&(t=1),e.slice(t,e.length)}function g(e,t){return void 0===t&&(t=1),e.slice(0,e.length-t)}function v(e,t){var n=[];if(Array.isArray(e))for(var r=0;r<e.length;r++){var i=e[r];t.call(null,i)&&n.push(i)}return n}function y(e,t){return v(e,(function(e){return!t(e)}))}function b(e,t){for(var n=Object.keys(e),r={},i=0;i<n.length;i++){var o=n[i],a=e[o];t(a)&&(r[o]=a)}return r}function T(e,t){return!!k(e)&&e.hasOwnProperty(t)}function _(e,t){return void 0!==R(e,(function(e){return e===t}))}function O(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}function E(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function R(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t.call(null,r))return r}}function N(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];t.call(null,i)&&n.push(i)}return n}function S(e,t,n){for(var r=Array.isArray(e),a=r?e:o(e),s=r?[]:i(e),c=n,u=0;u<a.length;u++)c=t.call(null,c,a[u],r?u:s[u]);return c}function I(e){return y(e,(function(e){return null==e}))}function A(e,t){void 0===t&&(t=function(e){return e});var n=[];return S(e,(function(e,r){var i=t(r);return _(n,i)?e:(n.push(i),e.concat(r))}),[])}function C(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=[null],i=r.concat(t);return Function.bind.apply(e,i)}function x(e){return Array.isArray(e)}function L(e){return e instanceof RegExp}function k(e){return e instanceof Object}function w(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0}function P(e,t){return y(e,(function(e){return _(t,e)}))}function j(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return!0;return!1}function M(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function D(e,t){var n=O(e);return n.sort((function(e,n){return t(e)-t(n)})),n}function F(e,t){if(e.length!==t.length)throw Error("can't zipObject with different number of keys and values!");for(var n={},r=0;r<e.length;r++)n[e[r]]=t[r];return n}function U(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)for(var o=t[r],a=i(o),s=0;s<a.length;s++){var c=a[s];e[c]=o[c]}return e}function q(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)for(var o=t[r],a=i(o),s=0;s<a.length;s++){var c=a[s];T(e,c)||(e[c]=o[c])}return e}function B(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return q.apply(null,[{}].concat(e))}function W(e,t){var n={};return f(e,(function(e){var r=t(e),i=n[r];i?i.push(e):n[r]=[e]})),n}function z(e,t){for(var n=E(e),r=i(t),o=0;o<r.length;o++){var a=r[o],s=t[a];n[a]=s}return n}function K(){}function V(e){return e}function H(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(void 0!==r?r:void 0)}return t}function G(e){console&&console.error&&console.error("Error: "+e)}function $(e){console&&console.warn&&console.warn("Warning: "+e)}function Y(){return"function"==typeof Map}function X(e,t){t.forEach((function(t){var n=t.prototype;Object.getOwnPropertyNames(n).forEach((function(r){if("constructor"!==r){var i=Object.getOwnPropertyDescriptor(n,r);i&&(i.get||i.set)?Object.defineProperty(e.prototype,r,i):e.prototype[r]=t.prototype[r]}}))}))}function J(e){function t(){}t.prototype=e;var n=new t;function r(){return typeof n.bar}return r(),r(),e}function Z(e){return e[e.length-1]}function Q(e){var t=(new Date).getTime(),n=e();return{time:(new Date).getTime()-t,value:n}}n.d(t,"A",(function(){return r})),n.d(t,"G",(function(){return i})),n.d(t,"U",(function(){return o})),n.d(t,"J",(function(){return a})),n.d(t,"I",(function(){return s})),n.d(t,"t",(function(){return c})),n.d(t,"s",(function(){return u})),n.d(t,"H",(function(){return l})),n.d(t,"u",(function(){return f})),n.d(t,"E",(function(){return h})),n.d(t,"F",(function(){return p})),n.d(t,"B",(function(){return d})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return g})),n.d(t,"p",(function(){return v})),n.d(t,"P",(function(){return y})),n.d(t,"N",(function(){return b})),n.d(t,"w",(function(){return T})),n.d(t,"j",(function(){return _})),n.d(t,"g",(function(){return O})),n.d(t,"h",(function(){return E})),n.d(t,"q",(function(){return R})),n.d(t,"r",(function(){return N})),n.d(t,"O",(function(){return S})),n.d(t,"i",(function(){return I})),n.d(t,"T",(function(){return A})),n.d(t,"y",(function(){return x})),n.d(t,"D",(function(){return L})),n.d(t,"C",(function(){return k})),n.d(t,"o",(function(){return w})),n.d(t,"l",(function(){return P})),n.d(t,"Q",(function(){return j})),n.d(t,"x",(function(){return M})),n.d(t,"f",(function(){return U})),n.d(t,"k",(function(){return B})),n.d(t,"v",(function(){return W})),n.d(t,"K",(function(){return z})),n.d(t,"b",(function(){return K})),n.d(t,"a",(function(){return V})),n.d(t,"L",(function(){return H})),n.d(t,"c",(function(){return G})),n.d(t,"d",(function(){return $})),n.d(t,"z",(function(){return Y})),n.d(t,"e",(function(){return X})),n.d(t,"S",(function(){return J})),n.d(t,"M",(function(){return Z})),n.d(t,"R",(function(){return Q}))},,function(e,t){e.exports=require("path")},function(e,t){e.exports=require("stream")},function(e,t){e.exports=require("crypto")},function(e,t){e.exports=require("fs")},,function(e,t){e.exports=require("util")},,function(e,t){e.exports=require("url")},function(e,t){e.exports=require("zlib")},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolNotificationType=t.ProtocolNotificationType0=t.ProtocolRequestType=t.ProtocolRequestType0=t.RegistrationType=void 0;const r=n(51);t.RegistrationType=class{constructor(e){this.method=e}};class i extends r.RequestType0{constructor(e){super(e)}}t.ProtocolRequestType0=i;class o extends r.RequestType{constructor(e){super(e,r.ParameterStructures.byName)}}t.ProtocolRequestType=o;class a extends r.NotificationType0{constructor(e){super(e)}}t.ProtocolNotificationType0=a;class s extends r.NotificationType{constructor(e){super(e,r.ParameterStructures.byName)}}t.ProtocolNotificationType=s},,function(e,t,n){var r,i,o;"undefined"!=typeof self&&self,i=[],void 0===(o="function"==typeof(r=function(){function e(){}e.prototype.saveState=function(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}},e.prototype.restoreState=function(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx},e.prototype.pattern=function(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");var t=this.disjunction();this.consumeChar("/");for(var n={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};this.isRegExpFlag();)switch(this.popChar()){case"g":s(n,"global");break;case"i":s(n,"ignoreCase");break;case"m":s(n,"multiLine");break;case"u":s(n,"unicode");break;case"y":s(n,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:t,loc:this.loc(0)}},e.prototype.disjunction=function(){var e=[],t=this.idx;for(e.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(t)}},e.prototype.alternative=function(){for(var e=[],t=this.idx;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(t)}},e.prototype.term=function(){return this.isAssertion()?this.assertion():this.atom()},e.prototype.assertion=function(){var e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":var t;switch(this.consumeChar("?"),this.popChar()){case"=":t="Lookahead";break;case"!":t="NegativeLookahead"}c(t);var n=this.disjunction();return this.consumeChar(")"),{type:t,value:n,loc:this.loc(e)}}!function(){throw Error("Internal Error - Should never get here!")}()},e.prototype.quantifier=function(e){var t,n=this.idx;switch(this.popChar()){case"*":t={atLeast:0,atMost:1/0};break;case"+":t={atLeast:1,atMost:1/0};break;case"?":t={atLeast:0,atMost:1};break;case"{":var r=this.integerIncludingZero();switch(this.popChar()){case"}":t={atLeast:r,atMost:r};break;case",":t=this.isDigit()?{atLeast:r,atMost:this.integerIncludingZero()}:{atLeast:r,atMost:1/0},this.consumeChar("}")}if(!0===e&&void 0===t)return;c(t)}if(!0!==e||void 0!==t)return c(t),"?"===this.peekChar(0)?(this.consumeChar("?"),t.greedy=!1):t.greedy=!0,t.type="Quantifier",t.loc=this.loc(n),t},e.prototype.atom=function(){var e,t=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group()}return void 0===e&&this.isPatternCharacter()&&(e=this.patternCharacter()),c(e),e.loc=this.loc(t),this.isQuantifier()&&(e.quantifier=this.quantifier()),e},e.prototype.dotAll=function(){return this.consumeChar("."),{type:"Set",complement:!0,value:[o("\n"),o("\r"),o("\u2028"),o("\u2029")]}},e.prototype.atomEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},e.prototype.decimalEscapeAtom=function(){return{type:"GroupBackReference",value:this.positiveInteger()}},e.prototype.characterClassEscape=function(){var e,t=!1;switch(this.popChar()){case"d":e=u;break;case"D":e=u,t=!0;break;case"s":e=f;break;case"S":e=f,t=!0;break;case"w":e=l;break;case"W":e=l,t=!0}return c(e),{type:"Set",value:e,complement:t}},e.prototype.controlEscapeAtom=function(){var e;switch(this.popChar()){case"f":e=o("\f");break;case"n":e=o("\n");break;case"r":e=o("\r");break;case"t":e=o("\t");break;case"v":e=o("\v")}return c(e),{type:"Character",value:e}},e.prototype.controlLetterEscapeAtom=function(){this.consumeChar("c");var e=this.popChar();if(!1===/[a-zA-Z]/.test(e))throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}},e.prototype.nulCharacterAtom=function(){return this.consumeChar("0"),{type:"Character",value:o("\0")}},e.prototype.hexEscapeSequenceAtom=function(){return this.consumeChar("x"),this.parseHexDigits(2)},e.prototype.regExpUnicodeEscapeSequenceAtom=function(){return this.consumeChar("u"),this.parseHexDigits(4)},e.prototype.identityEscapeAtom=function(){return{type:"Character",value:o(this.popChar())}},e.prototype.classPatternCharacterAtom=function(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:o(this.popChar())}}},e.prototype.characterClass=function(){var e=[],t=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),t=!0);this.isClassAtom();){var n=this.classAtom();if("Character"===n.type&&this.isRangeDash()){this.consumeChar("-");var r=this.classAtom();if("Character"===r.type){if(r.value<n.value)throw Error("Range out of order in character class");e.push({from:n.value,to:r.value})}else a(n.value,e),e.push(o("-")),a(r.value,e)}else a(n.value,e)}return this.consumeChar("]"),{type:"Set",complement:t,value:e}},e.prototype.classAtom=function(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}},e.prototype.classEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:o("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},e.prototype.group=function(){var e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++}var t=this.disjunction();this.consumeChar(")");var n={type:"Group",capturing:e,value:t};return e&&(n.idx=this.groupIdx),n},e.prototype.positiveInteger=function(){var e=this.popChar();if(!1===i.test(e))throw Error("Expecting a positive integer");for(;r.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)},e.prototype.integerIncludingZero=function(){var e=this.popChar();if(!1===r.test(e))throw Error("Expecting an integer");for(;r.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)},e.prototype.patternCharacter=function(){var e=this.popChar();switch(e){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:o(e)}}},e.prototype.isRegExpFlag=function(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}},e.prototype.isRangeDash=function(){return"-"===this.peekChar()&&this.isClassAtom(1)},e.prototype.isDigit=function(){return r.test(this.peekChar(0))},e.prototype.isClassAtom=function(e){switch(void 0===e&&(e=0),this.peekChar(e)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},e.prototype.isTerm=function(){return this.isAtom()||this.isAssertion()},e.prototype.isAtom=function(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}},e.prototype.isAssertion=function(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}},e.prototype.isQuantifier=function(){var e=this.saveState();try{return void 0!==this.quantifier(!0)}catch(e){return!1}finally{this.restoreState(e)}},e.prototype.isPatternCharacter=function(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},e.prototype.parseHexDigits=function(e){for(var t="",r=0;r<e;r++){var i=this.popChar();if(!1===n.test(i))throw Error("Expecting a HexDecimal digits");t+=i}return{type:"Character",value:parseInt(t,16)}},e.prototype.peekChar=function(e){return void 0===e&&(e=0),this.input[this.idx+e]},e.prototype.popChar=function(){var e=this.peekChar(0);return this.consumeChar(),e},e.prototype.consumeChar=function(e){if(void 0!==e&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++},e.prototype.loc=function(e){return{begin:e,end:this.idx}};var t,n=/[0-9a-fA-F]/,r=/[0-9]/,i=/[1-9]/;function o(e){return e.charCodeAt(0)}function a(e,t){void 0!==e.length?e.forEach((function(e){t.push(e)})):t.push(e)}function s(e,t){if(!0===e[t])throw"duplicate flag "+t;e[t]=!0}function c(e){if(void 0===e)throw Error("Internal Error - Should never get here!")}var u=[];for(t=o("0");t<=o("9");t++)u.push(t);var l=[o("_")].concat(u);for(t=o("a");t<=o("z");t++)l.push(t);for(t=o("A");t<=o("Z");t++)l.push(t);var f=[o(" "),o("\f"),o("\n"),o("\r"),o("\t"),o("\v"),o("\t"),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o(" "),o("\u2028"),o("\u2029"),o(" "),o(" "),o("　"),o("\ufeff")];function h(){}return h.prototype.visitChildren=function(e){for(var t in e){var n=e[t];e.hasOwnProperty(t)&&(void 0!==n.type?this.visit(n):Array.isArray(n)&&n.forEach((function(e){this.visit(e)}),this))}},h.prototype.visit=function(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e)}this.visitChildren(e)},h.prototype.visitPattern=function(e){},h.prototype.visitFlags=function(e){},h.prototype.visitDisjunction=function(e){},h.prototype.visitAlternative=function(e){},h.prototype.visitStartAnchor=function(e){},h.prototype.visitEndAnchor=function(e){},h.prototype.visitWordBoundary=function(e){},h.prototype.visitNonWordBoundary=function(e){},h.prototype.visitLookahead=function(e){},h.prototype.visitNegativeLookahead=function(e){},h.prototype.visitCharacter=function(e){},h.prototype.visitSet=function(e){},h.prototype.visitGroup=function(e){},h.prototype.visitGroupBackReference=function(e){},h.prototype.visitQuantifier=function(e){},{RegExpParser:e,BaseRegExpVisitor:h,VERSION:"0.5.0"}})?r.apply(t,i):r)||(e.exports=o)},,function(e,t){e.exports=require("http")},function(e,t){e.exports=require("os")},function(e,t){e.exports=require("child_process")},,function(e,t){e.exports=require("https")},,,,,,,,,function(e,t,n){"use strict";let r;function i(){if(void 0===r)throw new Error("No runtime abstraction layer installed");return r}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");r=e}}(i||(i={})),t.default=i},,function(e,t){e.exports=require("net")},,,function(e,t,n){var r=n(59),i=n(60);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DependencyMap=t.SimpleDependency=t.Dependency=t.Variant=t.KeyValueEntry=t.ValueType=void 0,function(e){e[e.Invalid=0]="Invalid",e[e.String=1]="String",e[e.Integer=2]="Integer",e[e.Float=3]="Float",e[e.Array=4]="Array",e[e.Object=5]="Object",e[e.Boolean=6]="Boolean",e[e.Null=7]="Null"}(r=t.ValueType||(t.ValueType={}));class i{constructor(e,t,n,r){this.key=e,this.key_position=t,this.value=n,this.value_position=r}}t.KeyValueEntry=i;class o{constructor(e,t){this.type=e,this.object=t}}t.Variant=o;class a{constructor(e){this.name={value:e.key,position:e.key_position},this.version={value:e.value.object,position:e.value_position}}key(){return`${this.name.value}@${this.version.value}`}}t.Dependency=a;t.SimpleDependency=class extends a{constructor(e,t){super(new i(e,null,new o(r.String,t),null))}};t.DependencyMap=class{constructor(e){this.mapper=new Map(e.map(e=>[e.key(),e]))}get(e){return this.mapper.get(e.key())}}},,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const o=n(145);i(n(145),t),i(n(419),t),t.createProtocolConnection=function(e,t,n,r){return o.createMessageConnection(e,t,n,r)}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.createServerSocketTransport=t.createClientSocketTransport=t.createServerPipeTransport=t.createClientPipeTransport=t.generateRandomPipeName=t.StreamMessageWriter=t.StreamMessageReader=t.SocketMessageWriter=t.SocketMessageReader=t.IPCMessageWriter=t.IPCMessageReader=void 0;const o=n(412);o.default.install();const a=n(147),s=n(3),c=n(20),u=n(5),l=n(34);i(n(147),t);class f extends a.AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),a.Disposable.create(()=>this.process.off("message",e))}}t.IPCMessageReader=f;class h extends a.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose)}write(e){try{return"function"==typeof this.process.send&&this.process.send(e,void 0,void 0,t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0}),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}}t.IPCMessageWriter=h;class p extends a.ReadableStreamMessageReader{constructor(e,t="utf-8"){super(o.default().stream.asReadableStream(e),t)}}t.SocketMessageReader=p;class d extends a.WriteableStreamMessageWriter{constructor(e,t){super(o.default().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}}t.SocketMessageWriter=d;class m extends a.ReadableStreamMessageReader{constructor(e,t){super(o.default().stream.asReadableStream(e),t)}}t.StreamMessageReader=m;class g extends a.WriteableStreamMessageWriter{constructor(e,t){super(o.default().stream.asWritableStream(e),t)}}t.StreamMessageWriter=g;const v=process.env.XDG_RUNTIME_DIR,y=new Map([["linux",107],["darwin",103]]);t.generateRandomPipeName=function(){const e=u.randomBytes(21).toString("hex");if("win32"===process.platform)return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;t=v?s.join(v,`vscode-ipc-${e}.sock`):s.join(c.tmpdir(),`vscode-${e}.sock`);const n=y.get(process.platform);return void 0!==n&&t.length>=n&&o.default().console.warn(`WARNING: IPC handle "${t}" is longer than ${n} characters.`),t},t.createClientPipeTransport=function(e,t="utf-8"){let n;const r=new Promise((e,t)=>{n=e});return new Promise((i,o)=>{let a=l.createServer(e=>{a.close(),n([new p(e,t),new d(e,t)])});a.on("error",o),a.listen(e,()=>{a.removeListener("error",o),i({onConnected:()=>r})})})},t.createServerPipeTransport=function(e,t="utf-8"){const n=l.createConnection(e);return[new p(n,t),new d(n,t)]},t.createClientSocketTransport=function(e,t="utf-8"){let n;const r=new Promise((e,t)=>{n=e});return new Promise((i,o)=>{const a=l.createServer(e=>{a.close(),n([new p(e,t),new d(e,t)])});a.on("error",o),a.listen(e,"127.0.0.1",()=>{a.removeListener("error",o),i({onConnected:()=>r})})})},t.createServerSocketTransport=function(e,t="utf-8"){const n=l.createConnection(e,"127.0.0.1");return[new p(n,t),new d(n,t)]},t.createMessageConnection=function(e,t,n,r){n||(n=a.NullLogger);const i=function(e){const t=e;return void 0!==t.read&&void 0!==t.addListener}(e)?new m(e):e,o=function(e){const t=e;return void 0!==t.write&&void 0!==t.addListener}(t)?new g(t):t;return a.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),a.createMessageConnection(i,o,n,r)}},function(e,t,n){"use strict";function r(e){return"string"==typeof e||e instanceof String}function i(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=i,t.stringArray=function(e){return i(e)&&e.every(e=>r(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Emitter=t.Event=void 0;const r=n(32);!function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class i{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let r=0,i=this._callbacks.length;r<i;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,a=n.length;o<a;o++)try{t.push(n[o].apply(i[o],e))}catch(e){r.default().console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class o{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new i),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);const r={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),r.dispose=o._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(r),r}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}t.Emitter=o,o._noop=function(){}},,,,,,function(e,t,n){var r=n(5);e.exports=function(){return r.randomBytes(16)}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},function(e,t,n){(function(e){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var i="Expected a function",o="__lodash_placeholder__",a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],s="[object Arguments]",c="[object Array]",u="[object Boolean]",l="[object Date]",f="[object Error]",h="[object Function]",p="[object GeneratorFunction]",d="[object Map]",m="[object Number]",g="[object Object]",v="[object RegExp]",y="[object Set]",b="[object String]",T="[object Symbol]",_="[object WeakMap]",O="[object ArrayBuffer]",E="[object DataView]",R="[object Float32Array]",N="[object Float64Array]",S="[object Int8Array]",I="[object Int16Array]",A="[object Int32Array]",C="[object Uint8Array]",x="[object Uint16Array]",L="[object Uint32Array]",k=/\b__p \+= '';/g,w=/\b(__p \+=) '' \+/g,P=/(__e\(.*?\)|\b__t\)) \+\n'';/g,j=/&(?:amp|lt|gt|quot|#39);/g,M=/[&<>"']/g,D=RegExp(j.source),F=RegExp(M.source),U=/<%-([\s\S]+?)%>/g,q=/<%([\s\S]+?)%>/g,B=/<%=([\s\S]+?)%>/g,W=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,z=/^\w*$/,K=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,V=/[\\^$.*+?()[\]{}|]/g,H=RegExp(V.source),G=/^\s+/,$=/\s/,Y=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,X=/\{\n\/\* \[wrapped with (.+)\] \*/,J=/,? & /,Z=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Q=/[()=,{}\[\]\/\s]/,ee=/\\(\\)?/g,te=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ne=/\w*$/,re=/^[-+]0x[0-9a-f]+$/i,ie=/^0b[01]+$/i,oe=/^\[object .+?Constructor\]$/,ae=/^0o[0-7]+$/i,se=/^(?:0|[1-9]\d*)$/,ce=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ue=/($^)/,le=/['\n\r\u2028\u2029\\]/g,fe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",he="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pe="[\\ud800-\\udfff]",de="["+he+"]",me="["+fe+"]",ge="\\d+",ve="[\\u2700-\\u27bf]",ye="[a-z\\xdf-\\xf6\\xf8-\\xff]",be="[^\\ud800-\\udfff"+he+ge+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Te="\\ud83c[\\udffb-\\udfff]",_e="[^\\ud800-\\udfff]",Oe="(?:\\ud83c[\\udde6-\\uddff]){2}",Ee="[\\ud800-\\udbff][\\udc00-\\udfff]",Re="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Ne="(?:"+ye+"|"+be+")",Se="(?:"+Re+"|"+be+")",Ie="(?:"+me+"|"+Te+")"+"?",Ae="[\\ufe0e\\ufe0f]?"+Ie+("(?:\\u200d(?:"+[_e,Oe,Ee].join("|")+")[\\ufe0e\\ufe0f]?"+Ie+")*"),Ce="(?:"+[ve,Oe,Ee].join("|")+")"+Ae,xe="(?:"+[_e+me+"?",me,Oe,Ee,pe].join("|")+")",Le=RegExp("['’]","g"),ke=RegExp(me,"g"),we=RegExp(Te+"(?="+Te+")|"+xe+Ae,"g"),Pe=RegExp([Re+"?"+ye+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[de,Re,"$"].join("|")+")",Se+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[de,Re+Ne,"$"].join("|")+")",Re+"?"+Ne+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Re+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ge,Ce].join("|"),"g"),je=RegExp("[\\u200d\\ud800-\\udfff"+fe+"\\ufe0e\\ufe0f]"),Me=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,De=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Fe=-1,Ue={};Ue[R]=Ue[N]=Ue[S]=Ue[I]=Ue[A]=Ue[C]=Ue["[object Uint8ClampedArray]"]=Ue[x]=Ue[L]=!0,Ue[s]=Ue[c]=Ue[O]=Ue[u]=Ue[E]=Ue[l]=Ue[f]=Ue[h]=Ue[d]=Ue[m]=Ue[g]=Ue[v]=Ue[y]=Ue[b]=Ue[_]=!1;var qe={};qe[s]=qe[c]=qe[O]=qe[E]=qe[u]=qe[l]=qe[R]=qe[N]=qe[S]=qe[I]=qe[A]=qe[d]=qe[m]=qe[g]=qe[v]=qe[y]=qe[b]=qe[T]=qe[C]=qe["[object Uint8ClampedArray]"]=qe[x]=qe[L]=!0,qe[f]=qe[h]=qe[_]=!1;var Be={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},We=parseFloat,ze=parseInt,Ke="object"==typeof global&&global&&global.Object===Object&&global,Ve="object"==typeof self&&self&&self.Object===Object&&self,He=Ke||Ve||Function("return this")(),Ge=t&&!t.nodeType&&t,$e=Ge&&"object"==typeof e&&e&&!e.nodeType&&e,Ye=$e&&$e.exports===Ge,Xe=Ye&&Ke.process,Je=function(){try{var e=$e&&$e.require&&$e.require("util").types;return e||Xe&&Xe.binding&&Xe.binding("util")}catch(e){}}(),Ze=Je&&Je.isArrayBuffer,Qe=Je&&Je.isDate,et=Je&&Je.isMap,tt=Je&&Je.isRegExp,nt=Je&&Je.isSet,rt=Je&&Je.isTypedArray;function it(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function ot(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function at(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function st(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function ut(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function lt(e,t){return!!(null==e?0:e.length)&&Tt(e,t,0)>-1}function ft(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function ht(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function pt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function dt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function mt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function gt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var vt=Rt("length");function yt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function bt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Tt(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):bt(e,Ot,n)}function _t(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Ot(e){return e!=e}function Et(e,t){var n=null==e?0:e.length;return n?It(e,t)/n:NaN}function Rt(e){return function(t){return null==t?void 0:t[e]}}function Nt(e){return function(t){return null==e?void 0:e[t]}}function St(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function It(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function At(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Ct(e){return e?e.slice(0,Gt(e)+1).replace(G,""):e}function xt(e){return function(t){return e(t)}}function Lt(e,t){return ht(t,(function(t){return e[t]}))}function kt(e,t){return e.has(t)}function wt(e,t){for(var n=-1,r=e.length;++n<r&&Tt(t,e[n],0)>-1;);return n}function Pt(e,t){for(var n=e.length;n--&&Tt(t,e[n],0)>-1;);return n}function jt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Mt=Nt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Dt=Nt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ft(e){return"\\"+Be[e]}function Ut(e){return je.test(e)}function qt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Bt(e,t){return function(n){return e(t(n))}}function Wt(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var s=e[n];s!==t&&s!==o||(e[n]=o,a[i++]=n)}return a}function zt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function Kt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Vt(e){return Ut(e)?function(e){var t=we.lastIndex=0;for(;we.test(e);)++t;return t}(e):vt(e)}function Ht(e){return Ut(e)?function(e){return e.match(we)||[]}(e):function(e){return e.split("")}(e)}function Gt(e){for(var t=e.length;t--&&$.test(e.charAt(t)););return t}var $t=Nt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Yt=function e(t){var n,r=(t=null==t?He:Yt.defaults(He.Object(),t,Yt.pick(He,De))).Array,$=t.Date,fe=t.Error,he=t.Function,pe=t.Math,de=t.Object,me=t.RegExp,ge=t.String,ve=t.TypeError,ye=r.prototype,be=he.prototype,Te=de.prototype,_e=t["__core-js_shared__"],Oe=be.toString,Ee=Te.hasOwnProperty,Re=0,Ne=(n=/[^.]+$/.exec(_e&&_e.keys&&_e.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Se=Te.toString,Ie=Oe.call(de),Ae=He._,Ce=me("^"+Oe.call(Ee).replace(V,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xe=Ye?t.Buffer:void 0,we=t.Symbol,je=t.Uint8Array,Be=xe?xe.allocUnsafe:void 0,Ke=Bt(de.getPrototypeOf,de),Ve=de.create,Ge=Te.propertyIsEnumerable,$e=ye.splice,Xe=we?we.isConcatSpreadable:void 0,Je=we?we.iterator:void 0,vt=we?we.toStringTag:void 0,Nt=function(){try{var e=eo(de,"defineProperty");return e({},"",{}),e}catch(e){}}(),Xt=t.clearTimeout!==He.clearTimeout&&t.clearTimeout,Jt=$&&$.now!==He.Date.now&&$.now,Zt=t.setTimeout!==He.setTimeout&&t.setTimeout,Qt=pe.ceil,en=pe.floor,tn=de.getOwnPropertySymbols,nn=xe?xe.isBuffer:void 0,rn=t.isFinite,on=ye.join,an=Bt(de.keys,de),sn=pe.max,cn=pe.min,un=$.now,ln=t.parseInt,fn=pe.random,hn=ye.reverse,pn=eo(t,"DataView"),dn=eo(t,"Map"),mn=eo(t,"Promise"),gn=eo(t,"Set"),vn=eo(t,"WeakMap"),yn=eo(de,"create"),bn=vn&&new vn,Tn={},_n=Ao(pn),On=Ao(dn),En=Ao(mn),Rn=Ao(gn),Nn=Ao(vn),Sn=we?we.prototype:void 0,In=Sn?Sn.valueOf:void 0,An=Sn?Sn.toString:void 0;function Cn(e){if(Va(e)&&!Pa(e)&&!(e instanceof wn)){if(e instanceof kn)return e;if(Ee.call(e,"__wrapped__"))return Co(e)}return new kn(e)}var xn=function(){function e(){}return function(t){if(!Ka(t))return{};if(Ve)return Ve(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Ln(){}function kn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function wn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Pn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function jn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Mn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Dn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Mn;++t<n;)this.add(e[t])}function Fn(e){var t=this.__data__=new jn(e);this.size=t.size}function Un(e,t){var n=Pa(e),r=!n&&wa(e),i=!n&&!r&&Fa(e),o=!n&&!r&&!i&&Qa(e),a=n||r||i||o,s=a?At(e.length,ge):[],c=s.length;for(var u in e)!t&&!Ee.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||so(u,c))||s.push(u);return s}function qn(e){var t=e.length;return t?e[Dr(0,t-1)]:void 0}function Bn(e,t){return No(yi(e),Xn(t,0,e.length))}function Wn(e){return No(yi(e))}function zn(e,t,n){(void 0!==n&&!xa(e[t],n)||void 0===n&&!(t in e))&&$n(e,t,n)}function Kn(e,t,n){var r=e[t];Ee.call(e,t)&&xa(r,n)&&(void 0!==n||t in e)||$n(e,t,n)}function Vn(e,t){for(var n=e.length;n--;)if(xa(e[n][0],t))return n;return-1}function Hn(e,t,n,r){return tr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function Gn(e,t){return e&&bi(t,_s(t),e)}function $n(e,t,n){"__proto__"==t&&Nt?Nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Yn(e,t){for(var n=-1,i=t.length,o=r(i),a=null==e;++n<i;)o[n]=a?void 0:gs(e,t[n]);return o}function Xn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Jn(e,t,n,r,i,o){var a,c=1&t,f=2&t,_=4&t;if(n&&(a=i?n(e,r,i,o):n(e)),void 0!==a)return a;if(!Ka(e))return e;var k=Pa(e);if(k){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Ee.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!c)return yi(e,a)}else{var w=ro(e),P=w==h||w==p;if(Fa(e))return hi(e,c);if(w==g||w==s||P&&!i){if(a=f||P?{}:oo(e),!c)return f?function(e,t){return bi(e,no(e),t)}(e,function(e,t){return e&&bi(t,Os(t),e)}(a,e)):function(e,t){return bi(e,to(e),t)}(e,Gn(a,e))}else{if(!qe[w])return i?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case O:return pi(e);case u:case l:return new r(+e);case E:return function(e,t){var n=t?pi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case R:case N:case S:case I:case A:case C:case"[object Uint8ClampedArray]":case x:case L:return di(e,n);case d:return new r;case m:case b:return new r(e);case v:return function(e){var t=new e.constructor(e.source,ne.exec(e));return t.lastIndex=e.lastIndex,t}(e);case y:return new r;case T:return i=e,In?de(In.call(i)):{}}var i}(e,w,c)}}o||(o=new Fn);var j=o.get(e);if(j)return j;o.set(e,a),Xa(e)?e.forEach((function(r){a.add(Jn(r,t,n,r,e,o))})):Ha(e)&&e.forEach((function(r,i){a.set(i,Jn(r,t,n,i,e,o))}));var M=k?void 0:(_?f?Gi:Hi:f?Os:_s)(e);return at(M||e,(function(r,i){M&&(r=e[i=r]),Kn(a,i,Jn(r,t,n,i,e,o))})),a}function Zn(e,t,n){var r=n.length;if(null==e)return!r;for(e=de(e);r--;){var i=n[r],o=t[i],a=e[i];if(void 0===a&&!(i in e)||!o(a))return!1}return!0}function Qn(e,t,n){if("function"!=typeof e)throw new ve(i);return _o((function(){e.apply(void 0,n)}),t)}function er(e,t,n,r){var i=-1,o=lt,a=!0,s=e.length,c=[],u=t.length;if(!s)return c;n&&(t=ht(t,xt(n))),r?(o=ft,a=!1):t.length>=200&&(o=kt,a=!1,t=new Dn(t));e:for(;++i<s;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f==f){for(var h=u;h--;)if(t[h]===f)continue e;c.push(l)}else o(t,f,r)||c.push(l)}return c}Cn.templateSettings={escape:U,evaluate:q,interpolate:B,variable:"",imports:{_:Cn}},Cn.prototype=Ln.prototype,Cn.prototype.constructor=Cn,kn.prototype=xn(Ln.prototype),kn.prototype.constructor=kn,wn.prototype=xn(Ln.prototype),wn.prototype.constructor=wn,Pn.prototype.clear=function(){this.__data__=yn?yn(null):{},this.size=0},Pn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Pn.prototype.get=function(e){var t=this.__data__;if(yn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Ee.call(t,e)?t[e]:void 0},Pn.prototype.has=function(e){var t=this.__data__;return yn?void 0!==t[e]:Ee.call(t,e)},Pn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=yn&&void 0===t?"__lodash_hash_undefined__":t,this},jn.prototype.clear=function(){this.__data__=[],this.size=0},jn.prototype.delete=function(e){var t=this.__data__,n=Vn(t,e);return!(n<0)&&(n==t.length-1?t.pop():$e.call(t,n,1),--this.size,!0)},jn.prototype.get=function(e){var t=this.__data__,n=Vn(t,e);return n<0?void 0:t[n][1]},jn.prototype.has=function(e){return Vn(this.__data__,e)>-1},jn.prototype.set=function(e,t){var n=this.__data__,r=Vn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Mn.prototype.clear=function(){this.size=0,this.__data__={hash:new Pn,map:new(dn||jn),string:new Pn}},Mn.prototype.delete=function(e){var t=Zi(this,e).delete(e);return this.size-=t?1:0,t},Mn.prototype.get=function(e){return Zi(this,e).get(e)},Mn.prototype.has=function(e){return Zi(this,e).has(e)},Mn.prototype.set=function(e,t){var n=Zi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Dn.prototype.add=Dn.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Dn.prototype.has=function(e){return this.__data__.has(e)},Fn.prototype.clear=function(){this.__data__=new jn,this.size=0},Fn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Fn.prototype.get=function(e){return this.__data__.get(e)},Fn.prototype.has=function(e){return this.__data__.has(e)},Fn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof jn){var r=n.__data__;if(!dn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Mn(r)}return n.set(e,t),this.size=n.size,this};var tr=Oi(ur),nr=Oi(lr,!0);function rr(e,t){var n=!0;return tr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function ir(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(void 0===s?a==a&&!Za(a):n(a,s)))var s=a,c=o}return c}function or(e,t){var n=[];return tr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function ar(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=ao),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?ar(s,t-1,n,r,i):pt(i,s):r||(i[i.length]=s)}return i}var sr=Ei(),cr=Ei(!0);function ur(e,t){return e&&sr(e,t,_s)}function lr(e,t){return e&&cr(e,t,_s)}function fr(e,t){return ut(t,(function(t){return Ba(e[t])}))}function hr(e,t){for(var n=0,r=(t=ci(t,e)).length;null!=e&&n<r;)e=e[Io(t[n++])];return n&&n==r?e:void 0}function pr(e,t,n){var r=t(e);return Pa(e)?r:pt(r,n(e))}function dr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":vt&&vt in de(e)?function(e){var t=Ee.call(e,vt),n=e[vt];try{e[vt]=void 0;var r=!0}catch(e){}var i=Se.call(e);r&&(t?e[vt]=n:delete e[vt]);return i}(e):function(e){return Se.call(e)}(e)}function mr(e,t){return e>t}function gr(e,t){return null!=e&&Ee.call(e,t)}function vr(e,t){return null!=e&&t in de(e)}function yr(e,t,n){for(var i=n?ft:lt,o=e[0].length,a=e.length,s=a,c=r(a),u=1/0,l=[];s--;){var f=e[s];s&&t&&(f=ht(f,xt(t))),u=cn(f.length,u),c[s]=!n&&(t||o>=120&&f.length>=120)?new Dn(s&&f):void 0}f=e[0];var h=-1,p=c[0];e:for(;++h<o&&l.length<u;){var d=f[h],m=t?t(d):d;if(d=n||0!==d?d:0,!(p?kt(p,m):i(l,m,n))){for(s=a;--s;){var g=c[s];if(!(g?kt(g,m):i(e[s],m,n)))continue e}p&&p.push(m),l.push(d)}}return l}function br(e,t,n){var r=null==(e=vo(e,t=ci(t,e)))?e:e[Io(qo(t))];return null==r?void 0:it(r,e,n)}function Tr(e){return Va(e)&&dr(e)==s}function _r(e,t,n,r,i){return e===t||(null==e||null==t||!Va(e)&&!Va(t)?e!=e&&t!=t:function(e,t,n,r,i,o){var a=Pa(e),h=Pa(t),p=a?c:ro(e),_=h?c:ro(t),R=(p=p==s?g:p)==g,N=(_=_==s?g:_)==g,S=p==_;if(S&&Fa(e)){if(!Fa(t))return!1;a=!0,R=!1}if(S&&!R)return o||(o=new Fn),a||Qa(e)?Ki(e,t,n,r,i,o):function(e,t,n,r,i,o,a){switch(n){case E:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case O:return!(e.byteLength!=t.byteLength||!o(new je(e),new je(t)));case u:case l:case m:return xa(+e,+t);case f:return e.name==t.name&&e.message==t.message;case v:case b:return e==t+"";case d:var s=qt;case y:var c=1&r;if(s||(s=zt),e.size!=t.size&&!c)return!1;var h=a.get(e);if(h)return h==t;r|=2,a.set(e,t);var p=Ki(s(e),s(t),r,i,o,a);return a.delete(e),p;case T:if(In)return In.call(e)==In.call(t)}return!1}(e,t,p,n,r,i,o);if(!(1&n)){var I=R&&Ee.call(e,"__wrapped__"),A=N&&Ee.call(t,"__wrapped__");if(I||A){var C=I?e.value():e,x=A?t.value():t;return o||(o=new Fn),i(C,x,n,r,o)}}if(!S)return!1;return o||(o=new Fn),function(e,t,n,r,i,o){var a=1&n,s=Hi(e),c=s.length,u=Hi(t).length;if(c!=u&&!a)return!1;var l=c;for(;l--;){var f=s[l];if(!(a?f in t:Ee.call(t,f)))return!1}var h=o.get(e),p=o.get(t);if(h&&p)return h==t&&p==e;var d=!0;o.set(e,t),o.set(t,e);var m=a;for(;++l<c;){f=s[l];var g=e[f],v=t[f];if(r)var y=a?r(v,g,f,t,e,o):r(g,v,f,e,t,o);if(!(void 0===y?g===v||i(g,v,n,r,o):y)){d=!1;break}m||(m="constructor"==f)}if(d&&!m){var b=e.constructor,T=t.constructor;b==T||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof T&&T instanceof T||(d=!1)}return o.delete(e),o.delete(t),d}(e,t,n,r,i,o)}(e,t,n,r,_r,i))}function Or(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=de(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var c=(s=n[i])[0],u=e[c],l=s[1];if(a&&s[2]){if(void 0===u&&!(c in e))return!1}else{var f=new Fn;if(r)var h=r(u,l,c,e,t,f);if(!(void 0===h?_r(l,u,3,r,f):h))return!1}}return!0}function Er(e){return!(!Ka(e)||(t=e,Ne&&Ne in t))&&(Ba(e)?Ce:oe).test(Ao(e));var t}function Rr(e){return"function"==typeof e?e:null==e?Gs:"object"==typeof e?Pa(e)?xr(e[0],e[1]):Cr(e):nc(e)}function Nr(e){if(!ho(e))return an(e);var t=[];for(var n in de(e))Ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Sr(e){if(!Ka(e))return function(e){var t=[];if(null!=e)for(var n in de(e))t.push(n);return t}(e);var t=ho(e),n=[];for(var r in e)("constructor"!=r||!t&&Ee.call(e,r))&&n.push(r);return n}function Ir(e,t){return e<t}function Ar(e,t){var n=-1,i=Ma(e)?r(e.length):[];return tr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Cr(e){var t=Qi(e);return 1==t.length&&t[0][2]?mo(t[0][0],t[0][1]):function(n){return n===e||Or(n,e,t)}}function xr(e,t){return uo(e)&&po(t)?mo(Io(e),t):function(n){var r=gs(n,e);return void 0===r&&r===t?vs(n,e):_r(t,r,3)}}function Lr(e,t,n,r,i){e!==t&&sr(t,(function(o,a){if(i||(i=new Fn),Ka(o))!function(e,t,n,r,i,o,a){var s=bo(e,n),c=bo(t,n),u=a.get(c);if(u)return void zn(e,n,u);var l=o?o(s,c,n+"",e,t,a):void 0,f=void 0===l;if(f){var h=Pa(c),p=!h&&Fa(c),d=!h&&!p&&Qa(c);l=c,h||p||d?Pa(s)?l=s:Da(s)?l=yi(s):p?(f=!1,l=hi(c,!0)):d?(f=!1,l=di(c,!0)):l=[]:$a(c)||wa(c)?(l=s,wa(s)?l=ss(s):Ka(s)&&!Ba(s)||(l=oo(c))):f=!1}f&&(a.set(c,l),i(l,c,r,o,a),a.delete(c));zn(e,n,l)}(e,t,a,n,Lr,r,i);else{var s=r?r(bo(e,a),o,a+"",e,t,i):void 0;void 0===s&&(s=o),zn(e,a,s)}}),Os)}function kr(e,t){var n=e.length;if(n)return so(t+=t<0?n:0,n)?e[t]:void 0}function wr(e,t,n){t=t.length?ht(t,(function(e){return Pa(e)?function(t){return hr(t,1===e.length?e[0]:e)}:e})):[Gs];var r=-1;return t=ht(t,xt(Ji())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Ar(e,(function(e,n,i){return{criteria:ht(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var c=mi(i[r],o[r]);if(c){if(r>=s)return c;var u=n[r];return c*("desc"==u?-1:1)}}return e.index-t.index}(e,t,n)}))}function Pr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=hr(e,a);n(s,a)&&Wr(o,ci(a,e),s)}return o}function jr(e,t,n,r){var i=r?_t:Tt,o=-1,a=t.length,s=e;for(e===t&&(t=yi(t)),n&&(s=ht(e,xt(n)));++o<a;)for(var c=0,u=t[o],l=n?n(u):u;(c=i(s,l,c,r))>-1;)s!==e&&$e.call(s,c,1),$e.call(e,c,1);return e}function Mr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;so(i)?$e.call(e,i,1):ei(e,i)}}return e}function Dr(e,t){return e+en(fn()*(t-e+1))}function Fr(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=en(t/2))&&(e+=e)}while(t);return n}function Ur(e,t){return Oo(go(e,t,Gs),e+"")}function qr(e){return qn(xs(e))}function Br(e,t){var n=xs(e);return No(n,Xn(t,0,n.length))}function Wr(e,t,n,r){if(!Ka(e))return e;for(var i=-1,o=(t=ci(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var c=Io(t[i]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=a){var l=s[c];void 0===(u=r?r(l,c,s):void 0)&&(u=Ka(l)?l:so(t[i+1])?[]:{})}Kn(s,c,u),s=s[c]}return e}var zr=bn?function(e,t){return bn.set(e,t),e}:Gs,Kr=Nt?function(e,t){return Nt(e,"toString",{configurable:!0,enumerable:!1,value:Ks(t),writable:!0})}:Gs;function Vr(e){return No(xs(e))}function Hr(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=r(o);++i<o;)a[i]=e[i+t];return a}function Gr(e,t){var n;return tr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function $r(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!Za(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return Yr(e,t,Gs,n)}function Yr(e,t,n,r){var i=0,o=null==e?0:e.length;if(0===o)return 0;for(var a=(t=n(t))!=t,s=null===t,c=Za(t),u=void 0===t;i<o;){var l=en((i+o)/2),f=n(e[l]),h=void 0!==f,p=null===f,d=f==f,m=Za(f);if(a)var g=r||d;else g=u?d&&(r||h):s?d&&h&&(r||!p):c?d&&h&&!p&&(r||!m):!p&&!m&&(r?f<=t:f<t);g?i=l+1:o=l}return cn(o,4294967294)}function Xr(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!xa(s,c)){var c=s;o[i++]=0===a?0:a}}return o}function Jr(e){return"number"==typeof e?e:Za(e)?NaN:+e}function Zr(e){if("string"==typeof e)return e;if(Pa(e))return ht(e,Zr)+"";if(Za(e))return An?An.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Qr(e,t,n){var r=-1,i=lt,o=e.length,a=!0,s=[],c=s;if(n)a=!1,i=ft;else if(o>=200){var u=t?null:Fi(e);if(u)return zt(u);a=!1,i=kt,c=new Dn}else c=t?[]:s;e:for(;++r<o;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),s.push(l)}else i(c,f,n)||(c!==s&&c.push(f),s.push(l))}return s}function ei(e,t){return null==(e=vo(e,t=ci(t,e)))||delete e[Io(qo(t))]}function ti(e,t,n,r){return Wr(e,t,n(hr(e,t)),r)}function ni(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Hr(e,r?0:o,r?o+1:i):Hr(e,r?o+1:0,r?i:o)}function ri(e,t){var n=e;return n instanceof wn&&(n=n.value()),dt(t,(function(e,t){return t.func.apply(t.thisArg,pt([e],t.args))}),n)}function ii(e,t,n){var i=e.length;if(i<2)return i?Qr(e[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=e[o],c=-1;++c<i;)c!=o&&(a[o]=er(a[o]||s,e[c],t,n));return Qr(ar(a,1),t,n)}function oi(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:void 0;n(a,e[r],s)}return a}function ai(e){return Da(e)?e:[]}function si(e){return"function"==typeof e?e:Gs}function ci(e,t){return Pa(e)?e:uo(e,t)?[e]:So(cs(e))}var ui=Ur;function li(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Hr(e,t,n)}var fi=Xt||function(e){return He.clearTimeout(e)};function hi(e,t){if(t)return e.slice();var n=e.length,r=Be?Be(n):new e.constructor(n);return e.copy(r),r}function pi(e){var t=new e.constructor(e.byteLength);return new je(t).set(new je(e)),t}function di(e,t){var n=t?pi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function mi(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=Za(e),a=void 0!==t,s=null===t,c=t==t,u=Za(t);if(!s&&!u&&!o&&e>t||o&&a&&c&&!s&&!u||r&&a&&c||!n&&c||!i)return 1;if(!r&&!o&&!u&&e<t||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!c)return-1}return 0}function gi(e,t,n,i){for(var o=-1,a=e.length,s=n.length,c=-1,u=t.length,l=sn(a-s,0),f=r(u+l),h=!i;++c<u;)f[c]=t[c];for(;++o<s;)(h||o<a)&&(f[n[o]]=e[o]);for(;l--;)f[c++]=e[o++];return f}function vi(e,t,n,i){for(var o=-1,a=e.length,s=-1,c=n.length,u=-1,l=t.length,f=sn(a-c,0),h=r(f+l),p=!i;++o<f;)h[o]=e[o];for(var d=o;++u<l;)h[d+u]=t[u];for(;++s<c;)(p||o<a)&&(h[d+n[s]]=e[o++]);return h}function yi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function bi(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),i?$n(n,s,c):Kn(n,s,c)}return n}function Ti(e,t){return function(n,r){var i=Pa(n)?ot:Hn,o=t?t():{};return i(n,e,Ji(r,2),o)}}function _i(e){return Ur((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&co(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=de(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t}))}function Oi(e,t){return function(n,r){if(null==n)return n;if(!Ma(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=de(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Ei(e){return function(t,n,r){for(var i=-1,o=de(t),a=r(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===n(o[c],c,o))break}return t}}function Ri(e){return function(t){var n=Ut(t=cs(t))?Ht(t):void 0,r=n?n[0]:t.charAt(0),i=n?li(n,1).join(""):t.slice(1);return r[e]()+i}}function Ni(e){return function(t){return dt(Bs(ws(t).replace(Le,"")),e,"")}}function Si(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=xn(e.prototype),r=e.apply(n,t);return Ka(r)?r:n}}function Ii(e){return function(t,n,r){var i=de(t);if(!Ma(t)){var o=Ji(n,3);t=_s(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}}function Ai(e){return Vi((function(t){var n=t.length,r=n,o=kn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new ve(i);if(o&&!s&&"wrapper"==Yi(a))var s=new kn([],!0)}for(r=s?r:n;++r<n;){var c=Yi(a=t[r]),u="wrapper"==c?$i(a):void 0;s=u&&lo(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?s[Yi(u[0])].apply(s,u[3]):1==a.length&&lo(a)?s[c]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Pa(r))return s.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Ci(e,t,n,i,o,a,s,c,u,l){var f=128&t,h=1&t,p=2&t,d=24&t,m=512&t,g=p?void 0:Si(e);return function v(){for(var y=arguments.length,b=r(y),T=y;T--;)b[T]=arguments[T];if(d)var _=Xi(v),O=jt(b,_);if(i&&(b=gi(b,i,o,d)),a&&(b=vi(b,a,s,d)),y-=O,d&&y<l){var E=Wt(b,_);return Mi(e,t,Ci,v.placeholder,n,b,E,c,u,l-y)}var R=h?n:this,N=p?R[e]:e;return y=b.length,c?b=yo(b,c):m&&y>1&&b.reverse(),f&&u<y&&(b.length=u),this&&this!==He&&this instanceof v&&(N=g||Si(N)),N.apply(R,b)}}function xi(e,t){return function(n,r){return function(e,t,n,r){return ur(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Li(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Zr(n),r=Zr(r)):(n=Jr(n),r=Jr(r)),i=e(n,r)}return i}}function ki(e){return Vi((function(t){return t=ht(t,xt(Ji())),Ur((function(n){var r=this;return e(t,(function(e){return it(e,r,n)}))}))}))}function wi(e,t){var n=(t=void 0===t?" ":Zr(t)).length;if(n<2)return n?Fr(t,e):t;var r=Fr(t,Qt(e/Vt(t)));return Ut(t)?li(Ht(r),0,e).join(""):r.slice(0,e)}function Pi(e){return function(t,n,i){return i&&"number"!=typeof i&&co(t,n,i)&&(n=i=void 0),t=rs(t),void 0===n?(n=t,t=0):n=rs(n),function(e,t,n,i){for(var o=-1,a=sn(Qt((t-e)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=e,e+=n;return s}(t,n,i=void 0===i?t<n?1:-1:rs(i),e)}}function ji(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=as(t),n=as(n)),e(t,n)}}function Mi(e,t,n,r,i,o,a,s,c,u){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var f=[e,t,i,l?o:void 0,l?a:void 0,l?void 0:o,l?void 0:a,s,c,u],h=n.apply(void 0,f);return lo(e)&&To(h,f),h.placeholder=r,Eo(h,e,t)}function Di(e){var t=pe[e];return function(e,n){if(e=as(e),(n=null==n?0:cn(is(n),292))&&rn(e)){var r=(cs(e)+"e").split("e");return+((r=(cs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Fi=gn&&1/zt(new gn([,-0]))[1]==1/0?function(e){return new gn(e)}:Zs;function Ui(e){return function(t){var n=ro(t);return n==d?qt(t):n==y?Kt(t):function(e,t){return ht(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function qi(e,t,n,a,s,c,u,l){var f=2&t;if(!f&&"function"!=typeof e)throw new ve(i);var h=a?a.length:0;if(h||(t&=-97,a=s=void 0),u=void 0===u?u:sn(is(u),0),l=void 0===l?l:is(l),h-=s?s.length:0,64&t){var p=a,d=s;a=s=void 0}var m=f?void 0:$i(e),g=[e,t,n,a,s,p,d,c,u,l];if(m&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,s=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var c=t[3];if(c){var u=e[3];e[3]=u?gi(u,c,t[4]):c,e[4]=u?Wt(e[3],o):t[4]}(c=t[5])&&(u=e[5],e[5]=u?vi(u,c,t[6]):c,e[6]=u?Wt(e[5],o):t[6]);(c=t[7])&&(e[7]=c);128&r&&(e[8]=null==e[8]?t[8]:cn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(g,m),e=g[0],t=g[1],n=g[2],a=g[3],s=g[4],!(l=g[9]=void 0===g[9]?f?0:e.length:sn(g[9]-h,0))&&24&t&&(t&=-25),t&&1!=t)v=8==t||16==t?function(e,t,n){var i=Si(e);return function o(){for(var a=arguments.length,s=r(a),c=a,u=Xi(o);c--;)s[c]=arguments[c];var l=a<3&&s[0]!==u&&s[a-1]!==u?[]:Wt(s,u);if((a-=l.length)<n)return Mi(e,t,Ci,o.placeholder,void 0,s,l,void 0,void 0,n-a);var f=this&&this!==He&&this instanceof o?i:e;return it(f,this,s)}}(e,t,l):32!=t&&33!=t||s.length?Ci.apply(void 0,g):function(e,t,n,i){var o=1&t,a=Si(e);return function t(){for(var s=-1,c=arguments.length,u=-1,l=i.length,f=r(l+c),h=this&&this!==He&&this instanceof t?a:e;++u<l;)f[u]=i[u];for(;c--;)f[u++]=arguments[++s];return it(h,o?n:this,f)}}(e,t,n,a);else var v=function(e,t,n){var r=1&t,i=Si(e);return function t(){var o=this&&this!==He&&this instanceof t?i:e;return o.apply(r?n:this,arguments)}}(e,t,n);return Eo((m?zr:To)(v,g),e,t)}function Bi(e,t,n,r){return void 0===e||xa(e,Te[n])&&!Ee.call(r,n)?t:e}function Wi(e,t,n,r,i,o){return Ka(e)&&Ka(t)&&(o.set(t,e),Lr(e,t,void 0,Wi,o),o.delete(t)),e}function zi(e){return $a(e)?void 0:e}function Ki(e,t,n,r,i,o){var a=1&n,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var u=o.get(e),l=o.get(t);if(u&&l)return u==t&&l==e;var f=-1,h=!0,p=2&n?new Dn:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var d=e[f],m=t[f];if(r)var g=a?r(m,d,f,t,e,o):r(d,m,f,e,t,o);if(void 0!==g){if(g)continue;h=!1;break}if(p){if(!gt(t,(function(e,t){if(!kt(p,t)&&(d===e||i(d,e,n,r,o)))return p.push(t)}))){h=!1;break}}else if(d!==m&&!i(d,m,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function Vi(e){return Oo(go(e,void 0,jo),e+"")}function Hi(e){return pr(e,_s,to)}function Gi(e){return pr(e,Os,no)}var $i=bn?function(e){return bn.get(e)}:Zs;function Yi(e){for(var t=e.name+"",n=Tn[t],r=Ee.call(Tn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Xi(e){return(Ee.call(Cn,"placeholder")?Cn:e).placeholder}function Ji(){var e=Cn.iteratee||$s;return e=e===$s?Rr:e,arguments.length?e(arguments[0],arguments[1]):e}function Zi(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Qi(e){for(var t=_s(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,po(i)]}return t}function eo(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Er(n)?n:void 0}var to=tn?function(e){return null==e?[]:(e=de(e),ut(tn(e),(function(t){return Ge.call(e,t)})))}:oc,no=tn?function(e){for(var t=[];e;)pt(t,to(e)),e=Ke(e);return t}:oc,ro=dr;function io(e,t,n){for(var r=-1,i=(t=ci(t,e)).length,o=!1;++r<i;){var a=Io(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&za(i)&&so(a,i)&&(Pa(e)||wa(e))}function oo(e){return"function"!=typeof e.constructor||ho(e)?{}:xn(Ke(e))}function ao(e){return Pa(e)||wa(e)||!!(Xe&&e&&e[Xe])}function so(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&se.test(e))&&e>-1&&e%1==0&&e<t}function co(e,t,n){if(!Ka(n))return!1;var r=typeof t;return!!("number"==r?Ma(n)&&so(t,n.length):"string"==r&&t in n)&&xa(n[t],e)}function uo(e,t){if(Pa(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Za(e))||(z.test(e)||!W.test(e)||null!=t&&e in de(t))}function lo(e){var t=Yi(e),n=Cn[t];if("function"!=typeof n||!(t in wn.prototype))return!1;if(e===n)return!0;var r=$i(n);return!!r&&e===r[0]}(pn&&ro(new pn(new ArrayBuffer(1)))!=E||dn&&ro(new dn)!=d||mn&&"[object Promise]"!=ro(mn.resolve())||gn&&ro(new gn)!=y||vn&&ro(new vn)!=_)&&(ro=function(e){var t=dr(e),n=t==g?e.constructor:void 0,r=n?Ao(n):"";if(r)switch(r){case _n:return E;case On:return d;case En:return"[object Promise]";case Rn:return y;case Nn:return _}return t});var fo=_e?Ba:ac;function ho(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Te)}function po(e){return e==e&&!Ka(e)}function mo(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in de(n)))}}function go(e,t,n){return t=sn(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=sn(i.length-t,0),s=r(a);++o<a;)s[o]=i[t+o];o=-1;for(var c=r(t+1);++o<t;)c[o]=i[o];return c[t]=n(s),it(e,this,c)}}function vo(e,t){return t.length<2?e:hr(e,Hr(t,0,-1))}function yo(e,t){for(var n=e.length,r=cn(t.length,n),i=yi(e);r--;){var o=t[r];e[r]=so(o,n)?i[o]:void 0}return e}function bo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var To=Ro(zr),_o=Zt||function(e,t){return He.setTimeout(e,t)},Oo=Ro(Kr);function Eo(e,t,n){var r=t+"";return Oo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Y,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return at(a,(function(n){var r="_."+n[0];t&n[1]&&!lt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(X);return t?t[1].split(J):[]}(r),n)))}function Ro(e){var t=0,n=0;return function(){var r=un(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function No(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var o=Dr(n,i),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}var So=function(e){var t=Ra(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(K,(function(e,n,r,i){t.push(r?i.replace(ee,"$1"):n||e)})),t}));function Io(e){if("string"==typeof e||Za(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ao(e){if(null!=e){try{return Oe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Co(e){if(e instanceof wn)return e.clone();var t=new kn(e.__wrapped__,e.__chain__);return t.__actions__=yi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var xo=Ur((function(e,t){return Da(e)?er(e,ar(t,1,Da,!0)):[]})),Lo=Ur((function(e,t){var n=qo(t);return Da(n)&&(n=void 0),Da(e)?er(e,ar(t,1,Da,!0),Ji(n,2)):[]})),ko=Ur((function(e,t){var n=qo(t);return Da(n)&&(n=void 0),Da(e)?er(e,ar(t,1,Da,!0),void 0,n):[]}));function wo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:is(n);return i<0&&(i=sn(r+i,0)),bt(e,Ji(t,3),i)}function Po(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=is(n),i=n<0?sn(r+i,0):cn(i,r-1)),bt(e,Ji(t,3),i,!0)}function jo(e){return(null==e?0:e.length)?ar(e,1):[]}function Mo(e){return e&&e.length?e[0]:void 0}var Do=Ur((function(e){var t=ht(e,ai);return t.length&&t[0]===e[0]?yr(t):[]})),Fo=Ur((function(e){var t=qo(e),n=ht(e,ai);return t===qo(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?yr(n,Ji(t,2)):[]})),Uo=Ur((function(e){var t=qo(e),n=ht(e,ai);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?yr(n,void 0,t):[]}));function qo(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Bo=Ur(Wo);function Wo(e,t){return e&&e.length&&t&&t.length?jr(e,t):e}var zo=Vi((function(e,t){var n=null==e?0:e.length,r=Yn(e,t);return Mr(e,ht(t,(function(e){return so(e,n)?+e:e})).sort(mi)),r}));function Ko(e){return null==e?e:hn.call(e)}var Vo=Ur((function(e){return Qr(ar(e,1,Da,!0))})),Ho=Ur((function(e){var t=qo(e);return Da(t)&&(t=void 0),Qr(ar(e,1,Da,!0),Ji(t,2))})),Go=Ur((function(e){var t=qo(e);return t="function"==typeof t?t:void 0,Qr(ar(e,1,Da,!0),void 0,t)}));function $o(e){if(!e||!e.length)return[];var t=0;return e=ut(e,(function(e){if(Da(e))return t=sn(e.length,t),!0})),At(t,(function(t){return ht(e,Rt(t))}))}function Yo(e,t){if(!e||!e.length)return[];var n=$o(e);return null==t?n:ht(n,(function(e){return it(t,void 0,e)}))}var Xo=Ur((function(e,t){return Da(e)?er(e,t):[]})),Jo=Ur((function(e){return ii(ut(e,Da))})),Zo=Ur((function(e){var t=qo(e);return Da(t)&&(t=void 0),ii(ut(e,Da),Ji(t,2))})),Qo=Ur((function(e){var t=qo(e);return t="function"==typeof t?t:void 0,ii(ut(e,Da),void 0,t)})),ea=Ur($o);var ta=Ur((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Yo(e,n)}));function na(e){var t=Cn(e);return t.__chain__=!0,t}function ra(e,t){return t(e)}var ia=Vi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Yn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof wn&&so(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ra,args:[i],thisArg:void 0}),new kn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)}));var oa=Ti((function(e,t,n){Ee.call(e,n)?++e[n]:$n(e,n,1)}));var aa=Ii(wo),sa=Ii(Po);function ca(e,t){return(Pa(e)?at:tr)(e,Ji(t,3))}function ua(e,t){return(Pa(e)?st:nr)(e,Ji(t,3))}var la=Ti((function(e,t,n){Ee.call(e,n)?e[n].push(t):$n(e,n,[t])}));var fa=Ur((function(e,t,n){var i=-1,o="function"==typeof t,a=Ma(e)?r(e.length):[];return tr(e,(function(e){a[++i]=o?it(t,e,n):br(e,t,n)})),a})),ha=Ti((function(e,t,n){$n(e,n,t)}));function pa(e,t){return(Pa(e)?ht:Ar)(e,Ji(t,3))}var da=Ti((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var ma=Ur((function(e,t){if(null==e)return[];var n=t.length;return n>1&&co(e,t[0],t[1])?t=[]:n>2&&co(t[0],t[1],t[2])&&(t=[t[0]]),wr(e,ar(t,1),[])})),ga=Jt||function(){return He.Date.now()};function va(e,t,n){return t=n?void 0:t,qi(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function ya(e,t){var n;if("function"!=typeof t)throw new ve(i);return e=is(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var ba=Ur((function(e,t,n){var r=1;if(n.length){var i=Wt(n,Xi(ba));r|=32}return qi(e,r,t,n,i)})),Ta=Ur((function(e,t,n){var r=3;if(n.length){var i=Wt(n,Xi(Ta));r|=32}return qi(t,r,e,n,i)}));function _a(e,t,n){var r,o,a,s,c,u,l=0,f=!1,h=!1,p=!0;if("function"!=typeof e)throw new ve(i);function d(t){var n=r,i=o;return r=o=void 0,l=t,s=e.apply(i,n)}function m(e){return l=e,c=_o(v,t),f?d(e):s}function g(e){var n=e-u;return void 0===u||n>=t||n<0||h&&e-l>=a}function v(){var e=ga();if(g(e))return y(e);c=_o(v,function(e){var n=t-(e-u);return h?cn(n,a-(e-l)):n}(e))}function y(e){return c=void 0,p&&r?d(e):(r=o=void 0,s)}function b(){var e=ga(),n=g(e);if(r=arguments,o=this,u=e,n){if(void 0===c)return m(u);if(h)return fi(c),c=_o(v,t),d(u)}return void 0===c&&(c=_o(v,t)),s}return t=as(t)||0,Ka(n)&&(f=!!n.leading,a=(h="maxWait"in n)?sn(as(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==c&&fi(c),l=0,r=u=o=c=void 0},b.flush=function(){return void 0===c?s:y(ga())},b}var Oa=Ur((function(e,t){return Qn(e,1,t)})),Ea=Ur((function(e,t,n){return Qn(e,as(t)||0,n)}));function Ra(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ve(i);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ra.Cache||Mn),n}function Na(e){if("function"!=typeof e)throw new ve(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ra.Cache=Mn;var Sa=ui((function(e,t){var n=(t=1==t.length&&Pa(t[0])?ht(t[0],xt(Ji())):ht(ar(t,1),xt(Ji()))).length;return Ur((function(r){for(var i=-1,o=cn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return it(e,this,r)}))})),Ia=Ur((function(e,t){return qi(e,32,void 0,t,Wt(t,Xi(Ia)))})),Aa=Ur((function(e,t){return qi(e,64,void 0,t,Wt(t,Xi(Aa)))})),Ca=Vi((function(e,t){return qi(e,256,void 0,void 0,void 0,t)}));function xa(e,t){return e===t||e!=e&&t!=t}var La=ji(mr),ka=ji((function(e,t){return e>=t})),wa=Tr(function(){return arguments}())?Tr:function(e){return Va(e)&&Ee.call(e,"callee")&&!Ge.call(e,"callee")},Pa=r.isArray,ja=Ze?xt(Ze):function(e){return Va(e)&&dr(e)==O};function Ma(e){return null!=e&&za(e.length)&&!Ba(e)}function Da(e){return Va(e)&&Ma(e)}var Fa=nn||ac,Ua=Qe?xt(Qe):function(e){return Va(e)&&dr(e)==l};function qa(e){if(!Va(e))return!1;var t=dr(e);return t==f||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!$a(e)}function Ba(e){if(!Ka(e))return!1;var t=dr(e);return t==h||t==p||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Wa(e){return"number"==typeof e&&e==is(e)}function za(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Ka(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Va(e){return null!=e&&"object"==typeof e}var Ha=et?xt(et):function(e){return Va(e)&&ro(e)==d};function Ga(e){return"number"==typeof e||Va(e)&&dr(e)==m}function $a(e){if(!Va(e)||dr(e)!=g)return!1;var t=Ke(e);if(null===t)return!0;var n=Ee.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Oe.call(n)==Ie}var Ya=tt?xt(tt):function(e){return Va(e)&&dr(e)==v};var Xa=nt?xt(nt):function(e){return Va(e)&&ro(e)==y};function Ja(e){return"string"==typeof e||!Pa(e)&&Va(e)&&dr(e)==b}function Za(e){return"symbol"==typeof e||Va(e)&&dr(e)==T}var Qa=rt?xt(rt):function(e){return Va(e)&&za(e.length)&&!!Ue[dr(e)]};var es=ji(Ir),ts=ji((function(e,t){return e<=t}));function ns(e){if(!e)return[];if(Ma(e))return Ja(e)?Ht(e):yi(e);if(Je&&e[Je])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Je]());var t=ro(e);return(t==d?qt:t==y?zt:xs)(e)}function rs(e){return e?(e=as(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function is(e){var t=rs(e),n=t%1;return t==t?n?t-n:t:0}function os(e){return e?Xn(is(e),0,4294967295):0}function as(e){if("number"==typeof e)return e;if(Za(e))return NaN;if(Ka(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ka(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Ct(e);var n=ie.test(e);return n||ae.test(e)?ze(e.slice(2),n?2:8):re.test(e)?NaN:+e}function ss(e){return bi(e,Os(e))}function cs(e){return null==e?"":Zr(e)}var us=_i((function(e,t){if(ho(t)||Ma(t))bi(t,_s(t),e);else for(var n in t)Ee.call(t,n)&&Kn(e,n,t[n])})),ls=_i((function(e,t){bi(t,Os(t),e)})),fs=_i((function(e,t,n,r){bi(t,Os(t),e,r)})),hs=_i((function(e,t,n,r){bi(t,_s(t),e,r)})),ps=Vi(Yn);var ds=Ur((function(e,t){e=de(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&co(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=Os(o),s=-1,c=a.length;++s<c;){var u=a[s],l=e[u];(void 0===l||xa(l,Te[u])&&!Ee.call(e,u))&&(e[u]=o[u])}return e})),ms=Ur((function(e){return e.push(void 0,Wi),it(Rs,void 0,e)}));function gs(e,t,n){var r=null==e?void 0:hr(e,t);return void 0===r?n:r}function vs(e,t){return null!=e&&io(e,t,vr)}var ys=xi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Se.call(t)),e[t]=n}),Ks(Gs)),bs=xi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Se.call(t)),Ee.call(e,t)?e[t].push(n):e[t]=[n]}),Ji),Ts=Ur(br);function _s(e){return Ma(e)?Un(e):Nr(e)}function Os(e){return Ma(e)?Un(e,!0):Sr(e)}var Es=_i((function(e,t,n){Lr(e,t,n)})),Rs=_i((function(e,t,n,r){Lr(e,t,n,r)})),Ns=Vi((function(e,t){var n={};if(null==e)return n;var r=!1;t=ht(t,(function(t){return t=ci(t,e),r||(r=t.length>1),t})),bi(e,Gi(e),n),r&&(n=Jn(n,7,zi));for(var i=t.length;i--;)ei(n,t[i]);return n}));var Ss=Vi((function(e,t){return null==e?{}:function(e,t){return Pr(e,t,(function(t,n){return vs(e,n)}))}(e,t)}));function Is(e,t){if(null==e)return{};var n=ht(Gi(e),(function(e){return[e]}));return t=Ji(t),Pr(e,n,(function(e,n){return t(e,n[0])}))}var As=Ui(_s),Cs=Ui(Os);function xs(e){return null==e?[]:Lt(e,_s(e))}var Ls=Ni((function(e,t,n){return t=t.toLowerCase(),e+(n?ks(t):t)}));function ks(e){return qs(cs(e).toLowerCase())}function ws(e){return(e=cs(e))&&e.replace(ce,Mt).replace(ke,"")}var Ps=Ni((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),js=Ni((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ms=Ri("toLowerCase");var Ds=Ni((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Fs=Ni((function(e,t,n){return e+(n?" ":"")+qs(t)}));var Us=Ni((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),qs=Ri("toUpperCase");function Bs(e,t,n){return e=cs(e),void 0===(t=n?void 0:t)?function(e){return Me.test(e)}(e)?function(e){return e.match(Pe)||[]}(e):function(e){return e.match(Z)||[]}(e):e.match(t)||[]}var Ws=Ur((function(e,t){try{return it(e,void 0,t)}catch(e){return qa(e)?e:new fe(e)}})),zs=Vi((function(e,t){return at(t,(function(t){t=Io(t),$n(e,t,ba(e[t],e))})),e}));function Ks(e){return function(){return e}}var Vs=Ai(),Hs=Ai(!0);function Gs(e){return e}function $s(e){return Rr("function"==typeof e?e:Jn(e,1))}var Ys=Ur((function(e,t){return function(n){return br(n,e,t)}})),Xs=Ur((function(e,t){return function(n){return br(e,n,t)}}));function Js(e,t,n){var r=_s(t),i=fr(t,r);null!=n||Ka(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=fr(t,_s(t)));var o=!(Ka(n)&&"chain"in n&&!n.chain),a=Ba(e);return at(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=yi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,pt([this.value()],arguments))})})),e}function Zs(){}var Qs=ki(ht),ec=ki(ct),tc=ki(gt);function nc(e){return uo(e)?Rt(Io(e)):function(e){return function(t){return hr(t,e)}}(e)}var rc=Pi(),ic=Pi(!0);function oc(){return[]}function ac(){return!1}var sc=Li((function(e,t){return e+t}),0),cc=Di("ceil"),uc=Li((function(e,t){return e/t}),1),lc=Di("floor");var fc,hc=Li((function(e,t){return e*t}),1),pc=Di("round"),dc=Li((function(e,t){return e-t}),0);return Cn.after=function(e,t){if("function"!=typeof t)throw new ve(i);return e=is(e),function(){if(--e<1)return t.apply(this,arguments)}},Cn.ary=va,Cn.assign=us,Cn.assignIn=ls,Cn.assignInWith=fs,Cn.assignWith=hs,Cn.at=ps,Cn.before=ya,Cn.bind=ba,Cn.bindAll=zs,Cn.bindKey=Ta,Cn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Pa(e)?e:[e]},Cn.chain=na,Cn.chunk=function(e,t,n){t=(n?co(e,t,n):void 0===t)?1:sn(is(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,a=0,s=r(Qt(i/t));o<i;)s[a++]=Hr(e,o,o+=t);return s},Cn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Cn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return pt(Pa(n)?yi(n):[n],ar(t,1))},Cn.cond=function(e){var t=null==e?0:e.length,n=Ji();return e=t?ht(e,(function(e){if("function"!=typeof e[1])throw new ve(i);return[n(e[0]),e[1]]})):[],Ur((function(n){for(var r=-1;++r<t;){var i=e[r];if(it(i[0],this,n))return it(i[1],this,n)}}))},Cn.conforms=function(e){return function(e){var t=_s(e);return function(n){return Zn(n,e,t)}}(Jn(e,1))},Cn.constant=Ks,Cn.countBy=oa,Cn.create=function(e,t){var n=xn(e);return null==t?n:Gn(n,t)},Cn.curry=function e(t,n,r){var i=qi(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},Cn.curryRight=function e(t,n,r){var i=qi(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},Cn.debounce=_a,Cn.defaults=ds,Cn.defaultsDeep=ms,Cn.defer=Oa,Cn.delay=Ea,Cn.difference=xo,Cn.differenceBy=Lo,Cn.differenceWith=ko,Cn.drop=function(e,t,n){var r=null==e?0:e.length;return r?Hr(e,(t=n||void 0===t?1:is(t))<0?0:t,r):[]},Cn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Hr(e,0,(t=r-(t=n||void 0===t?1:is(t)))<0?0:t):[]},Cn.dropRightWhile=function(e,t){return e&&e.length?ni(e,Ji(t,3),!0,!0):[]},Cn.dropWhile=function(e,t){return e&&e.length?ni(e,Ji(t,3),!0):[]},Cn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&co(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=is(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:is(r))<0&&(r+=i),r=n>r?0:os(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Cn.filter=function(e,t){return(Pa(e)?ut:or)(e,Ji(t,3))},Cn.flatMap=function(e,t){return ar(pa(e,t),1)},Cn.flatMapDeep=function(e,t){return ar(pa(e,t),1/0)},Cn.flatMapDepth=function(e,t,n){return n=void 0===n?1:is(n),ar(pa(e,t),n)},Cn.flatten=jo,Cn.flattenDeep=function(e){return(null==e?0:e.length)?ar(e,1/0):[]},Cn.flattenDepth=function(e,t){return(null==e?0:e.length)?ar(e,t=void 0===t?1:is(t)):[]},Cn.flip=function(e){return qi(e,512)},Cn.flow=Vs,Cn.flowRight=Hs,Cn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Cn.functions=function(e){return null==e?[]:fr(e,_s(e))},Cn.functionsIn=function(e){return null==e?[]:fr(e,Os(e))},Cn.groupBy=la,Cn.initial=function(e){return(null==e?0:e.length)?Hr(e,0,-1):[]},Cn.intersection=Do,Cn.intersectionBy=Fo,Cn.intersectionWith=Uo,Cn.invert=ys,Cn.invertBy=bs,Cn.invokeMap=fa,Cn.iteratee=$s,Cn.keyBy=ha,Cn.keys=_s,Cn.keysIn=Os,Cn.map=pa,Cn.mapKeys=function(e,t){var n={};return t=Ji(t,3),ur(e,(function(e,r,i){$n(n,t(e,r,i),e)})),n},Cn.mapValues=function(e,t){var n={};return t=Ji(t,3),ur(e,(function(e,r,i){$n(n,r,t(e,r,i))})),n},Cn.matches=function(e){return Cr(Jn(e,1))},Cn.matchesProperty=function(e,t){return xr(e,Jn(t,1))},Cn.memoize=Ra,Cn.merge=Es,Cn.mergeWith=Rs,Cn.method=Ys,Cn.methodOf=Xs,Cn.mixin=Js,Cn.negate=Na,Cn.nthArg=function(e){return e=is(e),Ur((function(t){return kr(t,e)}))},Cn.omit=Ns,Cn.omitBy=function(e,t){return Is(e,Na(Ji(t)))},Cn.once=function(e){return ya(2,e)},Cn.orderBy=function(e,t,n,r){return null==e?[]:(Pa(t)||(t=null==t?[]:[t]),Pa(n=r?void 0:n)||(n=null==n?[]:[n]),wr(e,t,n))},Cn.over=Qs,Cn.overArgs=Sa,Cn.overEvery=ec,Cn.overSome=tc,Cn.partial=Ia,Cn.partialRight=Aa,Cn.partition=da,Cn.pick=Ss,Cn.pickBy=Is,Cn.property=nc,Cn.propertyOf=function(e){return function(t){return null==e?void 0:hr(e,t)}},Cn.pull=Bo,Cn.pullAll=Wo,Cn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?jr(e,t,Ji(n,2)):e},Cn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?jr(e,t,void 0,n):e},Cn.pullAt=zo,Cn.range=rc,Cn.rangeRight=ic,Cn.rearg=Ca,Cn.reject=function(e,t){return(Pa(e)?ut:or)(e,Na(Ji(t,3)))},Cn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Ji(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Mr(e,i),n},Cn.rest=function(e,t){if("function"!=typeof e)throw new ve(i);return Ur(e,t=void 0===t?t:is(t))},Cn.reverse=Ko,Cn.sampleSize=function(e,t,n){return t=(n?co(e,t,n):void 0===t)?1:is(t),(Pa(e)?Bn:Br)(e,t)},Cn.set=function(e,t,n){return null==e?e:Wr(e,t,n)},Cn.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Wr(e,t,n,r)},Cn.shuffle=function(e){return(Pa(e)?Wn:Vr)(e)},Cn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&co(e,t,n)?(t=0,n=r):(t=null==t?0:is(t),n=void 0===n?r:is(n)),Hr(e,t,n)):[]},Cn.sortBy=ma,Cn.sortedUniq=function(e){return e&&e.length?Xr(e):[]},Cn.sortedUniqBy=function(e,t){return e&&e.length?Xr(e,Ji(t,2)):[]},Cn.split=function(e,t,n){return n&&"number"!=typeof n&&co(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=cs(e))&&("string"==typeof t||null!=t&&!Ya(t))&&!(t=Zr(t))&&Ut(e)?li(Ht(e),0,n):e.split(t,n):[]},Cn.spread=function(e,t){if("function"!=typeof e)throw new ve(i);return t=null==t?0:sn(is(t),0),Ur((function(n){var r=n[t],i=li(n,0,t);return r&&pt(i,r),it(e,this,i)}))},Cn.tail=function(e){var t=null==e?0:e.length;return t?Hr(e,1,t):[]},Cn.take=function(e,t,n){return e&&e.length?Hr(e,0,(t=n||void 0===t?1:is(t))<0?0:t):[]},Cn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Hr(e,(t=r-(t=n||void 0===t?1:is(t)))<0?0:t,r):[]},Cn.takeRightWhile=function(e,t){return e&&e.length?ni(e,Ji(t,3),!1,!0):[]},Cn.takeWhile=function(e,t){return e&&e.length?ni(e,Ji(t,3)):[]},Cn.tap=function(e,t){return t(e),e},Cn.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new ve(i);return Ka(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),_a(e,t,{leading:r,maxWait:t,trailing:o})},Cn.thru=ra,Cn.toArray=ns,Cn.toPairs=As,Cn.toPairsIn=Cs,Cn.toPath=function(e){return Pa(e)?ht(e,Io):Za(e)?[e]:yi(So(cs(e)))},Cn.toPlainObject=ss,Cn.transform=function(e,t,n){var r=Pa(e),i=r||Fa(e)||Qa(e);if(t=Ji(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Ka(e)&&Ba(o)?xn(Ke(e)):{}}return(i?at:ur)(e,(function(e,r,i){return t(n,e,r,i)})),n},Cn.unary=function(e){return va(e,1)},Cn.union=Vo,Cn.unionBy=Ho,Cn.unionWith=Go,Cn.uniq=function(e){return e&&e.length?Qr(e):[]},Cn.uniqBy=function(e,t){return e&&e.length?Qr(e,Ji(t,2)):[]},Cn.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Qr(e,void 0,t):[]},Cn.unset=function(e,t){return null==e||ei(e,t)},Cn.unzip=$o,Cn.unzipWith=Yo,Cn.update=function(e,t,n){return null==e?e:ti(e,t,si(n))},Cn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:ti(e,t,si(n),r)},Cn.values=xs,Cn.valuesIn=function(e){return null==e?[]:Lt(e,Os(e))},Cn.without=Xo,Cn.words=Bs,Cn.wrap=function(e,t){return Ia(si(t),e)},Cn.xor=Jo,Cn.xorBy=Zo,Cn.xorWith=Qo,Cn.zip=ea,Cn.zipObject=function(e,t){return oi(e||[],t||[],Kn)},Cn.zipObjectDeep=function(e,t){return oi(e||[],t||[],Wr)},Cn.zipWith=ta,Cn.entries=As,Cn.entriesIn=Cs,Cn.extend=ls,Cn.extendWith=fs,Js(Cn,Cn),Cn.add=sc,Cn.attempt=Ws,Cn.camelCase=Ls,Cn.capitalize=ks,Cn.ceil=cc,Cn.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=as(n))==n?n:0),void 0!==t&&(t=(t=as(t))==t?t:0),Xn(as(e),t,n)},Cn.clone=function(e){return Jn(e,4)},Cn.cloneDeep=function(e){return Jn(e,5)},Cn.cloneDeepWith=function(e,t){return Jn(e,5,t="function"==typeof t?t:void 0)},Cn.cloneWith=function(e,t){return Jn(e,4,t="function"==typeof t?t:void 0)},Cn.conformsTo=function(e,t){return null==t||Zn(e,t,_s(t))},Cn.deburr=ws,Cn.defaultTo=function(e,t){return null==e||e!=e?t:e},Cn.divide=uc,Cn.endsWith=function(e,t,n){e=cs(e),t=Zr(t);var r=e.length,i=n=void 0===n?r:Xn(is(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Cn.eq=xa,Cn.escape=function(e){return(e=cs(e))&&F.test(e)?e.replace(M,Dt):e},Cn.escapeRegExp=function(e){return(e=cs(e))&&H.test(e)?e.replace(V,"\\$&"):e},Cn.every=function(e,t,n){var r=Pa(e)?ct:rr;return n&&co(e,t,n)&&(t=void 0),r(e,Ji(t,3))},Cn.find=aa,Cn.findIndex=wo,Cn.findKey=function(e,t){return yt(e,Ji(t,3),ur)},Cn.findLast=sa,Cn.findLastIndex=Po,Cn.findLastKey=function(e,t){return yt(e,Ji(t,3),lr)},Cn.floor=lc,Cn.forEach=ca,Cn.forEachRight=ua,Cn.forIn=function(e,t){return null==e?e:sr(e,Ji(t,3),Os)},Cn.forInRight=function(e,t){return null==e?e:cr(e,Ji(t,3),Os)},Cn.forOwn=function(e,t){return e&&ur(e,Ji(t,3))},Cn.forOwnRight=function(e,t){return e&&lr(e,Ji(t,3))},Cn.get=gs,Cn.gt=La,Cn.gte=ka,Cn.has=function(e,t){return null!=e&&io(e,t,gr)},Cn.hasIn=vs,Cn.head=Mo,Cn.identity=Gs,Cn.includes=function(e,t,n,r){e=Ma(e)?e:xs(e),n=n&&!r?is(n):0;var i=e.length;return n<0&&(n=sn(i+n,0)),Ja(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Tt(e,t,n)>-1},Cn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:is(n);return i<0&&(i=sn(r+i,0)),Tt(e,t,i)},Cn.inRange=function(e,t,n){return t=rs(t),void 0===n?(n=t,t=0):n=rs(n),function(e,t,n){return e>=cn(t,n)&&e<sn(t,n)}(e=as(e),t,n)},Cn.invoke=Ts,Cn.isArguments=wa,Cn.isArray=Pa,Cn.isArrayBuffer=ja,Cn.isArrayLike=Ma,Cn.isArrayLikeObject=Da,Cn.isBoolean=function(e){return!0===e||!1===e||Va(e)&&dr(e)==u},Cn.isBuffer=Fa,Cn.isDate=Ua,Cn.isElement=function(e){return Va(e)&&1===e.nodeType&&!$a(e)},Cn.isEmpty=function(e){if(null==e)return!0;if(Ma(e)&&(Pa(e)||"string"==typeof e||"function"==typeof e.splice||Fa(e)||Qa(e)||wa(e)))return!e.length;var t=ro(e);if(t==d||t==y)return!e.size;if(ho(e))return!Nr(e).length;for(var n in e)if(Ee.call(e,n))return!1;return!0},Cn.isEqual=function(e,t){return _r(e,t)},Cn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?_r(e,t,void 0,n):!!r},Cn.isError=qa,Cn.isFinite=function(e){return"number"==typeof e&&rn(e)},Cn.isFunction=Ba,Cn.isInteger=Wa,Cn.isLength=za,Cn.isMap=Ha,Cn.isMatch=function(e,t){return e===t||Or(e,t,Qi(t))},Cn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,Or(e,t,Qi(t),n)},Cn.isNaN=function(e){return Ga(e)&&e!=+e},Cn.isNative=function(e){if(fo(e))throw new fe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Er(e)},Cn.isNil=function(e){return null==e},Cn.isNull=function(e){return null===e},Cn.isNumber=Ga,Cn.isObject=Ka,Cn.isObjectLike=Va,Cn.isPlainObject=$a,Cn.isRegExp=Ya,Cn.isSafeInteger=function(e){return Wa(e)&&e>=-9007199254740991&&e<=9007199254740991},Cn.isSet=Xa,Cn.isString=Ja,Cn.isSymbol=Za,Cn.isTypedArray=Qa,Cn.isUndefined=function(e){return void 0===e},Cn.isWeakMap=function(e){return Va(e)&&ro(e)==_},Cn.isWeakSet=function(e){return Va(e)&&"[object WeakSet]"==dr(e)},Cn.join=function(e,t){return null==e?"":on.call(e,t)},Cn.kebabCase=Ps,Cn.last=qo,Cn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=is(n))<0?sn(r+i,0):cn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):bt(e,Ot,i,!0)},Cn.lowerCase=js,Cn.lowerFirst=Ms,Cn.lt=es,Cn.lte=ts,Cn.max=function(e){return e&&e.length?ir(e,Gs,mr):void 0},Cn.maxBy=function(e,t){return e&&e.length?ir(e,Ji(t,2),mr):void 0},Cn.mean=function(e){return Et(e,Gs)},Cn.meanBy=function(e,t){return Et(e,Ji(t,2))},Cn.min=function(e){return e&&e.length?ir(e,Gs,Ir):void 0},Cn.minBy=function(e,t){return e&&e.length?ir(e,Ji(t,2),Ir):void 0},Cn.stubArray=oc,Cn.stubFalse=ac,Cn.stubObject=function(){return{}},Cn.stubString=function(){return""},Cn.stubTrue=function(){return!0},Cn.multiply=hc,Cn.nth=function(e,t){return e&&e.length?kr(e,is(t)):void 0},Cn.noConflict=function(){return He._===this&&(He._=Ae),this},Cn.noop=Zs,Cn.now=ga,Cn.pad=function(e,t,n){e=cs(e);var r=(t=is(t))?Vt(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return wi(en(i),n)+e+wi(Qt(i),n)},Cn.padEnd=function(e,t,n){e=cs(e);var r=(t=is(t))?Vt(e):0;return t&&r<t?e+wi(t-r,n):e},Cn.padStart=function(e,t,n){e=cs(e);var r=(t=is(t))?Vt(e):0;return t&&r<t?wi(t-r,n)+e:e},Cn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),ln(cs(e).replace(G,""),t||0)},Cn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&co(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=rs(e),void 0===t?(t=e,e=0):t=rs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=fn();return cn(e+i*(t-e+We("1e-"+((i+"").length-1))),t)}return Dr(e,t)},Cn.reduce=function(e,t,n){var r=Pa(e)?dt:St,i=arguments.length<3;return r(e,Ji(t,4),n,i,tr)},Cn.reduceRight=function(e,t,n){var r=Pa(e)?mt:St,i=arguments.length<3;return r(e,Ji(t,4),n,i,nr)},Cn.repeat=function(e,t,n){return t=(n?co(e,t,n):void 0===t)?1:is(t),Fr(cs(e),t)},Cn.replace=function(){var e=arguments,t=cs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Cn.result=function(e,t,n){var r=-1,i=(t=ci(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var o=null==e?void 0:e[Io(t[r])];void 0===o&&(r=i,o=n),e=Ba(o)?o.call(e):o}return e},Cn.round=pc,Cn.runInContext=e,Cn.sample=function(e){return(Pa(e)?qn:qr)(e)},Cn.size=function(e){if(null==e)return 0;if(Ma(e))return Ja(e)?Vt(e):e.length;var t=ro(e);return t==d||t==y?e.size:Nr(e).length},Cn.snakeCase=Ds,Cn.some=function(e,t,n){var r=Pa(e)?gt:Gr;return n&&co(e,t,n)&&(t=void 0),r(e,Ji(t,3))},Cn.sortedIndex=function(e,t){return $r(e,t)},Cn.sortedIndexBy=function(e,t,n){return Yr(e,t,Ji(n,2))},Cn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=$r(e,t);if(r<n&&xa(e[r],t))return r}return-1},Cn.sortedLastIndex=function(e,t){return $r(e,t,!0)},Cn.sortedLastIndexBy=function(e,t,n){return Yr(e,t,Ji(n,2),!0)},Cn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=$r(e,t,!0)-1;if(xa(e[n],t))return n}return-1},Cn.startCase=Fs,Cn.startsWith=function(e,t,n){return e=cs(e),n=null==n?0:Xn(is(n),0,e.length),t=Zr(t),e.slice(n,n+t.length)==t},Cn.subtract=dc,Cn.sum=function(e){return e&&e.length?It(e,Gs):0},Cn.sumBy=function(e,t){return e&&e.length?It(e,Ji(t,2)):0},Cn.template=function(e,t,n){var r=Cn.templateSettings;n&&co(e,t,n)&&(t=void 0),e=cs(e),t=fs({},t,r,Bi);var i,o,a=fs({},t.imports,r.imports,Bi),s=_s(a),c=Lt(a,s),u=0,l=t.interpolate||ue,f="__p += '",h=me((t.escape||ue).source+"|"+l.source+"|"+(l===B?te:ue).source+"|"+(t.evaluate||ue).source+"|$","g"),p="//# sourceURL="+(Ee.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Fe+"]")+"\n";e.replace(h,(function(t,n,r,a,s,c){return r||(r=a),f+=e.slice(u,c).replace(le,Ft),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=c+t.length,t})),f+="';\n";var d=Ee.call(t,"variable")&&t.variable;if(d){if(Q.test(d))throw new fe("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(k,""):f).replace(w,"$1").replace(P,"$1;"),f="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=Ws((function(){return he(s,p+"return "+f).apply(void 0,c)}));if(m.source=f,qa(m))throw m;return m},Cn.times=function(e,t){if((e=is(e))<1||e>9007199254740991)return[];var n=4294967295,r=cn(e,4294967295);e-=4294967295;for(var i=At(r,t=Ji(t));++n<e;)t(n);return i},Cn.toFinite=rs,Cn.toInteger=is,Cn.toLength=os,Cn.toLower=function(e){return cs(e).toLowerCase()},Cn.toNumber=as,Cn.toSafeInteger=function(e){return e?Xn(is(e),-9007199254740991,9007199254740991):0===e?e:0},Cn.toString=cs,Cn.toUpper=function(e){return cs(e).toUpperCase()},Cn.trim=function(e,t,n){if((e=cs(e))&&(n||void 0===t))return Ct(e);if(!e||!(t=Zr(t)))return e;var r=Ht(e),i=Ht(t);return li(r,wt(r,i),Pt(r,i)+1).join("")},Cn.trimEnd=function(e,t,n){if((e=cs(e))&&(n||void 0===t))return e.slice(0,Gt(e)+1);if(!e||!(t=Zr(t)))return e;var r=Ht(e);return li(r,0,Pt(r,Ht(t))+1).join("")},Cn.trimStart=function(e,t,n){if((e=cs(e))&&(n||void 0===t))return e.replace(G,"");if(!e||!(t=Zr(t)))return e;var r=Ht(e);return li(r,wt(r,Ht(t))).join("")},Cn.truncate=function(e,t){var n=30,r="...";if(Ka(t)){var i="separator"in t?t.separator:i;n="length"in t?is(t.length):n,r="omission"in t?Zr(t.omission):r}var o=(e=cs(e)).length;if(Ut(e)){var a=Ht(e);o=a.length}if(n>=o)return e;var s=n-Vt(r);if(s<1)return r;var c=a?li(a,0,s).join(""):e.slice(0,s);if(void 0===i)return c+r;if(a&&(s+=c.length-s),Ya(i)){if(e.slice(s).search(i)){var u,l=c;for(i.global||(i=me(i.source,cs(ne.exec(i))+"g")),i.lastIndex=0;u=i.exec(l);)var f=u.index;c=c.slice(0,void 0===f?s:f)}}else if(e.indexOf(Zr(i),s)!=s){var h=c.lastIndexOf(i);h>-1&&(c=c.slice(0,h))}return c+r},Cn.unescape=function(e){return(e=cs(e))&&D.test(e)?e.replace(j,$t):e},Cn.uniqueId=function(e){var t=++Re;return cs(e)+t},Cn.upperCase=Us,Cn.upperFirst=qs,Cn.each=ca,Cn.eachRight=ua,Cn.first=Mo,Js(Cn,(fc={},ur(Cn,(function(e,t){Ee.call(Cn.prototype,t)||(fc[t]=e)})),fc),{chain:!1}),Cn.VERSION="4.17.21",at(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Cn[e].placeholder=Cn})),at(["drop","take"],(function(e,t){wn.prototype[e]=function(n){n=void 0===n?1:sn(is(n),0);var r=this.__filtered__&&!t?new wn(this):this.clone();return r.__filtered__?r.__takeCount__=cn(n,r.__takeCount__):r.__views__.push({size:cn(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},wn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),at(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;wn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ji(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),at(["head","last"],(function(e,t){var n="take"+(t?"Right":"");wn.prototype[e]=function(){return this[n](1).value()[0]}})),at(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");wn.prototype[e]=function(){return this.__filtered__?new wn(this):this[n](1)}})),wn.prototype.compact=function(){return this.filter(Gs)},wn.prototype.find=function(e){return this.filter(e).head()},wn.prototype.findLast=function(e){return this.reverse().find(e)},wn.prototype.invokeMap=Ur((function(e,t){return"function"==typeof e?new wn(this):this.map((function(n){return br(n,e,t)}))})),wn.prototype.reject=function(e){return this.filter(Na(Ji(e)))},wn.prototype.slice=function(e,t){e=is(e);var n=this;return n.__filtered__&&(e>0||t<0)?new wn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=is(t))<0?n.dropRight(-t):n.take(t-e)),n)},wn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},wn.prototype.toArray=function(){return this.take(4294967295)},ur(wn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Cn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&(Cn.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,s=t instanceof wn,c=a[0],u=s||Pa(t),l=function(e){var t=i.apply(Cn,pt([e],a));return r&&f?t[0]:t};u&&n&&"function"==typeof c&&1!=c.length&&(s=u=!1);var f=this.__chain__,h=!!this.__actions__.length,p=o&&!f,d=s&&!h;if(!o&&u){t=d?t:new wn(this);var m=e.apply(t,a);return m.__actions__.push({func:ra,args:[l],thisArg:void 0}),new kn(m,f)}return p&&d?e.apply(this,a):(m=this.thru(l),p?r?m.value()[0]:m.value():m)})})),at(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ye[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Cn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Pa(i)?i:[],e)}return this[n]((function(n){return t.apply(Pa(n)?n:[],e)}))}})),ur(wn.prototype,(function(e,t){var n=Cn[t];if(n){var r=n.name+"";Ee.call(Tn,r)||(Tn[r]=[]),Tn[r].push({name:t,func:n})}})),Tn[Ci(void 0,2).name]=[{name:"wrapper",func:void 0}],wn.prototype.clone=function(){var e=new wn(this.__wrapped__);return e.__actions__=yi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=yi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=yi(this.__views__),e},wn.prototype.reverse=function(){if(this.__filtered__){var e=new wn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},wn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Pa(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=cn(t,e+a);break;case"takeRight":e=sn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,c=s-a,u=r?s:a-1,l=this.__iteratees__,f=l.length,h=0,p=cn(c,this.__takeCount__);if(!n||!r&&i==c&&p==c)return ri(e,this.__actions__);var d=[];e:for(;c--&&h<p;){for(var m=-1,g=e[u+=t];++m<f;){var v=l[m],y=v.iteratee,b=v.type,T=y(g);if(2==b)g=T;else if(!T){if(1==b)continue e;break e}}d[h++]=g}return d},Cn.prototype.at=ia,Cn.prototype.chain=function(){return na(this)},Cn.prototype.commit=function(){return new kn(this.value(),this.__chain__)},Cn.prototype.next=function(){void 0===this.__values__&&(this.__values__=ns(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Cn.prototype.plant=function(e){for(var t,n=this;n instanceof Ln;){var r=Co(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Cn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof wn){var t=e;return this.__actions__.length&&(t=new wn(this)),(t=t.reverse()).__actions__.push({func:ra,args:[Ko],thisArg:void 0}),new kn(t,this.__chain__)}return this.thru(Ko)},Cn.prototype.toJSON=Cn.prototype.valueOf=Cn.prototype.value=function(){return ri(this.__wrapped__,this.__actions__)},Cn.prototype.first=Cn.prototype.head,Je&&(Cn.prototype[Je]=function(){return this}),Cn}();He._=Yt,void 0===(r=function(){return Yt}.call(t,n,t,e))||(e.exports=r)}).call(this)}).call(this,n(457)(e))},function(e,t,n){"use strict";n.r(t),n.d(t,"Headers",(function(){return C})),n.d(t,"Request",(function(){return z})),n.d(t,"Response",(function(){return D})),n.d(t,"FetchError",(function(){return h}));var r=n(4),i=n(19),o=n(10),a=n(23),s=n(11);const c=r.Readable,u=Symbol("buffer"),l=Symbol("type");class f{constructor(){this[l]="";const e=arguments[0],t=arguments[1],n=[];let r=0;if(e){const t=e,i=Number(t.length);for(let e=0;e<i;e++){const i=t[e];let o;o=i instanceof Buffer?i:ArrayBuffer.isView(i)?Buffer.from(i.buffer,i.byteOffset,i.byteLength):i instanceof ArrayBuffer?Buffer.from(i):i instanceof f?i[u]:Buffer.from("string"==typeof i?i:String(i)),r+=o.length,n.push(o)}}this[u]=Buffer.concat(n);let i=t&&void 0!==t.type&&String(t.type).toLowerCase();i&&!/[^\u0020-\u007E]/.test(i)&&(this[l]=i)}get size(){return this[u].length}get type(){return this[l]}text(){return Promise.resolve(this[u].toString())}arrayBuffer(){const e=this[u],t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(t)}stream(){const e=new c;return e._read=function(){},e.push(this[u]),e.push(null),e}toString(){return"[object Blob]"}slice(){const e=this.size,t=arguments[0],n=arguments[1];let r,i;r=void 0===t?0:t<0?Math.max(e+t,0):Math.min(t,e),i=void 0===n?e:n<0?Math.max(e+n,0):Math.min(n,e);const o=Math.max(i-r,0),a=this[u].slice(r,r+o),s=new f([],{type:arguments[2]});return s[u]=a,s}}function h(e,t,n){Error.call(this,e),this.message=e,this.type=t,n&&(this.code=this.errno=n.code),Error.captureStackTrace(this,this.constructor)}let p;Object.defineProperties(f.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(f.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),h.prototype=Object.create(Error.prototype),h.prototype.constructor=h,h.prototype.name="FetchError";try{p=require("encoding").convert}catch(e){}const d=Symbol("Body internals"),m=r.PassThrough;function g(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.size;let o=void 0===i?0:i;var a=n.timeout;let s=void 0===a?0:a;null==e?e=null:y(e)?e=Buffer.from(e.toString()):b(e)||Buffer.isBuffer(e)||("[object ArrayBuffer]"===Object.prototype.toString.call(e)?e=Buffer.from(e):ArrayBuffer.isView(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof r||(e=Buffer.from(String(e)))),this[d]={body:e,disturbed:!1,error:null},this.size=o,this.timeout=s,e instanceof r&&e.on("error",(function(e){const n="AbortError"===e.name?e:new h(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e);t[d].error=n}))}function v(){var e=this;if(this[d].disturbed)return g.Promise.reject(new TypeError("body used already for: "+this.url));if(this[d].disturbed=!0,this[d].error)return g.Promise.reject(this[d].error);let t=this.body;if(null===t)return g.Promise.resolve(Buffer.alloc(0));if(b(t)&&(t=t.stream()),Buffer.isBuffer(t))return g.Promise.resolve(t);if(!(t instanceof r))return g.Promise.resolve(Buffer.alloc(0));let n=[],i=0,o=!1;return new g.Promise((function(r,a){let s;e.timeout&&(s=setTimeout((function(){o=!0,a(new h(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))}),e.timeout)),t.on("error",(function(t){"AbortError"===t.name?(o=!0,a(t)):a(new h(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t))})),t.on("data",(function(t){if(!o&&null!==t){if(e.size&&i+t.length>e.size)return o=!0,void a(new h(`content size at ${e.url} over limit: ${e.size}`,"max-size"));i+=t.length,n.push(t)}})),t.on("end",(function(){if(!o){clearTimeout(s);try{r(Buffer.concat(n,i))}catch(t){a(new h(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t))}}}))}))}function y(e){return"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"==typeof e.sort)}function b(e){return"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function T(e){let t,n,i=e.body;if(e.bodyUsed)throw new Error("cannot clone body after it is used");return i instanceof r&&"function"!=typeof i.getBoundary&&(t=new m,n=new m,i.pipe(t),i.pipe(n),e[d].body=t,i=n),i}function _(e){return null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":y(e)?"application/x-www-form-urlencoded;charset=UTF-8":b(e)?e.type||null:Buffer.isBuffer(e)||"[object ArrayBuffer]"===Object.prototype.toString.call(e)||ArrayBuffer.isView(e)?null:"function"==typeof e.getBoundary?"multipart/form-data;boundary="+e.getBoundary():e instanceof r?null:"text/plain;charset=UTF-8"}function O(e){const t=e.body;return null===t?0:b(t)?t.size:Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&(t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}g.prototype={get body(){return this[d].body},get bodyUsed(){return this[d].disturbed},arrayBuffer(){return v.call(this).then((function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}))},blob(){let e=this.headers&&this.headers.get("content-type")||"";return v.call(this).then((function(t){return Object.assign(new f([],{type:e.toLowerCase()}),{[u]:t})}))},json(){var e=this;return v.call(this).then((function(t){try{return JSON.parse(t.toString())}catch(t){return g.Promise.reject(new h(`invalid json response body at ${e.url} reason: ${t.message}`,"invalid-json"))}}))},text(){return v.call(this).then((function(e){return e.toString()}))},buffer(){return v.call(this)},textConverted(){var e=this;return v.call(this).then((function(t){return function(e,t){if("function"!=typeof p)throw new Error("The package `encoding` must be installed to use the textConverted() function");const n=t.get("content-type");let r,i,o="utf-8";n&&(r=/charset=([^;]*)/i.exec(n));i=e.slice(0,1024).toString(),!r&&i&&(r=/<meta.+?charset=(['"])(.+?)\1/i.exec(i));!r&&i&&(r=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(i),r||(r=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(i),r&&r.pop()),r&&(r=/charset=(.*)/i.exec(r.pop())));!r&&i&&(r=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(i));r&&(o=r.pop(),"gb2312"!==o&&"gbk"!==o||(o="gb18030"));return p(e,"UTF-8",o).toString()}(t,e.headers)}))}},Object.defineProperties(g.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),g.mixIn=function(e){for(const t of Object.getOwnPropertyNames(g.prototype))if(!(t in e)){const n=Object.getOwnPropertyDescriptor(g.prototype,t);Object.defineProperty(e,t,n)}},g.Promise=global.Promise;const E=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,R=/[^\t\x20-\x7e\x80-\xff]/;function N(e){if(e=""+e,E.test(e)||""===e)throw new TypeError(e+" is not a legal HTTP header name")}function S(e){if(e=""+e,R.test(e))throw new TypeError(e+" is not a legal HTTP header value")}function I(e,t){t=t.toLowerCase();for(const n in e)if(n.toLowerCase()===t)return n}const A=Symbol("map");class C{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[A]=Object.create(null),e instanceof C){const t=e.raw(),n=Object.keys(t);for(const e of n)for(const n of t[e])this.append(e,n)}else if(null==e);else{if("object"!=typeof e)throw new TypeError("Provided initializer must be an object");{const t=e[Symbol.iterator];if(null!=t){if("function"!=typeof t)throw new TypeError("Header pairs must be iterable");const n=[];for(const t of e){if("object"!=typeof t||"function"!=typeof t[Symbol.iterator])throw new TypeError("Each header pair must be iterable");n.push(Array.from(t))}for(const e of n){if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(e[0],e[1])}}else for(const t of Object.keys(e)){const n=e[t];this.append(t,n)}}}}get(e){N(e=""+e);const t=I(this[A],e);return void 0===t?null:this[A][t].join(", ")}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=x(this),r=0;for(;r<n.length;){var i=n[r];const o=i[0],a=i[1];e.call(t,a,o,this),n=x(this),r++}}set(e,t){t=""+t,N(e=""+e),S(t);const n=I(this[A],e);this[A][void 0!==n?n:e]=[t]}append(e,t){t=""+t,N(e=""+e),S(t);const n=I(this[A],e);void 0!==n?this[A][n].push(t):this[A][e]=[t]}has(e){return N(e=""+e),void 0!==I(this[A],e)}delete(e){N(e=""+e);const t=I(this[A],e);void 0!==t&&delete this[A][t]}raw(){return this[A]}keys(){return k(this,"key")}values(){return k(this,"value")}[Symbol.iterator](){return k(this,"key+value")}}function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";const n=Object.keys(e[A]).sort();return n.map("key"===t?function(e){return e.toLowerCase()}:"value"===t?function(t){return e[A][t].join(", ")}:function(t){return[t.toLowerCase(),e[A][t].join(", ")]})}C.prototype.entries=C.prototype[Symbol.iterator],Object.defineProperty(C.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(C.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const L=Symbol("internal");function k(e,t){const n=Object.create(w);return n[L]={target:e,kind:t,index:0},n}const w=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==w)throw new TypeError("Value of `this` is not a HeadersIterator");var e=this[L];const t=e.target,n=e.kind,r=e.index,i=x(t,n);return r>=i.length?{value:void 0,done:!0}:(this[L].index=r+1,{value:i[r],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function P(e){const t=Object.assign({__proto__:null},e[A]),n=I(e[A],"Host");return void 0!==n&&(t[n]=t[n][0]),t}Object.defineProperty(w,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});const j=Symbol("Response internals"),M=i.STATUS_CODES;class D{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g.call(this,e,t);const n=t.status||200,r=new C(t.headers);if(null!=e&&!r.has("Content-Type")){const t=_(e);t&&r.append("Content-Type",t)}this[j]={url:t.url,status:n,statusText:t.statusText||M[n],headers:r,counter:t.counter}}get url(){return this[j].url||""}get status(){return this[j].status}get ok(){return this[j].status>=200&&this[j].status<300}get redirected(){return this[j].counter>0}get statusText(){return this[j].statusText}get headers(){return this[j].headers}clone(){return new D(T(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}g.mixIn(D.prototype),Object.defineProperties(D.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(D.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});const F=Symbol("Request internals"),U=o.parse,q=o.format,B="destroy"in r.Readable.prototype;function W(e){return"object"==typeof e&&"object"==typeof e[F]}class z{constructor(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};W(e)?t=U(e.url):(t=e&&e.href?U(e.href):U(""+e),e={});let r=n.method||e.method||"GET";if(r=r.toUpperCase(),(null!=n.body||W(e)&&null!==e.body)&&("GET"===r||"HEAD"===r))throw new TypeError("Request with GET/HEAD method cannot have body");let i=null!=n.body?n.body:W(e)&&null!==e.body?T(e):null;g.call(this,i,{timeout:n.timeout||e.timeout||0,size:n.size||e.size||0});const o=new C(n.headers||e.headers||{});if(null!=i&&!o.has("Content-Type")){const e=_(i);e&&o.append("Content-Type",e)}let a=W(e)?e.signal:null;if("signal"in n&&(a=n.signal),null!=a&&!function(e){const t=e&&"object"==typeof e&&Object.getPrototypeOf(e);return!(!t||"AbortSignal"!==t.constructor.name)}(a))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[F]={method:r,redirect:n.redirect||e.redirect||"follow",headers:o,parsedURL:t,signal:a},this.follow=void 0!==n.follow?n.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==n.compress?n.compress:void 0===e.compress||e.compress,this.counter=n.counter||e.counter||0,this.agent=n.agent||e.agent}get method(){return this[F].method}get url(){return q(this[F].parsedURL)}get headers(){return this[F].headers}get redirect(){return this[F].redirect}get signal(){return this[F].signal}clone(){return new z(this)}}function K(e){Error.call(this,e),this.type="aborted",this.message=e,Error.captureStackTrace(this,this.constructor)}g.mixIn(z.prototype),Object.defineProperty(z.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(z.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),K.prototype=Object.create(Error.prototype),K.prototype.constructor=K,K.prototype.name="AbortError";const V=r.PassThrough,H=o.resolve;function G(e,t){if(!G.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return g.Promise=G.Promise,new G.Promise((function(n,o){const c=new z(e,t),u=function(e){const t=e[F].parsedURL,n=new C(e[F].headers);if(n.has("Accept")||n.set("Accept","*/*"),!t.protocol||!t.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(t.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(e.signal&&e.body instanceof r.Readable&&!B)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let i=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(i="0"),null!=e.body){const t=O(e);"number"==typeof t&&(i=String(t))}i&&n.set("Content-Length",i),n.has("User-Agent")||n.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&!n.has("Accept-Encoding")&&n.set("Accept-Encoding","gzip,deflate");let o=e.agent;return"function"==typeof o&&(o=o(t)),n.has("Connection")||o||n.set("Connection","close"),Object.assign({},t,{method:e.method,headers:P(n),agent:o})}(c),l=("https:"===u.protocol?a:i).request,f=c.signal;let p=null;const d=function(){let e=new K("The user aborted a request.");o(e),c.body&&c.body instanceof r.Readable&&c.body.destroy(e),p&&p.body&&p.body.emit("error",e)};if(f&&f.aborted)return void d();const m=function(){d(),y()},g=l(u);let v;function y(){g.abort(),f&&f.removeEventListener("abort",m),clearTimeout(v)}f&&f.addEventListener("abort",m),c.timeout&&g.once("socket",(function(e){v=setTimeout((function(){o(new h("network timeout at: "+c.url,"request-timeout")),y()}),c.timeout)})),g.on("error",(function(e){o(new h(`request to ${c.url} failed, reason: ${e.message}`,"system",e)),y()})),g.on("response",(function(e){clearTimeout(v);const t=function(e){const t=new C;for(const n of Object.keys(e))if(!E.test(n))if(Array.isArray(e[n]))for(const r of e[n])R.test(r)||(void 0===t[A][n]?t[A][n]=[r]:t[A][n].push(r));else R.test(e[n])||(t[A][n]=[e[n]]);return t}(e.headers);if(G.isRedirect(e.statusCode)){const r=t.get("Location"),i=null===r?null:H(c.url,r);switch(c.redirect){case"error":return o(new h("uri requested responds with a redirect, redirect mode is set to error: "+c.url,"no-redirect")),void y();case"manual":if(null!==i)try{t.set("Location",i)}catch(e){o(e)}break;case"follow":if(null===i)break;if(c.counter>=c.follow)return o(new h("maximum redirect reached at: "+c.url,"max-redirect")),void y();const r={headers:new C(c.headers),follow:c.follow,counter:c.counter+1,agent:c.agent,compress:c.compress,method:c.method,body:c.body,signal:c.signal,timeout:c.timeout,size:c.size};return 303!==e.statusCode&&c.body&&null===O(c)?(o(new h("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void y()):(303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==c.method)||(r.method="GET",r.body=void 0,r.headers.delete("content-length")),n(G(new z(i,r))),void y())}}e.once("end",(function(){f&&f.removeEventListener("abort",m)}));let r=e.pipe(new V);const i={url:c.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:c.size,timeout:c.timeout,counter:c.counter},a=t.get("Content-Encoding");if(!c.compress||"HEAD"===c.method||null===a||204===e.statusCode||304===e.statusCode)return p=new D(r,i),void n(p);const u={flush:s.Z_SYNC_FLUSH,finishFlush:s.Z_SYNC_FLUSH};if("gzip"==a||"x-gzip"==a)return r=r.pipe(s.createGunzip(u)),p=new D(r,i),void n(p);if("deflate"!=a&&"x-deflate"!=a){if("br"==a&&"function"==typeof s.createBrotliDecompress)return r=r.pipe(s.createBrotliDecompress()),p=new D(r,i),void n(p);p=new D(r,i),n(p)}else{e.pipe(new V).once("data",(function(e){r=8==(15&e[0])?r.pipe(s.createInflate()):r.pipe(s.createInflateRaw()),p=new D(r,i),n(p)}))}})),function(e,t){const n=t.body;null===n?e.end():b(n)?n.stream().pipe(e):Buffer.isBuffer(n)?(e.write(n),e.end()):n.pipe(e)}(g,c)}))}G.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},G.Promise=global.Promise,t.default=G},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(50);t.Event=r.Event;const i=n(439),o=n(440),a=n(150),s=n(151);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(50));const c=n(441),u=n(442),l=n(445);!function(e){e.uriToFilePath=c.uriToFilePath,e.resolveGlobalNodePath=c.resolveGlobalNodePath,e.resolveGlobalYarnPath=c.resolveGlobalYarnPath,e.resolve=c.resolve,e.resolveModulePath=c.resolveModulePath}(t.Files||(t.Files={}));let f=!1,h=void 0;function p(e){if(null!==e)return e}!function(){function e(e){try{let t=parseInt(e);isNaN(t)||(h=setInterval(()=>{try{process.kill(t,0)}catch(e){process.exit(f?0:1)}},3e3))}catch(e){}}for(let t=2;t<process.argv.length;t++){let n=process.argv[t];if("--clientProcessId"===n&&t+1<process.argv.length)return void e(process.argv[t+1]);{let t=n.split("=");"--clientProcessId"===t[0]&&e(t[1])}}}();class d{constructor(e,t,n,r){this._uri=e,this._languageId=t,this._version=n;const i=new u.PieceTreeTextBufferBuilder;i.acceptChunk(r);const o=i.finish(!0);this._tree=o.create(1)}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){const{start:t,end:n}=e,[r,i]=n.line+1>this.lineCount?[this.lineCount,this._tree.getLineLength(this.lineCount)+1]:[n.line+1,n.character+1],o=new l.Range(t.line+1,t.character+1,r,i);return this._tree.getValueInRange(o)}return this._tree.getLinesRawContent()}update(e,t){const{text:n,range:r}=e;if(null==r)throw new Error("FullPieceTreeTextDocument#update called with invalid event range "+r);const i=this.offsetAt(r.start),o=this.offsetAt(r.end);this._tree.delete(i,o-i),this._tree.insert(i,n),this._version=t}positionAt(e){const t=Math.min(e,this._tree.getLength()),n=this._tree.getPositionAt(t);return r.Position.create(n.lineNumber-1,n.column-1)}offsetAt(e){if(e.line<0)return 0;const t=Math.max(1,e.character+1);return Math.min(this._tree.getOffsetAt(e.line+1,t),this._tree.getLength())}get lineCount(){return this._tree.getLineCount()}}t.TextDocuments=class{constructor(e=r.TextDocumentSyncKind.Full){this._documents=Object.create(null),this._syncKind=e,this._onDidChangeContent=new r.Emitter,this._onDidOpen=new r.Emitter,this._onDidClose=new r.Emitter,this._onDidSave=new r.Emitter,this._onWillSave=new r.Emitter}get syncKind(){return this._syncKind}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map(e=>this._documents[e])}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=r.TextDocumentSyncKind.Full,e.onDidOpenTextDocument(e=>{let t,n=e.textDocument;switch(this.syncKind){case r.TextDocumentSyncKind.Full:t=r.TextDocument.create(n.uri,n.languageId,n.version,n.text);break;case r.TextDocumentSyncKind.Incremental:t=new d(n.uri,n.languageId,n.version,n.text);break;default:throw new Error("Invalid TextDocumentSyncKind: "+this.syncKind)}this._documents[n.uri]=t;let i=Object.freeze({document:t});this._onDidOpen.fire(i),this._onDidChangeContent.fire(i)}),e.onDidChangeTextDocument(e=>{let t=e.textDocument,n=e.contentChanges;if(0===n.length)return;let i=this._documents[t.uri];if(!i||(o=i,!a.func(o.update)))return;var o;const{version:s}=t;if(null==s||void 0===s)throw new Error(`Received document change event for ${t.uri} without valid version identifier`);switch(this.syncKind){case r.TextDocumentSyncKind.Full:let e=n[n.length-1];i.update(e,s),this._onDidChangeContent.fire(Object.freeze({document:i}));break;case r.TextDocumentSyncKind.Incremental:let t=n.reduce((e,t)=>(e.update(t,s),e),i);this._onDidChangeContent.fire(Object.freeze({document:t}));break;case r.TextDocumentSyncKind.None:}}),e.onDidCloseTextDocument(e=>{let t=this._documents[e.textDocument.uri];t&&(delete this._documents[e.textDocument.uri],this._onDidClose.fire(Object.freeze({document:t})))}),e.onWillSaveTextDocument(e=>{let t=this._documents[e.textDocument.uri];t&&this._onWillSave.fire(Object.freeze({document:t,reason:e.reason}))}),e.onWillSaveTextDocumentWaitUntil((e,t)=>{let n=this._documents[e.textDocument.uri];return n&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:n,reason:e.reason}),t):[]}),e.onDidSaveTextDocument(e=>{let t=this._documents[e.textDocument.uri];t&&this._onDidSave.fire(Object.freeze({document:t}))})}};t.ErrorMessageTracker=class{constructor(){this._messages=Object.create(null)}add(e){let t=this._messages[e];t||(t=0),t++,this._messages[e]=t}sendErrors(e){Object.keys(this._messages).forEach(t=>{e.window.showErrorMessage(t)})}},function(e){e.create=function(){return new m}}(t.BulkRegistration||(t.BulkRegistration={}));class m{constructor(){this._registrations=[],this._registered=new Set}add(e,t){const n=a.string(e)?e:e.method;if(this._registered.has(n))throw new Error(n+" is already added to this registration");const r=s.generateUuid();this._registrations.push({id:r,method:n,registerOptions:t||{}}),this._registered.add(n)}asRegistrationParams(){return{registrations:this._registrations}}}!function(e){e.create=function(){return new g(void 0,[])}}(t.BulkUnregistration||(t.BulkUnregistration={}));class g{constructor(e,t){this._connection=e,this._unregistrations=new Map,t.forEach(e=>{this._unregistrations.set(e.method,e)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let t of this._unregistrations.values())e.push(t);let t={unregisterations:e};this._connection.sendRequest(r.UnregistrationRequest.type,t).then(void 0,e=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){const t=a.string(e)?e:e.method,n=this._unregistrations.get(t);if(!n)return!1;let i={unregisterations:[n]};return this._connection.sendRequest(r.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(t)},e=>{this._connection.console.info(`Unregistering request handler for ${n.id} failed.`)}),!0}}class v{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(r.MessageType.Error,e)}warn(e){this.send(r.MessageType.Warning,e)}info(e){this.send(r.MessageType.Info,e)}log(e){this.send(r.MessageType.Log,e)}send(e,t){this._rawConnection&&this._rawConnection.sendNotification(r.LogMessageNotification.type,{type:e,message:t})}}class y{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...t){let n={type:r.MessageType.Error,message:e,actions:t};return this._connection.sendRequest(r.ShowMessageRequest.type,n).then(p)}showWarningMessage(e,...t){let n={type:r.MessageType.Warning,message:e,actions:t};return this._connection.sendRequest(r.ShowMessageRequest.type,n).then(p)}showInformationMessage(e,...t){let n={type:r.MessageType.Info,message:e,actions:t};return this._connection.sendRequest(r.ShowMessageRequest.type,n).then(p)}}class b{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,t,n){return e instanceof m?this.registerMany(e):e instanceof g?this.registerSingle1(e,t,n):this.registerSingle2(e,t)}registerSingle1(e,t,n){const i=a.string(t)?t:t.method,o=s.generateUuid();let c={registrations:[{id:o,method:i,registerOptions:n||{}}]};return e.isAttached||e.attach(this._connection),this._connection.sendRequest(r.RegistrationRequest.type,c).then(t=>(e.add({id:o,method:i}),e),e=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(e)))}registerSingle2(e,t){const n=a.string(e)?e:e.method,i=s.generateUuid();let o={registrations:[{id:i,method:n,registerOptions:t||{}}]};return this._connection.sendRequest(r.RegistrationRequest.type,o).then(e=>r.Disposable.create(()=>{this.unregisterSingle(i,n)}),e=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(e)))}unregisterSingle(e,t){let n={unregisterations:[{id:e,method:t}]};return this._connection.sendRequest(r.UnregistrationRequest.type,n).then(void 0,t=>{this.connection.console.info(`Unregistering request handler for ${e} failed.`)})}registerMany(e){let t=e.asRegistrationParams();return this._connection.sendRequest(r.RegistrationRequest.type,t).then(()=>new g(this._connection,t.registrations.map(e=>({id:e.id,method:e.method}))),e=>(this.connection.console.info("Bulk registration failed."),Promise.reject(e)))}}const T=o.WorkspaceFoldersFeature(i.ConfigurationFeature(class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){let t=(n=e)&&n.edit?e:{edit:e};var n;return this._connection.sendRequest(r.ApplyWorkspaceEditRequest.type,t)}}));class _{constructor(){this._trace=r.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,t){this._trace!==r.Trace.Off&&this._connection.sendNotification(r.LogTraceNotification.type,{message:e,verbose:this._trace===r.Trace.Verbose?t:void 0})}}class O{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this._connection.sendNotification(r.TelemetryEventNotification.type,e)}}function E(e,t){return function(n){return t(e(n))}}function R(e,t){return function(n){return t(e(n))}}function N(e,t){return function(n){return t(e(n))}}function S(e,t){return function(n){return t(e(n))}}function I(e,t){return function(n){return t(e(n))}}function A(e,t){return function(n){return t(e(n))}}t.combineConsoleFeatures=E,t.combineTelemetryFeatures=R,t.combineTracerFeatures=N,t.combineClientFeatures=S,t.combineWindowFeatures=I,t.combineWorkspaceFeatures=A,t.combineFeatures=function(e,t){function n(e,t,n){return e&&t?n(e,t):e||t}return{__brand:"features",console:n(e.console,t.console,E),tracer:n(e.tracer,t.tracer,N),telemetry:n(e.telemetry,t.telemetry,R),client:n(e.client,t.client,S),window:n(e.window,t.window,I),workspace:n(e.workspace,t.workspace,A)}},t.createConnection=function(e,t,n,i){let o,s,c,u;return void 0!==e&&"features"===e.__brand&&(o=e,e=t,t=n,n=i),r.ConnectionStrategy.is(e)?u=e:(s=e,c=t,u=n),function(e,t,n,i){if(!e&&!t&&process.argv.length>2){let n=void 0,i=void 0,a=process.argv.slice(2);for(let s=0;s<a.length;s++){let c=a[s];if("--node-ipc"===c){e=new r.IPCMessageReader(process),t=new r.IPCMessageWriter(process);break}if("--stdio"===c){e=process.stdin,t=process.stdout;break}if("--socket"===c){n=parseInt(a[s+1]);break}if("--pipe"===c){i=a[s+1];break}var o=c.split("=");if("--socket"===o[0]){n=parseInt(o[1]);break}if("--pipe"===o[0]){i=o[1];break}}if(n){let i=r.createServerSocketTransport(n);e=i[0],t=i[1]}else if(i){let n=r.createServerPipeTransport(i);e=n[0],t=n[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+s);if(!t)throw new Error("Connection output stream is not set. "+s);if(a.func(e.read)&&a.func(e.on)){let t=e;t.on("end",()=>{process.exit(f?0:1)}),t.on("close",()=>{process.exit(f?0:1)})}const c=i&&i.console?new(i.console(v)):new v,u=r.createProtocolConnection(e,t,c,n);c.rawAttach(u);const l=i&&i.tracer?new(i.tracer(_)):new _,p=i&&i.telemetry?new(i.telemetry(O)):new O,d=i&&i.client?new(i.client(b)):new b,m=i&&i.window?new(i.window(y)):new y,g=i&&i.workspace?new(i.workspace(T)):new T,E=[c,l,p,d,m,g];function R(e){return a.thenable(e)?e:Promise.resolve(e)}let N=void 0,S=void 0,I=void 0,A={listen:()=>u.listen(),sendRequest:(e,...t)=>u.sendRequest(a.string(e)?e:e.method,...t),onRequest:(e,t)=>u.onRequest(e,t),sendNotification:(e,t)=>{const n=a.string(e)?e:e.method;1===arguments.length?u.sendNotification(n):u.sendNotification(n,t)},onNotification:(e,t)=>u.onNotification(e,t),onProgress:u.onProgress,sendProgress:u.sendProgress,onInitialize:e=>S=e,onInitialized:e=>u.onNotification(r.InitializedNotification.type,e),onShutdown:e=>N=e,onExit:e=>I=e,get console(){return c},get telemetry(){return p},get tracer(){return l},get client(){return d},get window(){return m},get workspace(){return g},onDidChangeConfiguration:e=>u.onNotification(r.DidChangeConfigurationNotification.type,e),onDidChangeWatchedFiles:e=>u.onNotification(r.DidChangeWatchedFilesNotification.type,e),__textDocumentSync:void 0,onDidOpenTextDocument:e=>u.onNotification(r.DidOpenTextDocumentNotification.type,e),onDidChangeTextDocument:e=>u.onNotification(r.DidChangeTextDocumentNotification.type,e),onDidCloseTextDocument:e=>u.onNotification(r.DidCloseTextDocumentNotification.type,e),onWillSaveTextDocument:e=>u.onNotification(r.WillSaveTextDocumentNotification.type,e),onWillSaveTextDocumentWaitUntil:e=>u.onRequest(r.WillSaveTextDocumentWaitUntilRequest.type,e),onDidSaveTextDocument:e=>u.onNotification(r.DidSaveTextDocumentNotification.type,e),sendDiagnostics:e=>u.sendNotification(r.PublishDiagnosticsNotification.type,e),onHover:e=>u.onRequest(r.HoverRequest.type,(t,n)=>e(t,n,C.attachWorkDone(u,t),void 0)),onCompletion:e=>u.onRequest(r.CompletionRequest.type,(t,n)=>e(t,n,C.attachWorkDone(u,t),C.attachPartialResult(u,t))),onCompletionResolve:e=>u.onRequest(r.CompletionResolveRequest.type,e),onSignatureHelp:e=>u.onRequest(r.SignatureHelpRequest.type,(t,n)=>e(t,n,C.attachWorkDone(u,t),void 0)),onDeclaration:e=>u.onRequest(r.DeclarationRequest.type,(t,n)=>e(t,n,C.attachWorkDone(u,t),C.attachPartialResult(u,t))),onDefinition:e=>u.onRequest(r.DefinitionRequest.type,(t,n)=>e(t,n,C.attachWorkDone(u,t),C.attachPartialResult(u,t))),onTypeDefinition:e=>u.onRequest(r.TypeDefinitionRequest.type,(t,n)=>e(t,n,C.attachWorkDone(u,t),C.attachPartialResult(u,t))),onImplementation:e=>u.onRequest(r.ImplementationRequest.type,(t,n)=>e(t,n,C.attachWorkDone(u,t),C.attachPartialResult(u,t))),onReferences:e=>u.onRequest(r.ReferencesRequest.type,(t,n)=>e(t,n,C.attachWorkDone(u,t),C.attachPartialResult(u,t))),onDocumentHighlight:e=>u.onRequest(r.DocumentHighlightRequest.type,(t,n)=>e(t,n,C.attachWorkDone(u,t),C.attachPartialResult(u,t))),onDocumentSymbol:e=>u.onRequest(r.DocumentSymbolRequest.type,(t,n)=>e(t,n,C.attachWorkDone(u,t),C.attachPartialResult(u,t))),onWorkspaceSymbol:e=>u.onRequest(r.WorkspaceSymbolRequest.type,(t,n)=>e(t,n,C.attachWorkDone(u,t),C.attachPartialResult(u,t))),onCodeAction:e=>u.onRequest(r.CodeActionRequest.type,(t,n)=>e(t,n,C.attachWorkDone(u,t),C.attachPartialResult(u,t))),onCodeLens:e=>u.onRequest(r.CodeLensRequest.type,(t,n)=>e(t,n,C.attachWorkDone(u,t),C.attachPartialResult(u,t))),onCodeLensResolve:e=>u.onRequest(r.CodeLensResolveRequest.type,e),onDocumentFormatting:e=>u.onRequest(r.DocumentFormattingRequest.type,(t,n)=>e(t,n,C.attachWorkDone(u,t),void 0)),onDocumentRangeFormatting:e=>u.onRequest(r.DocumentRangeFormattingRequest.type,(t,n)=>e(t,n,C.attachWorkDone(u,t),void 0)),onDocumentOnTypeFormatting:e=>u.onRequest(r.DocumentOnTypeFormattingRequest.type,e),onRenameRequest:e=>u.onRequest(r.RenameRequest.type,(t,n)=>e(t,n,C.attachWorkDone(u,t),void 0)),onPrepareRename:e=>u.onRequest(r.PrepareRenameRequest.type,(t,n)=>e(t,n,C.attachWorkDone(u,t),void 0)),onDocumentLinks:e=>u.onRequest(r.DocumentLinkRequest.type,(t,n)=>e(t,n,C.attachWorkDone(u,t),C.attachPartialResult(u,t))),onDocumentLinkResolve:e=>u.onRequest(r.DocumentLinkResolveRequest.type,e),onDocumentColor:e=>u.onRequest(r.DocumentColorRequest.type,(t,n)=>e(t,n,C.attachWorkDone(u,t),C.attachPartialResult(u,t))),onColorPresentation:e=>u.onRequest(r.ColorPresentationRequest.type,(t,n)=>e(t,n,C.attachWorkDone(u,t),C.attachPartialResult(u,t))),onFoldingRanges:e=>u.onRequest(r.FoldingRangeRequest.type,(t,n)=>e(t,n,C.attachWorkDone(u,t),C.attachPartialResult(u,t))),onSelectionRanges:e=>u.onRequest(r.SelectionRangeRequest.type,(t,n)=>e(t,n,C.attachWorkDone(u,t),C.attachPartialResult(u,t))),onExecuteCommand:e=>u.onRequest(r.ExecuteCommandRequest.type,(t,n)=>e(t,n,C.attachWorkDone(u,t),void 0)),dispose:()=>u.dispose()};for(let e of E)e.attach(A);return u.onRequest(r.InitializeRequest.type,e=>{const t=e.processId;a.number(t)&&void 0===h&&setInterval(()=>{try{process.kill(t,0)}catch(e){process.exit(f?0:1)}},3e3),a.string(e.trace)&&(l.trace=r.Trace.fromString(e.trace));for(let t of E)t.initialize(e.capabilities);if(S){return R(S(e,(new r.CancellationTokenSource).token,C.attachWorkDone(u,e),void 0)).then(e=>{if(e instanceof r.ResponseError)return e;let t=e;t||(t={capabilities:{}});let n=t.capabilities;n||(n={},t.capabilities=n),void 0===n.textDocumentSync||null===n.textDocumentSync?n.textDocumentSync=a.number(A.__textDocumentSync)?A.__textDocumentSync:r.TextDocumentSyncKind.None:a.number(n.textDocumentSync)||a.number(n.textDocumentSync.change)||(n.textDocumentSync.change=a.number(A.__textDocumentSync)?A.__textDocumentSync:r.TextDocumentSyncKind.None);for(let e of E)e.fillServerCapabilities(n);return t})}{let e={capabilities:{textDocumentSync:r.TextDocumentSyncKind.None}};for(let t of E)t.fillServerCapabilities(e.capabilities);return e}}),u.onRequest(r.ShutdownRequest.type,()=>(f=!0,N?N((new r.CancellationTokenSource).token):void 0)),u.onNotification(r.ExitNotification.type,()=>{try{I&&I()}finally{f?process.exit(0):process.exit(1)}}),u.onNotification(r.SetTraceNotification.type,e=>{l.trace=r.Trace.fromString(e.value)}),A}(s,c,u,o)};const C=n(446);!function(e){e.all={__brand:"features",window:C.ProgressFeature}}(t.ProposedFeatures||(t.ProposedFeatures={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0;const r=new class{constructor(){this.server_url=process.env.RECOMMENDER_API_URL||"api-url-not-available-in-lsp",this.api_token=process.env.RECOMMENDER_API_TOKEN||"token-not-available-in-lsp",this.three_scale_user_token=process.env.THREE_SCALE_USER_TOKEN||"",this.provide_fullstack_action="true"===(process.env.PROVIDE_FULLSTACK_ACTION||""),this.forbidden_licenses=[],this.no_crypto=!1,this.home_dir=process.env["win32"==process.platform?"USERPROFILE":"HOME"],this.uuid=process.env.UUID||"",this.golang_executable=process.env.GOLANG_EXECUTABLE||"go",this.utm_source=process.env.UTM_SOURCE||"",this.telemetry_id=process.env.TELEMETRY_ID||""}};t.config=r},function(e,t,n){"use strict";n.r(t),n.d(t,"VERSION",(function(){return r})),n.d(t,"CstParser",(function(){return tn})),n.d(t,"EmbeddedActionsParser",(function(){return nn})),n.d(t,"ParserDefinitionErrorType",(function(){return Xt})),n.d(t,"EMPTY_ALT",(function(){return Qt})),n.d(t,"Lexer",(function(){return $})),n.d(t,"LexerDefinitionErrorType",(function(){return V})),n.d(t,"createToken",(function(){return Z})),n.d(t,"createTokenInstance",(function(){return ee})),n.d(t,"EOF",(function(){return Q})),n.d(t,"tokenLabel",(function(){return Y})),n.d(t,"tokenMatcher",(function(){return te})),n.d(t,"tokenName",(function(){return X})),n.d(t,"defaultGrammarResolverErrorProvider",(function(){return Ce})),n.d(t,"defaultGrammarValidatorErrorProvider",(function(){return xe})),n.d(t,"defaultParserErrorProvider",(function(){return Ae})),n.d(t,"EarlyExitException",(function(){return gt})),n.d(t,"isRecognitionException",(function(){return ht})),n.d(t,"MismatchedTokenException",(function(){return pt})),n.d(t,"NotAllInputParsedException",(function(){return mt})),n.d(t,"NoViableAltException",(function(){return dt})),n.d(t,"defaultLexerErrorProvider",(function(){return H})),n.d(t,"Alternation",(function(){return he})),n.d(t,"Alternative",(function(){return ae})),n.d(t,"NonTerminal",(function(){return ie})),n.d(t,"Option",(function(){return se})),n.d(t,"Repetition",(function(){return le})),n.d(t,"RepetitionMandatory",(function(){return ce})),n.d(t,"RepetitionMandatoryWithSeparator",(function(){return ue})),n.d(t,"RepetitionWithSeparator",(function(){return fe})),n.d(t,"Rule",(function(){return oe})),n.d(t,"Terminal",(function(){return pe})),n.d(t,"serializeGrammar",(function(){return de})),n.d(t,"serializeProduction",(function(){return me})),n.d(t,"GAstVisitor",(function(){return ye})),n.d(t,"assignOccurrenceIndices",(function(){return lt})),n.d(t,"resolveGrammar",(function(){return ct})),n.d(t,"validateGrammar",(function(){return ut})),n.d(t,"clearCache",(function(){return mn})),n.d(t,"createSyntaxDiagramsCode",(function(){return rn})),n.d(t,"generateParserFactory",(function(){return pn})),n.d(t,"generateParserModule",(function(){return dn})),n.d(t,"Parser",(function(){return gn}));var r="7.1.0",i=n(0),o=n(17),a={},s=new o.RegExpParser;function c(e){var t=e.toString();if(a.hasOwnProperty(t))return a[t];var n=s.pattern(t);return a[t]=n,n}var u,l=(u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f='Unable to use "first char" lexer optimizations:\n';function h(e,t){void 0===t&&(t=!1);try{var n=c(e);return function e(t,n,r){switch(t.type){case"Disjunction":for(var o=0;o<t.value.length;o++)e(t.value[o],n,r);break;case"Alternative":var a=t.value;for(o=0;o<a.length;o++){var s=a[o];switch(s.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}var c=s;switch(c.type){case"Character":p(c.value,n,r);break;case"Set":if(!0===c.complement)throw Error("Complement Sets are not supported for first char optimization");Object(i.u)(c.value,(function(e){if("number"==typeof e)p(e,n,r);else{var t=e;if(!0===r)for(var i=t.from;i<=t.to;i++)p(i,n,r);else{for(i=t.from;i<=t.to&&i<P;i++)p(i,n,r);if(t.to>=P)for(var o=t.from>=P?t.from:P,a=t.to,s=j(o),c=j(a),u=s;u<=c;u++)n[u]=u}}}));break;case"Group":e(c.value,n,r);break;default:throw Error("Non Exhaustive Match")}var u=void 0!==c.quantifier&&0===c.quantifier.atLeast;if("Group"===c.type&&!1===m(c)||"Group"!==c.type&&!1===u)break}break;default:throw Error("non exhaustive match!")}return Object(i.U)(n)}(n.value,{},n.flags.ignoreCase)}catch(n){if("Complement Sets are not supported for first char optimization"===n.message)t&&Object(i.d)(f+"\tUnable to optimize: < "+e.toString()+" >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.");else{var r="";t&&(r="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),Object(i.c)(f+"\n\tFailed parsing: < "+e.toString()+" >\n\tUsing the regexp-to-ast library version: "+o.VERSION+"\n\tPlease open an issue at: https://github.com/bd82/regexp-to-ast/issues"+r)}}return[]}function p(e,t,n){var r=j(e);t[r]=r,!0===n&&function(e,t){var n=String.fromCharCode(e),r=n.toUpperCase();if(r!==n){var i=j(r.charCodeAt(0));t[i]=i}else{var o=n.toLowerCase();if(o!==n){i=j(o.charCodeAt(0));t[i]=i}}}(e,t)}function d(e,t){return Object(i.q)(e.value,(function(e){if("number"==typeof e)return Object(i.j)(t,e);var n=e;return void 0!==Object(i.q)(t,(function(e){return n.from<=e&&e<=n.to}))}))}function m(e){return!(!e.quantifier||0!==e.quantifier.atLeast)||!!e.value&&(Object(i.y)(e.value)?Object(i.o)(e.value,m):m(e.value))}var g=function(e){function t(t){var n=e.call(this)||this;return n.targetCharCodes=t,n.found=!1,n}return l(t,e),t.prototype.visitChildren=function(t){if(!0!==this.found){switch(t.type){case"Lookahead":return void this.visitLookahead(t);case"NegativeLookahead":return void this.visitNegativeLookahead(t)}e.prototype.visitChildren.call(this,t)}},t.prototype.visitCharacter=function(e){Object(i.j)(this.targetCharCodes,e.value)&&(this.found=!0)},t.prototype.visitSet=function(e){e.complement?void 0===d(e,this.targetCharCodes)&&(this.found=!0):void 0!==d(e,this.targetCharCodes)&&(this.found=!0)},t}(o.BaseRegExpVisitor);function v(e,t){if(t instanceof RegExp){var n=c(t),r=new g(e);return r.visit(n),r.found}return void 0!==Object(i.q)(t,(function(t){return Object(i.j)(e,t.charCodeAt(0))}))}var y=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),b="PATTERN",T="boolean"==typeof new RegExp("(?:)").sticky;function _(e,t){var n,r=(t=Object(i.k)(t,{useSticky:T,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:function(e,t){return t()}})).tracer;r("initCharCodeToOptimizedIndexMap",(function(){!function(){if(Object(i.A)(M)){M=new Array(65536);for(var e=0;e<65536;e++)M[e]=e>255?255+~~(e/255):e}}()})),r("Reject Lexer.NA",(function(){n=Object(i.P)(e,(function(e){return e[b]===$.NA}))}));var o,a,s,c,u,l,p,d,m,g,y,_=!1;r("Transform Patterns",(function(){_=!1,o=Object(i.I)(n,(function(e){var n=e[b];if(Object(i.D)(n)){var r=n.source;return 1!==r.length||"^"===r||"$"===r||"."===r||n.ignoreCase?2!==r.length||"\\"!==r[0]||Object(i.j)(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],r[1])?t.useSticky?S(n):N(n):r[1]:r}if(Object(i.B)(n))return _=!0,{exec:n};if(Object(i.w)(n,"exec"))return _=!0,n;if("string"==typeof n){if(1===n.length)return n;var o=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),a=new RegExp(o);return t.useSticky?S(a):N(a)}throw Error("non exhaustive match")}))})),r("misc mapping",(function(){a=Object(i.I)(n,(function(e){return e.tokenTypeIdx})),s=Object(i.I)(n,(function(e){var t=e.GROUP;if(t!==$.SKIPPED){if(Object(i.E)(t))return t;if(Object(i.F)(t))return!1;throw Error("non exhaustive match")}})),c=Object(i.I)(n,(function(e){var t=e.LONGER_ALT;if(t)return Object(i.x)(n,t)})),u=Object(i.I)(n,(function(e){return e.PUSH_MODE})),l=Object(i.I)(n,(function(e){return Object(i.w)(e,"POP_MODE")}))})),r("Line Terminator Handling",(function(){var e=k(t.lineTerminatorCharacters);p=Object(i.I)(n,(function(e){return!1})),"onlyOffset"!==t.positionTracking&&(p=Object(i.I)(n,(function(t){return Object(i.w)(t,"LINE_BREAKS")?t.LINE_BREAKS:!1===L(t,e)?v(e,t.PATTERN):void 0})))})),r("Misc Mapping #2",(function(){d=Object(i.I)(n,A),m=Object(i.I)(o,C),g=Object(i.O)(n,(function(e,t){var n=t.GROUP;return Object(i.E)(n)&&n!==$.SKIPPED&&(e[n]=[]),e}),{}),y=Object(i.I)(o,(function(e,t){return{pattern:o[t],longerAlt:c[t],canLineTerminator:p[t],isCustom:d[t],short:m[t],group:s[t],push:u[t],pop:l[t],tokenTypeIdx:a[t],tokenType:n[t]}}))}));var O=!0,E=[];return t.safeMode||r("First Char Optimization",(function(){E=Object(i.O)(n,(function(e,n,r){if("string"==typeof n.PATTERN){var o=j(n.PATTERN.charCodeAt(0));w(e,o,y[r])}else if(Object(i.y)(n.START_CHARS_HINT)){var a;Object(i.u)(n.START_CHARS_HINT,(function(t){var n=j("string"==typeof t?t.charCodeAt(0):t);a!==n&&(a=n,w(e,n,y[r]))}))}else if(Object(i.D)(n.PATTERN))if(n.PATTERN.unicode)O=!1,t.ensureOptimizations&&Object(i.c)(f+"\tUnable to analyze < "+n.PATTERN.toString()+" > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE");else{var s=h(n.PATTERN,t.ensureOptimizations);Object(i.A)(s)&&(O=!1),Object(i.u)(s,(function(t){w(e,t,y[r])}))}else t.ensureOptimizations&&Object(i.c)(f+"\tTokenType: <"+n.name+"> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE"),O=!1;return e}),[])})),r("ArrayPacking",(function(){E=Object(i.L)(E)})),{emptyGroups:g,patternIdxToConfig:y,charCodeToPatternIdxToConfig:E,hasCustom:_,canBeOptimized:O}}function O(e,t){var n=[],r=function(e){var t=Object(i.p)(e,(function(e){return!Object(i.w)(e,b)})),n=Object(i.I)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- missing static 'PATTERN' property",type:V.MISSING_PATTERN,tokenTypes:[e]}})),r=Object(i.l)(e,t);return{errors:n,valid:r}}(e);n=n.concat(r.errors);var a=function(e){var t=Object(i.p)(e,(function(e){var t=e[b];return!(Object(i.D)(t)||Object(i.B)(t)||Object(i.w)(t,"exec")||Object(i.E)(t))})),n=Object(i.I)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:V.INVALID_PATTERN,tokenTypes:[e]}})),r=Object(i.l)(e,t);return{errors:n,valid:r}}(r.valid),s=a.valid;return n=(n=(n=(n=(n=n.concat(a.errors)).concat(function(e){var t=[],n=Object(i.p)(e,(function(e){return Object(i.D)(e[b])}));return t=(t=(t=(t=(t=t.concat(function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.found=!1,t}return y(t,e),t.prototype.visitEndAnchor=function(e){this.found=!0},t}(o.BaseRegExpVisitor),n=Object(i.p)(e,(function(e){var n=e[b];try{var r=c(n),i=new t;return i.visit(r),i.found}catch(e){return E.test(n.source)}}));return Object(i.I)(n,(function(e){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:V.EOI_ANCHOR_FOUND,tokenTypes:[e]}}))}(n))).concat(function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.found=!1,t}return y(t,e),t.prototype.visitStartAnchor=function(e){this.found=!0},t}(o.BaseRegExpVisitor),n=Object(i.p)(e,(function(e){var n=e[b];try{var r=c(n),i=new t;return i.visit(r),i.found}catch(e){return R.test(n.source)}}));return Object(i.I)(n,(function(e){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:V.SOI_ANCHOR_FOUND,tokenTypes:[e]}}))}(n))).concat(function(e){var t=Object(i.p)(e,(function(e){var t=e[b];return t instanceof RegExp&&(t.multiline||t.global)}));return Object(i.I)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:V.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[e]}}))}(n))).concat(function(e){var t=[],n=Object(i.I)(e,(function(n){return Object(i.O)(e,(function(e,r){return n.PATTERN.source!==r.PATTERN.source||Object(i.j)(t,r)||r.PATTERN===$.NA||(t.push(r),e.push(r)),e}),[])}));n=Object(i.i)(n);var r=Object(i.p)(n,(function(e){return e.length>1}));return Object(i.I)(r,(function(e){var t=Object(i.I)(e,(function(e){return e.name}));return{message:"The same RegExp pattern ->"+Object(i.s)(e).PATTERN+"<-has been used in all of the following Token Types: "+t.join(", ")+" <-",type:V.DUPLICATE_PATTERNS_FOUND,tokenTypes:e}}))}(n))).concat(function(e){var t=Object(i.p)(e,(function(e){return e[b].test("")}));return Object(i.I)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' must not match an empty string",type:V.EMPTY_MATCH_PATTERN,tokenTypes:[e]}}))}(n))}(s))).concat(function(e){var t=Object(i.p)(e,(function(e){if(!Object(i.w)(e,"GROUP"))return!1;var t=e.GROUP;return t!==$.SKIPPED&&t!==$.NA&&!Object(i.E)(t)}));return Object(i.I)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:V.INVALID_GROUP_TYPE_FOUND,tokenTypes:[e]}}))}(s))).concat(function(e,t){var n=Object(i.p)(e,(function(e){return void 0!==e.PUSH_MODE&&!Object(i.j)(t,e.PUSH_MODE)}));return Object(i.I)(n,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->"+e.PUSH_MODE+"<-which does not exist",type:V.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[e]}}))}(s,t))).concat(function(e){var t=[],n=Object(i.O)(e,(function(e,t,n){var r,o=t.PATTERN;return o===$.NA||(Object(i.E)(o)?e.push({str:o,idx:n,tokenType:t}):Object(i.D)(o)&&(r=o,void 0===Object(i.q)([".","\\","[","]","|","^","$","(",")","?","*","+","{"],(function(e){return-1!==r.source.indexOf(e)})))&&e.push({str:o.source,idx:n,tokenType:t})),e}),[]);return Object(i.u)(e,(function(e,r){Object(i.u)(n,(function(n){var o=n.str,a=n.idx,s=n.tokenType;if(r<a&&function(e,t){if(Object(i.D)(t)){var n=t.exec(e);return null!==n&&0===n.index}if(Object(i.B)(t))return t(e,0,[],{});if(Object(i.w)(t,"exec"))return t.exec(e,0,[],{});if("string"==typeof t)return t===e;throw Error("non exhaustive match")}(o,e.PATTERN)){var c="Token: ->"+s.name+"<- can never be matched.\nBecause it appears AFTER the Token Type ->"+e.name+"<-in the lexer's definition.\nSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNREACHABLE";t.push({message:c,type:V.UNREACHABLE_PATTERN,tokenTypes:[e,s]})}}))})),t}(s))}var E=/[^\\][\$]/;var R=/[^\\[][\^]|^\^/;function N(e){var t=e.ignoreCase?"i":"";return new RegExp("^(?:"+e.source+")",t)}function S(e){var t=e.ignoreCase?"iy":"y";return new RegExp(""+e.source,t)}function I(e,t,n){var r=[],o=!1,a=Object(i.i)(Object(i.t)(Object(i.J)(e.modes,(function(e){return e})))),s=Object(i.P)(a,(function(e){return e[b]===$.NA})),c=k(n);return t&&Object(i.u)(s,(function(e){var t=L(e,c);if(!1!==t){var n={message:function(e,t){if(t.issue===V.IDENTIFY_TERMINATOR)return"Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <"+e.name+"> Token Type\n\t Root cause: "+t.errMsg+".\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR";if(t.issue===V.CUSTOM_LINE_BREAK)return"Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <"+e.name+"> Token Type\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK";throw Error("non exhaustive match")}(e,t),type:t.issue,tokenType:e};r.push(n)}else Object(i.w)(e,"LINE_BREAKS")?!0===e.LINE_BREAKS&&(o=!0):v(c,e.PATTERN)&&(o=!0)})),t&&!o&&r.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:V.NO_LINE_BREAKS_FLAGS}),r}function A(e){var t=e.PATTERN;if(Object(i.D)(t))return!1;if(Object(i.B)(t))return!0;if(Object(i.w)(t,"exec"))return!0;if(Object(i.E)(t))return!1;throw Error("non exhaustive match")}function C(e){return!(!Object(i.E)(e)||1!==e.length)&&e.charCodeAt(0)}var x={test:function(e){for(var t=e.length,n=this.lastIndex;n<t;n++){var r=e.charCodeAt(n);if(10===r)return this.lastIndex=n+1,!0;if(13===r)return 10===e.charCodeAt(n+1)?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function L(e,t){if(Object(i.w)(e,"LINE_BREAKS"))return!1;if(Object(i.D)(e.PATTERN)){try{v(t,e.PATTERN)}catch(e){return{issue:V.IDENTIFY_TERMINATOR,errMsg:e.message}}return!1}if(Object(i.E)(e.PATTERN))return!1;if(A(e))return{issue:V.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function k(e){return Object(i.I)(e,(function(e){return Object(i.E)(e)&&e.length>0?e.charCodeAt(0):e}))}function w(e,t,n){void 0===e[t]?e[t]=[n]:e[t].push(n)}var P=256;function j(e){return e<P?e:M[e]}var M=[];function D(e,t){var n=e.tokenTypeIdx;return n===t.tokenTypeIdx||!0===t.isParent&&!0===t.categoryMatchesMap[n]}function F(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}var U=1,q={};function B(e){var t=function(e){var t=Object(i.g)(e),n=e,r=!0;for(;r;){n=Object(i.i)(Object(i.t)(Object(i.I)(n,(function(e){return e.CATEGORIES}))));var o=Object(i.l)(n,t);t=t.concat(o),Object(i.A)(o)?r=!1:n=o}return t}(e);!function(e){Object(i.u)(e,(function(e){var t;W(e)||(q[U]=e,e.tokenTypeIdx=U++),z(e)&&!Object(i.y)(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),z(e)||(e.CATEGORIES=[]),t=e,Object(i.w)(t,"categoryMatches")||(e.categoryMatches=[]),function(e){return Object(i.w)(e,"categoryMatchesMap")}(e)||(e.categoryMatchesMap={})}))}(t),function(e){Object(i.u)(e,(function(e){!function e(t,n){Object(i.u)(t,(function(e){n.categoryMatchesMap[e.tokenTypeIdx]=!0})),Object(i.u)(n.CATEGORIES,(function(r){var o=t.concat(n);Object(i.j)(o,r)||e(o,r)}))}([],e)}))}(t),function(e){Object(i.u)(e,(function(e){e.categoryMatches=[],Object(i.u)(e.categoryMatchesMap,(function(t,n){e.categoryMatches.push(q[n].tokenTypeIdx)}))}))}(t),Object(i.u)(t,(function(e){e.isParent=e.categoryMatches.length>0}))}function W(e){return Object(i.w)(e,"tokenTypeIdx")}function z(e){return Object(i.w)(e,"CATEGORIES")}function K(e){return Object(i.w)(e,"tokenTypeIdx")}var V,H={buildUnableToPopLexerModeMessage:function(e){return"Unable to pop Lexer Mode after encountering Token ->"+e.image+"<- The Mode Stack is empty"},buildUnexpectedCharactersMessage:function(e,t,n,r,i){return"unexpected character: ->"+e.charAt(t)+"<- at offset: "+t+", skipped "+n+" characters."}};!function(e){e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK"}(V||(V={}));var G={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:H,traceInitPerf:!1,skipValidations:!1};Object.freeze(G);var $=function(){function e(e,t){var n=this;if(void 0===t&&(t=G),this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.config=void 0,this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},"boolean"==typeof t)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=Object(i.K)(G,t);var r=this.config.traceInitPerf;!0===r?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof r&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",(function(){var r,o=!0;n.TRACE_INIT("Lexer Config handling",(function(){if(n.config.lineTerminatorsPattern===G.lineTerminatorsPattern)n.config.lineTerminatorsPattern=x;else if(n.config.lineTerminatorCharacters===G.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(t.safeMode&&t.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');n.trackStartLines=/full|onlyStart/i.test(n.config.positionTracking),n.trackEndLines=/full/i.test(n.config.positionTracking),Object(i.y)(e)?((r={modes:{}}).modes.defaultMode=Object(i.g)(e),r.defaultMode="defaultMode"):(o=!1,r=Object(i.h)(e))})),!1===n.config.skipValidations&&(n.TRACE_INIT("performRuntimeChecks",(function(){n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat(function(e,t,n){var r=[];return Object(i.w)(e,"defaultMode")||r.push({message:"A MultiMode Lexer cannot be initialized without a <defaultMode> property in its definition\n",type:V.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Object(i.w)(e,"modes")||r.push({message:"A MultiMode Lexer cannot be initialized without a <modes> property in its definition\n",type:V.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Object(i.w)(e,"modes")&&Object(i.w)(e,"defaultMode")&&!Object(i.w)(e.modes,e.defaultMode)&&r.push({message:"A MultiMode Lexer cannot be initialized with a defaultMode: <"+e.defaultMode+">which does not exist\n",type:V.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Object(i.w)(e,"modes")&&Object(i.u)(e.modes,(function(e,t){Object(i.u)(e,(function(e,n){Object(i.F)(e)&&r.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:<"+t+"> at index: <"+n+">\n",type:V.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED})}))})),r}(r,n.trackStartLines,n.config.lineTerminatorCharacters))})),n.TRACE_INIT("performWarningRuntimeChecks",(function(){n.lexerDefinitionWarning=n.lexerDefinitionWarning.concat(I(r,n.trackStartLines,n.config.lineTerminatorCharacters))}))),r.modes=r.modes?r.modes:{},Object(i.u)(r.modes,(function(e,t){r.modes[t]=Object(i.P)(e,(function(e){return Object(i.F)(e)}))}));var s=Object(i.G)(r.modes);if(Object(i.u)(r.modes,(function(e,r){n.TRACE_INIT("Mode: <"+r+"> processing",(function(){var o;(n.modes.push(r),!1===n.config.skipValidations&&n.TRACE_INIT("validatePatterns",(function(){n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat(O(e,s))})),Object(i.A)(n.lexerDefinitionErrors))&&(B(e),n.TRACE_INIT("analyzeTokenTypes",(function(){o=_(e,{lineTerminatorCharacters:n.config.lineTerminatorCharacters,positionTracking:t.positionTracking,ensureOptimizations:t.ensureOptimizations,safeMode:t.safeMode,tracer:n.TRACE_INIT.bind(n)})})),n.patternIdxToConfig[r]=o.patternIdxToConfig,n.charCodeToPatternIdxToConfig[r]=o.charCodeToPatternIdxToConfig,n.emptyGroups=Object(i.K)(n.emptyGroups,o.emptyGroups),n.hasCustom=o.hasCustom||n.hasCustom,n.canModeBeOptimized[r]=o.canBeOptimized)}))})),n.defaultMode=r.defaultMode,!Object(i.A)(n.lexerDefinitionErrors)&&!n.config.deferDefinitionErrorsHandling){var c=Object(i.I)(n.lexerDefinitionErrors,(function(e){return e.message})).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+c)}Object(i.u)(n.lexerDefinitionWarning,(function(e){Object(i.d)(e.message)})),n.TRACE_INIT("Choosing sub-methods implementations",(function(){if(T?(n.chopInput=i.a,n.match=n.matchWithTest):(n.updateLastIndex=i.b,n.match=n.matchWithExec),o&&(n.handleModes=i.b),!1===n.trackStartLines&&(n.computeNewColumn=i.a),!1===n.trackEndLines&&(n.updateTokenEndLineColumnLocation=i.b),/full/i.test(n.config.positionTracking))n.createTokenInstance=n.createFullToken;else if(/onlyStart/i.test(n.config.positionTracking))n.createTokenInstance=n.createStartOnlyToken;else{if(!/onlyOffset/i.test(n.config.positionTracking))throw Error('Invalid <positionTracking> config option: "'+n.config.positionTracking+'"');n.createTokenInstance=n.createOffsetOnlyToken}n.hasCustom?(n.addToken=n.addTokenUsingPush,n.handlePayload=n.handlePayloadWithCustom):(n.addToken=n.addTokenUsingMemberAccess,n.handlePayload=n.handlePayloadNoCustom)})),n.TRACE_INIT("Failed Optimization Warnings",(function(){var e=Object(i.O)(n.canModeBeOptimized,(function(e,t,n){return!1===t&&e.push(n),e}),[]);if(t.ensureOptimizations&&!Object(i.A)(e))throw Error("Lexer Modes: < "+e.join(", ")+' > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.')})),n.TRACE_INIT("clearRegExpParserCache",(function(){a={}})),n.TRACE_INIT("toFastProperties",(function(){Object(i.S)(n)}))}))}return e.prototype.tokenize=function(e,t){if(void 0===t&&(t=this.defaultMode),!Object(i.A)(this.lexerDefinitionErrors)){var n=Object(i.I)(this.lexerDefinitionErrors,(function(e){return e.message})).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+n)}return this.tokenizeInternal(e,t)},e.prototype.tokenizeInternal=function(e,t){var n,r,o,a,s,c,u,l,f,h,p,d,m,g,v,y,b,T=this,_=e,O=_.length,E=0,R=0,N=this.hasCustom?0:Math.floor(e.length/10),S=new Array(N),I=[],A=this.trackStartLines?1:void 0,C=this.trackStartLines?1:void 0,x=(v=this.emptyGroups,y={},b=Object(i.G)(v),Object(i.u)(b,(function(e){var t=v[e];if(!Object(i.y)(t))throw Error("non exhaustive match");y[e]=[]})),y),L=this.trackStartLines,k=this.config.lineTerminatorsPattern,w=0,P=[],M=[],D=[],F=[];Object.freeze(F);var U=void 0;function q(){return P}function B(e){var t=j(e),n=M[t];return void 0===n?F:n}var W,z=function(e){if(1===D.length&&void 0===e.tokenType.PUSH_MODE){var t=T.config.errorMessageProvider.buildUnableToPopLexerModeMessage(e);I.push({offset:e.startOffset,line:void 0!==e.startLine?e.startLine:void 0,column:void 0!==e.startColumn?e.startColumn:void 0,length:e.image.length,message:t})}else{D.pop();var n=Object(i.H)(D);P=T.patternIdxToConfig[n],M=T.charCodeToPatternIdxToConfig[n],w=P.length;var r=T.canModeBeOptimized[n]&&!1===T.config.safeMode;U=M&&r?B:q}};function K(e){D.push(e),M=this.charCodeToPatternIdxToConfig[e],P=this.patternIdxToConfig[e],w=P.length,w=P.length;var t=this.canModeBeOptimized[e]&&!1===this.config.safeMode;U=M&&t?B:q}for(K.call(this,t);E<O;){s=null;var V=_.charCodeAt(E),H=U(V),G=H.length;for(n=0;n<G;n++){var $=(W=H[n]).pattern;if(c=null,!1!==(ie=W.short)?V===ie&&(s=$):!0===W.isCustom?null!==(g=$.exec(_,E,S,x))?(s=g[0],void 0!==g.payload&&(c=g.payload)):s=null:(this.updateLastIndex($,E),s=this.match($,e,E)),null!==s){if(void 0!==(a=W.longerAlt)){var Y=P[a],X=Y.pattern;u=null,!0===Y.isCustom?null!==(g=X.exec(_,E,S,x))?(o=g[0],void 0!==g.payload&&(u=g.payload)):o=null:(this.updateLastIndex(X,E),o=this.match(X,e,E)),o&&o.length>s.length&&(s=o,c=u,W=Y)}break}}if(null!==s){if(l=s.length,void 0!==(f=W.group)&&(h=W.tokenTypeIdx,p=this.createTokenInstance(s,E,h,W.tokenType,A,C,l),this.handlePayload(p,c),!1===f?R=this.addToken(S,R,p):x[f].push(p)),e=this.chopInput(e,l),E+=l,C=this.computeNewColumn(C,l),!0===L&&!0===W.canLineTerminator){var J=0,Z=void 0,Q=void 0;k.lastIndex=0;do{!0===(Z=k.test(s))&&(Q=k.lastIndex-1,J++)}while(!0===Z);0!==J&&(A+=J,C=l-Q,this.updateTokenEndLineColumnLocation(p,f,Q,J,A,C,l))}this.handleModes(W,z,K,p)}else{for(var ee=E,te=A,ne=C,re=!1;!re&&E<O;)for(_.charCodeAt(E),e=this.chopInput(e,1),E++,r=0;r<w;r++){var ie,oe=P[r];$=oe.pattern;if(!1!==(ie=oe.short)?_.charCodeAt(E)===ie&&(re=!0):!0===oe.isCustom?re=null!==$.exec(_,E,S,x):(this.updateLastIndex($,E),re=null!==$.exec(e)),!0===re)break}d=E-ee,m=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(_,ee,d,te,ne),I.push({offset:ee,line:te,column:ne,length:d,message:m})}}return this.hasCustom||(S.length=R),{tokens:S,groups:x,errors:I}},e.prototype.handleModes=function(e,t,n,r){if(!0===e.pop){var i=e.push;t(r),void 0!==i&&n.call(this,i)}else void 0!==e.push&&n.call(this,e.push)},e.prototype.chopInput=function(e,t){return e.substring(t)},e.prototype.updateLastIndex=function(e,t){e.lastIndex=t},e.prototype.updateTokenEndLineColumnLocation=function(e,t,n,r,i,o,a){var s,c;void 0!==t&&(c=(s=n===a-1)?-1:0,1===r&&!0===s||(e.endLine=i+c,e.endColumn=o-1-c))},e.prototype.computeNewColumn=function(e,t){return e+t},e.prototype.createTokenInstance=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return null},e.prototype.createOffsetOnlyToken=function(e,t,n,r){return{image:e,startOffset:t,tokenTypeIdx:n,tokenType:r}},e.prototype.createStartOnlyToken=function(e,t,n,r,i,o){return{image:e,startOffset:t,startLine:i,startColumn:o,tokenTypeIdx:n,tokenType:r}},e.prototype.createFullToken=function(e,t,n,r,i,o,a){return{image:e,startOffset:t,endOffset:t+a-1,startLine:i,endLine:i,startColumn:o,endColumn:o+a-1,tokenTypeIdx:n,tokenType:r}},e.prototype.addToken=function(e,t,n){return 666},e.prototype.addTokenUsingPush=function(e,t,n){return e.push(n),t},e.prototype.addTokenUsingMemberAccess=function(e,t,n){return e[t]=n,++t},e.prototype.handlePayload=function(e,t){},e.prototype.handlePayloadNoCustom=function(e,t){},e.prototype.handlePayloadWithCustom=function(e,t){null!==t&&(e.payload=t)},e.prototype.match=function(e,t,n){return null},e.prototype.matchWithTest=function(e,t,n){return!0===e.test(t)?t.substring(n,e.lastIndex):null},e.prototype.matchWithExec=function(e,t){var n=e.exec(t);return null!==n?n[0]:n},e.prototype.TRACE_INIT=function(e,t){if(!0===this.traceInitPerf){this.traceInitIndent++;var n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(n+"--\x3e <"+e+">");var r=Object(i.R)(t),o=r.time,a=r.value,s=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&s(n+"<-- <"+e+"> time: "+o+"ms"),this.traceInitIndent--,a}return t()},e.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",e.NA=/NOT_APPLICABLE/,e}();function Y(e){return J(e)?e.LABEL:e.name}function X(e){return e.name}function J(e){return Object(i.E)(e.LABEL)&&""!==e.LABEL}function Z(e){return function(e){var t=e.pattern,n={};n.name=e.name,Object(i.F)(t)||(n.PATTERN=t);if(Object(i.w)(e,"parent"))throw"The parent property is no longer supported.\nSee: https://github.com/SAP/chevrotain/issues/564#issuecomment-349062346 for details.";Object(i.w)(e,"categories")&&(n.CATEGORIES=e.categories);B([n]),Object(i.w)(e,"label")&&(n.LABEL=e.label);Object(i.w)(e,"group")&&(n.GROUP=e.group);Object(i.w)(e,"pop_mode")&&(n.POP_MODE=e.pop_mode);Object(i.w)(e,"push_mode")&&(n.PUSH_MODE=e.push_mode);Object(i.w)(e,"longer_alt")&&(n.LONGER_ALT=e.longer_alt);Object(i.w)(e,"line_breaks")&&(n.LINE_BREAKS=e.line_breaks);Object(i.w)(e,"start_chars_hint")&&(n.START_CHARS_HINT=e.start_chars_hint);return n}(e)}var Q=Z({name:"EOF",pattern:$.NA});function ee(e,t,n,r,i,o,a,s){return{image:t,startOffset:n,endOffset:r,startLine:i,endLine:o,startColumn:a,endColumn:s,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function te(e,t){return D(e,t)}B([Q]);var ne=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),re=function(){function e(e){this._definition=e}return Object.defineProperty(e.prototype,"definition",{get:function(){return this._definition},set:function(e){this._definition=e},enumerable:!1,configurable:!0}),e.prototype.accept=function(e){e.visit(this),Object(i.u)(this.definition,(function(t){t.accept(e)}))},e}(),ie=function(e){function t(t){var n=e.call(this,[])||this;return n.idx=1,Object(i.f)(n,Object(i.N)(t,(function(e){return void 0!==e}))),n}return ne(t,e),Object.defineProperty(t.prototype,"definition",{get:function(){return void 0!==this.referencedRule?this.referencedRule.definition:[]},set:function(e){},enumerable:!1,configurable:!0}),t.prototype.accept=function(e){e.visit(this)},t}(re),oe=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.orgText="",Object(i.f)(n,Object(i.N)(t,(function(e){return void 0!==e}))),n}return ne(t,e),t}(re),ae=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.ignoreAmbiguities=!1,Object(i.f)(n,Object(i.N)(t,(function(e){return void 0!==e}))),n}return ne(t,e),t}(re),se=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,Object(i.f)(n,Object(i.N)(t,(function(e){return void 0!==e}))),n}return ne(t,e),t}(re),ce=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,Object(i.f)(n,Object(i.N)(t,(function(e){return void 0!==e}))),n}return ne(t,e),t}(re),ue=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,Object(i.f)(n,Object(i.N)(t,(function(e){return void 0!==e}))),n}return ne(t,e),t}(re),le=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,Object(i.f)(n,Object(i.N)(t,(function(e){return void 0!==e}))),n}return ne(t,e),t}(re),fe=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,Object(i.f)(n,Object(i.N)(t,(function(e){return void 0!==e}))),n}return ne(t,e),t}(re),he=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,n.ignoreAmbiguities=!1,n.hasPredicates=!1,Object(i.f)(n,Object(i.N)(t,(function(e){return void 0!==e}))),n}return ne(t,e),Object.defineProperty(t.prototype,"definition",{get:function(){return this._definition},set:function(e){this._definition=e},enumerable:!1,configurable:!0}),t}(re),pe=function(){function e(e){this.idx=1,Object(i.f)(this,Object(i.N)(e,(function(e){return void 0!==e})))}return e.prototype.accept=function(e){e.visit(this)},e}();function de(e){return Object(i.I)(e,me)}function me(e){function t(e){return Object(i.I)(e,me)}if(e instanceof ie)return{type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};if(e instanceof ae)return{type:"Alternative",definition:t(e.definition)};if(e instanceof se)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof ce)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof ue)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:me(new pe({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof fe)return{type:"RepetitionWithSeparator",idx:e.idx,separator:me(new pe({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof le)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof he)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof pe){var n={type:"Terminal",name:e.terminalType.name,label:Y(e.terminalType),idx:e.idx},r=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(n.pattern=Object(i.D)(r)?r.source:r),n}if(e instanceof oe)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}var ge=function(){function e(){}return e.prototype.walk=function(e,t){var n=this;void 0===t&&(t=[]),Object(i.u)(e.definition,(function(r,o){var a=Object(i.m)(e.definition,o+1);if(r instanceof ie)n.walkProdRef(r,a,t);else if(r instanceof pe)n.walkTerminal(r,a,t);else if(r instanceof ae)n.walkFlat(r,a,t);else if(r instanceof se)n.walkOption(r,a,t);else if(r instanceof ce)n.walkAtLeastOne(r,a,t);else if(r instanceof ue)n.walkAtLeastOneSep(r,a,t);else if(r instanceof fe)n.walkManySep(r,a,t);else if(r instanceof le)n.walkMany(r,a,t);else{if(!(r instanceof he))throw Error("non exhaustive match");n.walkOr(r,a,t)}}))},e.prototype.walkTerminal=function(e,t,n){},e.prototype.walkProdRef=function(e,t,n){},e.prototype.walkFlat=function(e,t,n){var r=t.concat(n);this.walk(e,r)},e.prototype.walkOption=function(e,t,n){var r=t.concat(n);this.walk(e,r)},e.prototype.walkAtLeastOne=function(e,t,n){var r=[new se({definition:e.definition})].concat(t,n);this.walk(e,r)},e.prototype.walkAtLeastOneSep=function(e,t,n){var r=ve(e,t,n);this.walk(e,r)},e.prototype.walkMany=function(e,t,n){var r=[new se({definition:e.definition})].concat(t,n);this.walk(e,r)},e.prototype.walkManySep=function(e,t,n){var r=ve(e,t,n);this.walk(e,r)},e.prototype.walkOr=function(e,t,n){var r=this,o=t.concat(n);Object(i.u)(e.definition,(function(e){var t=new ae({definition:[e]});r.walk(t,o)}))},e}();function ve(e,t,n){return[new se({definition:[new pe({terminalType:e.separator})].concat(e.definition)})].concat(t,n)}var ye=function(){function e(){}return e.prototype.visit=function(e){var t=e;switch(t.constructor){case ie:return this.visitNonTerminal(t);case ae:return this.visitAlternative(t);case se:return this.visitOption(t);case ce:return this.visitRepetitionMandatory(t);case ue:return this.visitRepetitionMandatoryWithSeparator(t);case fe:return this.visitRepetitionWithSeparator(t);case le:return this.visitRepetition(t);case he:return this.visitAlternation(t);case pe:return this.visitTerminal(t);case oe:return this.visitRule(t);default:throw Error("non exhaustive match")}},e.prototype.visitNonTerminal=function(e){},e.prototype.visitAlternative=function(e){},e.prototype.visitOption=function(e){},e.prototype.visitRepetition=function(e){},e.prototype.visitRepetitionMandatory=function(e){},e.prototype.visitRepetitionMandatoryWithSeparator=function(e){},e.prototype.visitRepetitionWithSeparator=function(e){},e.prototype.visitAlternation=function(e){},e.prototype.visitTerminal=function(e){},e.prototype.visitRule=function(e){},e}(),be=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Te(e,t){return void 0===t&&(t=[]),!!(e instanceof se||e instanceof le||e instanceof fe)||(e instanceof he?Object(i.Q)(e.definition,(function(e){return Te(e,t)})):!(e instanceof ie&&Object(i.j)(t,e))&&(e instanceof re&&(e instanceof ie&&t.push(e),Object(i.o)(e.definition,(function(e){return Te(e,t)})))))}function _e(e){if(e instanceof ie)return"SUBRULE";if(e instanceof se)return"OPTION";if(e instanceof he)return"OR";if(e instanceof ce)return"AT_LEAST_ONE";if(e instanceof ue)return"AT_LEAST_ONE_SEP";if(e instanceof fe)return"MANY_SEP";if(e instanceof le)return"MANY";if(e instanceof pe)return"CONSUME";throw Error("non exhaustive match")}var Oe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.separator="-",t.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},t}return be(t,e),t.prototype.reset=function(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}},t.prototype.visitTerminal=function(e){var t=e.terminalType.name+this.separator+"Terminal";Object(i.w)(this.dslMethods,t)||(this.dslMethods[t]=[]),this.dslMethods[t].push(e)},t.prototype.visitNonTerminal=function(e){var t=e.nonTerminalName+this.separator+"Terminal";Object(i.w)(this.dslMethods,t)||(this.dslMethods[t]=[]),this.dslMethods[t].push(e)},t.prototype.visitOption=function(e){this.dslMethods.option.push(e)},t.prototype.visitRepetitionWithSeparator=function(e){this.dslMethods.repetitionWithSeparator.push(e)},t.prototype.visitRepetitionMandatory=function(e){this.dslMethods.repetitionMandatory.push(e)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)},t.prototype.visitRepetition=function(e){this.dslMethods.repetition.push(e)},t.prototype.visitAlternation=function(e){this.dslMethods.alternation.push(e)},t}(ye),Ee=new Oe;function Re(e){if(e instanceof ie)return Re(e.referencedRule);if(e instanceof pe)return[e.terminalType];if(function(e){return e instanceof ae||e instanceof se||e instanceof le||e instanceof ce||e instanceof ue||e instanceof fe||e instanceof pe||e instanceof oe}(e))return function(e){var t,n=[],r=e.definition,o=0,a=r.length>o,s=!0;for(;a&&s;)t=r[o],s=Te(t),n=n.concat(Re(t)),o+=1,a=r.length>o;return Object(i.T)(n)}(e);if(function(e){return e instanceof he}(e))return function(e){var t=Object(i.I)(e.definition,(function(e){return Re(e)}));return Object(i.T)(Object(i.t)(t))}(e);throw Error("non exhaustive match")}var Ne="_~IN~_",Se=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ie=function(e){function t(t){var n=e.call(this)||this;return n.topProd=t,n.follows={},n}return Se(t,e),t.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},t.prototype.walkTerminal=function(e,t,n){},t.prototype.walkProdRef=function(e,t,n){var r,i,o=(r=e.referencedRule,i=e.idx,r.name+i+Ne+this.topProd.name),a=t.concat(n),s=Re(new ae({definition:a}));this.follows[o]=s},t}(ge);var Ae={buildMismatchTokenMessage:function(e){var t=e.expected,n=e.actual;e.previous,e.ruleName;return"Expecting "+(J(t)?"--\x3e "+Y(t)+" <--":"token of type --\x3e "+t.name+" <--")+" but found --\x3e '"+n.image+"' <--"},buildNotAllInputParsedMessage:function(e){var t=e.firstRedundant;e.ruleName;return"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage:function(e){var t=e.expectedPathsPerAlt,n=e.actual,r=(e.previous,e.customUserDescription),o=(e.ruleName,"\nbut found: '"+Object(i.s)(n).image+"'");if(r)return"Expecting: "+r+o;var a=Object(i.O)(t,(function(e,t){return e.concat(t)}),[]),s=Object(i.I)(a,(function(e){return"["+Object(i.I)(e,(function(e){return Y(e)})).join(", ")+"]"}));return"Expecting: "+("one of these possible Token sequences:\n"+Object(i.I)(s,(function(e,t){return"  "+(t+1)+". "+e})).join("\n"))+o},buildEarlyExitMessage:function(e){var t=e.expectedIterationPaths,n=e.actual,r=e.customUserDescription,o=(e.ruleName,"\nbut found: '"+Object(i.s)(n).image+"'");return r?"Expecting: "+r+o:"Expecting: "+("expecting at least one iteration which starts with one of these possible Token sequences::\n  <"+Object(i.I)(t,(function(e){return"["+Object(i.I)(e,(function(e){return Y(e)})).join(",")+"]"})).join(" ,")+">")+o}};Object.freeze(Ae);var Ce={buildRuleNotFoundError:function(e,t){return"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+"<-\ninside top level rule: ->"+e.name+"<-"}},xe={buildDuplicateFoundError:function(e,t){var n,r=e.name,o=Object(i.s)(t),a=o.idx,s=_e(o),c=(n=o)instanceof pe?n.terminalType.name:n instanceof ie?n.nonTerminalName:"",u="->"+s+(a>0?a:"")+"<- "+(c?"with argument: ->"+c+"<-":"")+"\n                  appears more than once ("+t.length+" times) in the top level rule: ->"+r+"<-.                  \n                  For further details see: https://sap.github.io/chevrotain/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  ";return u=(u=u.replace(/[ \t]+/g," ")).replace(/\s\s+/g,"\n")},buildNamespaceConflictError:function(e){return"Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <"+e.name+">.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter."},buildAlternationPrefixAmbiguityError:function(e){var t=Object(i.I)(e.prefixPath,(function(e){return Y(e)})).join(", "),n=0===e.alternation.idx?"":e.alternation.idx;return"Ambiguous alternatives: <"+e.ambiguityIndices.join(" ,")+"> due to common lookahead prefix\nin <OR"+n+"> inside <"+e.topLevelRule.name+"> Rule,\n<"+t+"> may appears as a prefix path in all these alternatives.\nSee: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details."},buildAlternationAmbiguityError:function(e){var t=Object(i.I)(e.prefixPath,(function(e){return Y(e)})).join(", "),n=0===e.alternation.idx?"":e.alternation.idx,r="Ambiguous Alternatives Detected: <"+e.ambiguityIndices.join(" ,")+"> in <OR"+n+"> inside <"+e.topLevelRule.name+"> Rule,\n<"+t+"> may appears as a prefix path in all these alternatives.\n";return r+="See: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details."},buildEmptyRepetitionError:function(e){var t=_e(e.repetition);return 0!==e.repetition.idx&&(t+=e.repetition.idx),"The repetition <"+t+"> within Rule <"+e.topLevelRule.name+"> can never consume any tokens.\nThis could lead to an infinite loop."},buildTokenNameError:function(e){return"deprecated"},buildEmptyAlternationError:function(e){return"Ambiguous empty alternative: <"+(e.emptyChoiceIdx+1)+"> in <OR"+e.alternation.idx+"> inside <"+e.topLevelRule.name+"> Rule.\nOnly the last alternative may be an empty alternative."},buildTooManyAlternativesError:function(e){return"An Alternation cannot have more than 256 alternatives:\n<OR"+e.alternation.idx+"> inside <"+e.topLevelRule.name+"> Rule.\n has "+(e.alternation.definition.length+1)+" alternatives."},buildLeftRecursionError:function(e){var t=e.topLevelRule.name;return"Left Recursion found in grammar.\nrule: <"+t+"> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n "+(t+" --\x3e "+i.I(e.leftRecursionPath,(function(e){return e.name})).concat([t]).join(" --\x3e "))+"\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_Factoring."},buildInvalidRuleNameError:function(e){return"deprecated"},buildDuplicateRuleNameError:function(e){return"Duplicate definition, rule: ->"+(e.topLevelRule instanceof oe?e.topLevelRule.name:e.topLevelRule)+"<- is already defined in the grammar: ->"+e.grammarName+"<-"}},Le=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var ke=function(e){function t(t,n){var r=e.call(this)||this;return r.nameToTopRule=t,r.errMsgProvider=n,r.errors=[],r}return Le(t,e),t.prototype.resolveRefs=function(){var e=this;Object(i.u)(Object(i.U)(this.nameToTopRule),(function(t){e.currTopLevel=t,t.accept(e)}))},t.prototype.visitNonTerminal=function(e){var t=this.nameToTopRule[e.nonTerminalName];if(t)e.referencedRule=t;else{var n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:n,type:Xt.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}},t}(ye),we=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pe=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.path=n,r.nextTerminalName="",r.nextTerminalOccurrence=0,r.nextTerminalName=r.path.lastTok.name,r.nextTerminalOccurrence=r.path.lastTokOccurrence,r}return we(t,e),t.prototype.walkTerminal=function(e,t,n){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){var r=t.concat(n),i=new ae({definition:r});this.possibleTokTypes=Re(i),this.found=!0}},t}(function(e){function t(t,n){var r=e.call(this)||this;return r.topProd=t,r.path=n,r.possibleTokTypes=[],r.nextProductionName="",r.nextProductionOccurrence=0,r.found=!1,r.isAtEndOfPath=!1,r}return we(t,e),t.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Object(i.g)(this.path.ruleStack).reverse(),this.occurrenceStack=Object(i.g)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},t.prototype.walk=function(t,n){void 0===n&&(n=[]),this.found||e.prototype.walk.call(this,t,n)},t.prototype.walkProdRef=function(e,t,n){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){var r=t.concat(n);this.updateExpectedNext(),this.walk(e.referencedRule,r)}},t.prototype.updateExpectedNext=function(){Object(i.A)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},t}(ge)),je=function(e){function t(t,n){var r=e.call(this)||this;return r.topRule=t,r.occurrence=n,r.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},r}return we(t,e),t.prototype.startWalking=function(){return this.walk(this.topRule),this.result},t}(ge),Me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return we(t,e),t.prototype.walkMany=function(t,n,r){if(t.idx===this.occurrence){var o=Object(i.s)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof pe&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkMany.call(this,t,n,r)},t}(je),De=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return we(t,e),t.prototype.walkManySep=function(t,n,r){if(t.idx===this.occurrence){var o=Object(i.s)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof pe&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkManySep.call(this,t,n,r)},t}(je),Fe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return we(t,e),t.prototype.walkAtLeastOne=function(t,n,r){if(t.idx===this.occurrence){var o=Object(i.s)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof pe&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkAtLeastOne.call(this,t,n,r)},t}(je),Ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return we(t,e),t.prototype.walkAtLeastOneSep=function(t,n,r){if(t.idx===this.occurrence){var o=Object(i.s)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof pe&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkAtLeastOneSep.call(this,t,n,r)},t}(je);function qe(e,t,n){void 0===n&&(n=[]),n=Object(i.g)(n);var r=[],o=0;function a(a){var s=qe(a.concat(Object(i.m)(e,o+1)),t,n);return r.concat(s)}for(;n.length<t&&o<e.length;){var s=e[o];if(s instanceof ae)return a(s.definition);if(s instanceof ie)return a(s.definition);if(s instanceof se)r=a(s.definition);else{if(s instanceof ce)return a(c=s.definition.concat([new le({definition:s.definition})]));if(s instanceof ue)return a(c=[new ae({definition:s.definition}),new le({definition:[new pe({terminalType:s.separator})].concat(s.definition)})]);if(s instanceof fe){var c=s.definition.concat([new le({definition:[new pe({terminalType:s.separator})].concat(s.definition)})]);r=a(c)}else if(s instanceof le){c=s.definition.concat([new le({definition:s.definition})]);r=a(c)}else{if(s instanceof he)return Object(i.u)(s.definition,(function(e){!1===Object(i.A)(e.definition)&&(r=a(e.definition))})),r;if(!(s instanceof pe))throw Error("non exhaustive match");n.push(s.terminalType)}}o++}return r.push({partialPath:n,suffixDef:Object(i.m)(e,o)}),r}function Be(e,t,n,r){var o=["EXIT_NONE_TERMINAL"],a=!1,s=t.length,c=s-r-1,u=[],l=[];for(l.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!Object(i.A)(l);){var f=l.pop();if("EXIT_ALTERNATIVE"!==f){var h=f.def,p=f.idx,d=f.ruleStack,m=f.occurrenceStack;if(!Object(i.A)(h)){var g=h[0];if("EXIT_NONE_TERMINAL"===g){var v={idx:p,def:Object(i.m)(h),ruleStack:Object(i.n)(d),occurrenceStack:Object(i.n)(m)};l.push(v)}else if(g instanceof pe)if(p<s-1){var y=p+1;if(n(t[y],g.terminalType)){v={idx:y,def:Object(i.m)(h),ruleStack:d,occurrenceStack:m};l.push(v)}}else{if(p!==s-1)throw Error("non exhaustive match");u.push({nextTokenType:g.terminalType,nextTokenOccurrence:g.idx,ruleStack:d,occurrenceStack:m}),a=!0}else if(g instanceof ie){var b=Object(i.g)(d);b.push(g.nonTerminalName);var T=Object(i.g)(m);T.push(g.idx);v={idx:p,def:g.definition.concat(o,Object(i.m)(h)),ruleStack:b,occurrenceStack:T};l.push(v)}else if(g instanceof se){var _={idx:p,def:Object(i.m)(h),ruleStack:d,occurrenceStack:m};l.push(_),l.push("EXIT_ALTERNATIVE");var O={idx:p,def:g.definition.concat(Object(i.m)(h)),ruleStack:d,occurrenceStack:m};l.push(O)}else if(g instanceof ce){var E=new le({definition:g.definition,idx:g.idx});v={idx:p,def:g.definition.concat([E],Object(i.m)(h)),ruleStack:d,occurrenceStack:m};l.push(v)}else if(g instanceof ue){var R=new pe({terminalType:g.separator});E=new le({definition:[R].concat(g.definition),idx:g.idx}),v={idx:p,def:g.definition.concat([E],Object(i.m)(h)),ruleStack:d,occurrenceStack:m};l.push(v)}else if(g instanceof fe){_={idx:p,def:Object(i.m)(h),ruleStack:d,occurrenceStack:m};l.push(_),l.push("EXIT_ALTERNATIVE");R=new pe({terminalType:g.separator});var N=new le({definition:[R].concat(g.definition),idx:g.idx});O={idx:p,def:g.definition.concat([N],Object(i.m)(h)),ruleStack:d,occurrenceStack:m};l.push(O)}else if(g instanceof le){_={idx:p,def:Object(i.m)(h),ruleStack:d,occurrenceStack:m};l.push(_),l.push("EXIT_ALTERNATIVE");N=new le({definition:g.definition,idx:g.idx}),O={idx:p,def:g.definition.concat([N],Object(i.m)(h)),ruleStack:d,occurrenceStack:m};l.push(O)}else if(g instanceof he)for(var S=g.definition.length-1;S>=0;S--){var I={idx:p,def:g.definition[S].definition.concat(Object(i.m)(h)),ruleStack:d,occurrenceStack:m};l.push(I),l.push("EXIT_ALTERNATIVE")}else if(g instanceof ae)l.push({idx:p,def:g.definition.concat(Object(i.m)(h)),ruleStack:d,occurrenceStack:m});else{if(!(g instanceof oe))throw Error("non exhaustive match");l.push(We(g,p,d,m))}}}else a&&Object(i.H)(l).idx<=c&&l.pop()}return u}function We(e,t,n,r){var o=Object(i.g)(n);o.push(e.name);var a=Object(i.g)(r);return a.push(1),{idx:t,def:e.definition,ruleStack:o,occurrenceStack:a}}var ze,Ke=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION"}(ze||(ze={}));var Ve=function(e){function t(t,n,r){var i=e.call(this)||this;return i.topProd=t,i.targetOccurrence=n,i.targetProdType=r,i}return Ke(t,e),t.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},t.prototype.checkIsTarget=function(e,t,n,r){return e.idx===this.targetOccurrence&&this.targetProdType===t&&(this.restDef=n.concat(r),!0)},t.prototype.walkOption=function(t,n,r){this.checkIsTarget(t,ze.OPTION,n,r)||e.prototype.walkOption.call(this,t,n,r)},t.prototype.walkAtLeastOne=function(t,n,r){this.checkIsTarget(t,ze.REPETITION_MANDATORY,n,r)||e.prototype.walkOption.call(this,t,n,r)},t.prototype.walkAtLeastOneSep=function(t,n,r){this.checkIsTarget(t,ze.REPETITION_MANDATORY_WITH_SEPARATOR,n,r)||e.prototype.walkOption.call(this,t,n,r)},t.prototype.walkMany=function(t,n,r){this.checkIsTarget(t,ze.REPETITION,n,r)||e.prototype.walkOption.call(this,t,n,r)},t.prototype.walkManySep=function(t,n,r){this.checkIsTarget(t,ze.REPETITION_WITH_SEPARATOR,n,r)||e.prototype.walkOption.call(this,t,n,r)},t}(ge),He=function(e){function t(t,n,r){var i=e.call(this)||this;return i.targetOccurrence=t,i.targetProdType=n,i.targetRef=r,i.result=[],i}return Ke(t,e),t.prototype.checkIsTarget=function(e,t){e.idx!==this.targetOccurrence||this.targetProdType!==t||void 0!==this.targetRef&&e!==this.targetRef||(this.result=e.definition)},t.prototype.visitOption=function(e){this.checkIsTarget(e,ze.OPTION)},t.prototype.visitRepetition=function(e){this.checkIsTarget(e,ze.REPETITION)},t.prototype.visitRepetitionMandatory=function(e){this.checkIsTarget(e,ze.REPETITION_MANDATORY)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.checkIsTarget(e,ze.REPETITION_MANDATORY_WITH_SEPARATOR)},t.prototype.visitRepetitionWithSeparator=function(e){this.checkIsTarget(e,ze.REPETITION_WITH_SEPARATOR)},t.prototype.visitAlternation=function(e){this.checkIsTarget(e,ze.ALTERNATION)},t}(ye);function Ge(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=[];return t}function $e(e){for(var t=[""],n=0;n<e.length;n++){for(var r=e[n],i=[],o=0;o<t.length;o++){var a=t[o];i.push(a+"_"+r.tokenTypeIdx);for(var s=0;s<r.categoryMatches.length;s++){var c="_"+r.categoryMatches[s];i.push(a+c)}}t=i}return t}function Ye(e,t,n){for(var r=0;r<e.length;r++)if(r!==n)for(var i=e[r],o=0;o<t.length;o++){if(!0===i[t[o]])return!1}return!0}function Xe(e,t){for(var n=Object(i.I)(e,(function(e){return qe([e],1)})),r=Ge(n.length),o=Object(i.I)(n,(function(e){var t={};return Object(i.u)(e,(function(e){var n=$e(e.partialPath);Object(i.u)(n,(function(e){t[e]=!0}))})),t})),a=n,s=1;s<=t;s++){var c=a;a=Ge(c.length);for(var u=function(e){for(var n=c[e],u=0;u<n.length;u++){var l=n[u].partialPath,f=n[u].suffixDef,h=$e(l);if(Ye(o,h,e)||Object(i.A)(f)||l.length===t){var p=r[e];if(!1===Qe(p,l)){p.push(l);for(var d=0;d<h.length;d++){var m=h[d];o[e][m]=!0}}}else{var g=qe(f,s+1,l);a[e]=a[e].concat(g),Object(i.u)(g,(function(t){var n=$e(t.partialPath);Object(i.u)(n,(function(t){o[e][t]=!0}))}))}}},l=0;l<c.length;l++)u(l)}return r}function Je(e,t,n,r){var i=new He(e,ze.ALTERNATION,r);return t.accept(i),Xe(i.result,n)}function Ze(e,t,n,r){var i=new He(e,n);t.accept(i);var o=i.result,a=new Ve(t,e,n).startWalking();return Xe([new ae({definition:o}),new ae({definition:a})],r)}function Qe(e,t){e:for(var n=0;n<e.length;n++){var r=e[n];if(r.length===t.length){for(var i=0;i<r.length;i++){var o=t[i],a=r[i];if(!1===(o===a||void 0!==a.categoryMatchesMap[o.tokenTypeIdx]))continue e}return!0}}return!1}function et(e){return Object(i.o)(e,(function(e){return Object(i.o)(e,(function(e){return Object(i.o)(e,(function(e){return Object(i.A)(e.categoryMatches)}))}))}))}var tt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function nt(e,t,n,r,o){var a=i.I(e,(function(e){return function(e,t){var n=new ot;e.accept(n);var r=n.allProductions,o=i.v(r,rt),a=i.N(o,(function(e){return e.length>1}));return i.I(i.U(a),(function(n){var r=i.s(n),o=t.buildDuplicateFoundError(e,n),a=_e(r),s={message:o,type:Xt.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:a,occurrence:r.idx},c=it(r);return c&&(s.parameter=c),s}))}(e,r)})),s=i.I(e,(function(e){return function e(t,n,r,o){void 0===o&&(o=[]);var a=[],s=function e(t){var n=[];if(i.A(t))return n;var r=i.s(t);if(r instanceof ie)n.push(r.referencedRule);else if(r instanceof ae||r instanceof se||r instanceof ce||r instanceof ue||r instanceof fe||r instanceof le)n=n.concat(e(r.definition));else if(r instanceof he)n=i.t(i.I(r.definition,(function(t){return e(t.definition)})));else if(!(r instanceof pe))throw Error("non exhaustive match");var o=Te(r),a=t.length>1;if(o&&a){var s=i.m(t);return n.concat(e(s))}return n}(n.definition);if(i.A(s))return[];var c=t.name;i.j(s,t)&&a.push({message:r.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:o}),type:Xt.LEFT_RECURSION,ruleName:c});var u=i.l(s,o.concat([t])),l=i.I(u,(function(n){var a=i.g(o);return a.push(n),e(t,n,r,a)}));return a.concat(i.t(l))}(e,e,r)})),c=[],u=[],l=[];Object(i.o)(s,i.A)&&(c=Object(i.I)(e,(function(e){return function(e,t){var n=new at;e.accept(n);var r=n.alternations;return i.O(r,(function(n,r){var o=i.n(r.definition),a=i.I(o,(function(n,o){var a=Be([n],[],null,1);return i.A(a)?{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:r,emptyChoiceIdx:o}),type:Xt.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:r.idx,alternative:o+1}:null}));return n.concat(i.i(a))}),[])}(e,r)})),u=Object(i.I)(e,(function(e){return function(e,t,n){var r=new at;e.accept(r);var o=r.alternations;return o=Object(i.P)(o,(function(e){return!0===e.ignoreAmbiguities})),i.O(o,(function(r,o){var a=o.idx,s=o.maxLookahead||t,c=Je(a,e,s,o),u=function(e,t,n,r){var o=[],a=Object(i.O)(e,(function(n,r,a){return!0===t.definition[a].ignoreAmbiguities||Object(i.u)(r,(function(r){var s=[a];Object(i.u)(e,(function(e,n){a!==n&&Qe(e,r)&&!0!==t.definition[n].ignoreAmbiguities&&s.push(n)})),s.length>1&&!Qe(o,r)&&(o.push(r),n.push({alts:s,path:r}))})),n}),[]);return i.I(a,(function(e){var o=Object(i.I)(e.alts,(function(e){return e+1}));return{message:r.buildAlternationAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:o,prefixPath:e.path}),type:Xt.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:t.idx,alternatives:[e.alts]}}))}(c,o,e,n),l=function(e,t,n,r){var o=[],a=Object(i.O)(e,(function(e,t,n){var r=Object(i.I)(t,(function(e){return{idx:n,path:e}}));return e.concat(r)}),[]);return Object(i.u)(a,(function(e){if(!0!==t.definition[e.idx].ignoreAmbiguities){var s=e.idx,c=e.path,u=Object(i.r)(a,(function(e){return!0!==t.definition[e.idx].ignoreAmbiguities&&e.idx<s&&(n=e.path,r=c,n.length<r.length&&Object(i.o)(n,(function(e,t){var n=r[t];return e===n||n.categoryMatchesMap[e.tokenTypeIdx]})));var n,r})),l=Object(i.I)(u,(function(e){var i=[e.idx+1,s+1],o=0===t.idx?"":t.idx;return{message:r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:i,prefixPath:e.path}),type:Xt.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:o,alternatives:i}}));o=o.concat(l)}})),o}(c,o,e,n);return r.concat(u,l)}),[])}(e,t,r)})),l=function(e,t,n){var r=[];return Object(i.u)(e,(function(e){var o=new st;e.accept(o);var a=o.allProductions;Object(i.u)(a,(function(o){var a=function(e){if(e instanceof se)return ze.OPTION;if(e instanceof le)return ze.REPETITION;if(e instanceof ce)return ze.REPETITION_MANDATORY;if(e instanceof ue)return ze.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof fe)return ze.REPETITION_WITH_SEPARATOR;if(e instanceof he)return ze.ALTERNATION;throw Error("non exhaustive match")}(o),s=o.maxLookahead||t,c=Ze(o.idx,e,a,s)[0];if(Object(i.A)(Object(i.t)(c))){var u=n.buildEmptyRepetitionError({topLevelRule:e,repetition:o});r.push({message:u,type:Xt.NO_NON_EMPTY_LOOKAHEAD,ruleName:e.name})}}))})),r}(e,t,r));var f=function(e,t,n){var r=[],o=Object(i.I)(t,(function(e){return e.name}));return Object(i.u)(e,(function(e){var t=e.name;if(Object(i.j)(o,t)){var a=n.buildNamespaceConflictError(e);r.push({message:a,type:Xt.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:t})}})),r}(e,n,r),h=Object(i.I)(e,(function(e){return function(e,t){var n=new at;e.accept(n);var r=n.alternations;return i.O(r,(function(n,r){return r.definition.length>255&&n.push({message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:r}),type:Xt.TOO_MANY_ALTS,ruleName:e.name,occurrence:r.idx}),n}),[])}(e,r)})),p=Object(i.I)(e,(function(t){return function(e,t,n,r){var o=[];if(Object(i.O)(t,(function(t,n){return n.name===e.name?t+1:t}),0)>1){var a=r.buildDuplicateRuleNameError({topLevelRule:e,grammarName:n});o.push({message:a,type:Xt.DUPLICATE_RULE_NAME,ruleName:e.name})}return o}(t,e,o,r)}));return i.t(a.concat(l,s,c,u,f,h,p))}function rt(e){return _e(e)+"_#_"+e.idx+"_#_"+it(e)}function it(e){return e instanceof pe?e.terminalType.name:e instanceof ie?e.nonTerminalName:""}var ot=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allProductions=[],t}return tt(t,e),t.prototype.visitNonTerminal=function(e){this.allProductions.push(e)},t.prototype.visitOption=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatory=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetition=function(e){this.allProductions.push(e)},t.prototype.visitAlternation=function(e){this.allProductions.push(e)},t.prototype.visitTerminal=function(e){this.allProductions.push(e)},t}(ye);var at=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.alternations=[],t}return tt(t,e),t.prototype.visitAlternation=function(e){this.alternations.push(e)},t}(ye);var st=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allProductions=[],t}return tt(t,e),t.prototype.visitRepetitionWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatory=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetition=function(e){this.allProductions.push(e)},t}(ye);function ct(e){e=Object(i.k)(e,{errMsgProvider:Ce});var t,n,r,o={};return Object(i.u)(e.rules,(function(e){o[e.name]=e})),t=o,n=e.errMsgProvider,(r=new ke(t,n)).resolveRefs(),r.errors}function ut(e){return nt((e=Object(i.k)(e,{errMsgProvider:xe})).rules,e.maxLookahead,e.tokenTypes,e.errMsgProvider,e.grammarName)}function lt(e){Object(i.u)(e.rules,(function(e){var t=new Oe;e.accept(t),Object(i.u)(t.dslMethods,(function(e){Object(i.u)(e,(function(e,t){e.idx=t+1}))}))}))}var ft=["MismatchedTokenException","NoViableAltException","EarlyExitException","NotAllInputParsedException"];function ht(e){return Object(i.j)(ft,e.name)}function pt(e,t,n){this.name="MismatchedTokenException",this.message=e,this.token=t,this.previousToken=n,this.resyncedTokens=[]}function dt(e,t,n){this.name="NoViableAltException",this.message=e,this.token=t,this.previousToken=n,this.resyncedTokens=[]}function mt(e,t){this.name="NotAllInputParsedException",this.message=e,this.token=t,this.resyncedTokens=[]}function gt(e,t,n){this.name="EarlyExitException",this.message=e,this.token=t,this.previousToken=n,this.resyncedTokens=[]}Object.freeze(ft),pt.prototype=Error.prototype,dt.prototype=Error.prototype,mt.prototype=Error.prototype,gt.prototype=Error.prototype;var vt={};function yt(e){this.name="InRuleRecoveryException",this.message=e}yt.prototype=Error.prototype;var bt=function(){function e(){}return e.prototype.initRecoverable=function(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Object(i.w)(e,"recoveryEnabled")?e.recoveryEnabled:Jt.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=Tt)},e.prototype.getTokenToInsert=function(e){var t=ee(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return t.isInsertedInRecovery=!0,t},e.prototype.canTokenTypeBeInsertedInRecovery=function(e){return!0},e.prototype.tryInRepetitionRecovery=function(e,t,n,r){for(var o=this,a=this.findReSyncTokenType(),s=this.exportLexerState(),c=[],u=!1,l=this.LA(1),f=this.LA(1),h=function(){var e=o.LA(0),t=new pt(o.errorMessageProvider.buildMismatchTokenMessage({expected:r,actual:l,previous:e,ruleName:o.getCurrRuleFullName()}),l,o.LA(0));t.resyncedTokens=Object(i.n)(c),o.SAVE_ERROR(t)};!u;){if(this.tokenMatcher(f,r))return void h();if(n.call(this))return h(),void e.apply(this,t);this.tokenMatcher(f,a)?u=!0:(f=this.SKIP_TOKEN(),this.addToResyncTokens(f,c))}this.importLexerState(s)},e.prototype.shouldInRepetitionRecoveryBeTried=function(e,t,n){return!1!==n&&(void 0!==e&&void 0!==t&&(!this.tokenMatcher(this.LA(1),e)&&(!this.isBackTracking()&&!this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,t)))))},e.prototype.getFollowsForInRuleRecovery=function(e,t){var n=this.getCurrentGrammarPath(e,t);return this.getNextPossibleTokenTypes(n)},e.prototype.tryInRuleRecovery=function(e,t){if(this.canRecoverWithSingleTokenInsertion(e,t))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){var n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new yt("sad sad panda")},e.prototype.canPerformInRuleRecovery=function(e,t){return this.canRecoverWithSingleTokenInsertion(e,t)||this.canRecoverWithSingleTokenDeletion(e)},e.prototype.canRecoverWithSingleTokenInsertion=function(e,t){var n=this;if(!this.canTokenTypeBeInsertedInRecovery(e))return!1;if(Object(i.A)(t))return!1;var r=this.LA(1);return void 0!==Object(i.q)(t,(function(e){return n.tokenMatcher(r,e)}))},e.prototype.canRecoverWithSingleTokenDeletion=function(e){return this.tokenMatcher(this.LA(2),e)},e.prototype.isInCurrentRuleReSyncSet=function(e){var t=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(t);return Object(i.j)(n,e)},e.prototype.findReSyncTokenType=function(){for(var e=this.flattenFollowSet(),t=this.LA(1),n=2;;){var r=t.tokenType;if(Object(i.j)(e,r))return r;t=this.LA(n),n++}},e.prototype.getCurrFollowKey=function(){if(1===this.RULE_STACK.length)return vt;var e=this.getLastExplicitRuleShortName(),t=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:t,inRule:this.shortRuleNameToFullName(n)}},e.prototype.buildFullFollowKeyStack=function(){var e=this,t=this.RULE_STACK,n=this.RULE_OCCURRENCE_STACK;return Object(i.I)(t,(function(r,i){return 0===i?vt:{ruleName:e.shortRuleNameToFullName(r),idxInCallingRule:n[i],inRule:e.shortRuleNameToFullName(t[i-1])}}))},e.prototype.flattenFollowSet=function(){var e=this,t=Object(i.I)(this.buildFullFollowKeyStack(),(function(t){return e.getFollowSetFromFollowKey(t)}));return Object(i.t)(t)},e.prototype.getFollowSetFromFollowKey=function(e){if(e===vt)return[Q];var t=e.ruleName+e.idxInCallingRule+Ne+e.inRule;return this.resyncFollows[t]},e.prototype.addToResyncTokens=function(e,t){return this.tokenMatcher(e,Q)||t.push(e),t},e.prototype.reSyncTo=function(e){for(var t=[],n=this.LA(1);!1===this.tokenMatcher(n,e);)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,t);return Object(i.n)(t)},e.prototype.attemptInRepetitionRecovery=function(e,t,n,r,i,o,a){},e.prototype.getCurrentGrammarPath=function(e,t){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:Object(i.g)(this.RULE_OCCURRENCE_STACK),lastTok:e,lastTokOccurrence:t}},e.prototype.getHumanReadableRuleStack=function(){var e=this;return Object(i.I)(this.RULE_STACK,(function(t){return e.shortRuleNameToFullName(t)}))},e}();function Tt(e,t,n,r,i,o,a){var s=this.getKeyForAutomaticLookahead(r,i),c=this.firstAfterRepMap[s];if(void 0===c){var u=this.getCurrRuleFullName();c=new o(this.getGAstProductions()[u],i).startWalking(),this.firstAfterRepMap[s]=c}var l=c.token,f=c.occurrence,h=c.isEndOfRule;1===this.RULE_STACK.length&&h&&void 0===l&&(l=Q,f=1),this.shouldInRepetitionRecoveryBeTried(l,f,a)&&this.tryInRepetitionRecovery(e,t,n,l)}function _t(e,t,n){return n|t|e}var Ot=function(){function e(){}return e.prototype.initLooksAhead=function(e){this.dynamicTokensEnabled=Object(i.w)(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:Jt.dynamicTokensEnabled,this.maxLookahead=Object(i.w)(e,"maxLookahead")?e.maxLookahead:Jt.maxLookahead,this.lookAheadFuncsCache=Object(i.z)()?new Map:[],Object(i.z)()?(this.getLaFuncFromCache=this.getLaFuncFromMap,this.setLaFuncCache=this.setLaFuncCacheUsingMap):(this.getLaFuncFromCache=this.getLaFuncFromObj,this.setLaFuncCache=this.setLaFuncUsingObj)},e.prototype.preComputeLookaheadFunctions=function(e){var t=this;Object(i.u)(e,(function(e){t.TRACE_INIT(e.name+" Rule Lookahead",(function(){var n=function(e){Ee.reset(),e.accept(Ee);var t=Ee.dslMethods;return Ee.reset(),t}(e),r=n.alternation,o=n.repetition,a=n.option,s=n.repetitionMandatory,c=n.repetitionMandatoryWithSeparator,u=n.repetitionWithSeparator;Object(i.u)(r,(function(n){var r=0===n.idx?"":n.idx;t.TRACE_INIT(""+_e(n)+r,(function(){var r,i,o,a,s,c,u,l=(r=n.idx,i=e,o=n.maxLookahead||t.maxLookahead,a=n.hasPredicates,s=t.dynamicTokensEnabled,c=t.lookAheadBuilderForAlternatives,u=Je(r,i,o),c(u,a,et(u)?F:D,s)),f=_t(t.fullRuleNameToShort[e.name],256,n.idx);t.setLaFuncCache(f,l)}))})),Object(i.u)(o,(function(n){t.computeLookaheadFunc(e,n.idx,768,ze.REPETITION,n.maxLookahead,_e(n))})),Object(i.u)(a,(function(n){t.computeLookaheadFunc(e,n.idx,512,ze.OPTION,n.maxLookahead,_e(n))})),Object(i.u)(s,(function(n){t.computeLookaheadFunc(e,n.idx,1024,ze.REPETITION_MANDATORY,n.maxLookahead,_e(n))})),Object(i.u)(c,(function(n){t.computeLookaheadFunc(e,n.idx,1536,ze.REPETITION_MANDATORY_WITH_SEPARATOR,n.maxLookahead,_e(n))})),Object(i.u)(u,(function(n){t.computeLookaheadFunc(e,n.idx,1280,ze.REPETITION_WITH_SEPARATOR,n.maxLookahead,_e(n))}))}))}))},e.prototype.computeLookaheadFunc=function(e,t,n,r,i,o){var a=this;this.TRACE_INIT(""+o+(0===t?"":t),(function(){var o=function(e,t,n,r,i,o){var a=Ze(e,t,i,n),s=et(a)?F:D;return o(a[0],s,r)}(t,e,i||a.maxLookahead,a.dynamicTokensEnabled,r,a.lookAheadBuilderForOptional),s=_t(a.fullRuleNameToShort[e.name],n,t);a.setLaFuncCache(s,o)}))},e.prototype.lookAheadBuilderForOptional=function(e,t,n){return function(e,t,n){var r=Object(i.o)(e,(function(e){return 1===e.length})),o=e.length;if(r&&!n){var a=Object(i.t)(e);if(1===a.length&&Object(i.A)(a[0].categoryMatches)){var s=a[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===s}}var c=Object(i.O)(a,(function(e,t,n){return e[t.tokenTypeIdx]=!0,Object(i.u)(t.categoryMatches,(function(t){e[t]=!0})),e}),[]);return function(){var e=this.LA(1);return!0===c[e.tokenTypeIdx]}}return function(){e:for(var n=0;n<o;n++){for(var r=e[n],i=r.length,a=0;a<i;a++){var s=this.LA(a+1);if(!1===t(s,r[a]))continue e}return!0}return!1}}(e,t,n)},e.prototype.lookAheadBuilderForAlternatives=function(e,t,n,r){return function(e,t,n,r){var o=e.length,a=Object(i.o)(e,(function(e){return Object(i.o)(e,(function(e){return 1===e.length}))}));if(t)return function(t){for(var r=Object(i.I)(t,(function(e){return e.GATE})),a=0;a<o;a++){var s=e[a],c=s.length,u=r[a];if(void 0===u||!1!==u.call(this))e:for(var l=0;l<c;l++){for(var f=s[l],h=f.length,p=0;p<h;p++){var d=this.LA(p+1);if(!1===n(d,f[p]))continue e}return a}}};if(a&&!r){var s=Object(i.I)(e,(function(e){return Object(i.t)(e)})),c=Object(i.O)(s,(function(e,t,n){return Object(i.u)(t,(function(t){Object(i.w)(e,t.tokenTypeIdx)||(e[t.tokenTypeIdx]=n),Object(i.u)(t.categoryMatches,(function(t){Object(i.w)(e,t)||(e[t]=n)}))})),e}),[]);return function(){var e=this.LA(1);return c[e.tokenTypeIdx]}}return function(){for(var t=0;t<o;t++){var r=e[t],i=r.length;e:for(var a=0;a<i;a++){for(var s=r[a],c=s.length,u=0;u<c;u++){var l=this.LA(u+1);if(!1===n(l,s[u]))continue e}return t}}}}(e,t,n,r)},e.prototype.getKeyForAutomaticLookahead=function(e,t){return _t(this.getLastExplicitRuleShortName(),e,t)},e.prototype.getLaFuncFromCache=function(e){},e.prototype.getLaFuncFromMap=function(e){return this.lookAheadFuncsCache.get(e)},e.prototype.getLaFuncFromObj=function(e){return this.lookAheadFuncsCache[e]},e.prototype.setLaFuncCache=function(e,t){},e.prototype.setLaFuncCacheUsingMap=function(e,t){this.lookAheadFuncsCache.set(e,t)},e.prototype.setLaFuncUsingObj=function(e,t){this.lookAheadFuncsCache[e]=t},e}();function Et(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset==!0&&(e.endOffset=t.endOffset)}function Rt(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset==!0&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}var Nt;function St(e){var t=e.name;return t||"anonymous"}function It(e,t){var n=Object.getOwnPropertyDescriptor(e,"name");return!(!Object(i.F)(n)&&!n.configurable)&&(Object.defineProperty(e,"name",{enumerable:!1,configurable:!0,writable:!1,value:t}),!0)}function At(e,t){for(var n=Object(i.G)(e),r=n.length,o=0;o<r;o++)for(var a=e[n[o]],s=a.length,c=0;c<s;c++){var u=a[c];void 0===u.tokenTypeIdx&&this[u.name](u.children,t)}}function Ct(e,t){var n=function(){};return It(n,e+"BaseSemantics"),(n.prototype={visit:function(e,t){if(Object(i.y)(e)&&(e=e[0]),!Object(i.F)(e))return this[e.name](e.children,t)},validateVisitor:function(){var e=function(e,t){var n=function(e,t){var n=Object(i.I)(t,(function(t){if(!Object(i.B)(e[t]))return{msg:"Missing visitor method: <"+t+"> on "+St(e.constructor)+" CST Visitor.",type:Nt.MISSING_METHOD,methodName:t}}));return Object(i.i)(n)}(e,t),r=function(e,t){var n=[];for(var r in e)!Object(i.B)(e[r])||Object(i.j)(xt,r)||Object(i.j)(t,r)||n.push({msg:"Redundant visitor method: <"+r+"> on "+St(e.constructor)+" CST Visitor\nThere is no Grammar Rule corresponding to this method's name.\n",type:Nt.REDUNDANT_METHOD,methodName:r});return n}(e,t);return n.concat(r)}(this,t);if(!Object(i.A)(e)){var n=Object(i.I)(e,(function(e){return e.msg}));throw Error("Errors Detected in CST Visitor <"+St(this.constructor)+">:\n\t"+n.join("\n\n").replace(/\n/g,"\n\t"))}}}).constructor=n,n._RULE_NAMES=t,n}!function(e){e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD"}(Nt||(Nt={}));var xt=["constructor","visit","validateVisitor"];var Lt=function(){function e(){}return e.prototype.initTreeBuilder=function(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=Object(i.w)(e,"nodeLocationTracking")?e.nodeLocationTracking:Jt.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Rt,this.setNodeLocationFromNode=Rt,this.cstPostRule=i.b,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=i.b,this.setNodeLocationFromNode=i.b,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Et,this.setNodeLocationFromNode=Et,this.cstPostRule=i.b,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=i.b,this.setNodeLocationFromNode=i.b,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error('Invalid <nodeLocationTracking> config option: "'+e.nodeLocationTracking+'"');this.setNodeLocationFromToken=i.b,this.setNodeLocationFromNode=i.b,this.cstPostRule=i.b,this.setInitialNodeLocation=i.b}else this.cstInvocationStateUpdate=i.b,this.cstFinallyStateUpdate=i.b,this.cstPostTerminal=i.b,this.cstPostNonTerminal=i.b,this.cstPostRule=i.b},e.prototype.setInitialNodeLocationOnlyOffsetRecovery=function(e){e.location={startOffset:NaN,endOffset:NaN}},e.prototype.setInitialNodeLocationOnlyOffsetRegular=function(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}},e.prototype.setInitialNodeLocationFullRecovery=function(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}},e.prototype.setInitialNodeLocationFullRegular=function(e){var t=this.LA(1);e.location={startOffset:t.startOffset,startLine:t.startLine,startColumn:t.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}},e.prototype.cstInvocationStateUpdate=function(e,t){var n={name:e,children:{}};this.setInitialNodeLocation(n),this.CST_STACK.push(n)},e.prototype.cstFinallyStateUpdate=function(){this.CST_STACK.pop()},e.prototype.cstPostRuleFull=function(e){var t=this.LA(0),n=e.location;n.startOffset<=t.startOffset==!0?(n.endOffset=t.endOffset,n.endLine=t.endLine,n.endColumn=t.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)},e.prototype.cstPostRuleOnlyOffset=function(e){var t=this.LA(0),n=e.location;n.startOffset<=t.startOffset==!0?n.endOffset=t.endOffset:n.startOffset=NaN},e.prototype.cstPostTerminal=function(e,t){var n,r,i,o=this.CST_STACK[this.CST_STACK.length-1];r=t,i=e,void 0===(n=o).children[i]?n.children[i]=[r]:n.children[i].push(r),this.setNodeLocationFromToken(o.location,t)},e.prototype.cstPostNonTerminal=function(e,t){var n=this.CST_STACK[this.CST_STACK.length-1];!function(e,t,n){void 0===e.children[t]?e.children[t]=[n]:e.children[t].push(n)}(n,t,e),this.setNodeLocationFromNode(n.location,e.location)},e.prototype.getBaseCstVisitorConstructor=function(){if(Object(i.F)(this.baseCstVisitorConstructor)){var e=Ct(this.className,Object(i.G)(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor},e.prototype.getBaseCstVisitorConstructorWithDefaults=function(){if(Object(i.F)(this.baseCstVisitorWithDefaultsConstructor)){var e=function(e,t,n){var r=function(){};It(r,e+"BaseSemanticsWithDefaults");var o=Object.create(n.prototype);return Object(i.u)(t,(function(e){o[e]=At})),(r.prototype=o).constructor=r,r}(this.className,Object(i.G)(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor},e.prototype.getLastExplicitRuleShortName=function(){var e=this.RULE_STACK;return e[e.length-1]},e.prototype.getPreviousExplicitRuleShortName=function(){var e=this.RULE_STACK;return e[e.length-2]},e.prototype.getLastExplicitRuleOccurrenceIndex=function(){var e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]},e}(),kt=function(){function e(){}return e.prototype.initLexerAdapter=function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1},Object.defineProperty(e.prototype,"input",{get:function(){return this.tokVector},set:function(e){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length},enumerable:!1,configurable:!0}),e.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Yt},e.prototype.LA=function(e){var t=this.currIdx+e;return t<0||this.tokVectorLength<=t?Yt:this.tokVector[t]},e.prototype.consumeToken=function(){this.currIdx++},e.prototype.exportLexerState=function(){return this.currIdx},e.prototype.importLexerState=function(e){this.currIdx=e},e.prototype.resetLexerState=function(){this.currIdx=-1},e.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},e.prototype.getLexerPosition=function(){return this.exportLexerState()},e}(),wt=function(){function e(){}return e.prototype.ACTION=function(e){return e.call(this)},e.prototype.consume=function(e,t,n){return this.consumeInternal(t,e,n)},e.prototype.subrule=function(e,t,n){return this.subruleInternal(t,e,n)},e.prototype.option=function(e,t){return this.optionInternal(t,e)},e.prototype.or=function(e,t){return this.orInternal(t,e)},e.prototype.many=function(e,t){return this.manyInternal(e,t)},e.prototype.atLeastOne=function(e,t){return this.atLeastOneInternal(e,t)},e.prototype.CONSUME=function(e,t){return this.consumeInternal(e,0,t)},e.prototype.CONSUME1=function(e,t){return this.consumeInternal(e,1,t)},e.prototype.CONSUME2=function(e,t){return this.consumeInternal(e,2,t)},e.prototype.CONSUME3=function(e,t){return this.consumeInternal(e,3,t)},e.prototype.CONSUME4=function(e,t){return this.consumeInternal(e,4,t)},e.prototype.CONSUME5=function(e,t){return this.consumeInternal(e,5,t)},e.prototype.CONSUME6=function(e,t){return this.consumeInternal(e,6,t)},e.prototype.CONSUME7=function(e,t){return this.consumeInternal(e,7,t)},e.prototype.CONSUME8=function(e,t){return this.consumeInternal(e,8,t)},e.prototype.CONSUME9=function(e,t){return this.consumeInternal(e,9,t)},e.prototype.SUBRULE=function(e,t){return this.subruleInternal(e,0,t)},e.prototype.SUBRULE1=function(e,t){return this.subruleInternal(e,1,t)},e.prototype.SUBRULE2=function(e,t){return this.subruleInternal(e,2,t)},e.prototype.SUBRULE3=function(e,t){return this.subruleInternal(e,3,t)},e.prototype.SUBRULE4=function(e,t){return this.subruleInternal(e,4,t)},e.prototype.SUBRULE5=function(e,t){return this.subruleInternal(e,5,t)},e.prototype.SUBRULE6=function(e,t){return this.subruleInternal(e,6,t)},e.prototype.SUBRULE7=function(e,t){return this.subruleInternal(e,7,t)},e.prototype.SUBRULE8=function(e,t){return this.subruleInternal(e,8,t)},e.prototype.SUBRULE9=function(e,t){return this.subruleInternal(e,9,t)},e.prototype.OPTION=function(e){return this.optionInternal(e,0)},e.prototype.OPTION1=function(e){return this.optionInternal(e,1)},e.prototype.OPTION2=function(e){return this.optionInternal(e,2)},e.prototype.OPTION3=function(e){return this.optionInternal(e,3)},e.prototype.OPTION4=function(e){return this.optionInternal(e,4)},e.prototype.OPTION5=function(e){return this.optionInternal(e,5)},e.prototype.OPTION6=function(e){return this.optionInternal(e,6)},e.prototype.OPTION7=function(e){return this.optionInternal(e,7)},e.prototype.OPTION8=function(e){return this.optionInternal(e,8)},e.prototype.OPTION9=function(e){return this.optionInternal(e,9)},e.prototype.OR=function(e){return this.orInternal(e,0)},e.prototype.OR1=function(e){return this.orInternal(e,1)},e.prototype.OR2=function(e){return this.orInternal(e,2)},e.prototype.OR3=function(e){return this.orInternal(e,3)},e.prototype.OR4=function(e){return this.orInternal(e,4)},e.prototype.OR5=function(e){return this.orInternal(e,5)},e.prototype.OR6=function(e){return this.orInternal(e,6)},e.prototype.OR7=function(e){return this.orInternal(e,7)},e.prototype.OR8=function(e){return this.orInternal(e,8)},e.prototype.OR9=function(e){return this.orInternal(e,9)},e.prototype.MANY=function(e){this.manyInternal(0,e)},e.prototype.MANY1=function(e){this.manyInternal(1,e)},e.prototype.MANY2=function(e){this.manyInternal(2,e)},e.prototype.MANY3=function(e){this.manyInternal(3,e)},e.prototype.MANY4=function(e){this.manyInternal(4,e)},e.prototype.MANY5=function(e){this.manyInternal(5,e)},e.prototype.MANY6=function(e){this.manyInternal(6,e)},e.prototype.MANY7=function(e){this.manyInternal(7,e)},e.prototype.MANY8=function(e){this.manyInternal(8,e)},e.prototype.MANY9=function(e){this.manyInternal(9,e)},e.prototype.MANY_SEP=function(e){this.manySepFirstInternal(0,e)},e.prototype.MANY_SEP1=function(e){this.manySepFirstInternal(1,e)},e.prototype.MANY_SEP2=function(e){this.manySepFirstInternal(2,e)},e.prototype.MANY_SEP3=function(e){this.manySepFirstInternal(3,e)},e.prototype.MANY_SEP4=function(e){this.manySepFirstInternal(4,e)},e.prototype.MANY_SEP5=function(e){this.manySepFirstInternal(5,e)},e.prototype.MANY_SEP6=function(e){this.manySepFirstInternal(6,e)},e.prototype.MANY_SEP7=function(e){this.manySepFirstInternal(7,e)},e.prototype.MANY_SEP8=function(e){this.manySepFirstInternal(8,e)},e.prototype.MANY_SEP9=function(e){this.manySepFirstInternal(9,e)},e.prototype.AT_LEAST_ONE=function(e){this.atLeastOneInternal(0,e)},e.prototype.AT_LEAST_ONE1=function(e){return this.atLeastOneInternal(1,e)},e.prototype.AT_LEAST_ONE2=function(e){this.atLeastOneInternal(2,e)},e.prototype.AT_LEAST_ONE3=function(e){this.atLeastOneInternal(3,e)},e.prototype.AT_LEAST_ONE4=function(e){this.atLeastOneInternal(4,e)},e.prototype.AT_LEAST_ONE5=function(e){this.atLeastOneInternal(5,e)},e.prototype.AT_LEAST_ONE6=function(e){this.atLeastOneInternal(6,e)},e.prototype.AT_LEAST_ONE7=function(e){this.atLeastOneInternal(7,e)},e.prototype.AT_LEAST_ONE8=function(e){this.atLeastOneInternal(8,e)},e.prototype.AT_LEAST_ONE9=function(e){this.atLeastOneInternal(9,e)},e.prototype.AT_LEAST_ONE_SEP=function(e){this.atLeastOneSepFirstInternal(0,e)},e.prototype.AT_LEAST_ONE_SEP1=function(e){this.atLeastOneSepFirstInternal(1,e)},e.prototype.AT_LEAST_ONE_SEP2=function(e){this.atLeastOneSepFirstInternal(2,e)},e.prototype.AT_LEAST_ONE_SEP3=function(e){this.atLeastOneSepFirstInternal(3,e)},e.prototype.AT_LEAST_ONE_SEP4=function(e){this.atLeastOneSepFirstInternal(4,e)},e.prototype.AT_LEAST_ONE_SEP5=function(e){this.atLeastOneSepFirstInternal(5,e)},e.prototype.AT_LEAST_ONE_SEP6=function(e){this.atLeastOneSepFirstInternal(6,e)},e.prototype.AT_LEAST_ONE_SEP7=function(e){this.atLeastOneSepFirstInternal(7,e)},e.prototype.AT_LEAST_ONE_SEP8=function(e){this.atLeastOneSepFirstInternal(8,e)},e.prototype.AT_LEAST_ONE_SEP9=function(e){this.atLeastOneSepFirstInternal(9,e)},e.prototype.RULE=function(e,t,n){if(void 0===n&&(n=Zt),Object(i.j)(this.definedRulesNames,e)){var r={message:xe.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:Xt.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(r)}this.definedRulesNames.push(e);var o=this.defineRule(e,t,n);return this[e]=o,o},e.prototype.OVERRIDE_RULE=function(e,t,n){void 0===n&&(n=Zt);var r,o,a,s,c,u=[];u=u.concat((r=e,o=this.definedRulesNames,a=this.className,c=[],i.j(o,r)||(s="Invalid rule override, rule: ->"+r+"<- cannot be overridden in the grammar: ->"+a+"<-as it is not defined in any of the super grammars ",c.push({message:s,type:Xt.INVALID_RULE_OVERRIDE,ruleName:r})),c)),this.definitionErrors.push.apply(this.definitionErrors,u);var l=this.defineRule(e,t,n);return this[e]=l,l},e.prototype.BACKTRACK=function(e,t){return function(){this.isBackTrackingStack.push(1);var n=this.saveRecogState();try{return e.apply(this,t),!0}catch(e){if(ht(e))return!1;throw e}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}},e.prototype.getGAstProductions=function(){return this.gastProductionsCache},e.prototype.getSerializedGastProductions=function(){return de(Object(i.U)(this.gastProductionsCache))},e}(),Pt=function(){function e(){}return e.prototype.initRecognizerEngine=function(e,t){if(this.className=St(this.constructor),this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=F,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Object(i.w)(t,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if(Object(i.y)(e)){if(Object(i.A)(e))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"==typeof e[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if(Object(i.y)(e))this.tokensMap=Object(i.O)(e,(function(e,t){return e[t.name]=t,e}),{});else if(Object(i.w)(e,"modes")&&Object(i.o)(Object(i.t)(Object(i.U)(e.modes)),K)){var n=Object(i.t)(Object(i.U)(e.modes)),r=Object(i.T)(n);this.tokensMap=Object(i.O)(r,(function(e,t){return e[t.name]=t,e}),{})}else{if(!Object(i.C)(e))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=Object(i.h)(e)}this.tokensMap.EOF=Q;var o=Object(i.o)(Object(i.U)(e),(function(e){return Object(i.A)(e.categoryMatches)}));this.tokenMatcher=o?F:D,B(Object(i.U)(this.tokensMap))},e.prototype.defineRule=function(e,t,n){if(this.selfAnalysisDone)throw Error("Grammar rule <"+e+"> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.");var r,o=Object(i.w)(n,"resyncEnabled")?n.resyncEnabled:Zt.resyncEnabled,a=Object(i.w)(n,"recoveryValueFunc")?n.recoveryValueFunc:Zt.recoveryValueFunc,s=this.ruleShortNameIdx<<12;function c(e){try{if(!0===this.outputCst){t.apply(this,e);var n=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(n),n}return t.apply(this,e)}catch(e){return this.invokeRuleCatch(e,o,a)}finally{this.ruleFinallyStateUpdate()}}this.ruleShortNameIdx++,this.shortRuleNameToFull[s]=e,this.fullRuleNameToShort[e]=s;return(r=function(t,n){return void 0===t&&(t=0),this.ruleInvocationStateUpdate(s,e,t),c.call(this,n)}).ruleName=e,r.originalGrammarAction=t,r},e.prototype.invokeRuleCatch=function(e,t,n){var r=1===this.RULE_STACK.length,i=t&&!this.isBackTracking()&&this.recoveryEnabled;if(ht(e)){var o=e;if(i){var a,s=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(s))return o.resyncedTokens=this.reSyncTo(s),this.outputCst?((a=this.CST_STACK[this.CST_STACK.length-1]).recoveredNode=!0,a):n();throw this.outputCst&&((a=this.CST_STACK[this.CST_STACK.length-1]).recoveredNode=!0,o.partialCstResult=a),o}if(r)return this.moveToTerminatedState(),n();throw o}throw e},e.prototype.optionInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(512,t);return this.optionInternalLogic(e,t,n)},e.prototype.optionInternalLogic=function(e,t,n){var r,i,o=this,a=this.getLaFuncFromCache(n);if(void 0!==e.DEF){if(r=e.DEF,void 0!==(i=e.GATE)){var s=a;a=function(){return i.call(o)&&s.call(o)}}}else r=e;if(!0===a.call(this))return r.call(this)},e.prototype.atLeastOneInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(1024,e);return this.atLeastOneInternalLogic(e,t,n)},e.prototype.atLeastOneInternalLogic=function(e,t,n){var r,i,o=this,a=this.getLaFuncFromCache(n);if(void 0!==t.DEF){if(r=t.DEF,void 0!==(i=t.GATE)){var s=a;a=function(){return i.call(o)&&s.call(o)}}}else r=t;if(!0!==a.call(this))throw this.raiseEarlyExitException(e,ze.REPETITION_MANDATORY,t.ERR_MSG);for(var c=this.doSingleRepetition(r);!0===a.call(this)&&!0===c;)c=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,t],a,1024,e,Fe)},e.prototype.atLeastOneSepFirstInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(1536,e);this.atLeastOneSepFirstInternalLogic(e,t,n)},e.prototype.atLeastOneSepFirstInternalLogic=function(e,t,n){var r=this,i=t.DEF,o=t.SEP;if(!0!==this.getLaFuncFromCache(n).call(this))throw this.raiseEarlyExitException(e,ze.REPETITION_MANDATORY_WITH_SEPARATOR,t.ERR_MSG);i.call(this);for(var a=function(){return r.tokenMatcher(r.LA(1),o)};!0===this.tokenMatcher(this.LA(1),o);)this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,o,a,i,Ue],a,1536,e,Ue)},e.prototype.manyInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(768,e);return this.manyInternalLogic(e,t,n)},e.prototype.manyInternalLogic=function(e,t,n){var r,i,o=this,a=this.getLaFuncFromCache(n);if(void 0!==t.DEF){if(r=t.DEF,void 0!==(i=t.GATE)){var s=a;a=function(){return i.call(o)&&s.call(o)}}}else r=t;for(var c=!0;!0===a.call(this)&&!0===c;)c=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.manyInternal,[e,t],a,768,e,Me,c)},e.prototype.manySepFirstInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(1280,e);this.manySepFirstInternalLogic(e,t,n)},e.prototype.manySepFirstInternalLogic=function(e,t,n){var r=this,i=t.DEF,o=t.SEP;if(!0===this.getLaFuncFromCache(n).call(this)){i.call(this);for(var a=function(){return r.tokenMatcher(r.LA(1),o)};!0===this.tokenMatcher(this.LA(1),o);)this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,o,a,i,De],a,1280,e,De)}},e.prototype.repetitionSepSecondInternal=function(e,t,n,r,i){for(;n();)this.CONSUME(t),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,t,n,r,i],n,1536,e,i)},e.prototype.doSingleRepetition=function(e){var t=this.getLexerPosition();return e.call(this),this.getLexerPosition()>t},e.prototype.orInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(256,t),r=Object(i.y)(e)?e:e.DEF,o=this.getLaFuncFromCache(n).call(this,r);if(void 0!==o)return r[o].ALT.call(this);this.raiseNoAltException(t,e.ERR_MSG)},e.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){var e=this.LA(1),t=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new mt(t,e))}},e.prototype.subruleInternal=function(e,t,n){var r;try{var i=void 0!==n?n.ARGS:void 0;return r=e.call(this,t,i),this.cstPostNonTerminal(r,void 0!==n&&void 0!==n.LABEL?n.LABEL:e.ruleName),r}catch(t){this.subruleInternalError(t,n,e.ruleName)}},e.prototype.subruleInternalError=function(e,t,n){throw ht(e)&&void 0!==e.partialCstResult&&(this.cstPostNonTerminal(e.partialCstResult,void 0!==t&&void 0!==t.LABEL?t.LABEL:n),delete e.partialCstResult),e},e.prototype.consumeInternal=function(e,t,n){var r;try{var i=this.LA(1);!0===this.tokenMatcher(i,e)?(this.consumeToken(),r=i):this.consumeInternalError(e,i,n)}catch(n){r=this.consumeInternalRecovery(e,t,n)}return this.cstPostTerminal(void 0!==n&&void 0!==n.LABEL?n.LABEL:e.name,r),r},e.prototype.consumeInternalError=function(e,t,n){var r,i=this.LA(0);throw r=void 0!==n&&n.ERR_MSG?n.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:t,previous:i,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new pt(r,t,i))},e.prototype.consumeInternalRecovery=function(e,t,n){if(!this.recoveryEnabled||"MismatchedTokenException"!==n.name||this.isBackTracking())throw n;var r=this.getFollowsForInRuleRecovery(e,t);try{return this.tryInRuleRecovery(e,r)}catch(e){throw"InRuleRecoveryException"===e.name?n:e}},e.prototype.saveRecogState=function(){var e=this.errors,t=Object(i.g)(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:t,CST_STACK:this.CST_STACK}},e.prototype.reloadRecogState=function(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK},e.prototype.ruleInvocationStateUpdate=function(e,t,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(t,e)},e.prototype.isBackTracking=function(){return 0!==this.isBackTrackingStack.length},e.prototype.getCurrRuleFullName=function(){var e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]},e.prototype.shortRuleNameToFullName=function(e){return this.shortRuleNameToFull[e]},e.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),Q)},e.prototype.reset=function(){this.resetLexerState(),this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},e}(),jt=function(){function e(){}return e.prototype.initErrorHandler=function(e){this._errors=[],this.errorMessageProvider=Object(i.w)(e,"errorMessageProvider")?e.errorMessageProvider:Jt.errorMessageProvider},e.prototype.SAVE_ERROR=function(e){if(ht(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Object(i.g)(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")},Object.defineProperty(e.prototype,"errors",{get:function(){return Object(i.g)(this._errors)},set:function(e){this._errors=e},enumerable:!1,configurable:!0}),e.prototype.raiseEarlyExitException=function(e,t,n){for(var r=this.getCurrRuleFullName(),i=Ze(e,this.getGAstProductions()[r],t,this.maxLookahead)[0],o=[],a=1;a<=this.maxLookahead;a++)o.push(this.LA(a));var s=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:i,actual:o,previous:this.LA(0),customUserDescription:n,ruleName:r});throw this.SAVE_ERROR(new gt(s,this.LA(1),this.LA(0)))},e.prototype.raiseNoAltException=function(e,t){for(var n=this.getCurrRuleFullName(),r=Je(e,this.getGAstProductions()[n],this.maxLookahead),i=[],o=1;o<=this.maxLookahead;o++)i.push(this.LA(o));var a=this.LA(0),s=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:r,actual:i,previous:a,customUserDescription:t,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new dt(s,this.LA(1),a))},e}(),Mt=function(){function e(){}return e.prototype.initContentAssist=function(){},e.prototype.computeContentAssist=function(e,t){var n=this.gastProductionsCache[e];if(Object(i.F)(n))throw Error("Rule ->"+e+"<- does not exist in this grammar.");return Be([n],t,this.tokenMatcher,this.maxLookahead)},e.prototype.getNextPossibleTokenTypes=function(e){var t=Object(i.s)(e.ruleStack),n=this.getGAstProductions()[t];return new Pe(n,e).startWalking()},e}(),Dt={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(Dt);var Ft=Math.pow(2,8)-1,Ut=Z({name:"RECORDING_PHASE_TOKEN",pattern:$.NA});B([Ut]);var qt=ee(Ut,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(qt);var Bt={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording for details",children:{}},Wt=function(){function e(){}return e.prototype.initGastRecorder=function(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1},e.prototype.enableRecording=function(){var e=this;this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",(function(){for(var t=function(t){var n=t>0?t:"";e["CONSUME"+n]=function(e,n){return this.consumeInternalRecord(e,t,n)},e["SUBRULE"+n]=function(e,n){return this.subruleInternalRecord(e,t,n)},e["OPTION"+n]=function(e){return this.optionInternalRecord(e,t)},e["OR"+n]=function(e){return this.orInternalRecord(e,t)},e["MANY"+n]=function(e){this.manyInternalRecord(t,e)},e["MANY_SEP"+n]=function(e){this.manySepFirstInternalRecord(t,e)},e["AT_LEAST_ONE"+n]=function(e){this.atLeastOneInternalRecord(t,e)},e["AT_LEAST_ONE_SEP"+n]=function(e){this.atLeastOneSepFirstInternalRecord(t,e)}},n=0;n<10;n++)t(n);e.consume=function(e,t,n){return this.consumeInternalRecord(t,e,n)},e.subrule=function(e,t,n){return this.subruleInternalRecord(t,e,n)},e.option=function(e,t){return this.optionInternalRecord(t,e)},e.or=function(e,t){return this.orInternalRecord(t,e)},e.many=function(e,t){this.manyInternalRecord(e,t)},e.atLeastOne=function(e,t){this.atLeastOneInternalRecord(e,t)},e.ACTION=e.ACTION_RECORD,e.BACKTRACK=e.BACKTRACK_RECORD,e.LA=e.LA_RECORD}))},e.prototype.disableRecording=function(){var e=this;this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",(function(){for(var t=0;t<10;t++){var n=t>0?t:"";delete e["CONSUME"+n],delete e["SUBRULE"+n],delete e["OPTION"+n],delete e["OR"+n],delete e["MANY"+n],delete e["MANY_SEP"+n],delete e["AT_LEAST_ONE"+n],delete e["AT_LEAST_ONE_SEP"+n]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA}))},e.prototype.ACTION_RECORD=function(e){},e.prototype.BACKTRACK_RECORD=function(e,t){return function(){return!0}},e.prototype.LA_RECORD=function(e){return Yt},e.prototype.topLevelRuleRecord=function(e,t){try{var n=new oe({definition:[],name:e});return n.name=e,this.recordingProdStack.push(n),t.call(this),this.recordingProdStack.pop(),n}catch(e){if(!0!==e.KNOWN_RECORDER_ERROR)try{e.message=e.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording'}catch(t){throw e}throw e}},e.prototype.optionInternalRecord=function(e,t){return zt.call(this,se,e,t)},e.prototype.atLeastOneInternalRecord=function(e,t){zt.call(this,ce,t,e)},e.prototype.atLeastOneSepFirstInternalRecord=function(e,t){zt.call(this,ue,t,e,!0)},e.prototype.manyInternalRecord=function(e,t){zt.call(this,le,t,e)},e.prototype.manySepFirstInternalRecord=function(e,t){zt.call(this,fe,t,e,!0)},e.prototype.orInternalRecord=function(e,t){return Kt.call(this,e,t)},e.prototype.subruleInternalRecord=function(e,t,n){if(Ht(t),!e||!1===Object(i.w)(e,"ruleName")){var r=new Error("<SUBRULE"+Vt(t)+"> argument is invalid expecting a Parser method reference but got: <"+JSON.stringify(e)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw r.KNOWN_RECORDER_ERROR=!0,r}var o=Object(i.M)(this.recordingProdStack),a=e.ruleName,s=new ie({idx:t,nonTerminalName:a,referencedRule:void 0});return o.definition.push(s),this.outputCst?Bt:Dt},e.prototype.consumeInternalRecord=function(e,t,n){if(Ht(t),!W(e)){var r=new Error("<CONSUME"+Vt(t)+"> argument is invalid expecting a TokenType reference but got: <"+JSON.stringify(e)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw r.KNOWN_RECORDER_ERROR=!0,r}var o=Object(i.M)(this.recordingProdStack),a=new pe({idx:t,terminalType:e});return o.definition.push(a),qt},e}();function zt(e,t,n,r){void 0===r&&(r=!1),Ht(n);var o=Object(i.M)(this.recordingProdStack),a=Object(i.B)(t)?t:t.DEF,s=new e({definition:[],idx:n});return r&&(s.separator=t.SEP),Object(i.w)(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(s),a.call(this),o.definition.push(s),this.recordingProdStack.pop(),Dt}function Kt(e,t){var n=this;Ht(t);var r=Object(i.M)(this.recordingProdStack),o=!1===Object(i.y)(e),a=!1===o?e:e.DEF,s=new he({definition:[],idx:t,ignoreAmbiguities:o&&!0===e.IGNORE_AMBIGUITIES});Object(i.w)(e,"MAX_LOOKAHEAD")&&(s.maxLookahead=e.MAX_LOOKAHEAD);var c=Object(i.Q)(a,(function(e){return Object(i.B)(e.GATE)}));return s.hasPredicates=c,r.definition.push(s),Object(i.u)(a,(function(e){var t=new ae({definition:[]});s.definition.push(t),Object(i.w)(e,"IGNORE_AMBIGUITIES")?t.ignoreAmbiguities=e.IGNORE_AMBIGUITIES:Object(i.w)(e,"GATE")&&(t.ignoreAmbiguities=!0),n.recordingProdStack.push(t),e.ALT.call(n),n.recordingProdStack.pop()})),Dt}function Vt(e){return 0===e?"":""+e}function Ht(e){if(e<0||e>Ft){var t=new Error("Invalid DSL Method idx value: <"+e+">\n\tIdx value must be a none negative value smaller than "+(Ft+1));throw t.KNOWN_RECORDER_ERROR=!0,t}}var Gt=function(){function e(){}return e.prototype.initPerformanceTracer=function(e){if(Object(i.w)(e,"traceInitPerf")){var t=e.traceInitPerf,n="number"==typeof t;this.traceInitMaxIdent=n?t:1/0,this.traceInitPerf=n?t>0:t}else this.traceInitMaxIdent=0,this.traceInitPerf=Jt.traceInitPerf;this.traceInitIndent=-1},e.prototype.TRACE_INIT=function(e,t){if(!0===this.traceInitPerf){this.traceInitIndent++;var n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(n+"--\x3e <"+e+">");var r=Object(i.R)(t),o=r.time,a=r.value,s=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&s(n+"<-- <"+e+"> time: "+o+"ms"),this.traceInitIndent--,a}return t()},e}(),$t=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yt=ee(Q,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(Yt);var Xt,Jt=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Ae,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),Zt=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0});function Qt(e){return void 0===e&&(e=void 0),function(){return e}}!function(e){e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=12]="TOO_MANY_ALTS"}(Xt||(Xt={}));var en=function(){function e(e,t){this.definitionErrors=[],this.selfAnalysisDone=!1;if(this.initErrorHandler(t),this.initLexerAdapter(),this.initLooksAhead(t),this.initRecognizerEngine(e,t),this.initRecoverable(t),this.initTreeBuilder(t),this.initContentAssist(),this.initGastRecorder(t),this.initPerformanceTracer(t),Object(i.w)(t,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=Object(i.w)(t,"skipValidations")?t.skipValidations:Jt.skipValidations}return e.performSelfAnalysis=function(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")},e.prototype.performSelfAnalysis=function(){var t=this;this.TRACE_INIT("performSelfAnalysis",(function(){var n;t.selfAnalysisDone=!0;var r=t.className;t.TRACE_INIT("toFastProps",(function(){Object(i.S)(t)})),t.TRACE_INIT("Grammar Recording",(function(){try{t.enableRecording(),Object(i.u)(t.definedRulesNames,(function(e){var n=t[e].originalGrammarAction,r=void 0;t.TRACE_INIT(e+" Rule",(function(){r=t.topLevelRuleRecord(e,n)})),t.gastProductionsCache[e]=r}))}finally{t.disableRecording()}}));var o=[];if(t.TRACE_INIT("Grammar Resolving",(function(){o=ct({rules:Object(i.U)(t.gastProductionsCache)}),t.definitionErrors.push.apply(t.definitionErrors,o)})),t.TRACE_INIT("Grammar Validations",(function(){if(Object(i.A)(o)&&!1===t.skipValidations){var e=ut({rules:Object(i.U)(t.gastProductionsCache),maxLookahead:t.maxLookahead,tokenTypes:Object(i.U)(t.tokensMap),errMsgProvider:xe,grammarName:r});t.definitionErrors.push.apply(t.definitionErrors,e)}})),Object(i.A)(t.definitionErrors)&&(t.recoveryEnabled&&t.TRACE_INIT("computeAllProdsFollows",(function(){var e,n,r=(e=Object(i.U)(t.gastProductionsCache),n={},Object(i.u)(e,(function(e){var t=new Ie(e).startWalking();Object(i.f)(n,t)})),n);t.resyncFollows=r})),t.TRACE_INIT("ComputeLookaheadFunctions",(function(){t.preComputeLookaheadFunctions(Object(i.U)(t.gastProductionsCache))}))),!e.DEFER_DEFINITION_ERRORS_HANDLING&&!Object(i.A)(t.definitionErrors))throw n=Object(i.I)(t.definitionErrors,(function(e){return e.message})),new Error("Parser Definition Errors detected:\n "+n.join("\n-------------------------------\n"))}))},e.DEFER_DEFINITION_ERRORS_HANDLING=!1,e}();Object(i.e)(en,[bt,Ot,Lt,kt,Pt,wt,jt,Mt,Wt,Gt]);var tn=function(e){function t(t,n){void 0===n&&(n=Jt);var r=Object(i.h)(n);return r.outputCst=!0,e.call(this,t,r)||this}return $t(t,e),t}(en),nn=function(e){function t(t,n){void 0===n&&(n=Jt);var r=Object(i.h)(n);return r.outputCst=!1,e.call(this,t,r)||this}return $t(t,e),t}(en);function rn(e,t){var n=void 0===t?{}:t,i=n.resourceBase,o=void 0===i?"https://unpkg.com/chevrotain@"+r+"/diagrams/":i,a=n.css;return'\n\x3c!-- This is a generated file --\x3e\n<!DOCTYPE html>\n<meta charset="utf-8">\n<style>\n  body {\n    background-color: hsl(30, 20%, 95%)\n  }\n</style>\n\n'+("\n<link rel='stylesheet' href='"+(void 0===a?"https://unpkg.com/chevrotain@"+r+"/diagrams/diagrams.css":a)+"'>\n")+("\n<script src='"+o+"vendor/railroad-diagrams.js'><\/script>\n<script src='"+o+"src/diagrams_builder.js'><\/script>\n<script src='"+o+"src/diagrams_behavior.js'><\/script>\n<script src='"+o+"src/main.js'><\/script>\n")+'\n<div id="diagrams" align="center"></div>    \n'+("\n<script>\n    window.serializedGrammar = "+JSON.stringify(e,null,"  ")+";\n<\/script>\n")+'\n<script>\n    var diagramsDiv = document.getElementById("diagrams");\n    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);\n<\/script>\n'}var on="\n";function an(e){var t;return"\nfunction "+e.name+"(tokenVocabulary, config) {\n    // invoke super constructor\n    // No support for embedded actions currently, so we can 'hardcode'\n    // The use of CstParser.\n    chevrotain.CstParser.call(this, tokenVocabulary, config)\n\n    const $ = this\n\n    "+(t=e.rules,Object(i.I)(t,(function(e){return r=hn(n=1,'$.RULE("'+(t=e).name+'", function() {')+on,r+=fn(t.definition,n+1),r+=hn(n+1,"})")+on;var t,n,r})).join("\n")+"\n\n    // very important to call this after all the rules have been defined.\n    // otherwise the parser may not work correctly as it will lack information\n    // derived during the self analysis phase.\n    this.performSelfAnalysis(this)\n}\n\n// inheritance as implemented in javascript in the previous decade... :(\n")+e.name+".prototype = Object.create(chevrotain.CstParser.prototype)\n"+e.name+".prototype.constructor = "+e.name+"    \n    "}function sn(e,t){var n=hn(t,"$.OR"+e.idx+"([")+on,r=Object(i.I)(e.definition,(function(e){return function(e,t){var n=hn(t,"{")+on;return n+=hn(t+1,"ALT: function() {")+on,n+=fn(e.definition,t+1),n+=hn(t+1,"}")+on,n+=hn(t,"}")}(e,t+1)}));return n+=r.join(",\n"),n+=on+hn(t,"])\n")}function cn(e,t){if(e instanceof ie)return function(e,t){return hn(t,"$.SUBRULE"+e.idx+"($."+e.nonTerminalName+")"+on)}(e,t);if(e instanceof se)return un("OPTION",e,t);if(e instanceof ce)return un("AT_LEAST_ONE",e,t);if(e instanceof ue)return un("AT_LEAST_ONE_SEP",e,t);if(e instanceof fe)return un("MANY_SEP",e,t);if(e instanceof le)return un("MANY",e,t);if(e instanceof he)return sn(e,t);if(e instanceof pe)return function(e,t){var n=e.terminalType.name;return hn(t,"$.CONSUME"+e.idx+"(this.tokensMap."+n+")"+on)}(e,t);if(e instanceof ae)return fn(e.definition,t);throw Error("non exhaustive match")}function un(e,t,n){var r=hn(n,"$."+(e+t.idx)+"(");return t.separator?(r+="{\n",r+=hn(n+1,"SEP: this.tokensMap."+t.separator.name)+","+on,r+="DEF: "+ln(t.definition,n+2)+on,r+=hn(n,"}")+on):r+=ln(t.definition,n+1),r+=hn(n,")")+on}function ln(e,t){var n="function() {\n";return n+=fn(e,t),n+=hn(t,"}")+on}function fn(e,t){var n="";return Object(i.u)(e,(function(e){n+=cn(e,t+1)})),n}function hn(e,t){return Array(4*e+1).join(" ")+t}function pn(e){var t=function(e){return"    \n"+an(e)+"\nreturn new "+e.name+"(tokenVocabulary, config)    \n"}({name:e.name,rules:e.rules}),r=new Function("tokenVocabulary","config","chevrotain",t);return function(t){return r(e.tokenVocabulary,t,n(86))}}function dn(e){return function(e){return"\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['chevrotain'], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory(require('chevrotain'));\n    } else {\n        // Browser globals (root is window)\n        root.returnExports = factory(root.b);\n    }\n}(typeof self !== 'undefined' ? self : this, function (chevrotain) {\n\n"+an(e)+"\n    \nreturn {\n    "+e.name+": "+e.name+" \n}\n}));\n"}({name:e.name,rules:e.rules})}function mn(){console.warn("The clearCache function was 'soft' removed from the Chevrotain API.\n\t It performs no action other than printing this message.\n\t Please avoid using it as it will be completely removed in the future")}var gn=function(){throw new Error("The Parser class has been deprecated, use CstParser or EmbeddedActionsParser instead.\t\nSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_7-0-0")}},function(e,t,n){"use strict";n.r(t),n.d(t,"VERSION",(function(){return r})),n.d(t,"CstParser",(function(){return rn})),n.d(t,"EmbeddedActionsParser",(function(){return on})),n.d(t,"ParserDefinitionErrorType",(function(){return Zt})),n.d(t,"EMPTY_ALT",(function(){return tn})),n.d(t,"Lexer",(function(){return $})),n.d(t,"LexerDefinitionErrorType",(function(){return V})),n.d(t,"createToken",(function(){return Z})),n.d(t,"createTokenInstance",(function(){return ee})),n.d(t,"EOF",(function(){return Q})),n.d(t,"tokenLabel",(function(){return Y})),n.d(t,"tokenMatcher",(function(){return te})),n.d(t,"tokenName",(function(){return X})),n.d(t,"defaultGrammarResolverErrorProvider",(function(){return Ce})),n.d(t,"defaultGrammarValidatorErrorProvider",(function(){return xe})),n.d(t,"defaultParserErrorProvider",(function(){return Ae})),n.d(t,"EarlyExitException",(function(){return yt})),n.d(t,"isRecognitionException",(function(){return pt})),n.d(t,"MismatchedTokenException",(function(){return mt})),n.d(t,"NotAllInputParsedException",(function(){return vt})),n.d(t,"NoViableAltException",(function(){return gt})),n.d(t,"defaultLexerErrorProvider",(function(){return H})),n.d(t,"Alternation",(function(){return he})),n.d(t,"Alternative",(function(){return ae})),n.d(t,"NonTerminal",(function(){return ie})),n.d(t,"Option",(function(){return se})),n.d(t,"Repetition",(function(){return le})),n.d(t,"RepetitionMandatory",(function(){return ce})),n.d(t,"RepetitionMandatoryWithSeparator",(function(){return ue})),n.d(t,"RepetitionWithSeparator",(function(){return fe})),n.d(t,"Rule",(function(){return oe})),n.d(t,"Terminal",(function(){return pe})),n.d(t,"serializeGrammar",(function(){return de})),n.d(t,"serializeProduction",(function(){return me})),n.d(t,"GAstVisitor",(function(){return ye})),n.d(t,"assignOccurrenceIndices",(function(){return lt})),n.d(t,"resolveGrammar",(function(){return ct})),n.d(t,"validateGrammar",(function(){return ut})),n.d(t,"clearCache",(function(){return vn})),n.d(t,"createSyntaxDiagramsCode",(function(){return an})),n.d(t,"generateParserFactory",(function(){return mn})),n.d(t,"generateParserModule",(function(){return gn})),n.d(t,"Parser",(function(){return yn}));var r="7.1.1",i=n(1),o=n(17),a={},s=new o.RegExpParser;function c(e){var t=e.toString();if(a.hasOwnProperty(t))return a[t];var n=s.pattern(t);return a[t]=n,n}var u,l=(u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f='Unable to use "first char" lexer optimizations:\n';function h(e,t){void 0===t&&(t=!1);try{var n=c(e);return function e(t,n,r){switch(t.type){case"Disjunction":for(var o=0;o<t.value.length;o++)e(t.value[o],n,r);break;case"Alternative":var a=t.value;for(o=0;o<a.length;o++){var s=a[o];switch(s.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}var c=s;switch(c.type){case"Character":p(c.value,n,r);break;case"Set":if(!0===c.complement)throw Error("Complement Sets are not supported for first char optimization");Object(i.u)(c.value,(function(e){if("number"==typeof e)p(e,n,r);else{var t=e;if(!0===r)for(var i=t.from;i<=t.to;i++)p(i,n,r);else{for(i=t.from;i<=t.to&&i<P;i++)p(i,n,r);if(t.to>=P)for(var o=t.from>=P?t.from:P,a=t.to,s=j(o),c=j(a),u=s;u<=c;u++)n[u]=u}}}));break;case"Group":e(c.value,n,r);break;default:throw Error("Non Exhaustive Match")}var u=void 0!==c.quantifier&&0===c.quantifier.atLeast;if("Group"===c.type&&!1===m(c)||"Group"!==c.type&&!1===u)break}break;default:throw Error("non exhaustive match!")}return Object(i.U)(n)}(n.value,{},n.flags.ignoreCase)}catch(n){if("Complement Sets are not supported for first char optimization"===n.message)t&&Object(i.d)(f+"\tUnable to optimize: < "+e.toString()+" >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.");else{var r="";t&&(r="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),Object(i.c)(f+"\n\tFailed parsing: < "+e.toString()+" >\n\tUsing the regexp-to-ast library version: "+o.VERSION+"\n\tPlease open an issue at: https://github.com/bd82/regexp-to-ast/issues"+r)}}return[]}function p(e,t,n){var r=j(e);t[r]=r,!0===n&&function(e,t){var n=String.fromCharCode(e),r=n.toUpperCase();if(r!==n){var i=j(r.charCodeAt(0));t[i]=i}else{var o=n.toLowerCase();if(o!==n){i=j(o.charCodeAt(0));t[i]=i}}}(e,t)}function d(e,t){return Object(i.q)(e.value,(function(e){if("number"==typeof e)return Object(i.j)(t,e);var n=e;return void 0!==Object(i.q)(t,(function(e){return n.from<=e&&e<=n.to}))}))}function m(e){return!(!e.quantifier||0!==e.quantifier.atLeast)||!!e.value&&(Object(i.y)(e.value)?Object(i.o)(e.value,m):m(e.value))}var g=function(e){function t(t){var n=e.call(this)||this;return n.targetCharCodes=t,n.found=!1,n}return l(t,e),t.prototype.visitChildren=function(t){if(!0!==this.found){switch(t.type){case"Lookahead":return void this.visitLookahead(t);case"NegativeLookahead":return void this.visitNegativeLookahead(t)}e.prototype.visitChildren.call(this,t)}},t.prototype.visitCharacter=function(e){Object(i.j)(this.targetCharCodes,e.value)&&(this.found=!0)},t.prototype.visitSet=function(e){e.complement?void 0===d(e,this.targetCharCodes)&&(this.found=!0):void 0!==d(e,this.targetCharCodes)&&(this.found=!0)},t}(o.BaseRegExpVisitor);function v(e,t){if(t instanceof RegExp){var n=c(t),r=new g(e);return r.visit(n),r.found}return void 0!==Object(i.q)(t,(function(t){return Object(i.j)(e,t.charCodeAt(0))}))}var y=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),b="PATTERN",T="boolean"==typeof new RegExp("(?:)").sticky;function _(e,t){var n,r=(t=Object(i.k)(t,{useSticky:T,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:function(e,t){return t()}})).tracer;r("initCharCodeToOptimizedIndexMap",(function(){!function(){if(Object(i.A)(M)){M=new Array(65536);for(var e=0;e<65536;e++)M[e]=e>255?255+~~(e/255):e}}()})),r("Reject Lexer.NA",(function(){n=Object(i.P)(e,(function(e){return e[b]===$.NA}))}));var o,a,s,c,u,l,p,d,m,g,y,_=!1;r("Transform Patterns",(function(){_=!1,o=Object(i.I)(n,(function(e){var n=e[b];if(Object(i.D)(n)){var r=n.source;return 1!==r.length||"^"===r||"$"===r||"."===r||n.ignoreCase?2!==r.length||"\\"!==r[0]||Object(i.j)(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],r[1])?t.useSticky?S(n):N(n):r[1]:r}if(Object(i.B)(n))return _=!0,{exec:n};if(Object(i.w)(n,"exec"))return _=!0,n;if("string"==typeof n){if(1===n.length)return n;var o=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),a=new RegExp(o);return t.useSticky?S(a):N(a)}throw Error("non exhaustive match")}))})),r("misc mapping",(function(){a=Object(i.I)(n,(function(e){return e.tokenTypeIdx})),s=Object(i.I)(n,(function(e){var t=e.GROUP;if(t!==$.SKIPPED){if(Object(i.E)(t))return t;if(Object(i.F)(t))return!1;throw Error("non exhaustive match")}})),c=Object(i.I)(n,(function(e){var t=e.LONGER_ALT;if(t)return Object(i.x)(n,t)})),u=Object(i.I)(n,(function(e){return e.PUSH_MODE})),l=Object(i.I)(n,(function(e){return Object(i.w)(e,"POP_MODE")}))})),r("Line Terminator Handling",(function(){var e=k(t.lineTerminatorCharacters);p=Object(i.I)(n,(function(e){return!1})),"onlyOffset"!==t.positionTracking&&(p=Object(i.I)(n,(function(t){return Object(i.w)(t,"LINE_BREAKS")?t.LINE_BREAKS:!1===L(t,e)?v(e,t.PATTERN):void 0})))})),r("Misc Mapping #2",(function(){d=Object(i.I)(n,A),m=Object(i.I)(o,C),g=Object(i.O)(n,(function(e,t){var n=t.GROUP;return Object(i.E)(n)&&n!==$.SKIPPED&&(e[n]=[]),e}),{}),y=Object(i.I)(o,(function(e,t){return{pattern:o[t],longerAlt:c[t],canLineTerminator:p[t],isCustom:d[t],short:m[t],group:s[t],push:u[t],pop:l[t],tokenTypeIdx:a[t],tokenType:n[t]}}))}));var O=!0,E=[];return t.safeMode||r("First Char Optimization",(function(){E=Object(i.O)(n,(function(e,n,r){if("string"==typeof n.PATTERN){var o=j(n.PATTERN.charCodeAt(0));w(e,o,y[r])}else if(Object(i.y)(n.START_CHARS_HINT)){var a;Object(i.u)(n.START_CHARS_HINT,(function(t){var n=j("string"==typeof t?t.charCodeAt(0):t);a!==n&&(a=n,w(e,n,y[r]))}))}else if(Object(i.D)(n.PATTERN))if(n.PATTERN.unicode)O=!1,t.ensureOptimizations&&Object(i.c)(f+"\tUnable to analyze < "+n.PATTERN.toString()+" > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE");else{var s=h(n.PATTERN,t.ensureOptimizations);Object(i.A)(s)&&(O=!1),Object(i.u)(s,(function(t){w(e,t,y[r])}))}else t.ensureOptimizations&&Object(i.c)(f+"\tTokenType: <"+n.name+"> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE"),O=!1;return e}),[])})),r("ArrayPacking",(function(){E=Object(i.L)(E)})),{emptyGroups:g,patternIdxToConfig:y,charCodeToPatternIdxToConfig:E,hasCustom:_,canBeOptimized:O}}function O(e,t){var n=[],r=function(e){var t=Object(i.p)(e,(function(e){return!Object(i.w)(e,b)})),n=Object(i.I)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- missing static 'PATTERN' property",type:V.MISSING_PATTERN,tokenTypes:[e]}})),r=Object(i.l)(e,t);return{errors:n,valid:r}}(e);n=n.concat(r.errors);var a=function(e){var t=Object(i.p)(e,(function(e){var t=e[b];return!(Object(i.D)(t)||Object(i.B)(t)||Object(i.w)(t,"exec")||Object(i.E)(t))})),n=Object(i.I)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:V.INVALID_PATTERN,tokenTypes:[e]}})),r=Object(i.l)(e,t);return{errors:n,valid:r}}(r.valid),s=a.valid;return n=(n=(n=(n=(n=n.concat(a.errors)).concat(function(e){var t=[],n=Object(i.p)(e,(function(e){return Object(i.D)(e[b])}));return t=(t=(t=(t=(t=t.concat(function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.found=!1,t}return y(t,e),t.prototype.visitEndAnchor=function(e){this.found=!0},t}(o.BaseRegExpVisitor),n=Object(i.p)(e,(function(e){var n=e[b];try{var r=c(n),i=new t;return i.visit(r),i.found}catch(e){return E.test(n.source)}}));return Object(i.I)(n,(function(e){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:V.EOI_ANCHOR_FOUND,tokenTypes:[e]}}))}(n))).concat(function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.found=!1,t}return y(t,e),t.prototype.visitStartAnchor=function(e){this.found=!0},t}(o.BaseRegExpVisitor),n=Object(i.p)(e,(function(e){var n=e[b];try{var r=c(n),i=new t;return i.visit(r),i.found}catch(e){return R.test(n.source)}}));return Object(i.I)(n,(function(e){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:V.SOI_ANCHOR_FOUND,tokenTypes:[e]}}))}(n))).concat(function(e){var t=Object(i.p)(e,(function(e){var t=e[b];return t instanceof RegExp&&(t.multiline||t.global)}));return Object(i.I)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:V.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[e]}}))}(n))).concat(function(e){var t=[],n=Object(i.I)(e,(function(n){return Object(i.O)(e,(function(e,r){return n.PATTERN.source!==r.PATTERN.source||Object(i.j)(t,r)||r.PATTERN===$.NA||(t.push(r),e.push(r)),e}),[])}));n=Object(i.i)(n);var r=Object(i.p)(n,(function(e){return e.length>1}));return Object(i.I)(r,(function(e){var t=Object(i.I)(e,(function(e){return e.name}));return{message:"The same RegExp pattern ->"+Object(i.s)(e).PATTERN+"<-has been used in all of the following Token Types: "+t.join(", ")+" <-",type:V.DUPLICATE_PATTERNS_FOUND,tokenTypes:e}}))}(n))).concat(function(e){var t=Object(i.p)(e,(function(e){return e[b].test("")}));return Object(i.I)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' must not match an empty string",type:V.EMPTY_MATCH_PATTERN,tokenTypes:[e]}}))}(n))}(s))).concat(function(e){var t=Object(i.p)(e,(function(e){if(!Object(i.w)(e,"GROUP"))return!1;var t=e.GROUP;return t!==$.SKIPPED&&t!==$.NA&&!Object(i.E)(t)}));return Object(i.I)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:V.INVALID_GROUP_TYPE_FOUND,tokenTypes:[e]}}))}(s))).concat(function(e,t){var n=Object(i.p)(e,(function(e){return void 0!==e.PUSH_MODE&&!Object(i.j)(t,e.PUSH_MODE)}));return Object(i.I)(n,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->"+e.PUSH_MODE+"<-which does not exist",type:V.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[e]}}))}(s,t))).concat(function(e){var t=[],n=Object(i.O)(e,(function(e,t,n){var r,o=t.PATTERN;return o===$.NA||(Object(i.E)(o)?e.push({str:o,idx:n,tokenType:t}):Object(i.D)(o)&&(r=o,void 0===Object(i.q)([".","\\","[","]","|","^","$","(",")","?","*","+","{"],(function(e){return-1!==r.source.indexOf(e)})))&&e.push({str:o.source,idx:n,tokenType:t})),e}),[]);return Object(i.u)(e,(function(e,r){Object(i.u)(n,(function(n){var o=n.str,a=n.idx,s=n.tokenType;if(r<a&&function(e,t){if(Object(i.D)(t)){var n=t.exec(e);return null!==n&&0===n.index}if(Object(i.B)(t))return t(e,0,[],{});if(Object(i.w)(t,"exec"))return t.exec(e,0,[],{});if("string"==typeof t)return t===e;throw Error("non exhaustive match")}(o,e.PATTERN)){var c="Token: ->"+s.name+"<- can never be matched.\nBecause it appears AFTER the Token Type ->"+e.name+"<-in the lexer's definition.\nSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNREACHABLE";t.push({message:c,type:V.UNREACHABLE_PATTERN,tokenTypes:[e,s]})}}))})),t}(s))}var E=/[^\\][\$]/;var R=/[^\\[][\^]|^\^/;function N(e){var t=e.ignoreCase?"i":"";return new RegExp("^(?:"+e.source+")",t)}function S(e){var t=e.ignoreCase?"iy":"y";return new RegExp(""+e.source,t)}function I(e,t,n){var r=[],o=!1,a=Object(i.i)(Object(i.t)(Object(i.J)(e.modes,(function(e){return e})))),s=Object(i.P)(a,(function(e){return e[b]===$.NA})),c=k(n);return t&&Object(i.u)(s,(function(e){var t=L(e,c);if(!1!==t){var n={message:function(e,t){if(t.issue===V.IDENTIFY_TERMINATOR)return"Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <"+e.name+"> Token Type\n\t Root cause: "+t.errMsg+".\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR";if(t.issue===V.CUSTOM_LINE_BREAK)return"Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <"+e.name+"> Token Type\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK";throw Error("non exhaustive match")}(e,t),type:t.issue,tokenType:e};r.push(n)}else Object(i.w)(e,"LINE_BREAKS")?!0===e.LINE_BREAKS&&(o=!0):v(c,e.PATTERN)&&(o=!0)})),t&&!o&&r.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:V.NO_LINE_BREAKS_FLAGS}),r}function A(e){var t=e.PATTERN;if(Object(i.D)(t))return!1;if(Object(i.B)(t))return!0;if(Object(i.w)(t,"exec"))return!0;if(Object(i.E)(t))return!1;throw Error("non exhaustive match")}function C(e){return!(!Object(i.E)(e)||1!==e.length)&&e.charCodeAt(0)}var x={test:function(e){for(var t=e.length,n=this.lastIndex;n<t;n++){var r=e.charCodeAt(n);if(10===r)return this.lastIndex=n+1,!0;if(13===r)return 10===e.charCodeAt(n+1)?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function L(e,t){if(Object(i.w)(e,"LINE_BREAKS"))return!1;if(Object(i.D)(e.PATTERN)){try{v(t,e.PATTERN)}catch(e){return{issue:V.IDENTIFY_TERMINATOR,errMsg:e.message}}return!1}if(Object(i.E)(e.PATTERN))return!1;if(A(e))return{issue:V.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function k(e){return Object(i.I)(e,(function(e){return Object(i.E)(e)&&e.length>0?e.charCodeAt(0):e}))}function w(e,t,n){void 0===e[t]?e[t]=[n]:e[t].push(n)}var P=256;function j(e){return e<P?e:M[e]}var M=[];function D(e,t){var n=e.tokenTypeIdx;return n===t.tokenTypeIdx||!0===t.isParent&&!0===t.categoryMatchesMap[n]}function F(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}var U=1,q={};function B(e){var t=function(e){var t=Object(i.g)(e),n=e,r=!0;for(;r;){n=Object(i.i)(Object(i.t)(Object(i.I)(n,(function(e){return e.CATEGORIES}))));var o=Object(i.l)(n,t);t=t.concat(o),Object(i.A)(o)?r=!1:n=o}return t}(e);!function(e){Object(i.u)(e,(function(e){var t;W(e)||(q[U]=e,e.tokenTypeIdx=U++),z(e)&&!Object(i.y)(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),z(e)||(e.CATEGORIES=[]),t=e,Object(i.w)(t,"categoryMatches")||(e.categoryMatches=[]),function(e){return Object(i.w)(e,"categoryMatchesMap")}(e)||(e.categoryMatchesMap={})}))}(t),function(e){Object(i.u)(e,(function(e){!function e(t,n){Object(i.u)(t,(function(e){n.categoryMatchesMap[e.tokenTypeIdx]=!0})),Object(i.u)(n.CATEGORIES,(function(r){var o=t.concat(n);Object(i.j)(o,r)||e(o,r)}))}([],e)}))}(t),function(e){Object(i.u)(e,(function(e){e.categoryMatches=[],Object(i.u)(e.categoryMatchesMap,(function(t,n){e.categoryMatches.push(q[n].tokenTypeIdx)}))}))}(t),Object(i.u)(t,(function(e){e.isParent=e.categoryMatches.length>0}))}function W(e){return Object(i.w)(e,"tokenTypeIdx")}function z(e){return Object(i.w)(e,"CATEGORIES")}function K(e){return Object(i.w)(e,"tokenTypeIdx")}var V,H={buildUnableToPopLexerModeMessage:function(e){return"Unable to pop Lexer Mode after encountering Token ->"+e.image+"<- The Mode Stack is empty"},buildUnexpectedCharactersMessage:function(e,t,n,r,i){return"unexpected character: ->"+e.charAt(t)+"<- at offset: "+t+", skipped "+n+" characters."}};!function(e){e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK"}(V||(V={}));var G={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:H,traceInitPerf:!1,skipValidations:!1};Object.freeze(G);var $=function(){function e(e,t){var n=this;if(void 0===t&&(t=G),this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.config=void 0,this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},"boolean"==typeof t)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=Object(i.K)(G,t);var r=this.config.traceInitPerf;!0===r?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof r&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",(function(){var r,o=!0;n.TRACE_INIT("Lexer Config handling",(function(){if(n.config.lineTerminatorsPattern===G.lineTerminatorsPattern)n.config.lineTerminatorsPattern=x;else if(n.config.lineTerminatorCharacters===G.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(t.safeMode&&t.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');n.trackStartLines=/full|onlyStart/i.test(n.config.positionTracking),n.trackEndLines=/full/i.test(n.config.positionTracking),Object(i.y)(e)?((r={modes:{}}).modes.defaultMode=Object(i.g)(e),r.defaultMode="defaultMode"):(o=!1,r=Object(i.h)(e))})),!1===n.config.skipValidations&&(n.TRACE_INIT("performRuntimeChecks",(function(){n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat(function(e,t,n){var r=[];return Object(i.w)(e,"defaultMode")||r.push({message:"A MultiMode Lexer cannot be initialized without a <defaultMode> property in its definition\n",type:V.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Object(i.w)(e,"modes")||r.push({message:"A MultiMode Lexer cannot be initialized without a <modes> property in its definition\n",type:V.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Object(i.w)(e,"modes")&&Object(i.w)(e,"defaultMode")&&!Object(i.w)(e.modes,e.defaultMode)&&r.push({message:"A MultiMode Lexer cannot be initialized with a defaultMode: <"+e.defaultMode+">which does not exist\n",type:V.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Object(i.w)(e,"modes")&&Object(i.u)(e.modes,(function(e,t){Object(i.u)(e,(function(e,n){Object(i.F)(e)&&r.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:<"+t+"> at index: <"+n+">\n",type:V.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED})}))})),r}(r,n.trackStartLines,n.config.lineTerminatorCharacters))})),n.TRACE_INIT("performWarningRuntimeChecks",(function(){n.lexerDefinitionWarning=n.lexerDefinitionWarning.concat(I(r,n.trackStartLines,n.config.lineTerminatorCharacters))}))),r.modes=r.modes?r.modes:{},Object(i.u)(r.modes,(function(e,t){r.modes[t]=Object(i.P)(e,(function(e){return Object(i.F)(e)}))}));var s=Object(i.G)(r.modes);if(Object(i.u)(r.modes,(function(e,r){n.TRACE_INIT("Mode: <"+r+"> processing",(function(){var o;(n.modes.push(r),!1===n.config.skipValidations&&n.TRACE_INIT("validatePatterns",(function(){n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat(O(e,s))})),Object(i.A)(n.lexerDefinitionErrors))&&(B(e),n.TRACE_INIT("analyzeTokenTypes",(function(){o=_(e,{lineTerminatorCharacters:n.config.lineTerminatorCharacters,positionTracking:t.positionTracking,ensureOptimizations:t.ensureOptimizations,safeMode:t.safeMode,tracer:n.TRACE_INIT.bind(n)})})),n.patternIdxToConfig[r]=o.patternIdxToConfig,n.charCodeToPatternIdxToConfig[r]=o.charCodeToPatternIdxToConfig,n.emptyGroups=Object(i.K)(n.emptyGroups,o.emptyGroups),n.hasCustom=o.hasCustom||n.hasCustom,n.canModeBeOptimized[r]=o.canBeOptimized)}))})),n.defaultMode=r.defaultMode,!Object(i.A)(n.lexerDefinitionErrors)&&!n.config.deferDefinitionErrorsHandling){var c=Object(i.I)(n.lexerDefinitionErrors,(function(e){return e.message})).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+c)}Object(i.u)(n.lexerDefinitionWarning,(function(e){Object(i.d)(e.message)})),n.TRACE_INIT("Choosing sub-methods implementations",(function(){if(T?(n.chopInput=i.a,n.match=n.matchWithTest):(n.updateLastIndex=i.b,n.match=n.matchWithExec),o&&(n.handleModes=i.b),!1===n.trackStartLines&&(n.computeNewColumn=i.a),!1===n.trackEndLines&&(n.updateTokenEndLineColumnLocation=i.b),/full/i.test(n.config.positionTracking))n.createTokenInstance=n.createFullToken;else if(/onlyStart/i.test(n.config.positionTracking))n.createTokenInstance=n.createStartOnlyToken;else{if(!/onlyOffset/i.test(n.config.positionTracking))throw Error('Invalid <positionTracking> config option: "'+n.config.positionTracking+'"');n.createTokenInstance=n.createOffsetOnlyToken}n.hasCustom?(n.addToken=n.addTokenUsingPush,n.handlePayload=n.handlePayloadWithCustom):(n.addToken=n.addTokenUsingMemberAccess,n.handlePayload=n.handlePayloadNoCustom)})),n.TRACE_INIT("Failed Optimization Warnings",(function(){var e=Object(i.O)(n.canModeBeOptimized,(function(e,t,n){return!1===t&&e.push(n),e}),[]);if(t.ensureOptimizations&&!Object(i.A)(e))throw Error("Lexer Modes: < "+e.join(", ")+' > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.')})),n.TRACE_INIT("clearRegExpParserCache",(function(){a={}})),n.TRACE_INIT("toFastProperties",(function(){Object(i.S)(n)}))}))}return e.prototype.tokenize=function(e,t){if(void 0===t&&(t=this.defaultMode),!Object(i.A)(this.lexerDefinitionErrors)){var n=Object(i.I)(this.lexerDefinitionErrors,(function(e){return e.message})).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+n)}return this.tokenizeInternal(e,t)},e.prototype.tokenizeInternal=function(e,t){var n,r,o,a,s,c,u,l,f,h,p,d,m,g,v,y,b,T=this,_=e,O=_.length,E=0,R=0,N=this.hasCustom?0:Math.floor(e.length/10),S=new Array(N),I=[],A=this.trackStartLines?1:void 0,C=this.trackStartLines?1:void 0,x=(v=this.emptyGroups,y={},b=Object(i.G)(v),Object(i.u)(b,(function(e){var t=v[e];if(!Object(i.y)(t))throw Error("non exhaustive match");y[e]=[]})),y),L=this.trackStartLines,k=this.config.lineTerminatorsPattern,w=0,P=[],M=[],D=[],F=[];Object.freeze(F);var U=void 0;function q(){return P}function B(e){var t=j(e),n=M[t];return void 0===n?F:n}var W,z=function(e){if(1===D.length&&void 0===e.tokenType.PUSH_MODE){var t=T.config.errorMessageProvider.buildUnableToPopLexerModeMessage(e);I.push({offset:e.startOffset,line:void 0!==e.startLine?e.startLine:void 0,column:void 0!==e.startColumn?e.startColumn:void 0,length:e.image.length,message:t})}else{D.pop();var n=Object(i.H)(D);P=T.patternIdxToConfig[n],M=T.charCodeToPatternIdxToConfig[n],w=P.length;var r=T.canModeBeOptimized[n]&&!1===T.config.safeMode;U=M&&r?B:q}};function K(e){D.push(e),M=this.charCodeToPatternIdxToConfig[e],P=this.patternIdxToConfig[e],w=P.length,w=P.length;var t=this.canModeBeOptimized[e]&&!1===this.config.safeMode;U=M&&t?B:q}for(K.call(this,t);E<O;){s=null;var V=_.charCodeAt(E),H=U(V),G=H.length;for(n=0;n<G;n++){var $=(W=H[n]).pattern;if(c=null,!1!==(ie=W.short)?V===ie&&(s=$):!0===W.isCustom?null!==(g=$.exec(_,E,S,x))?(s=g[0],void 0!==g.payload&&(c=g.payload)):s=null:(this.updateLastIndex($,E),s=this.match($,e,E)),null!==s){if(void 0!==(a=W.longerAlt)){var Y=P[a],X=Y.pattern;u=null,!0===Y.isCustom?null!==(g=X.exec(_,E,S,x))?(o=g[0],void 0!==g.payload&&(u=g.payload)):o=null:(this.updateLastIndex(X,E),o=this.match(X,e,E)),o&&o.length>s.length&&(s=o,c=u,W=Y)}break}}if(null!==s){if(l=s.length,void 0!==(f=W.group)&&(h=W.tokenTypeIdx,p=this.createTokenInstance(s,E,h,W.tokenType,A,C,l),this.handlePayload(p,c),!1===f?R=this.addToken(S,R,p):x[f].push(p)),e=this.chopInput(e,l),E+=l,C=this.computeNewColumn(C,l),!0===L&&!0===W.canLineTerminator){var J=0,Z=void 0,Q=void 0;k.lastIndex=0;do{!0===(Z=k.test(s))&&(Q=k.lastIndex-1,J++)}while(!0===Z);0!==J&&(A+=J,C=l-Q,this.updateTokenEndLineColumnLocation(p,f,Q,J,A,C,l))}this.handleModes(W,z,K,p)}else{for(var ee=E,te=A,ne=C,re=!1;!re&&E<O;)for(_.charCodeAt(E),e=this.chopInput(e,1),E++,r=0;r<w;r++){var ie,oe=P[r];$=oe.pattern;if(!1!==(ie=oe.short)?_.charCodeAt(E)===ie&&(re=!0):!0===oe.isCustom?re=null!==$.exec(_,E,S,x):(this.updateLastIndex($,E),re=null!==$.exec(e)),!0===re)break}d=E-ee,m=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(_,ee,d,te,ne),I.push({offset:ee,line:te,column:ne,length:d,message:m})}}return this.hasCustom||(S.length=R),{tokens:S,groups:x,errors:I}},e.prototype.handleModes=function(e,t,n,r){if(!0===e.pop){var i=e.push;t(r),void 0!==i&&n.call(this,i)}else void 0!==e.push&&n.call(this,e.push)},e.prototype.chopInput=function(e,t){return e.substring(t)},e.prototype.updateLastIndex=function(e,t){e.lastIndex=t},e.prototype.updateTokenEndLineColumnLocation=function(e,t,n,r,i,o,a){var s,c;void 0!==t&&(c=(s=n===a-1)?-1:0,1===r&&!0===s||(e.endLine=i+c,e.endColumn=o-1-c))},e.prototype.computeNewColumn=function(e,t){return e+t},e.prototype.createTokenInstance=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return null},e.prototype.createOffsetOnlyToken=function(e,t,n,r){return{image:e,startOffset:t,tokenTypeIdx:n,tokenType:r}},e.prototype.createStartOnlyToken=function(e,t,n,r,i,o){return{image:e,startOffset:t,startLine:i,startColumn:o,tokenTypeIdx:n,tokenType:r}},e.prototype.createFullToken=function(e,t,n,r,i,o,a){return{image:e,startOffset:t,endOffset:t+a-1,startLine:i,endLine:i,startColumn:o,endColumn:o+a-1,tokenTypeIdx:n,tokenType:r}},e.prototype.addToken=function(e,t,n){return 666},e.prototype.addTokenUsingPush=function(e,t,n){return e.push(n),t},e.prototype.addTokenUsingMemberAccess=function(e,t,n){return e[t]=n,++t},e.prototype.handlePayload=function(e,t){},e.prototype.handlePayloadNoCustom=function(e,t){},e.prototype.handlePayloadWithCustom=function(e,t){null!==t&&(e.payload=t)},e.prototype.match=function(e,t,n){return null},e.prototype.matchWithTest=function(e,t,n){return!0===e.test(t)?t.substring(n,e.lastIndex):null},e.prototype.matchWithExec=function(e,t){var n=e.exec(t);return null!==n?n[0]:n},e.prototype.TRACE_INIT=function(e,t){if(!0===this.traceInitPerf){this.traceInitIndent++;var n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(n+"--\x3e <"+e+">");var r=Object(i.R)(t),o=r.time,a=r.value,s=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&s(n+"<-- <"+e+"> time: "+o+"ms"),this.traceInitIndent--,a}return t()},e.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",e.NA=/NOT_APPLICABLE/,e}();function Y(e){return J(e)?e.LABEL:e.name}function X(e){return e.name}function J(e){return Object(i.E)(e.LABEL)&&""!==e.LABEL}function Z(e){return function(e){var t=e.pattern,n={};n.name=e.name,Object(i.F)(t)||(n.PATTERN=t);if(Object(i.w)(e,"parent"))throw"The parent property is no longer supported.\nSee: https://github.com/SAP/chevrotain/issues/564#issuecomment-349062346 for details.";Object(i.w)(e,"categories")&&(n.CATEGORIES=e.categories);B([n]),Object(i.w)(e,"label")&&(n.LABEL=e.label);Object(i.w)(e,"group")&&(n.GROUP=e.group);Object(i.w)(e,"pop_mode")&&(n.POP_MODE=e.pop_mode);Object(i.w)(e,"push_mode")&&(n.PUSH_MODE=e.push_mode);Object(i.w)(e,"longer_alt")&&(n.LONGER_ALT=e.longer_alt);Object(i.w)(e,"line_breaks")&&(n.LINE_BREAKS=e.line_breaks);Object(i.w)(e,"start_chars_hint")&&(n.START_CHARS_HINT=e.start_chars_hint);return n}(e)}var Q=Z({name:"EOF",pattern:$.NA});function ee(e,t,n,r,i,o,a,s){return{image:t,startOffset:n,endOffset:r,startLine:i,endLine:o,startColumn:a,endColumn:s,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function te(e,t){return D(e,t)}B([Q]);var ne=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),re=function(){function e(e){this._definition=e}return Object.defineProperty(e.prototype,"definition",{get:function(){return this._definition},set:function(e){this._definition=e},enumerable:!1,configurable:!0}),e.prototype.accept=function(e){e.visit(this),Object(i.u)(this.definition,(function(t){t.accept(e)}))},e}(),ie=function(e){function t(t){var n=e.call(this,[])||this;return n.idx=1,Object(i.f)(n,Object(i.N)(t,(function(e){return void 0!==e}))),n}return ne(t,e),Object.defineProperty(t.prototype,"definition",{get:function(){return void 0!==this.referencedRule?this.referencedRule.definition:[]},set:function(e){},enumerable:!1,configurable:!0}),t.prototype.accept=function(e){e.visit(this)},t}(re),oe=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.orgText="",Object(i.f)(n,Object(i.N)(t,(function(e){return void 0!==e}))),n}return ne(t,e),t}(re),ae=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.ignoreAmbiguities=!1,Object(i.f)(n,Object(i.N)(t,(function(e){return void 0!==e}))),n}return ne(t,e),t}(re),se=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,Object(i.f)(n,Object(i.N)(t,(function(e){return void 0!==e}))),n}return ne(t,e),t}(re),ce=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,Object(i.f)(n,Object(i.N)(t,(function(e){return void 0!==e}))),n}return ne(t,e),t}(re),ue=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,Object(i.f)(n,Object(i.N)(t,(function(e){return void 0!==e}))),n}return ne(t,e),t}(re),le=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,Object(i.f)(n,Object(i.N)(t,(function(e){return void 0!==e}))),n}return ne(t,e),t}(re),fe=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,Object(i.f)(n,Object(i.N)(t,(function(e){return void 0!==e}))),n}return ne(t,e),t}(re),he=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,n.ignoreAmbiguities=!1,n.hasPredicates=!1,Object(i.f)(n,Object(i.N)(t,(function(e){return void 0!==e}))),n}return ne(t,e),Object.defineProperty(t.prototype,"definition",{get:function(){return this._definition},set:function(e){this._definition=e},enumerable:!1,configurable:!0}),t}(re),pe=function(){function e(e){this.idx=1,Object(i.f)(this,Object(i.N)(e,(function(e){return void 0!==e})))}return e.prototype.accept=function(e){e.visit(this)},e}();function de(e){return Object(i.I)(e,me)}function me(e){function t(e){return Object(i.I)(e,me)}if(e instanceof ie)return{type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};if(e instanceof ae)return{type:"Alternative",definition:t(e.definition)};if(e instanceof se)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof ce)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof ue)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:me(new pe({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof fe)return{type:"RepetitionWithSeparator",idx:e.idx,separator:me(new pe({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof le)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof he)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof pe){var n={type:"Terminal",name:e.terminalType.name,label:Y(e.terminalType),idx:e.idx},r=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(n.pattern=Object(i.D)(r)?r.source:r),n}if(e instanceof oe)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}var ge=function(){function e(){}return e.prototype.walk=function(e,t){var n=this;void 0===t&&(t=[]),Object(i.u)(e.definition,(function(r,o){var a=Object(i.m)(e.definition,o+1);if(r instanceof ie)n.walkProdRef(r,a,t);else if(r instanceof pe)n.walkTerminal(r,a,t);else if(r instanceof ae)n.walkFlat(r,a,t);else if(r instanceof se)n.walkOption(r,a,t);else if(r instanceof ce)n.walkAtLeastOne(r,a,t);else if(r instanceof ue)n.walkAtLeastOneSep(r,a,t);else if(r instanceof fe)n.walkManySep(r,a,t);else if(r instanceof le)n.walkMany(r,a,t);else{if(!(r instanceof he))throw Error("non exhaustive match");n.walkOr(r,a,t)}}))},e.prototype.walkTerminal=function(e,t,n){},e.prototype.walkProdRef=function(e,t,n){},e.prototype.walkFlat=function(e,t,n){var r=t.concat(n);this.walk(e,r)},e.prototype.walkOption=function(e,t,n){var r=t.concat(n);this.walk(e,r)},e.prototype.walkAtLeastOne=function(e,t,n){var r=[new se({definition:e.definition})].concat(t,n);this.walk(e,r)},e.prototype.walkAtLeastOneSep=function(e,t,n){var r=ve(e,t,n);this.walk(e,r)},e.prototype.walkMany=function(e,t,n){var r=[new se({definition:e.definition})].concat(t,n);this.walk(e,r)},e.prototype.walkManySep=function(e,t,n){var r=ve(e,t,n);this.walk(e,r)},e.prototype.walkOr=function(e,t,n){var r=this,o=t.concat(n);Object(i.u)(e.definition,(function(e){var t=new ae({definition:[e]});r.walk(t,o)}))},e}();function ve(e,t,n){return[new se({definition:[new pe({terminalType:e.separator})].concat(e.definition)})].concat(t,n)}var ye=function(){function e(){}return e.prototype.visit=function(e){var t=e;switch(t.constructor){case ie:return this.visitNonTerminal(t);case ae:return this.visitAlternative(t);case se:return this.visitOption(t);case ce:return this.visitRepetitionMandatory(t);case ue:return this.visitRepetitionMandatoryWithSeparator(t);case fe:return this.visitRepetitionWithSeparator(t);case le:return this.visitRepetition(t);case he:return this.visitAlternation(t);case pe:return this.visitTerminal(t);case oe:return this.visitRule(t);default:throw Error("non exhaustive match")}},e.prototype.visitNonTerminal=function(e){},e.prototype.visitAlternative=function(e){},e.prototype.visitOption=function(e){},e.prototype.visitRepetition=function(e){},e.prototype.visitRepetitionMandatory=function(e){},e.prototype.visitRepetitionMandatoryWithSeparator=function(e){},e.prototype.visitRepetitionWithSeparator=function(e){},e.prototype.visitAlternation=function(e){},e.prototype.visitTerminal=function(e){},e.prototype.visitRule=function(e){},e}(),be=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Te(e,t){return void 0===t&&(t=[]),!!(e instanceof se||e instanceof le||e instanceof fe)||(e instanceof he?Object(i.Q)(e.definition,(function(e){return Te(e,t)})):!(e instanceof ie&&Object(i.j)(t,e))&&(e instanceof re&&(e instanceof ie&&t.push(e),Object(i.o)(e.definition,(function(e){return Te(e,t)})))))}function _e(e){if(e instanceof ie)return"SUBRULE";if(e instanceof se)return"OPTION";if(e instanceof he)return"OR";if(e instanceof ce)return"AT_LEAST_ONE";if(e instanceof ue)return"AT_LEAST_ONE_SEP";if(e instanceof fe)return"MANY_SEP";if(e instanceof le)return"MANY";if(e instanceof pe)return"CONSUME";throw Error("non exhaustive match")}var Oe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.separator="-",t.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},t}return be(t,e),t.prototype.reset=function(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}},t.prototype.visitTerminal=function(e){var t=e.terminalType.name+this.separator+"Terminal";Object(i.w)(this.dslMethods,t)||(this.dslMethods[t]=[]),this.dslMethods[t].push(e)},t.prototype.visitNonTerminal=function(e){var t=e.nonTerminalName+this.separator+"Terminal";Object(i.w)(this.dslMethods,t)||(this.dslMethods[t]=[]),this.dslMethods[t].push(e)},t.prototype.visitOption=function(e){this.dslMethods.option.push(e)},t.prototype.visitRepetitionWithSeparator=function(e){this.dslMethods.repetitionWithSeparator.push(e)},t.prototype.visitRepetitionMandatory=function(e){this.dslMethods.repetitionMandatory.push(e)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)},t.prototype.visitRepetition=function(e){this.dslMethods.repetition.push(e)},t.prototype.visitAlternation=function(e){this.dslMethods.alternation.push(e)},t}(ye),Ee=new Oe;function Re(e){if(e instanceof ie)return Re(e.referencedRule);if(e instanceof pe)return[e.terminalType];if(function(e){return e instanceof ae||e instanceof se||e instanceof le||e instanceof ce||e instanceof ue||e instanceof fe||e instanceof pe||e instanceof oe}(e))return function(e){var t,n=[],r=e.definition,o=0,a=r.length>o,s=!0;for(;a&&s;)t=r[o],s=Te(t),n=n.concat(Re(t)),o+=1,a=r.length>o;return Object(i.T)(n)}(e);if(function(e){return e instanceof he}(e))return function(e){var t=Object(i.I)(e.definition,(function(e){return Re(e)}));return Object(i.T)(Object(i.t)(t))}(e);throw Error("non exhaustive match")}var Ne="_~IN~_",Se=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ie=function(e){function t(t){var n=e.call(this)||this;return n.topProd=t,n.follows={},n}return Se(t,e),t.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},t.prototype.walkTerminal=function(e,t,n){},t.prototype.walkProdRef=function(e,t,n){var r,i,o=(r=e.referencedRule,i=e.idx,r.name+i+Ne+this.topProd.name),a=t.concat(n),s=Re(new ae({definition:a}));this.follows[o]=s},t}(ge);var Ae={buildMismatchTokenMessage:function(e){var t=e.expected,n=e.actual;e.previous,e.ruleName;return"Expecting "+(J(t)?"--\x3e "+Y(t)+" <--":"token of type --\x3e "+t.name+" <--")+" but found --\x3e '"+n.image+"' <--"},buildNotAllInputParsedMessage:function(e){var t=e.firstRedundant;e.ruleName;return"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage:function(e){var t=e.expectedPathsPerAlt,n=e.actual,r=(e.previous,e.customUserDescription),o=(e.ruleName,"\nbut found: '"+Object(i.s)(n).image+"'");if(r)return"Expecting: "+r+o;var a=Object(i.O)(t,(function(e,t){return e.concat(t)}),[]),s=Object(i.I)(a,(function(e){return"["+Object(i.I)(e,(function(e){return Y(e)})).join(", ")+"]"}));return"Expecting: "+("one of these possible Token sequences:\n"+Object(i.I)(s,(function(e,t){return"  "+(t+1)+". "+e})).join("\n"))+o},buildEarlyExitMessage:function(e){var t=e.expectedIterationPaths,n=e.actual,r=e.customUserDescription,o=(e.ruleName,"\nbut found: '"+Object(i.s)(n).image+"'");return r?"Expecting: "+r+o:"Expecting: "+("expecting at least one iteration which starts with one of these possible Token sequences::\n  <"+Object(i.I)(t,(function(e){return"["+Object(i.I)(e,(function(e){return Y(e)})).join(",")+"]"})).join(" ,")+">")+o}};Object.freeze(Ae);var Ce={buildRuleNotFoundError:function(e,t){return"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+"<-\ninside top level rule: ->"+e.name+"<-"}},xe={buildDuplicateFoundError:function(e,t){var n,r=e.name,o=Object(i.s)(t),a=o.idx,s=_e(o),c=(n=o)instanceof pe?n.terminalType.name:n instanceof ie?n.nonTerminalName:"",u="->"+s+(a>0?a:"")+"<- "+(c?"with argument: ->"+c+"<-":"")+"\n                  appears more than once ("+t.length+" times) in the top level rule: ->"+r+"<-.                  \n                  For further details see: https://sap.github.io/chevrotain/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  ";return u=(u=u.replace(/[ \t]+/g," ")).replace(/\s\s+/g,"\n")},buildNamespaceConflictError:function(e){return"Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <"+e.name+">.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter."},buildAlternationPrefixAmbiguityError:function(e){var t=Object(i.I)(e.prefixPath,(function(e){return Y(e)})).join(", "),n=0===e.alternation.idx?"":e.alternation.idx;return"Ambiguous alternatives: <"+e.ambiguityIndices.join(" ,")+"> due to common lookahead prefix\nin <OR"+n+"> inside <"+e.topLevelRule.name+"> Rule,\n<"+t+"> may appears as a prefix path in all these alternatives.\nSee: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details."},buildAlternationAmbiguityError:function(e){var t=Object(i.I)(e.prefixPath,(function(e){return Y(e)})).join(", "),n=0===e.alternation.idx?"":e.alternation.idx,r="Ambiguous Alternatives Detected: <"+e.ambiguityIndices.join(" ,")+"> in <OR"+n+"> inside <"+e.topLevelRule.name+"> Rule,\n<"+t+"> may appears as a prefix path in all these alternatives.\n";return r+="See: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details."},buildEmptyRepetitionError:function(e){var t=_e(e.repetition);return 0!==e.repetition.idx&&(t+=e.repetition.idx),"The repetition <"+t+"> within Rule <"+e.topLevelRule.name+"> can never consume any tokens.\nThis could lead to an infinite loop."},buildTokenNameError:function(e){return"deprecated"},buildEmptyAlternationError:function(e){return"Ambiguous empty alternative: <"+(e.emptyChoiceIdx+1)+"> in <OR"+e.alternation.idx+"> inside <"+e.topLevelRule.name+"> Rule.\nOnly the last alternative may be an empty alternative."},buildTooManyAlternativesError:function(e){return"An Alternation cannot have more than 256 alternatives:\n<OR"+e.alternation.idx+"> inside <"+e.topLevelRule.name+"> Rule.\n has "+(e.alternation.definition.length+1)+" alternatives."},buildLeftRecursionError:function(e){var t=e.topLevelRule.name;return"Left Recursion found in grammar.\nrule: <"+t+"> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n "+(t+" --\x3e "+i.I(e.leftRecursionPath,(function(e){return e.name})).concat([t]).join(" --\x3e "))+"\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_Factoring."},buildInvalidRuleNameError:function(e){return"deprecated"},buildDuplicateRuleNameError:function(e){return"Duplicate definition, rule: ->"+(e.topLevelRule instanceof oe?e.topLevelRule.name:e.topLevelRule)+"<- is already defined in the grammar: ->"+e.grammarName+"<-"}},Le=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var ke=function(e){function t(t,n){var r=e.call(this)||this;return r.nameToTopRule=t,r.errMsgProvider=n,r.errors=[],r}return Le(t,e),t.prototype.resolveRefs=function(){var e=this;Object(i.u)(Object(i.U)(this.nameToTopRule),(function(t){e.currTopLevel=t,t.accept(e)}))},t.prototype.visitNonTerminal=function(e){var t=this.nameToTopRule[e.nonTerminalName];if(t)e.referencedRule=t;else{var n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:n,type:Zt.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}},t}(ye),we=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pe=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.path=n,r.nextTerminalName="",r.nextTerminalOccurrence=0,r.nextTerminalName=r.path.lastTok.name,r.nextTerminalOccurrence=r.path.lastTokOccurrence,r}return we(t,e),t.prototype.walkTerminal=function(e,t,n){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){var r=t.concat(n),i=new ae({definition:r});this.possibleTokTypes=Re(i),this.found=!0}},t}(function(e){function t(t,n){var r=e.call(this)||this;return r.topProd=t,r.path=n,r.possibleTokTypes=[],r.nextProductionName="",r.nextProductionOccurrence=0,r.found=!1,r.isAtEndOfPath=!1,r}return we(t,e),t.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Object(i.g)(this.path.ruleStack).reverse(),this.occurrenceStack=Object(i.g)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},t.prototype.walk=function(t,n){void 0===n&&(n=[]),this.found||e.prototype.walk.call(this,t,n)},t.prototype.walkProdRef=function(e,t,n){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){var r=t.concat(n);this.updateExpectedNext(),this.walk(e.referencedRule,r)}},t.prototype.updateExpectedNext=function(){Object(i.A)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},t}(ge)),je=function(e){function t(t,n){var r=e.call(this)||this;return r.topRule=t,r.occurrence=n,r.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},r}return we(t,e),t.prototype.startWalking=function(){return this.walk(this.topRule),this.result},t}(ge),Me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return we(t,e),t.prototype.walkMany=function(t,n,r){if(t.idx===this.occurrence){var o=Object(i.s)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof pe&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkMany.call(this,t,n,r)},t}(je),De=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return we(t,e),t.prototype.walkManySep=function(t,n,r){if(t.idx===this.occurrence){var o=Object(i.s)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof pe&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkManySep.call(this,t,n,r)},t}(je),Fe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return we(t,e),t.prototype.walkAtLeastOne=function(t,n,r){if(t.idx===this.occurrence){var o=Object(i.s)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof pe&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkAtLeastOne.call(this,t,n,r)},t}(je),Ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return we(t,e),t.prototype.walkAtLeastOneSep=function(t,n,r){if(t.idx===this.occurrence){var o=Object(i.s)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof pe&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkAtLeastOneSep.call(this,t,n,r)},t}(je);function qe(e,t,n){void 0===n&&(n=[]),n=Object(i.g)(n);var r=[],o=0;function a(a){var s=qe(a.concat(Object(i.m)(e,o+1)),t,n);return r.concat(s)}for(;n.length<t&&o<e.length;){var s=e[o];if(s instanceof ae)return a(s.definition);if(s instanceof ie)return a(s.definition);if(s instanceof se)r=a(s.definition);else{if(s instanceof ce)return a(c=s.definition.concat([new le({definition:s.definition})]));if(s instanceof ue)return a(c=[new ae({definition:s.definition}),new le({definition:[new pe({terminalType:s.separator})].concat(s.definition)})]);if(s instanceof fe){var c=s.definition.concat([new le({definition:[new pe({terminalType:s.separator})].concat(s.definition)})]);r=a(c)}else if(s instanceof le){c=s.definition.concat([new le({definition:s.definition})]);r=a(c)}else{if(s instanceof he)return Object(i.u)(s.definition,(function(e){!1===Object(i.A)(e.definition)&&(r=a(e.definition))})),r;if(!(s instanceof pe))throw Error("non exhaustive match");n.push(s.terminalType)}}o++}return r.push({partialPath:n,suffixDef:Object(i.m)(e,o)}),r}function Be(e,t,n,r){var o=["EXIT_NONE_TERMINAL"],a=!1,s=t.length,c=s-r-1,u=[],l=[];for(l.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!Object(i.A)(l);){var f=l.pop();if("EXIT_ALTERNATIVE"!==f){var h=f.def,p=f.idx,d=f.ruleStack,m=f.occurrenceStack;if(!Object(i.A)(h)){var g=h[0];if("EXIT_NONE_TERMINAL"===g){var v={idx:p,def:Object(i.m)(h),ruleStack:Object(i.n)(d),occurrenceStack:Object(i.n)(m)};l.push(v)}else if(g instanceof pe)if(p<s-1){var y=p+1;if(n(t[y],g.terminalType)){v={idx:y,def:Object(i.m)(h),ruleStack:d,occurrenceStack:m};l.push(v)}}else{if(p!==s-1)throw Error("non exhaustive match");u.push({nextTokenType:g.terminalType,nextTokenOccurrence:g.idx,ruleStack:d,occurrenceStack:m}),a=!0}else if(g instanceof ie){var b=Object(i.g)(d);b.push(g.nonTerminalName);var T=Object(i.g)(m);T.push(g.idx);v={idx:p,def:g.definition.concat(o,Object(i.m)(h)),ruleStack:b,occurrenceStack:T};l.push(v)}else if(g instanceof se){var _={idx:p,def:Object(i.m)(h),ruleStack:d,occurrenceStack:m};l.push(_),l.push("EXIT_ALTERNATIVE");var O={idx:p,def:g.definition.concat(Object(i.m)(h)),ruleStack:d,occurrenceStack:m};l.push(O)}else if(g instanceof ce){var E=new le({definition:g.definition,idx:g.idx});v={idx:p,def:g.definition.concat([E],Object(i.m)(h)),ruleStack:d,occurrenceStack:m};l.push(v)}else if(g instanceof ue){var R=new pe({terminalType:g.separator});E=new le({definition:[R].concat(g.definition),idx:g.idx}),v={idx:p,def:g.definition.concat([E],Object(i.m)(h)),ruleStack:d,occurrenceStack:m};l.push(v)}else if(g instanceof fe){_={idx:p,def:Object(i.m)(h),ruleStack:d,occurrenceStack:m};l.push(_),l.push("EXIT_ALTERNATIVE");R=new pe({terminalType:g.separator});var N=new le({definition:[R].concat(g.definition),idx:g.idx});O={idx:p,def:g.definition.concat([N],Object(i.m)(h)),ruleStack:d,occurrenceStack:m};l.push(O)}else if(g instanceof le){_={idx:p,def:Object(i.m)(h),ruleStack:d,occurrenceStack:m};l.push(_),l.push("EXIT_ALTERNATIVE");N=new le({definition:g.definition,idx:g.idx}),O={idx:p,def:g.definition.concat([N],Object(i.m)(h)),ruleStack:d,occurrenceStack:m};l.push(O)}else if(g instanceof he)for(var S=g.definition.length-1;S>=0;S--){var I={idx:p,def:g.definition[S].definition.concat(Object(i.m)(h)),ruleStack:d,occurrenceStack:m};l.push(I),l.push("EXIT_ALTERNATIVE")}else if(g instanceof ae)l.push({idx:p,def:g.definition.concat(Object(i.m)(h)),ruleStack:d,occurrenceStack:m});else{if(!(g instanceof oe))throw Error("non exhaustive match");l.push(We(g,p,d,m))}}}else a&&Object(i.H)(l).idx<=c&&l.pop()}return u}function We(e,t,n,r){var o=Object(i.g)(n);o.push(e.name);var a=Object(i.g)(r);return a.push(1),{idx:t,def:e.definition,ruleStack:o,occurrenceStack:a}}var ze,Ke=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION"}(ze||(ze={}));var Ve=function(e){function t(t,n,r){var i=e.call(this)||this;return i.topProd=t,i.targetOccurrence=n,i.targetProdType=r,i}return Ke(t,e),t.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},t.prototype.checkIsTarget=function(e,t,n,r){return e.idx===this.targetOccurrence&&this.targetProdType===t&&(this.restDef=n.concat(r),!0)},t.prototype.walkOption=function(t,n,r){this.checkIsTarget(t,ze.OPTION,n,r)||e.prototype.walkOption.call(this,t,n,r)},t.prototype.walkAtLeastOne=function(t,n,r){this.checkIsTarget(t,ze.REPETITION_MANDATORY,n,r)||e.prototype.walkOption.call(this,t,n,r)},t.prototype.walkAtLeastOneSep=function(t,n,r){this.checkIsTarget(t,ze.REPETITION_MANDATORY_WITH_SEPARATOR,n,r)||e.prototype.walkOption.call(this,t,n,r)},t.prototype.walkMany=function(t,n,r){this.checkIsTarget(t,ze.REPETITION,n,r)||e.prototype.walkOption.call(this,t,n,r)},t.prototype.walkManySep=function(t,n,r){this.checkIsTarget(t,ze.REPETITION_WITH_SEPARATOR,n,r)||e.prototype.walkOption.call(this,t,n,r)},t}(ge),He=function(e){function t(t,n,r){var i=e.call(this)||this;return i.targetOccurrence=t,i.targetProdType=n,i.targetRef=r,i.result=[],i}return Ke(t,e),t.prototype.checkIsTarget=function(e,t){e.idx!==this.targetOccurrence||this.targetProdType!==t||void 0!==this.targetRef&&e!==this.targetRef||(this.result=e.definition)},t.prototype.visitOption=function(e){this.checkIsTarget(e,ze.OPTION)},t.prototype.visitRepetition=function(e){this.checkIsTarget(e,ze.REPETITION)},t.prototype.visitRepetitionMandatory=function(e){this.checkIsTarget(e,ze.REPETITION_MANDATORY)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.checkIsTarget(e,ze.REPETITION_MANDATORY_WITH_SEPARATOR)},t.prototype.visitRepetitionWithSeparator=function(e){this.checkIsTarget(e,ze.REPETITION_WITH_SEPARATOR)},t.prototype.visitAlternation=function(e){this.checkIsTarget(e,ze.ALTERNATION)},t}(ye);function Ge(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=[];return t}function $e(e){for(var t=[""],n=0;n<e.length;n++){for(var r=e[n],i=[],o=0;o<t.length;o++){var a=t[o];i.push(a+"_"+r.tokenTypeIdx);for(var s=0;s<r.categoryMatches.length;s++){var c="_"+r.categoryMatches[s];i.push(a+c)}}t=i}return t}function Ye(e,t,n){for(var r=0;r<e.length;r++)if(r!==n)for(var i=e[r],o=0;o<t.length;o++){if(!0===i[t[o]])return!1}return!0}function Xe(e,t){for(var n=Object(i.I)(e,(function(e){return qe([e],1)})),r=Ge(n.length),o=Object(i.I)(n,(function(e){var t={};return Object(i.u)(e,(function(e){var n=$e(e.partialPath);Object(i.u)(n,(function(e){t[e]=!0}))})),t})),a=n,s=1;s<=t;s++){var c=a;a=Ge(c.length);for(var u=function(e){for(var n=c[e],u=0;u<n.length;u++){var l=n[u].partialPath,f=n[u].suffixDef,h=$e(l);if(Ye(o,h,e)||Object(i.A)(f)||l.length===t){var p=r[e];if(!1===Qe(p,l)){p.push(l);for(var d=0;d<h.length;d++){var m=h[d];o[e][m]=!0}}}else{var g=qe(f,s+1,l);a[e]=a[e].concat(g),Object(i.u)(g,(function(t){var n=$e(t.partialPath);Object(i.u)(n,(function(t){o[e][t]=!0}))}))}}},l=0;l<c.length;l++)u(l)}return r}function Je(e,t,n,r){var i=new He(e,ze.ALTERNATION,r);return t.accept(i),Xe(i.result,n)}function Ze(e,t,n,r){var i=new He(e,n);t.accept(i);var o=i.result,a=new Ve(t,e,n).startWalking();return Xe([new ae({definition:o}),new ae({definition:a})],r)}function Qe(e,t){e:for(var n=0;n<e.length;n++){var r=e[n];if(r.length===t.length){for(var i=0;i<r.length;i++){var o=t[i],a=r[i];if(!1===(o===a||void 0!==a.categoryMatchesMap[o.tokenTypeIdx]))continue e}return!0}}return!1}function et(e){return Object(i.o)(e,(function(e){return Object(i.o)(e,(function(e){return Object(i.o)(e,(function(e){return Object(i.A)(e.categoryMatches)}))}))}))}var tt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function nt(e,t,n,r,o){var a=i.I(e,(function(e){return function(e,t){var n=new ot;e.accept(n);var r=n.allProductions,o=i.v(r,rt),a=i.N(o,(function(e){return e.length>1}));return i.I(i.U(a),(function(n){var r=i.s(n),o=t.buildDuplicateFoundError(e,n),a=_e(r),s={message:o,type:Zt.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:a,occurrence:r.idx},c=it(r);return c&&(s.parameter=c),s}))}(e,r)})),s=i.I(e,(function(e){return function e(t,n,r,o){void 0===o&&(o=[]);var a=[],s=function e(t){var n=[];if(i.A(t))return n;var r=i.s(t);if(r instanceof ie)n.push(r.referencedRule);else if(r instanceof ae||r instanceof se||r instanceof ce||r instanceof ue||r instanceof fe||r instanceof le)n=n.concat(e(r.definition));else if(r instanceof he)n=i.t(i.I(r.definition,(function(t){return e(t.definition)})));else if(!(r instanceof pe))throw Error("non exhaustive match");var o=Te(r),a=t.length>1;if(o&&a){var s=i.m(t);return n.concat(e(s))}return n}(n.definition);if(i.A(s))return[];var c=t.name;i.j(s,t)&&a.push({message:r.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:o}),type:Zt.LEFT_RECURSION,ruleName:c});var u=i.l(s,o.concat([t])),l=i.I(u,(function(n){var a=i.g(o);return a.push(n),e(t,n,r,a)}));return a.concat(i.t(l))}(e,e,r)})),c=[],u=[],l=[];Object(i.o)(s,i.A)&&(c=Object(i.I)(e,(function(e){return function(e,t){var n=new at;e.accept(n);var r=n.alternations;return i.O(r,(function(n,r){var o=i.n(r.definition),a=i.I(o,(function(n,o){var a=Be([n],[],null,1);return i.A(a)?{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:r,emptyChoiceIdx:o}),type:Zt.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:r.idx,alternative:o+1}:null}));return n.concat(i.i(a))}),[])}(e,r)})),u=Object(i.I)(e,(function(e){return function(e,t,n){var r=new at;e.accept(r);var o=r.alternations;return o=Object(i.P)(o,(function(e){return!0===e.ignoreAmbiguities})),i.O(o,(function(r,o){var a=o.idx,s=o.maxLookahead||t,c=Je(a,e,s,o),u=function(e,t,n,r){var o=[],a=Object(i.O)(e,(function(n,r,a){return!0===t.definition[a].ignoreAmbiguities||Object(i.u)(r,(function(r){var s=[a];Object(i.u)(e,(function(e,n){a!==n&&Qe(e,r)&&!0!==t.definition[n].ignoreAmbiguities&&s.push(n)})),s.length>1&&!Qe(o,r)&&(o.push(r),n.push({alts:s,path:r}))})),n}),[]);return i.I(a,(function(e){var o=Object(i.I)(e.alts,(function(e){return e+1}));return{message:r.buildAlternationAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:o,prefixPath:e.path}),type:Zt.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:t.idx,alternatives:[e.alts]}}))}(c,o,e,n),l=function(e,t,n,r){var o=[],a=Object(i.O)(e,(function(e,t,n){var r=Object(i.I)(t,(function(e){return{idx:n,path:e}}));return e.concat(r)}),[]);return Object(i.u)(a,(function(e){if(!0!==t.definition[e.idx].ignoreAmbiguities){var s=e.idx,c=e.path,u=Object(i.r)(a,(function(e){return!0!==t.definition[e.idx].ignoreAmbiguities&&e.idx<s&&(n=e.path,r=c,n.length<r.length&&Object(i.o)(n,(function(e,t){var n=r[t];return e===n||n.categoryMatchesMap[e.tokenTypeIdx]})));var n,r})),l=Object(i.I)(u,(function(e){var i=[e.idx+1,s+1],o=0===t.idx?"":t.idx;return{message:r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:i,prefixPath:e.path}),type:Zt.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:o,alternatives:i}}));o=o.concat(l)}})),o}(c,o,e,n);return r.concat(u,l)}),[])}(e,t,r)})),l=function(e,t,n){var r=[];return Object(i.u)(e,(function(e){var o=new st;e.accept(o);var a=o.allProductions;Object(i.u)(a,(function(o){var a=function(e){if(e instanceof se)return ze.OPTION;if(e instanceof le)return ze.REPETITION;if(e instanceof ce)return ze.REPETITION_MANDATORY;if(e instanceof ue)return ze.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof fe)return ze.REPETITION_WITH_SEPARATOR;if(e instanceof he)return ze.ALTERNATION;throw Error("non exhaustive match")}(o),s=o.maxLookahead||t,c=Ze(o.idx,e,a,s)[0];if(Object(i.A)(Object(i.t)(c))){var u=n.buildEmptyRepetitionError({topLevelRule:e,repetition:o});r.push({message:u,type:Zt.NO_NON_EMPTY_LOOKAHEAD,ruleName:e.name})}}))})),r}(e,t,r));var f=function(e,t,n){var r=[],o=Object(i.I)(t,(function(e){return e.name}));return Object(i.u)(e,(function(e){var t=e.name;if(Object(i.j)(o,t)){var a=n.buildNamespaceConflictError(e);r.push({message:a,type:Zt.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:t})}})),r}(e,n,r),h=Object(i.I)(e,(function(e){return function(e,t){var n=new at;e.accept(n);var r=n.alternations;return i.O(r,(function(n,r){return r.definition.length>255&&n.push({message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:r}),type:Zt.TOO_MANY_ALTS,ruleName:e.name,occurrence:r.idx}),n}),[])}(e,r)})),p=Object(i.I)(e,(function(t){return function(e,t,n,r){var o=[];if(Object(i.O)(t,(function(t,n){return n.name===e.name?t+1:t}),0)>1){var a=r.buildDuplicateRuleNameError({topLevelRule:e,grammarName:n});o.push({message:a,type:Zt.DUPLICATE_RULE_NAME,ruleName:e.name})}return o}(t,e,o,r)}));return i.t(a.concat(l,s,c,u,f,h,p))}function rt(e){return _e(e)+"_#_"+e.idx+"_#_"+it(e)}function it(e){return e instanceof pe?e.terminalType.name:e instanceof ie?e.nonTerminalName:""}var ot=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allProductions=[],t}return tt(t,e),t.prototype.visitNonTerminal=function(e){this.allProductions.push(e)},t.prototype.visitOption=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatory=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetition=function(e){this.allProductions.push(e)},t.prototype.visitAlternation=function(e){this.allProductions.push(e)},t.prototype.visitTerminal=function(e){this.allProductions.push(e)},t}(ye);var at=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.alternations=[],t}return tt(t,e),t.prototype.visitAlternation=function(e){this.alternations.push(e)},t}(ye);var st=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allProductions=[],t}return tt(t,e),t.prototype.visitRepetitionWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatory=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetition=function(e){this.allProductions.push(e)},t}(ye);function ct(e){e=Object(i.k)(e,{errMsgProvider:Ce});var t,n,r,o={};return Object(i.u)(e.rules,(function(e){o[e.name]=e})),t=o,n=e.errMsgProvider,(r=new ke(t,n)).resolveRefs(),r.errors}function ut(e){return nt((e=Object(i.k)(e,{errMsgProvider:xe})).rules,e.maxLookahead,e.tokenTypes,e.errMsgProvider,e.grammarName)}function lt(e){Object(i.u)(e.rules,(function(e){var t=new Oe;e.accept(t),Object(i.u)(t.dslMethods,(function(e){Object(i.u)(e,(function(e,t){e.idx=t+1}))}))}))}var ft=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ht=["MismatchedTokenException","NoViableAltException","EarlyExitException","NotAllInputParsedException"];function pt(e){return Object(i.j)(ht,e.name)}Object.freeze(ht);var dt=function(e){function t(t,n){var r=this.constructor,i=e.call(this,t)||this;return i.token=n,i.resyncedTokens=[],Object.setPrototypeOf(i,r.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,i.constructor),i}return ft(t,e),t}(Error),mt=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.previousToken=r,i.name="MismatchedTokenException",i}return ft(t,e),t}(dt),gt=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.previousToken=r,i.name="NoViableAltException",i}return ft(t,e),t}(dt),vt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.name="NotAllInputParsedException",r}return ft(t,e),t}(dt),yt=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.previousToken=r,i.name="EarlyExitException",i}return ft(t,e),t}(dt),bt={};function Tt(e){this.name="InRuleRecoveryException",this.message=e}Tt.prototype=Error.prototype;var _t=function(){function e(){}return e.prototype.initRecoverable=function(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Object(i.w)(e,"recoveryEnabled")?e.recoveryEnabled:Qt.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=Ot)},e.prototype.getTokenToInsert=function(e){var t=ee(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return t.isInsertedInRecovery=!0,t},e.prototype.canTokenTypeBeInsertedInRecovery=function(e){return!0},e.prototype.tryInRepetitionRecovery=function(e,t,n,r){for(var o=this,a=this.findReSyncTokenType(),s=this.exportLexerState(),c=[],u=!1,l=this.LA(1),f=this.LA(1),h=function(){var e=o.LA(0),t=o.errorMessageProvider.buildMismatchTokenMessage({expected:r,actual:l,previous:e,ruleName:o.getCurrRuleFullName()}),n=new mt(t,l,o.LA(0));n.resyncedTokens=Object(i.n)(c),o.SAVE_ERROR(n)};!u;){if(this.tokenMatcher(f,r))return void h();if(n.call(this))return h(),void e.apply(this,t);this.tokenMatcher(f,a)?u=!0:(f=this.SKIP_TOKEN(),this.addToResyncTokens(f,c))}this.importLexerState(s)},e.prototype.shouldInRepetitionRecoveryBeTried=function(e,t,n){return!1!==n&&(void 0!==e&&void 0!==t&&(!this.tokenMatcher(this.LA(1),e)&&(!this.isBackTracking()&&!this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,t)))))},e.prototype.getFollowsForInRuleRecovery=function(e,t){var n=this.getCurrentGrammarPath(e,t);return this.getNextPossibleTokenTypes(n)},e.prototype.tryInRuleRecovery=function(e,t){if(this.canRecoverWithSingleTokenInsertion(e,t))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){var n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new Tt("sad sad panda")},e.prototype.canPerformInRuleRecovery=function(e,t){return this.canRecoverWithSingleTokenInsertion(e,t)||this.canRecoverWithSingleTokenDeletion(e)},e.prototype.canRecoverWithSingleTokenInsertion=function(e,t){var n=this;if(!this.canTokenTypeBeInsertedInRecovery(e))return!1;if(Object(i.A)(t))return!1;var r=this.LA(1);return void 0!==Object(i.q)(t,(function(e){return n.tokenMatcher(r,e)}))},e.prototype.canRecoverWithSingleTokenDeletion=function(e){return this.tokenMatcher(this.LA(2),e)},e.prototype.isInCurrentRuleReSyncSet=function(e){var t=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(t);return Object(i.j)(n,e)},e.prototype.findReSyncTokenType=function(){for(var e=this.flattenFollowSet(),t=this.LA(1),n=2;;){var r=t.tokenType;if(Object(i.j)(e,r))return r;t=this.LA(n),n++}},e.prototype.getCurrFollowKey=function(){if(1===this.RULE_STACK.length)return bt;var e=this.getLastExplicitRuleShortName(),t=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:t,inRule:this.shortRuleNameToFullName(n)}},e.prototype.buildFullFollowKeyStack=function(){var e=this,t=this.RULE_STACK,n=this.RULE_OCCURRENCE_STACK;return Object(i.I)(t,(function(r,i){return 0===i?bt:{ruleName:e.shortRuleNameToFullName(r),idxInCallingRule:n[i],inRule:e.shortRuleNameToFullName(t[i-1])}}))},e.prototype.flattenFollowSet=function(){var e=this,t=Object(i.I)(this.buildFullFollowKeyStack(),(function(t){return e.getFollowSetFromFollowKey(t)}));return Object(i.t)(t)},e.prototype.getFollowSetFromFollowKey=function(e){if(e===bt)return[Q];var t=e.ruleName+e.idxInCallingRule+Ne+e.inRule;return this.resyncFollows[t]},e.prototype.addToResyncTokens=function(e,t){return this.tokenMatcher(e,Q)||t.push(e),t},e.prototype.reSyncTo=function(e){for(var t=[],n=this.LA(1);!1===this.tokenMatcher(n,e);)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,t);return Object(i.n)(t)},e.prototype.attemptInRepetitionRecovery=function(e,t,n,r,i,o,a){},e.prototype.getCurrentGrammarPath=function(e,t){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:Object(i.g)(this.RULE_OCCURRENCE_STACK),lastTok:e,lastTokOccurrence:t}},e.prototype.getHumanReadableRuleStack=function(){var e=this;return Object(i.I)(this.RULE_STACK,(function(t){return e.shortRuleNameToFullName(t)}))},e}();function Ot(e,t,n,r,i,o,a){var s=this.getKeyForAutomaticLookahead(r,i),c=this.firstAfterRepMap[s];if(void 0===c){var u=this.getCurrRuleFullName();c=new o(this.getGAstProductions()[u],i).startWalking(),this.firstAfterRepMap[s]=c}var l=c.token,f=c.occurrence,h=c.isEndOfRule;1===this.RULE_STACK.length&&h&&void 0===l&&(l=Q,f=1),this.shouldInRepetitionRecoveryBeTried(l,f,a)&&this.tryInRepetitionRecovery(e,t,n,l)}function Et(e,t,n){return n|t|e}var Rt=function(){function e(){}return e.prototype.initLooksAhead=function(e){this.dynamicTokensEnabled=Object(i.w)(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:Qt.dynamicTokensEnabled,this.maxLookahead=Object(i.w)(e,"maxLookahead")?e.maxLookahead:Qt.maxLookahead,this.lookAheadFuncsCache=Object(i.z)()?new Map:[],Object(i.z)()?(this.getLaFuncFromCache=this.getLaFuncFromMap,this.setLaFuncCache=this.setLaFuncCacheUsingMap):(this.getLaFuncFromCache=this.getLaFuncFromObj,this.setLaFuncCache=this.setLaFuncUsingObj)},e.prototype.preComputeLookaheadFunctions=function(e){var t=this;Object(i.u)(e,(function(e){t.TRACE_INIT(e.name+" Rule Lookahead",(function(){var n=function(e){Ee.reset(),e.accept(Ee);var t=Ee.dslMethods;return Ee.reset(),t}(e),r=n.alternation,o=n.repetition,a=n.option,s=n.repetitionMandatory,c=n.repetitionMandatoryWithSeparator,u=n.repetitionWithSeparator;Object(i.u)(r,(function(n){var r=0===n.idx?"":n.idx;t.TRACE_INIT(""+_e(n)+r,(function(){var r,i,o,a,s,c,u,l=(r=n.idx,i=e,o=n.maxLookahead||t.maxLookahead,a=n.hasPredicates,s=t.dynamicTokensEnabled,c=t.lookAheadBuilderForAlternatives,u=Je(r,i,o),c(u,a,et(u)?F:D,s)),f=Et(t.fullRuleNameToShort[e.name],256,n.idx);t.setLaFuncCache(f,l)}))})),Object(i.u)(o,(function(n){t.computeLookaheadFunc(e,n.idx,768,ze.REPETITION,n.maxLookahead,_e(n))})),Object(i.u)(a,(function(n){t.computeLookaheadFunc(e,n.idx,512,ze.OPTION,n.maxLookahead,_e(n))})),Object(i.u)(s,(function(n){t.computeLookaheadFunc(e,n.idx,1024,ze.REPETITION_MANDATORY,n.maxLookahead,_e(n))})),Object(i.u)(c,(function(n){t.computeLookaheadFunc(e,n.idx,1536,ze.REPETITION_MANDATORY_WITH_SEPARATOR,n.maxLookahead,_e(n))})),Object(i.u)(u,(function(n){t.computeLookaheadFunc(e,n.idx,1280,ze.REPETITION_WITH_SEPARATOR,n.maxLookahead,_e(n))}))}))}))},e.prototype.computeLookaheadFunc=function(e,t,n,r,i,o){var a=this;this.TRACE_INIT(""+o+(0===t?"":t),(function(){var o=function(e,t,n,r,i,o){var a=Ze(e,t,i,n),s=et(a)?F:D;return o(a[0],s,r)}(t,e,i||a.maxLookahead,a.dynamicTokensEnabled,r,a.lookAheadBuilderForOptional),s=Et(a.fullRuleNameToShort[e.name],n,t);a.setLaFuncCache(s,o)}))},e.prototype.lookAheadBuilderForOptional=function(e,t,n){return function(e,t,n){var r=Object(i.o)(e,(function(e){return 1===e.length})),o=e.length;if(r&&!n){var a=Object(i.t)(e);if(1===a.length&&Object(i.A)(a[0].categoryMatches)){var s=a[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===s}}var c=Object(i.O)(a,(function(e,t,n){return e[t.tokenTypeIdx]=!0,Object(i.u)(t.categoryMatches,(function(t){e[t]=!0})),e}),[]);return function(){var e=this.LA(1);return!0===c[e.tokenTypeIdx]}}return function(){e:for(var n=0;n<o;n++){for(var r=e[n],i=r.length,a=0;a<i;a++){var s=this.LA(a+1);if(!1===t(s,r[a]))continue e}return!0}return!1}}(e,t,n)},e.prototype.lookAheadBuilderForAlternatives=function(e,t,n,r){return function(e,t,n,r){var o=e.length,a=Object(i.o)(e,(function(e){return Object(i.o)(e,(function(e){return 1===e.length}))}));if(t)return function(t){for(var r=Object(i.I)(t,(function(e){return e.GATE})),a=0;a<o;a++){var s=e[a],c=s.length,u=r[a];if(void 0===u||!1!==u.call(this))e:for(var l=0;l<c;l++){for(var f=s[l],h=f.length,p=0;p<h;p++){var d=this.LA(p+1);if(!1===n(d,f[p]))continue e}return a}}};if(a&&!r){var s=Object(i.I)(e,(function(e){return Object(i.t)(e)})),c=Object(i.O)(s,(function(e,t,n){return Object(i.u)(t,(function(t){Object(i.w)(e,t.tokenTypeIdx)||(e[t.tokenTypeIdx]=n),Object(i.u)(t.categoryMatches,(function(t){Object(i.w)(e,t)||(e[t]=n)}))})),e}),[]);return function(){var e=this.LA(1);return c[e.tokenTypeIdx]}}return function(){for(var t=0;t<o;t++){var r=e[t],i=r.length;e:for(var a=0;a<i;a++){for(var s=r[a],c=s.length,u=0;u<c;u++){var l=this.LA(u+1);if(!1===n(l,s[u]))continue e}return t}}}}(e,t,n,r)},e.prototype.getKeyForAutomaticLookahead=function(e,t){return Et(this.getLastExplicitRuleShortName(),e,t)},e.prototype.getLaFuncFromCache=function(e){},e.prototype.getLaFuncFromMap=function(e){return this.lookAheadFuncsCache.get(e)},e.prototype.getLaFuncFromObj=function(e){return this.lookAheadFuncsCache[e]},e.prototype.setLaFuncCache=function(e,t){},e.prototype.setLaFuncCacheUsingMap=function(e,t){this.lookAheadFuncsCache.set(e,t)},e.prototype.setLaFuncUsingObj=function(e,t){this.lookAheadFuncsCache[e]=t},e}();function Nt(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset==!0&&(e.endOffset=t.endOffset)}function St(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset==!0&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}var It;function At(e){var t=e.name;return t||"anonymous"}function Ct(e,t){var n=Object.getOwnPropertyDescriptor(e,"name");return!(!Object(i.F)(n)&&!n.configurable)&&(Object.defineProperty(e,"name",{enumerable:!1,configurable:!0,writable:!1,value:t}),!0)}function xt(e,t){for(var n=Object(i.G)(e),r=n.length,o=0;o<r;o++)for(var a=e[n[o]],s=a.length,c=0;c<s;c++){var u=a[c];void 0===u.tokenTypeIdx&&this[u.name](u.children,t)}}function Lt(e,t){var n=function(){};return Ct(n,e+"BaseSemantics"),(n.prototype={visit:function(e,t){if(Object(i.y)(e)&&(e=e[0]),!Object(i.F)(e))return this[e.name](e.children,t)},validateVisitor:function(){var e=function(e,t){var n=function(e,t){var n=Object(i.I)(t,(function(t){if(!Object(i.B)(e[t]))return{msg:"Missing visitor method: <"+t+"> on "+At(e.constructor)+" CST Visitor.",type:It.MISSING_METHOD,methodName:t}}));return Object(i.i)(n)}(e,t),r=function(e,t){var n=[];for(var r in e)!Object(i.B)(e[r])||Object(i.j)(kt,r)||Object(i.j)(t,r)||n.push({msg:"Redundant visitor method: <"+r+"> on "+At(e.constructor)+" CST Visitor\nThere is no Grammar Rule corresponding to this method's name.\n",type:It.REDUNDANT_METHOD,methodName:r});return n}(e,t);return n.concat(r)}(this,t);if(!Object(i.A)(e)){var n=Object(i.I)(e,(function(e){return e.msg}));throw Error("Errors Detected in CST Visitor <"+At(this.constructor)+">:\n\t"+n.join("\n\n").replace(/\n/g,"\n\t"))}}}).constructor=n,n._RULE_NAMES=t,n}!function(e){e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD"}(It||(It={}));var kt=["constructor","visit","validateVisitor"];var wt=function(){function e(){}return e.prototype.initTreeBuilder=function(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=Object(i.w)(e,"nodeLocationTracking")?e.nodeLocationTracking:Qt.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=St,this.setNodeLocationFromNode=St,this.cstPostRule=i.b,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=i.b,this.setNodeLocationFromNode=i.b,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Nt,this.setNodeLocationFromNode=Nt,this.cstPostRule=i.b,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=i.b,this.setNodeLocationFromNode=i.b,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error('Invalid <nodeLocationTracking> config option: "'+e.nodeLocationTracking+'"');this.setNodeLocationFromToken=i.b,this.setNodeLocationFromNode=i.b,this.cstPostRule=i.b,this.setInitialNodeLocation=i.b}else this.cstInvocationStateUpdate=i.b,this.cstFinallyStateUpdate=i.b,this.cstPostTerminal=i.b,this.cstPostNonTerminal=i.b,this.cstPostRule=i.b},e.prototype.setInitialNodeLocationOnlyOffsetRecovery=function(e){e.location={startOffset:NaN,endOffset:NaN}},e.prototype.setInitialNodeLocationOnlyOffsetRegular=function(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}},e.prototype.setInitialNodeLocationFullRecovery=function(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}},e.prototype.setInitialNodeLocationFullRegular=function(e){var t=this.LA(1);e.location={startOffset:t.startOffset,startLine:t.startLine,startColumn:t.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}},e.prototype.cstInvocationStateUpdate=function(e,t){var n={name:e,children:{}};this.setInitialNodeLocation(n),this.CST_STACK.push(n)},e.prototype.cstFinallyStateUpdate=function(){this.CST_STACK.pop()},e.prototype.cstPostRuleFull=function(e){var t=this.LA(0),n=e.location;n.startOffset<=t.startOffset==!0?(n.endOffset=t.endOffset,n.endLine=t.endLine,n.endColumn=t.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)},e.prototype.cstPostRuleOnlyOffset=function(e){var t=this.LA(0),n=e.location;n.startOffset<=t.startOffset==!0?n.endOffset=t.endOffset:n.startOffset=NaN},e.prototype.cstPostTerminal=function(e,t){var n,r,i,o=this.CST_STACK[this.CST_STACK.length-1];r=t,i=e,void 0===(n=o).children[i]?n.children[i]=[r]:n.children[i].push(r),this.setNodeLocationFromToken(o.location,t)},e.prototype.cstPostNonTerminal=function(e,t){var n=this.CST_STACK[this.CST_STACK.length-1];!function(e,t,n){void 0===e.children[t]?e.children[t]=[n]:e.children[t].push(n)}(n,t,e),this.setNodeLocationFromNode(n.location,e.location)},e.prototype.getBaseCstVisitorConstructor=function(){if(Object(i.F)(this.baseCstVisitorConstructor)){var e=Lt(this.className,Object(i.G)(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor},e.prototype.getBaseCstVisitorConstructorWithDefaults=function(){if(Object(i.F)(this.baseCstVisitorWithDefaultsConstructor)){var e=function(e,t,n){var r=function(){};Ct(r,e+"BaseSemanticsWithDefaults");var o=Object.create(n.prototype);return Object(i.u)(t,(function(e){o[e]=xt})),(r.prototype=o).constructor=r,r}(this.className,Object(i.G)(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor},e.prototype.getLastExplicitRuleShortName=function(){var e=this.RULE_STACK;return e[e.length-1]},e.prototype.getPreviousExplicitRuleShortName=function(){var e=this.RULE_STACK;return e[e.length-2]},e.prototype.getLastExplicitRuleOccurrenceIndex=function(){var e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]},e}(),Pt=function(){function e(){}return e.prototype.initLexerAdapter=function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1},Object.defineProperty(e.prototype,"input",{get:function(){return this.tokVector},set:function(e){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length},enumerable:!1,configurable:!0}),e.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Jt},e.prototype.LA=function(e){var t=this.currIdx+e;return t<0||this.tokVectorLength<=t?Jt:this.tokVector[t]},e.prototype.consumeToken=function(){this.currIdx++},e.prototype.exportLexerState=function(){return this.currIdx},e.prototype.importLexerState=function(e){this.currIdx=e},e.prototype.resetLexerState=function(){this.currIdx=-1},e.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},e.prototype.getLexerPosition=function(){return this.exportLexerState()},e}(),jt=function(){function e(){}return e.prototype.ACTION=function(e){return e.call(this)},e.prototype.consume=function(e,t,n){return this.consumeInternal(t,e,n)},e.prototype.subrule=function(e,t,n){return this.subruleInternal(t,e,n)},e.prototype.option=function(e,t){return this.optionInternal(t,e)},e.prototype.or=function(e,t){return this.orInternal(t,e)},e.prototype.many=function(e,t){return this.manyInternal(e,t)},e.prototype.atLeastOne=function(e,t){return this.atLeastOneInternal(e,t)},e.prototype.CONSUME=function(e,t){return this.consumeInternal(e,0,t)},e.prototype.CONSUME1=function(e,t){return this.consumeInternal(e,1,t)},e.prototype.CONSUME2=function(e,t){return this.consumeInternal(e,2,t)},e.prototype.CONSUME3=function(e,t){return this.consumeInternal(e,3,t)},e.prototype.CONSUME4=function(e,t){return this.consumeInternal(e,4,t)},e.prototype.CONSUME5=function(e,t){return this.consumeInternal(e,5,t)},e.prototype.CONSUME6=function(e,t){return this.consumeInternal(e,6,t)},e.prototype.CONSUME7=function(e,t){return this.consumeInternal(e,7,t)},e.prototype.CONSUME8=function(e,t){return this.consumeInternal(e,8,t)},e.prototype.CONSUME9=function(e,t){return this.consumeInternal(e,9,t)},e.prototype.SUBRULE=function(e,t){return this.subruleInternal(e,0,t)},e.prototype.SUBRULE1=function(e,t){return this.subruleInternal(e,1,t)},e.prototype.SUBRULE2=function(e,t){return this.subruleInternal(e,2,t)},e.prototype.SUBRULE3=function(e,t){return this.subruleInternal(e,3,t)},e.prototype.SUBRULE4=function(e,t){return this.subruleInternal(e,4,t)},e.prototype.SUBRULE5=function(e,t){return this.subruleInternal(e,5,t)},e.prototype.SUBRULE6=function(e,t){return this.subruleInternal(e,6,t)},e.prototype.SUBRULE7=function(e,t){return this.subruleInternal(e,7,t)},e.prototype.SUBRULE8=function(e,t){return this.subruleInternal(e,8,t)},e.prototype.SUBRULE9=function(e,t){return this.subruleInternal(e,9,t)},e.prototype.OPTION=function(e){return this.optionInternal(e,0)},e.prototype.OPTION1=function(e){return this.optionInternal(e,1)},e.prototype.OPTION2=function(e){return this.optionInternal(e,2)},e.prototype.OPTION3=function(e){return this.optionInternal(e,3)},e.prototype.OPTION4=function(e){return this.optionInternal(e,4)},e.prototype.OPTION5=function(e){return this.optionInternal(e,5)},e.prototype.OPTION6=function(e){return this.optionInternal(e,6)},e.prototype.OPTION7=function(e){return this.optionInternal(e,7)},e.prototype.OPTION8=function(e){return this.optionInternal(e,8)},e.prototype.OPTION9=function(e){return this.optionInternal(e,9)},e.prototype.OR=function(e){return this.orInternal(e,0)},e.prototype.OR1=function(e){return this.orInternal(e,1)},e.prototype.OR2=function(e){return this.orInternal(e,2)},e.prototype.OR3=function(e){return this.orInternal(e,3)},e.prototype.OR4=function(e){return this.orInternal(e,4)},e.prototype.OR5=function(e){return this.orInternal(e,5)},e.prototype.OR6=function(e){return this.orInternal(e,6)},e.prototype.OR7=function(e){return this.orInternal(e,7)},e.prototype.OR8=function(e){return this.orInternal(e,8)},e.prototype.OR9=function(e){return this.orInternal(e,9)},e.prototype.MANY=function(e){this.manyInternal(0,e)},e.prototype.MANY1=function(e){this.manyInternal(1,e)},e.prototype.MANY2=function(e){this.manyInternal(2,e)},e.prototype.MANY3=function(e){this.manyInternal(3,e)},e.prototype.MANY4=function(e){this.manyInternal(4,e)},e.prototype.MANY5=function(e){this.manyInternal(5,e)},e.prototype.MANY6=function(e){this.manyInternal(6,e)},e.prototype.MANY7=function(e){this.manyInternal(7,e)},e.prototype.MANY8=function(e){this.manyInternal(8,e)},e.prototype.MANY9=function(e){this.manyInternal(9,e)},e.prototype.MANY_SEP=function(e){this.manySepFirstInternal(0,e)},e.prototype.MANY_SEP1=function(e){this.manySepFirstInternal(1,e)},e.prototype.MANY_SEP2=function(e){this.manySepFirstInternal(2,e)},e.prototype.MANY_SEP3=function(e){this.manySepFirstInternal(3,e)},e.prototype.MANY_SEP4=function(e){this.manySepFirstInternal(4,e)},e.prototype.MANY_SEP5=function(e){this.manySepFirstInternal(5,e)},e.prototype.MANY_SEP6=function(e){this.manySepFirstInternal(6,e)},e.prototype.MANY_SEP7=function(e){this.manySepFirstInternal(7,e)},e.prototype.MANY_SEP8=function(e){this.manySepFirstInternal(8,e)},e.prototype.MANY_SEP9=function(e){this.manySepFirstInternal(9,e)},e.prototype.AT_LEAST_ONE=function(e){this.atLeastOneInternal(0,e)},e.prototype.AT_LEAST_ONE1=function(e){return this.atLeastOneInternal(1,e)},e.prototype.AT_LEAST_ONE2=function(e){this.atLeastOneInternal(2,e)},e.prototype.AT_LEAST_ONE3=function(e){this.atLeastOneInternal(3,e)},e.prototype.AT_LEAST_ONE4=function(e){this.atLeastOneInternal(4,e)},e.prototype.AT_LEAST_ONE5=function(e){this.atLeastOneInternal(5,e)},e.prototype.AT_LEAST_ONE6=function(e){this.atLeastOneInternal(6,e)},e.prototype.AT_LEAST_ONE7=function(e){this.atLeastOneInternal(7,e)},e.prototype.AT_LEAST_ONE8=function(e){this.atLeastOneInternal(8,e)},e.prototype.AT_LEAST_ONE9=function(e){this.atLeastOneInternal(9,e)},e.prototype.AT_LEAST_ONE_SEP=function(e){this.atLeastOneSepFirstInternal(0,e)},e.prototype.AT_LEAST_ONE_SEP1=function(e){this.atLeastOneSepFirstInternal(1,e)},e.prototype.AT_LEAST_ONE_SEP2=function(e){this.atLeastOneSepFirstInternal(2,e)},e.prototype.AT_LEAST_ONE_SEP3=function(e){this.atLeastOneSepFirstInternal(3,e)},e.prototype.AT_LEAST_ONE_SEP4=function(e){this.atLeastOneSepFirstInternal(4,e)},e.prototype.AT_LEAST_ONE_SEP5=function(e){this.atLeastOneSepFirstInternal(5,e)},e.prototype.AT_LEAST_ONE_SEP6=function(e){this.atLeastOneSepFirstInternal(6,e)},e.prototype.AT_LEAST_ONE_SEP7=function(e){this.atLeastOneSepFirstInternal(7,e)},e.prototype.AT_LEAST_ONE_SEP8=function(e){this.atLeastOneSepFirstInternal(8,e)},e.prototype.AT_LEAST_ONE_SEP9=function(e){this.atLeastOneSepFirstInternal(9,e)},e.prototype.RULE=function(e,t,n){if(void 0===n&&(n=en),Object(i.j)(this.definedRulesNames,e)){var r={message:xe.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:Zt.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(r)}this.definedRulesNames.push(e);var o=this.defineRule(e,t,n);return this[e]=o,o},e.prototype.OVERRIDE_RULE=function(e,t,n){void 0===n&&(n=en);var r,o,a,s,c,u=[];u=u.concat((r=e,o=this.definedRulesNames,a=this.className,c=[],i.j(o,r)||(s="Invalid rule override, rule: ->"+r+"<- cannot be overridden in the grammar: ->"+a+"<-as it is not defined in any of the super grammars ",c.push({message:s,type:Zt.INVALID_RULE_OVERRIDE,ruleName:r})),c)),this.definitionErrors.push.apply(this.definitionErrors,u);var l=this.defineRule(e,t,n);return this[e]=l,l},e.prototype.BACKTRACK=function(e,t){return function(){this.isBackTrackingStack.push(1);var n=this.saveRecogState();try{return e.apply(this,t),!0}catch(e){if(pt(e))return!1;throw e}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}},e.prototype.getGAstProductions=function(){return this.gastProductionsCache},e.prototype.getSerializedGastProductions=function(){return de(Object(i.U)(this.gastProductionsCache))},e}(),Mt=function(){function e(){}return e.prototype.initRecognizerEngine=function(e,t){if(this.className=At(this.constructor),this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=F,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Object(i.w)(t,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if(Object(i.y)(e)){if(Object(i.A)(e))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"==typeof e[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if(Object(i.y)(e))this.tokensMap=Object(i.O)(e,(function(e,t){return e[t.name]=t,e}),{});else if(Object(i.w)(e,"modes")&&Object(i.o)(Object(i.t)(Object(i.U)(e.modes)),K)){var n=Object(i.t)(Object(i.U)(e.modes)),r=Object(i.T)(n);this.tokensMap=Object(i.O)(r,(function(e,t){return e[t.name]=t,e}),{})}else{if(!Object(i.C)(e))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=Object(i.h)(e)}this.tokensMap.EOF=Q;var o=Object(i.o)(Object(i.U)(e),(function(e){return Object(i.A)(e.categoryMatches)}));this.tokenMatcher=o?F:D,B(Object(i.U)(this.tokensMap))},e.prototype.defineRule=function(e,t,n){if(this.selfAnalysisDone)throw Error("Grammar rule <"+e+"> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.");var r,o=Object(i.w)(n,"resyncEnabled")?n.resyncEnabled:en.resyncEnabled,a=Object(i.w)(n,"recoveryValueFunc")?n.recoveryValueFunc:en.recoveryValueFunc,s=this.ruleShortNameIdx<<12;function c(e){try{if(!0===this.outputCst){t.apply(this,e);var n=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(n),n}return t.apply(this,e)}catch(e){return this.invokeRuleCatch(e,o,a)}finally{this.ruleFinallyStateUpdate()}}this.ruleShortNameIdx++,this.shortRuleNameToFull[s]=e,this.fullRuleNameToShort[e]=s;return(r=function(t,n){return void 0===t&&(t=0),this.ruleInvocationStateUpdate(s,e,t),c.call(this,n)}).ruleName=e,r.originalGrammarAction=t,r},e.prototype.invokeRuleCatch=function(e,t,n){var r=1===this.RULE_STACK.length,i=t&&!this.isBackTracking()&&this.recoveryEnabled;if(pt(e)){var o=e;if(i){var a,s=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(s))return o.resyncedTokens=this.reSyncTo(s),this.outputCst?((a=this.CST_STACK[this.CST_STACK.length-1]).recoveredNode=!0,a):n();throw this.outputCst&&((a=this.CST_STACK[this.CST_STACK.length-1]).recoveredNode=!0,o.partialCstResult=a),o}if(r)return this.moveToTerminatedState(),n();throw o}throw e},e.prototype.optionInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(512,t);return this.optionInternalLogic(e,t,n)},e.prototype.optionInternalLogic=function(e,t,n){var r,i,o=this,a=this.getLaFuncFromCache(n);if(void 0!==e.DEF){if(r=e.DEF,void 0!==(i=e.GATE)){var s=a;a=function(){return i.call(o)&&s.call(o)}}}else r=e;if(!0===a.call(this))return r.call(this)},e.prototype.atLeastOneInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(1024,e);return this.atLeastOneInternalLogic(e,t,n)},e.prototype.atLeastOneInternalLogic=function(e,t,n){var r,i,o=this,a=this.getLaFuncFromCache(n);if(void 0!==t.DEF){if(r=t.DEF,void 0!==(i=t.GATE)){var s=a;a=function(){return i.call(o)&&s.call(o)}}}else r=t;if(!0!==a.call(this))throw this.raiseEarlyExitException(e,ze.REPETITION_MANDATORY,t.ERR_MSG);for(var c=this.doSingleRepetition(r);!0===a.call(this)&&!0===c;)c=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,t],a,1024,e,Fe)},e.prototype.atLeastOneSepFirstInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(1536,e);this.atLeastOneSepFirstInternalLogic(e,t,n)},e.prototype.atLeastOneSepFirstInternalLogic=function(e,t,n){var r=this,i=t.DEF,o=t.SEP;if(!0!==this.getLaFuncFromCache(n).call(this))throw this.raiseEarlyExitException(e,ze.REPETITION_MANDATORY_WITH_SEPARATOR,t.ERR_MSG);i.call(this);for(var a=function(){return r.tokenMatcher(r.LA(1),o)};!0===this.tokenMatcher(this.LA(1),o);)this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,o,a,i,Ue],a,1536,e,Ue)},e.prototype.manyInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(768,e);return this.manyInternalLogic(e,t,n)},e.prototype.manyInternalLogic=function(e,t,n){var r,i,o=this,a=this.getLaFuncFromCache(n);if(void 0!==t.DEF){if(r=t.DEF,void 0!==(i=t.GATE)){var s=a;a=function(){return i.call(o)&&s.call(o)}}}else r=t;for(var c=!0;!0===a.call(this)&&!0===c;)c=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.manyInternal,[e,t],a,768,e,Me,c)},e.prototype.manySepFirstInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(1280,e);this.manySepFirstInternalLogic(e,t,n)},e.prototype.manySepFirstInternalLogic=function(e,t,n){var r=this,i=t.DEF,o=t.SEP;if(!0===this.getLaFuncFromCache(n).call(this)){i.call(this);for(var a=function(){return r.tokenMatcher(r.LA(1),o)};!0===this.tokenMatcher(this.LA(1),o);)this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,o,a,i,De],a,1280,e,De)}},e.prototype.repetitionSepSecondInternal=function(e,t,n,r,i){for(;n();)this.CONSUME(t),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,t,n,r,i],n,1536,e,i)},e.prototype.doSingleRepetition=function(e){var t=this.getLexerPosition();return e.call(this),this.getLexerPosition()>t},e.prototype.orInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(256,t),r=Object(i.y)(e)?e:e.DEF,o=this.getLaFuncFromCache(n).call(this,r);if(void 0!==o)return r[o].ALT.call(this);this.raiseNoAltException(t,e.ERR_MSG)},e.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){var e=this.LA(1),t=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new vt(t,e))}},e.prototype.subruleInternal=function(e,t,n){var r;try{var i=void 0!==n?n.ARGS:void 0;return r=e.call(this,t,i),this.cstPostNonTerminal(r,void 0!==n&&void 0!==n.LABEL?n.LABEL:e.ruleName),r}catch(t){this.subruleInternalError(t,n,e.ruleName)}},e.prototype.subruleInternalError=function(e,t,n){throw pt(e)&&void 0!==e.partialCstResult&&(this.cstPostNonTerminal(e.partialCstResult,void 0!==t&&void 0!==t.LABEL?t.LABEL:n),delete e.partialCstResult),e},e.prototype.consumeInternal=function(e,t,n){var r;try{var i=this.LA(1);!0===this.tokenMatcher(i,e)?(this.consumeToken(),r=i):this.consumeInternalError(e,i,n)}catch(n){r=this.consumeInternalRecovery(e,t,n)}return this.cstPostTerminal(void 0!==n&&void 0!==n.LABEL?n.LABEL:e.name,r),r},e.prototype.consumeInternalError=function(e,t,n){var r,i=this.LA(0);throw r=void 0!==n&&n.ERR_MSG?n.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:t,previous:i,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new mt(r,t,i))},e.prototype.consumeInternalRecovery=function(e,t,n){if(!this.recoveryEnabled||"MismatchedTokenException"!==n.name||this.isBackTracking())throw n;var r=this.getFollowsForInRuleRecovery(e,t);try{return this.tryInRuleRecovery(e,r)}catch(e){throw"InRuleRecoveryException"===e.name?n:e}},e.prototype.saveRecogState=function(){var e=this.errors,t=Object(i.g)(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:t,CST_STACK:this.CST_STACK}},e.prototype.reloadRecogState=function(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK},e.prototype.ruleInvocationStateUpdate=function(e,t,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(t,e)},e.prototype.isBackTracking=function(){return 0!==this.isBackTrackingStack.length},e.prototype.getCurrRuleFullName=function(){var e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]},e.prototype.shortRuleNameToFullName=function(e){return this.shortRuleNameToFull[e]},e.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),Q)},e.prototype.reset=function(){this.resetLexerState(),this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},e}(),Dt=function(){function e(){}return e.prototype.initErrorHandler=function(e){this._errors=[],this.errorMessageProvider=Object(i.w)(e,"errorMessageProvider")?e.errorMessageProvider:Qt.errorMessageProvider},e.prototype.SAVE_ERROR=function(e){if(pt(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Object(i.g)(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")},Object.defineProperty(e.prototype,"errors",{get:function(){return Object(i.g)(this._errors)},set:function(e){this._errors=e},enumerable:!1,configurable:!0}),e.prototype.raiseEarlyExitException=function(e,t,n){for(var r=this.getCurrRuleFullName(),i=Ze(e,this.getGAstProductions()[r],t,this.maxLookahead)[0],o=[],a=1;a<=this.maxLookahead;a++)o.push(this.LA(a));var s=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:i,actual:o,previous:this.LA(0),customUserDescription:n,ruleName:r});throw this.SAVE_ERROR(new yt(s,this.LA(1),this.LA(0)))},e.prototype.raiseNoAltException=function(e,t){for(var n=this.getCurrRuleFullName(),r=Je(e,this.getGAstProductions()[n],this.maxLookahead),i=[],o=1;o<=this.maxLookahead;o++)i.push(this.LA(o));var a=this.LA(0),s=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:r,actual:i,previous:a,customUserDescription:t,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new gt(s,this.LA(1),a))},e}(),Ft=function(){function e(){}return e.prototype.initContentAssist=function(){},e.prototype.computeContentAssist=function(e,t){var n=this.gastProductionsCache[e];if(Object(i.F)(n))throw Error("Rule ->"+e+"<- does not exist in this grammar.");return Be([n],t,this.tokenMatcher,this.maxLookahead)},e.prototype.getNextPossibleTokenTypes=function(e){var t=Object(i.s)(e.ruleStack),n=this.getGAstProductions()[t];return new Pe(n,e).startWalking()},e}(),Ut={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(Ut);var qt=Math.pow(2,8)-1,Bt=Z({name:"RECORDING_PHASE_TOKEN",pattern:$.NA});B([Bt]);var Wt=ee(Bt,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(Wt);var zt={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording for details",children:{}},Kt=function(){function e(){}return e.prototype.initGastRecorder=function(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1},e.prototype.enableRecording=function(){var e=this;this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",(function(){for(var t=function(t){var n=t>0?t:"";e["CONSUME"+n]=function(e,n){return this.consumeInternalRecord(e,t,n)},e["SUBRULE"+n]=function(e,n){return this.subruleInternalRecord(e,t,n)},e["OPTION"+n]=function(e){return this.optionInternalRecord(e,t)},e["OR"+n]=function(e){return this.orInternalRecord(e,t)},e["MANY"+n]=function(e){this.manyInternalRecord(t,e)},e["MANY_SEP"+n]=function(e){this.manySepFirstInternalRecord(t,e)},e["AT_LEAST_ONE"+n]=function(e){this.atLeastOneInternalRecord(t,e)},e["AT_LEAST_ONE_SEP"+n]=function(e){this.atLeastOneSepFirstInternalRecord(t,e)}},n=0;n<10;n++)t(n);e.consume=function(e,t,n){return this.consumeInternalRecord(t,e,n)},e.subrule=function(e,t,n){return this.subruleInternalRecord(t,e,n)},e.option=function(e,t){return this.optionInternalRecord(t,e)},e.or=function(e,t){return this.orInternalRecord(t,e)},e.many=function(e,t){this.manyInternalRecord(e,t)},e.atLeastOne=function(e,t){this.atLeastOneInternalRecord(e,t)},e.ACTION=e.ACTION_RECORD,e.BACKTRACK=e.BACKTRACK_RECORD,e.LA=e.LA_RECORD}))},e.prototype.disableRecording=function(){var e=this;this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",(function(){for(var t=0;t<10;t++){var n=t>0?t:"";delete e["CONSUME"+n],delete e["SUBRULE"+n],delete e["OPTION"+n],delete e["OR"+n],delete e["MANY"+n],delete e["MANY_SEP"+n],delete e["AT_LEAST_ONE"+n],delete e["AT_LEAST_ONE_SEP"+n]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA}))},e.prototype.ACTION_RECORD=function(e){},e.prototype.BACKTRACK_RECORD=function(e,t){return function(){return!0}},e.prototype.LA_RECORD=function(e){return Jt},e.prototype.topLevelRuleRecord=function(e,t){try{var n=new oe({definition:[],name:e});return n.name=e,this.recordingProdStack.push(n),t.call(this),this.recordingProdStack.pop(),n}catch(e){if(!0!==e.KNOWN_RECORDER_ERROR)try{e.message=e.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording'}catch(t){throw e}throw e}},e.prototype.optionInternalRecord=function(e,t){return Vt.call(this,se,e,t)},e.prototype.atLeastOneInternalRecord=function(e,t){Vt.call(this,ce,t,e)},e.prototype.atLeastOneSepFirstInternalRecord=function(e,t){Vt.call(this,ue,t,e,!0)},e.prototype.manyInternalRecord=function(e,t){Vt.call(this,le,t,e)},e.prototype.manySepFirstInternalRecord=function(e,t){Vt.call(this,fe,t,e,!0)},e.prototype.orInternalRecord=function(e,t){return Ht.call(this,e,t)},e.prototype.subruleInternalRecord=function(e,t,n){if($t(t),!e||!1===Object(i.w)(e,"ruleName")){var r=new Error("<SUBRULE"+Gt(t)+"> argument is invalid expecting a Parser method reference but got: <"+JSON.stringify(e)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw r.KNOWN_RECORDER_ERROR=!0,r}var o=Object(i.M)(this.recordingProdStack),a=e.ruleName,s=new ie({idx:t,nonTerminalName:a,referencedRule:void 0});return o.definition.push(s),this.outputCst?zt:Ut},e.prototype.consumeInternalRecord=function(e,t,n){if($t(t),!W(e)){var r=new Error("<CONSUME"+Gt(t)+"> argument is invalid expecting a TokenType reference but got: <"+JSON.stringify(e)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw r.KNOWN_RECORDER_ERROR=!0,r}var o=Object(i.M)(this.recordingProdStack),a=new pe({idx:t,terminalType:e});return o.definition.push(a),Wt},e}();function Vt(e,t,n,r){void 0===r&&(r=!1),$t(n);var o=Object(i.M)(this.recordingProdStack),a=Object(i.B)(t)?t:t.DEF,s=new e({definition:[],idx:n});return r&&(s.separator=t.SEP),Object(i.w)(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(s),a.call(this),o.definition.push(s),this.recordingProdStack.pop(),Ut}function Ht(e,t){var n=this;$t(t);var r=Object(i.M)(this.recordingProdStack),o=!1===Object(i.y)(e),a=!1===o?e:e.DEF,s=new he({definition:[],idx:t,ignoreAmbiguities:o&&!0===e.IGNORE_AMBIGUITIES});Object(i.w)(e,"MAX_LOOKAHEAD")&&(s.maxLookahead=e.MAX_LOOKAHEAD);var c=Object(i.Q)(a,(function(e){return Object(i.B)(e.GATE)}));return s.hasPredicates=c,r.definition.push(s),Object(i.u)(a,(function(e){var t=new ae({definition:[]});s.definition.push(t),Object(i.w)(e,"IGNORE_AMBIGUITIES")?t.ignoreAmbiguities=e.IGNORE_AMBIGUITIES:Object(i.w)(e,"GATE")&&(t.ignoreAmbiguities=!0),n.recordingProdStack.push(t),e.ALT.call(n),n.recordingProdStack.pop()})),Ut}function Gt(e){return 0===e?"":""+e}function $t(e){if(e<0||e>qt){var t=new Error("Invalid DSL Method idx value: <"+e+">\n\tIdx value must be a none negative value smaller than "+(qt+1));throw t.KNOWN_RECORDER_ERROR=!0,t}}var Yt=function(){function e(){}return e.prototype.initPerformanceTracer=function(e){if(Object(i.w)(e,"traceInitPerf")){var t=e.traceInitPerf,n="number"==typeof t;this.traceInitMaxIdent=n?t:1/0,this.traceInitPerf=n?t>0:t}else this.traceInitMaxIdent=0,this.traceInitPerf=Qt.traceInitPerf;this.traceInitIndent=-1},e.prototype.TRACE_INIT=function(e,t){if(!0===this.traceInitPerf){this.traceInitIndent++;var n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(n+"--\x3e <"+e+">");var r=Object(i.R)(t),o=r.time,a=r.value,s=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&s(n+"<-- <"+e+"> time: "+o+"ms"),this.traceInitIndent--,a}return t()},e}(),Xt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jt=ee(Q,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(Jt);var Zt,Qt=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Ae,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),en=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0});function tn(e){return void 0===e&&(e=void 0),function(){return e}}!function(e){e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=12]="TOO_MANY_ALTS"}(Zt||(Zt={}));var nn=function(){function e(e,t){this.definitionErrors=[],this.selfAnalysisDone=!1;if(this.initErrorHandler(t),this.initLexerAdapter(),this.initLooksAhead(t),this.initRecognizerEngine(e,t),this.initRecoverable(t),this.initTreeBuilder(t),this.initContentAssist(),this.initGastRecorder(t),this.initPerformanceTracer(t),Object(i.w)(t,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=Object(i.w)(t,"skipValidations")?t.skipValidations:Qt.skipValidations}return e.performSelfAnalysis=function(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")},e.prototype.performSelfAnalysis=function(){var t=this;this.TRACE_INIT("performSelfAnalysis",(function(){var n;t.selfAnalysisDone=!0;var r=t.className;t.TRACE_INIT("toFastProps",(function(){Object(i.S)(t)})),t.TRACE_INIT("Grammar Recording",(function(){try{t.enableRecording(),Object(i.u)(t.definedRulesNames,(function(e){var n=t[e].originalGrammarAction,r=void 0;t.TRACE_INIT(e+" Rule",(function(){r=t.topLevelRuleRecord(e,n)})),t.gastProductionsCache[e]=r}))}finally{t.disableRecording()}}));var o=[];if(t.TRACE_INIT("Grammar Resolving",(function(){o=ct({rules:Object(i.U)(t.gastProductionsCache)}),t.definitionErrors.push.apply(t.definitionErrors,o)})),t.TRACE_INIT("Grammar Validations",(function(){if(Object(i.A)(o)&&!1===t.skipValidations){var e=ut({rules:Object(i.U)(t.gastProductionsCache),maxLookahead:t.maxLookahead,tokenTypes:Object(i.U)(t.tokensMap),errMsgProvider:xe,grammarName:r});t.definitionErrors.push.apply(t.definitionErrors,e)}})),Object(i.A)(t.definitionErrors)&&(t.recoveryEnabled&&t.TRACE_INIT("computeAllProdsFollows",(function(){var e,n,r=(e=Object(i.U)(t.gastProductionsCache),n={},Object(i.u)(e,(function(e){var t=new Ie(e).startWalking();Object(i.f)(n,t)})),n);t.resyncFollows=r})),t.TRACE_INIT("ComputeLookaheadFunctions",(function(){t.preComputeLookaheadFunctions(Object(i.U)(t.gastProductionsCache))}))),!e.DEFER_DEFINITION_ERRORS_HANDLING&&!Object(i.A)(t.definitionErrors))throw n=Object(i.I)(t.definitionErrors,(function(e){return e.message})),new Error("Parser Definition Errors detected:\n "+n.join("\n-------------------------------\n"))}))},e.DEFER_DEFINITION_ERRORS_HANDLING=!1,e}();Object(i.e)(nn,[_t,Rt,wt,Pt,Mt,jt,Dt,Ft,Kt,Yt]);var rn=function(e){function t(t,n){void 0===n&&(n=Qt);var r=Object(i.h)(n);return r.outputCst=!0,e.call(this,t,r)||this}return Xt(t,e),t}(nn),on=function(e){function t(t,n){void 0===n&&(n=Qt);var r=Object(i.h)(n);return r.outputCst=!1,e.call(this,t,r)||this}return Xt(t,e),t}(nn);function an(e,t){var n=void 0===t?{}:t,i=n.resourceBase,o=void 0===i?"https://unpkg.com/chevrotain@"+r+"/diagrams/":i,a=n.css;return'\n\x3c!-- This is a generated file --\x3e\n<!DOCTYPE html>\n<meta charset="utf-8">\n<style>\n  body {\n    background-color: hsl(30, 20%, 95%)\n  }\n</style>\n\n'+("\n<link rel='stylesheet' href='"+(void 0===a?"https://unpkg.com/chevrotain@"+r+"/diagrams/diagrams.css":a)+"'>\n")+("\n<script src='"+o+"vendor/railroad-diagrams.js'><\/script>\n<script src='"+o+"src/diagrams_builder.js'><\/script>\n<script src='"+o+"src/diagrams_behavior.js'><\/script>\n<script src='"+o+"src/main.js'><\/script>\n")+'\n<div id="diagrams" align="center"></div>    \n'+("\n<script>\n    window.serializedGrammar = "+JSON.stringify(e,null,"  ")+";\n<\/script>\n")+'\n<script>\n    var diagramsDiv = document.getElementById("diagrams");\n    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);\n<\/script>\n'}var sn="\n";function cn(e){var t;return"\nfunction "+e.name+"(tokenVocabulary, config) {\n    // invoke super constructor\n    // No support for embedded actions currently, so we can 'hardcode'\n    // The use of CstParser.\n    chevrotain.CstParser.call(this, tokenVocabulary, config)\n\n    const $ = this\n\n    "+(t=e.rules,Object(i.I)(t,(function(e){return r=dn(n=1,'$.RULE("'+(t=e).name+'", function() {')+sn,r+=pn(t.definition,n+1),r+=dn(n+1,"})")+sn;var t,n,r})).join("\n")+"\n\n    // very important to call this after all the rules have been defined.\n    // otherwise the parser may not work correctly as it will lack information\n    // derived during the self analysis phase.\n    this.performSelfAnalysis(this)\n}\n\n// inheritance as implemented in javascript in the previous decade... :(\n")+e.name+".prototype = Object.create(chevrotain.CstParser.prototype)\n"+e.name+".prototype.constructor = "+e.name+"    \n    "}function un(e,t){var n=dn(t,"$.OR"+e.idx+"([")+sn,r=Object(i.I)(e.definition,(function(e){return function(e,t){var n=dn(t,"{")+sn;return n+=dn(t+1,"ALT: function() {")+sn,n+=pn(e.definition,t+1),n+=dn(t+1,"}")+sn,n+=dn(t,"}")}(e,t+1)}));return n+=r.join(",\n"),n+=sn+dn(t,"])\n")}function ln(e,t){if(e instanceof ie)return function(e,t){return dn(t,"$.SUBRULE"+e.idx+"($."+e.nonTerminalName+")"+sn)}(e,t);if(e instanceof se)return fn("OPTION",e,t);if(e instanceof ce)return fn("AT_LEAST_ONE",e,t);if(e instanceof ue)return fn("AT_LEAST_ONE_SEP",e,t);if(e instanceof fe)return fn("MANY_SEP",e,t);if(e instanceof le)return fn("MANY",e,t);if(e instanceof he)return un(e,t);if(e instanceof pe)return function(e,t){var n=e.terminalType.name;return dn(t,"$.CONSUME"+e.idx+"(this.tokensMap."+n+")"+sn)}(e,t);if(e instanceof ae)return pn(e.definition,t);throw Error("non exhaustive match")}function fn(e,t,n){var r=dn(n,"$."+(e+t.idx)+"(");return t.separator?(r+="{\n",r+=dn(n+1,"SEP: this.tokensMap."+t.separator.name)+","+sn,r+="DEF: "+hn(t.definition,n+2)+sn,r+=dn(n,"}")+sn):r+=hn(t.definition,n+1),r+=dn(n,")")+sn}function hn(e,t){var n="function() {\n";return n+=pn(e,t),n+=dn(t,"}")+sn}function pn(e,t){var n="";return Object(i.u)(e,(function(e){n+=ln(e,t+1)})),n}function dn(e,t){return Array(4*e+1).join(" ")+t}function mn(e){var t=function(e){return"    \n"+cn(e)+"\nreturn new "+e.name+"(tokenVocabulary, config)    \n"}({name:e.name,rules:e.rules}),r=new Function("tokenVocabulary","config","chevrotain",t);return function(t){return r(e.tokenVocabulary,t,n(87))}}function gn(e){return function(e){return"\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['chevrotain'], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory(require('chevrotain'));\n    } else {\n        // Browser globals (root is window)\n        root.returnExports = factory(root.b);\n    }\n}(typeof self !== 'undefined' ? self : this, function (chevrotain) {\n\n"+cn(e)+"\n    \nreturn {\n    "+e.name+": "+e.name+" \n}\n}));\n"}({name:e.name,rules:e.rules})}function vn(){console.warn("The clearCache function was 'soft' removed from the Chevrotain API.\n\t It performs no action other than printing this message.\n\t Please avoid using it as it will be completely removed in the future")}var yn=function(){throw new Error("The Parser class has been deprecated, use CstParser or EmbeddedActionsParser instead.\t\nSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_7-0-0")}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";e.exports=n(51)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Disposable=void 0,function(e){e.create=function(e){return{dispose:e}}}(t.Disposable||(t.Disposable={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.Trace=t.ProgressType=t.createMessageConnection=t.NullLogger=t.ConnectionOptions=t.ConnectionStrategy=t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=t.CancellationToken=t.CancellationTokenSource=t.Emitter=t.Event=t.Disposable=t.ParameterStructures=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.ErrorCodes=t.ResponseError=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType0=t.RequestType=t.RAL=void 0,t.CancellationStrategy=void 0;const r=n(148);Object.defineProperty(t,"RequestType",{enumerable:!0,get:function(){return r.RequestType}}),Object.defineProperty(t,"RequestType0",{enumerable:!0,get:function(){return r.RequestType0}}),Object.defineProperty(t,"RequestType1",{enumerable:!0,get:function(){return r.RequestType1}}),Object.defineProperty(t,"RequestType2",{enumerable:!0,get:function(){return r.RequestType2}}),Object.defineProperty(t,"RequestType3",{enumerable:!0,get:function(){return r.RequestType3}}),Object.defineProperty(t,"RequestType4",{enumerable:!0,get:function(){return r.RequestType4}}),Object.defineProperty(t,"RequestType5",{enumerable:!0,get:function(){return r.RequestType5}}),Object.defineProperty(t,"RequestType6",{enumerable:!0,get:function(){return r.RequestType6}}),Object.defineProperty(t,"RequestType7",{enumerable:!0,get:function(){return r.RequestType7}}),Object.defineProperty(t,"RequestType8",{enumerable:!0,get:function(){return r.RequestType8}}),Object.defineProperty(t,"RequestType9",{enumerable:!0,get:function(){return r.RequestType9}}),Object.defineProperty(t,"ResponseError",{enumerable:!0,get:function(){return r.ResponseError}}),Object.defineProperty(t,"ErrorCodes",{enumerable:!0,get:function(){return r.ErrorCodes}}),Object.defineProperty(t,"NotificationType",{enumerable:!0,get:function(){return r.NotificationType}}),Object.defineProperty(t,"NotificationType0",{enumerable:!0,get:function(){return r.NotificationType0}}),Object.defineProperty(t,"NotificationType1",{enumerable:!0,get:function(){return r.NotificationType1}}),Object.defineProperty(t,"NotificationType2",{enumerable:!0,get:function(){return r.NotificationType2}}),Object.defineProperty(t,"NotificationType3",{enumerable:!0,get:function(){return r.NotificationType3}}),Object.defineProperty(t,"NotificationType4",{enumerable:!0,get:function(){return r.NotificationType4}}),Object.defineProperty(t,"NotificationType5",{enumerable:!0,get:function(){return r.NotificationType5}}),Object.defineProperty(t,"NotificationType6",{enumerable:!0,get:function(){return r.NotificationType6}}),Object.defineProperty(t,"NotificationType7",{enumerable:!0,get:function(){return r.NotificationType7}}),Object.defineProperty(t,"NotificationType8",{enumerable:!0,get:function(){return r.NotificationType8}}),Object.defineProperty(t,"NotificationType9",{enumerable:!0,get:function(){return r.NotificationType9}}),Object.defineProperty(t,"ParameterStructures",{enumerable:!0,get:function(){return r.ParameterStructures}});const i=n(146);Object.defineProperty(t,"Disposable",{enumerable:!0,get:function(){return i.Disposable}});const o=n(53);Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return o.Event}}),Object.defineProperty(t,"Emitter",{enumerable:!0,get:function(){return o.Emitter}});const a=n(149);Object.defineProperty(t,"CancellationTokenSource",{enumerable:!0,get:function(){return a.CancellationTokenSource}}),Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return a.CancellationToken}});const s=n(414);Object.defineProperty(t,"MessageReader",{enumerable:!0,get:function(){return s.MessageReader}}),Object.defineProperty(t,"AbstractMessageReader",{enumerable:!0,get:function(){return s.AbstractMessageReader}}),Object.defineProperty(t,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return s.ReadableStreamMessageReader}});const c=n(415);Object.defineProperty(t,"MessageWriter",{enumerable:!0,get:function(){return c.MessageWriter}}),Object.defineProperty(t,"AbstractMessageWriter",{enumerable:!0,get:function(){return c.AbstractMessageWriter}}),Object.defineProperty(t,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return c.WriteableStreamMessageWriter}});const u=n(417);Object.defineProperty(t,"ConnectionStrategy",{enumerable:!0,get:function(){return u.ConnectionStrategy}}),Object.defineProperty(t,"ConnectionOptions",{enumerable:!0,get:function(){return u.ConnectionOptions}}),Object.defineProperty(t,"NullLogger",{enumerable:!0,get:function(){return u.NullLogger}}),Object.defineProperty(t,"createMessageConnection",{enumerable:!0,get:function(){return u.createMessageConnection}}),Object.defineProperty(t,"ProgressType",{enumerable:!0,get:function(){return u.ProgressType}}),Object.defineProperty(t,"Trace",{enumerable:!0,get:function(){return u.Trace}}),Object.defineProperty(t,"TraceFormat",{enumerable:!0,get:function(){return u.TraceFormat}}),Object.defineProperty(t,"SetTraceNotification",{enumerable:!0,get:function(){return u.SetTraceNotification}}),Object.defineProperty(t,"LogTraceNotification",{enumerable:!0,get:function(){return u.LogTraceNotification}}),Object.defineProperty(t,"ConnectionErrors",{enumerable:!0,get:function(){return u.ConnectionErrors}}),Object.defineProperty(t,"ConnectionError",{enumerable:!0,get:function(){return u.ConnectionError}}),Object.defineProperty(t,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return u.CancellationReceiverStrategy}}),Object.defineProperty(t,"CancellationSenderStrategy",{enumerable:!0,get:function(){return u.CancellationSenderStrategy}}),Object.defineProperty(t,"CancellationStrategy",{enumerable:!0,get:function(){return u.CancellationStrategy}});const l=n(32);t.RAL=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isResponseMessage=t.isNotificationMessage=t.isRequestMessage=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType=t.RequestType0=t.AbstractMessageSignature=t.ParameterStructures=t.ResponseError=t.ErrorCodes=void 0;const r=n(52);var i;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=e.jsonrpcReservedErrorRangeStart,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=e.jsonrpcReservedErrorRangeEnd}(i=t.ErrorCodes||(t.ErrorCodes={}));class o extends Error{constructor(e,t,n){super(t),this.code=r.number(e)?e:i.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,o.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}t.ResponseError=o;class a{constructor(e){this.kind=e}static is(e){return e===a.auto||e===a.byName||e===a.byPosition}toString(){return this.kind}}t.ParameterStructures=a,a.auto=new a("auto"),a.byPosition=new a("byPosition"),a.byName=new a("byName");class s{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return a.auto}}t.AbstractMessageSignature=s;t.RequestType0=class extends s{constructor(e){super(e,0)}};t.RequestType=class extends s{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};t.RequestType1=class extends s{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};t.RequestType2=class extends s{constructor(e){super(e,2)}};t.RequestType3=class extends s{constructor(e){super(e,3)}};t.RequestType4=class extends s{constructor(e){super(e,4)}};t.RequestType5=class extends s{constructor(e){super(e,5)}};t.RequestType6=class extends s{constructor(e){super(e,6)}};t.RequestType7=class extends s{constructor(e){super(e,7)}};t.RequestType8=class extends s{constructor(e){super(e,8)}};t.RequestType9=class extends s{constructor(e){super(e,9)}};t.NotificationType=class extends s{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};t.NotificationType0=class extends s{constructor(e){super(e,0)}};t.NotificationType1=class extends s{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};t.NotificationType2=class extends s{constructor(e){super(e,2)}};t.NotificationType3=class extends s{constructor(e){super(e,3)}};t.NotificationType4=class extends s{constructor(e){super(e,4)}};t.NotificationType5=class extends s{constructor(e){super(e,5)}};t.NotificationType6=class extends s{constructor(e){super(e,6)}};t.NotificationType7=class extends s{constructor(e){super(e,7)}};t.NotificationType8=class extends s{constructor(e){super(e,8)}};t.NotificationType9=class extends s{constructor(e){super(e,9)}},t.isRequestMessage=function(e){const t=e;return t&&r.string(t.method)&&(r.string(t.id)||r.number(t.id))},t.isNotificationMessage=function(e){const t=e;return t&&r.string(t.method)&&void 0===e.id},t.isResponseMessage=function(e){const t=e;return t&&(void 0!==t.result||!!t.error)&&(r.string(t.id)||r.number(t.id)||null===t.id)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationTokenSource=t.CancellationToken=void 0;const r=n(32),i=n(52),o=n(53);var a;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:o.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:o.Event.None}),e.is=function(t){const n=t;return n&&(n===e.None||n===e.Cancelled||i.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(a=t.CancellationToken||(t.CancellationToken={}));const s=Object.freeze((function(e,t){const n=r.default().timer.setTimeout(e.bind(t),0);return{dispose(){r.default().timer.clearTimeout(n)}}}));class c{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?s:(this._emitter||(this._emitter=new o.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new c),this._token}cancel(){this._token?this._token.cancel():this._token=a.Cancelled}dispose(){this._token?this._token instanceof c&&this._token.dispose():this._token=a.None}}},function(e,t,n){"use strict";function r(e){return"string"==typeof e||e instanceof String}function i(e){return"function"==typeof e}function o(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=i,t.array=o,t.stringArray=function(e){return o(e)&&e.every(e=>r(e))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=function(e){return e&&i(e.then)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class i extends r{constructor(){super([i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),"-",i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),"-","4",i._randomHex(),i._randomHex(),i._randomHex(),"-",i._oneOf(i._timeHighBits),i._randomHex(),i._randomHex(),i._randomHex(),"-",i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return i._oneOf(i._chars)}}function o(){return new i}i._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],i._timeHighBits=["8","9","a","b"],t.empty=new r("00000000-0000-0000-0000-000000000000"),t.v4=o;const a=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function s(e){return a.test(e)}t.isUUID=s,t.parse=function(e){if(!s(e))throw new Error("invalid uuid");return new r(e)},t.generateUuid=function(){return o().asHex()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(153),i=n(443);function o(e){let t;return t=e[e.length-1]<65536?new Uint16Array(e.length):new Uint32Array(e.length),t.set(e,0),t}t.AverageBufferSize=65535,t.createUintArray=o;class a{constructor(e,t,n,r,i){this.lineStarts=e,this.cr=t,this.lf=n,this.crlf=r,this.isBasicASCII=i}}function s(e,t=!0){let n=[0],r=1;for(let t=0,i=e.length;t<i;t++){const o=e.charCodeAt(t);13===o?t+1<i&&10===e.charCodeAt(t+1)?(n[r++]=t+2,t++):n[r++]=t+1:10===o&&(n[r++]=t+1)}return t?o(n):n}t.LineStarts=a,t.createLineStartsFast=s,t.createLineStarts=function(e,t){e.length=0,e[0]=0;let n=1,r=0,i=0,s=0,c=!0;for(let o=0,a=t.length;o<a;o++){const u=t.charCodeAt(o);13===u?o+1<a&&10===t.charCodeAt(o+1)?(s++,e[n++]=o+2,o++):(r++,e[n++]=o+1):10===u?(i++,e[n++]=o+1):c&&9!==u&&(u<32||u>126)&&(c=!1)}const u=new a(o(e),r,i,s,c);return e.length=0,u};class c{constructor(e,t,n,r,i){this.bufferIndex=e,this.start=t,this.end=n,this.lineFeedCnt=r,this.length=i}}t.Piece=c;class u{constructor(e,t){this.buffer=e,this.lineStarts=t}}t.StringBuffer=u;class l{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==i.SENTINEL&&e.iterate(e.root,e=>(e!==i.SENTINEL&&this._pieces.push(e.piece),!0))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class f{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){let n=this._cache[t];if(n.nodeStartOffset<=e&&n.nodeStartOffset+n.node.piece.length>=e)return n}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){let n=this._cache[t];if(n.nodeStartLineNumber&&n.nodeStartLineNumber<e&&n.nodeStartLineNumber+n.node.piece.lineFeedCnt>=e)return n}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}valdiate(e){let t=!1,n=this._cache;for(let r=0;r<n.length;r++){let i=n[r];(null===i.node.parent||i.nodeStartOffset>=e)&&(n[r]=null,t=!0)}if(t){let e=[];for(const t of n)null!==t&&e.push(t);this._cache=e}}}t.PieceTreeBase=class{constructor(e,t,n){this.create(e,t,n)}create(e,t,n){this._buffers=[new u("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=i.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=n;let r=null;for(let t=0,n=e.length;t<n;t++)if(e[t].buffer.length>0){e[t].lineStarts||(e[t].lineStarts=s(e[t].buffer));let n=new c(t+1,{line:0,column:0},{line:e[t].lineStarts.length-1,column:e[t].buffer.length-e[t].lineStarts[e[t].lineStarts.length-1]},e[t].lineStarts.length-1,e[t].buffer.length);this._buffers.push(e[t]),r=this.rbInsertRight(r,n)}this._searchCache=new f(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){let n=t.AverageBufferSize,r=n-Math.floor(n/3),i=2*r,o="",a=0,c=[];if(this.iterate(this.root,t=>{let n=this.getNodeContent(t),l=n.length;if(a<=r||a+l<i)return o+=n,a+=l,!0;let f=o.replace(/\r\n|\r|\n/g,e);return c.push(new u(f,s(f))),o=n,a=l,!0}),a>0){let t=o.replace(/\r\n|\r|\n/g,e);c.push(new u(t,s(t)))}this.create(c,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new l(this,e)}equal(e){if(this.getLength()!==e.getLength())return!1;if(this.getLineCount()!==e.getLineCount())return!1;return this.iterate(this.root,t=>{if(t===i.SENTINEL)return!0;let n=this.getNodeContent(t),r=n.length,o=e.nodeAt(0),a=e.nodeAt(0+r);return n===e.getValueInRange2(o,a)})}getOffsetAt(e,t){let n=0,r=this.root;for(;r!==i.SENTINEL;)if(r.left!==i.SENTINEL&&r.lf_left+1>=e)r=r.left;else{if(r.lf_left+r.piece.lineFeedCnt+1>=e){return n+=r.size_left,n+(this.getAccumulatedValue(r,e-r.lf_left-2)+t-1)}e-=r.lf_left+r.piece.lineFeedCnt,n+=r.size_left+r.piece.length,r=r.right}return n}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,n=0,o=e;for(;t!==i.SENTINEL;)if(0!==t.size_left&&t.size_left>=e)t=t.left;else{if(t.size_left+t.piece.length>=e){let i=this.getIndexOf(t,e-t.size_left);if(n+=t.lf_left+i.index,0===i.index){let e=o-this.getOffsetAt(n+1,1);return new r.Position(n+1,e+1)}return new r.Position(n+1,i.remainder+1)}if(e-=t.size_left+t.piece.length,n+=t.lf_left+t.piece.lineFeedCnt,t.right===i.SENTINEL){let t=o-e-this.getOffsetAt(n+1,1);return new r.Position(n+1,t+1)}t=t.right}return new r.Position(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";let n=this.nodeAt2(e.startLineNumber,e.startColumn),r=this.nodeAt2(e.endLineNumber,e.endColumn),i=this.getValueInRange2(n,r);return t?t===this._EOL&&this._EOLNormalized&&t===this.getEOL()&&this._EOLNormalized?i:i.replace(/\r\n|\r|\n/g,t):i}getValueInRange2(e,t){if(e.node===t.node){let n=e.node,r=this._buffers[n.piece.bufferIndex].buffer,i=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return r.substring(i+e.remainder,i+t.remainder)}let n=e.node,r=this._buffers[n.piece.bufferIndex].buffer,o=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start),a=r.substring(o+e.remainder,o+n.piece.length);for(n=n.next();n!==i.SENTINEL;){let e=this._buffers[n.piece.bufferIndex].buffer,r=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);if(n===t.node){a+=e.substring(r,r+t.remainder);break}a+=e.substr(r,n.piece.length),n=n.next()}return a}getLinesContent(){return this.getContentOfSubTree(this.root).split(/\r\n|\r|\n/)}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e||(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}getLineCharCode(e,t){let n=this.nodeAt2(e,t+1);if(n.remainder===n.node.piece.length){let e=n.node.next();if(!e)return 0;let t=this._buffers[e.piece.bufferIndex],r=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start);return t.buffer.charCodeAt(r)}{let e=this._buffers[n.node.piece.bufferIndex],t=this.offsetInBuffer(n.node.piece.bufferIndex,n.node.piece.start)+n.remainder;return e.buffer.charCodeAt(t)}}getLineLength(e){if(e===this.getLineCount()){let t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}insert(e,n,r=!1){if(this._EOLNormalized=this._EOLNormalized&&r,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==i.SENTINEL){let{node:r,remainder:i,nodeStartOffset:o}=this.nodeAt(e),a=r.piece,s=a.bufferIndex,u=this.positionInBuffer(r,i);if(0===r.piece.bufferIndex&&a.end.line===this._lastChangeBufferPos.line&&a.end.column===this._lastChangeBufferPos.column&&o+a.length===e&&n.length<t.AverageBufferSize)return this.appendToNode(r,n),void this.computeBufferMetadata();if(o===e)this.insertContentToNodeLeft(n,r),this._searchCache.valdiate(e);else if(o+r.piece.length>e){let e=[],t=new c(a.bufferIndex,u,a.end,this.getLineFeedCnt(a.bufferIndex,u,a.end),this.offsetInBuffer(s,a.end)-this.offsetInBuffer(s,u));if(this.shouldCheckCRLF()&&this.endWithCR(n)){if(10===this.nodeCharCodeAt(r,i)){let e={line:t.start.line+1,column:0};t=new c(t.bufferIndex,e,t.end,this.getLineFeedCnt(t.bufferIndex,e,t.end),t.length-1),n+="\n"}}if(this.shouldCheckCRLF()&&this.startWithLF(n)){if(13===this.nodeCharCodeAt(r,i-1)){let t=this.positionInBuffer(r,i-1);this.deleteNodeTail(r,t),n="\r"+n,0===r.piece.length&&e.push(r)}else this.deleteNodeTail(r,u)}else this.deleteNodeTail(r,u);let o=this.createNewPieces(n);t.length>0&&this.rbInsertRight(r,t);let l=r;for(let e=0;e<o.length;e++)l=this.rbInsertRight(l,o[e]);this.deleteNodes(e)}else this.insertContentToNodeRight(n,r)}else{let e=this.createNewPieces(n),t=this.rbInsertLeft(null,e[0]);for(let n=1;n<e.length;n++)t=this.rbInsertRight(t,e[n])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===i.SENTINEL)return;let n=this.nodeAt(e),r=this.nodeAt(e+t),o=n.node,a=r.node;if(o===a){let a=this.positionInBuffer(o,n.remainder),s=this.positionInBuffer(o,r.remainder);if(n.nodeStartOffset===e){if(t===o.piece.length){let e=o.next();return i.rbDelete(this,o),this.validateCRLFWithPrevNode(e),void this.computeBufferMetadata()}return this.deleteNodeHead(o,s),this._searchCache.valdiate(e),this.validateCRLFWithPrevNode(o),void this.computeBufferMetadata()}return n.nodeStartOffset+o.piece.length===e+t?(this.deleteNodeTail(o,a),this.validateCRLFWithNextNode(o),void this.computeBufferMetadata()):(this.shrinkNode(o,a,s),void this.computeBufferMetadata())}let s=[],c=this.positionInBuffer(o,n.remainder);this.deleteNodeTail(o,c),this._searchCache.valdiate(e),0===o.piece.length&&s.push(o);let u=this.positionInBuffer(a,r.remainder);this.deleteNodeHead(a,u),0===a.piece.length&&s.push(a);for(let e=o.next();e!==i.SENTINEL&&e!==a;e=e.next())s.push(e);let l=0===o.piece.length?o.prev():o;this.deleteNodes(s),this.validateCRLFWithNextNode(l),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){let n=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){let r=t.piece,o={line:r.start.line+1,column:0},a=new c(r.bufferIndex,o,r.end,this.getLineFeedCnt(r.bufferIndex,o,r.end),r.length-1);t.piece=a,e+="\n",i.updateTreeMetadata(this,t,-1,-1),0===t.piece.length&&n.push(t)}let r=this.createNewPieces(e),o=this.rbInsertLeft(t,r[r.length-1]);for(let e=r.length-2;e>=0;e--)o=this.rbInsertLeft(o,r[e]);this.validateCRLFWithPrevNode(o),this.deleteNodes(n)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+="\n");let n=this.createNewPieces(e),r=this.rbInsertRight(t,n[0]),i=r;for(let e=1;e<n.length;e++)i=this.rbInsertRight(i,n[e]);this.validateCRLFWithPrevNode(r)}positionInBuffer(e,t,n){let r=e.piece,i=e.piece.bufferIndex,o=this._buffers[i].lineStarts,a=o[r.start.line]+r.start.column+t,s=r.start.line,c=r.end.line,u=0,l=0,f=0;for(;s<=c&&(u=s+(c-s)/2|0,f=o[u],u!==c);)if(l=o[u+1],a<f)c=u-1;else{if(!(a>=l))break;s=u+1}return n?(n.line=u,n.column=a-f,null):{line:u,column:a-f}}getLineFeedCnt(e,t,n){if(0===n.column)return n.line-t.line;let r=this._buffers[e].lineStarts;if(n.line===r.length-1)return n.line-t.line;let i=r[n.line+1],o=r[n.line]+n.column;if(i>o+1)return n.line-t.line;let a=o-1;return 13===this._buffers[e].buffer.charCodeAt(a)?n.line-t.line+1:n.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)i.rbDelete(this,e[t])}createNewPieces(e){if(e.length>t.AverageBufferSize){let n=[];for(;e.length>t.AverageBufferSize;){const r=e.charCodeAt(t.AverageBufferSize-1);let i;13===r||r>=55296&&r<=56319?(i=e.substring(0,t.AverageBufferSize-1),e=e.substring(t.AverageBufferSize-1)):(i=e.substring(0,t.AverageBufferSize),e=e.substring(t.AverageBufferSize));let o=s(i);n.push(new c(this._buffers.length,{line:0,column:0},{line:o.length-1,column:i.length-o[o.length-1]},o.length-1,i.length)),this._buffers.push(new u(i,o))}let r=s(e);return n.push(new c(this._buffers.length,{line:0,column:0},{line:r.length-1,column:e.length-r[r.length-1]},r.length-1,e.length)),this._buffers.push(new u(e,r)),n}let n=this._buffers[0].buffer.length;const r=s(e,!1);let i=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===n&&0!==n&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},i=this._lastChangeBufferPos;for(let e=0;e<r.length;e++)r[e]+=n+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(r.slice(1)),this._buffers[0].buffer+="_"+e,n+=1}else{if(0!==n)for(let e=0;e<r.length;e++)r[e]+=n;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(r.slice(1)),this._buffers[0].buffer+=e}const o=this._buffers[0].buffer.length;let a=this._buffers[0].lineStarts.length-1,l={line:a,column:o-this._buffers[0].lineStarts[a]},f=new c(0,i,l,this.getLineFeedCnt(0,i,l),o-n);return this._lastChangeBufferPos=l,[f]}getLinesRawContent(){return this.getContentOfSubTree(this.root)}getLineRawContent(e,t=0){let n=this.root,r="",o=this._searchCache.get2(e);if(o){n=o.node;let i=this.getAccumulatedValue(n,e-o.nodeStartLineNumber-1),a=this._buffers[n.piece.bufferIndex].buffer,s=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);if(o.nodeStartLineNumber+n.piece.lineFeedCnt!==e){let r=this.getAccumulatedValue(n,e-o.nodeStartLineNumber);return a.substring(s+i,s+r-t)}r=a.substring(s+i,s+n.piece.length)}else{let o=0;const a=e;for(;n!==i.SENTINEL;)if(n.left!==i.SENTINEL&&n.lf_left>=e-1)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt>e-1){let r=this.getAccumulatedValue(n,e-n.lf_left-2),i=this.getAccumulatedValue(n,e-n.lf_left-1),s=this._buffers[n.piece.bufferIndex].buffer,c=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return o+=n.size_left,this._searchCache.set({node:n,nodeStartOffset:o,nodeStartLineNumber:a-(e-1-n.lf_left)}),s.substring(c+r,c+i-t)}if(n.lf_left+n.piece.lineFeedCnt===e-1){let t=this.getAccumulatedValue(n,e-n.lf_left-2),i=this._buffers[n.piece.bufferIndex].buffer,o=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);r=i.substring(o+t,o+n.piece.length);break}e-=n.lf_left+n.piece.lineFeedCnt,o+=n.size_left+n.piece.length,n=n.right}}for(n=n.next();n!==i.SENTINEL;){let e=this._buffers[n.piece.bufferIndex].buffer;if(n.piece.lineFeedCnt>0){let i=this.getAccumulatedValue(n,0),o=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return r+=e.substring(o,o+i-t),r}{let t=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);r+=e.substr(t,n.piece.length)}n=n.next()}return r}computeBufferMetadata(){let e=this.root,t=1,n=0;for(;e!==i.SENTINEL;)t+=e.lf_left+e.piece.lineFeedCnt,n+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=n,this._searchCache.valdiate(this._length)}getIndexOf(e,t){let n=e.piece,r=this.positionInBuffer(e,t),i=r.line-n.start.line;if(this.offsetInBuffer(n.bufferIndex,n.end)-this.offsetInBuffer(n.bufferIndex,n.start)===t){let t=this.getLineFeedCnt(e.piece.bufferIndex,n.start,r);if(t!==i)return{index:t,remainder:0}}return{index:i,remainder:r.column}}getAccumulatedValue(e,t){if(t<0)return 0;let n=e.piece,r=this._buffers[n.bufferIndex].lineStarts,i=n.start.line+t+1;return i>n.end.line?r[n.end.line]+n.end.column-r[n.start.line]-n.start.column:r[i]-r[n.start.line]-n.start.column}deleteNodeTail(e,t){const n=e.piece,r=n.lineFeedCnt,o=this.offsetInBuffer(n.bufferIndex,n.end),a=t,s=this.offsetInBuffer(n.bufferIndex,a),u=this.getLineFeedCnt(n.bufferIndex,n.start,a),l=u-r,f=s-o,h=n.length+f;e.piece=new c(n.bufferIndex,n.start,a,u,h),i.updateTreeMetadata(this,e,f,l)}deleteNodeHead(e,t){const n=e.piece,r=n.lineFeedCnt,o=this.offsetInBuffer(n.bufferIndex,n.start),a=t,s=this.getLineFeedCnt(n.bufferIndex,a,n.end),u=s-r,l=o-this.offsetInBuffer(n.bufferIndex,a),f=n.length+l;e.piece=new c(n.bufferIndex,a,n.end,s,f),i.updateTreeMetadata(this,e,l,u)}shrinkNode(e,t,n){const r=e.piece,o=r.start,a=r.end,s=r.length,u=r.lineFeedCnt,l=t,f=this.getLineFeedCnt(r.bufferIndex,r.start,l),h=this.offsetInBuffer(r.bufferIndex,t)-this.offsetInBuffer(r.bufferIndex,o);e.piece=new c(r.bufferIndex,r.start,l,f,h),i.updateTreeMetadata(this,e,h-s,f-u);let p=new c(r.bufferIndex,n,a,this.getLineFeedCnt(r.bufferIndex,n,a),this.offsetInBuffer(r.bufferIndex,a)-this.offsetInBuffer(r.bufferIndex,n)),d=this.rbInsertRight(e,p);this.validateCRLFWithPrevNode(d)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+="\n");const n=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),r=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const o=s(t,!1);for(let e=0;e<o.length;e++)o[e]+=r;if(n){let e=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:r-e}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1));const a=this._buffers[0].lineStarts.length-1,u={line:a,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[a]},l=e.piece.length+t.length,f=e.piece.lineFeedCnt,h=this.getLineFeedCnt(0,e.piece.start,u),p=h-f;e.piece=new c(e.piece.bufferIndex,e.piece.start,u,h,l),this._lastChangeBufferPos=u,i.updateTreeMetadata(this,e,t.length,p)}nodeAt(e){let t=this.root,n=this._searchCache.get(e);if(n)return{node:n.node,nodeStartOffset:n.nodeStartOffset,remainder:e-n.nodeStartOffset};let r=0;for(;t!==i.SENTINEL;)if(t.size_left>e)t=t.left;else{if(t.size_left+t.piece.length>=e){r+=t.size_left;let n={node:t,remainder:e-t.size_left,nodeStartOffset:r};return this._searchCache.set(n),n}e-=t.size_left+t.piece.length,r+=t.size_left+t.piece.length,t=t.right}return null}nodeAt2(e,t){let n=this.root,r=0;for(;n!==i.SENTINEL;)if(n.left!==i.SENTINEL&&n.lf_left>=e-1)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt>e-1){let i=this.getAccumulatedValue(n,e-n.lf_left-2),o=this.getAccumulatedValue(n,e-n.lf_left-1);return r+=n.size_left,{node:n,remainder:Math.min(i+t-1,o),nodeStartOffset:r}}if(n.lf_left+n.piece.lineFeedCnt===e-1){let i=this.getAccumulatedValue(n,e-n.lf_left-2);if(i+t-1<=n.piece.length)return{node:n,remainder:i+t-1,nodeStartOffset:r};t-=n.piece.length-i;break}e-=n.lf_left+n.piece.lineFeedCnt,r+=n.size_left+n.piece.length,n=n.right}for(n=n.next();n!==i.SENTINEL;){if(n.piece.lineFeedCnt>0){let e=this.getAccumulatedValue(n,0),r=this.offsetOfNode(n);return{node:n,remainder:Math.min(t-1,e),nodeStartOffset:r}}if(n.piece.length>=t-1){return{node:n,remainder:t-1,nodeStartOffset:this.offsetOfNode(n)}}t-=n.piece.length,n=n.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;let n=this._buffers[e.piece.bufferIndex],r=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return n.buffer.charCodeAt(r)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(e){if("string"==typeof e)return 10===e.charCodeAt(0);if(e===i.SENTINEL||0===e.piece.lineFeedCnt)return!1;let t=e.piece,n=this._buffers[t.bufferIndex].lineStarts,r=t.start.line,o=n[r]+t.start.column;return r!==n.length-1&&(!(n[r+1]>o+1)&&10===this._buffers[t.bufferIndex].buffer.charCodeAt(o))}endWithCR(e){return"string"==typeof e?13===e.charCodeAt(e.length-1):e!==i.SENTINEL&&0!==e.piece.lineFeedCnt&&13===this.nodeCharCodeAt(e,e.piece.length-1)}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){let t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){let n,r=[],o=this._buffers[e.piece.bufferIndex].lineStarts;n=0===e.piece.end.column?{line:e.piece.end.line-1,column:o[e.piece.end.line]-o[e.piece.end.line-1]-1}:{line:e.piece.end.line,column:e.piece.end.column-1};const a=e.piece.length-1,s=e.piece.lineFeedCnt-1;e.piece=new c(e.piece.bufferIndex,e.piece.start,n,s,a),i.updateTreeMetadata(this,e,-1,-1),0===e.piece.length&&r.push(e);let u={line:t.piece.start.line+1,column:0};const l=t.piece.length-1,f=this.getLineFeedCnt(t.piece.bufferIndex,u,t.piece.end);t.piece=new c(t.piece.bufferIndex,u,t.piece.end,f,l),i.updateTreeMetadata(this,t,-1,-1),0===t.piece.length&&r.push(t);let h=this.createNewPieces("\r\n");this.rbInsertRight(e,h[0]);for(let e=0;e<r.length;e++)i.rbDelete(this,r[e])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let n=t.next();if(this.startWithLF(n)){if(e+="\n",1===n.piece.length)i.rbDelete(this,n);else{const e=n.piece,t={line:e.start.line+1,column:0},r=e.length-1,o=this.getLineFeedCnt(e.bufferIndex,t,e.end);n.piece=new c(e.bufferIndex,t,e.end,o,r),i.updateTreeMetadata(this,n,-1,-1)}return!0}}return!1}iterate(e,t){if(e===i.SENTINEL)return t(i.SENTINEL);let n=this.iterate(e.left,t);return n?t(e)&&this.iterate(e.right,t):n}getNodeContent(e){if(e===i.SENTINEL)return"";let t,n=this._buffers[e.piece.bufferIndex],r=e.piece,o=this.offsetInBuffer(r.bufferIndex,r.start),a=this.offsetInBuffer(r.bufferIndex,r.end);return t=n.buffer.substring(o,a),t}getPieceContent(e){let t=this._buffers[e.bufferIndex],n=this.offsetInBuffer(e.bufferIndex,e.start),r=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(n,r)}rbInsertRight(e,t){let n=new i.TreeNode(t,1);if(n.left=i.SENTINEL,n.right=i.SENTINEL,n.parent=i.SENTINEL,n.size_left=0,n.lf_left=0,this.root===i.SENTINEL)this.root=n,n.color=0;else if(e.right===i.SENTINEL)e.right=n,n.parent=e;else{let t=i.leftest(e.right);t.left=n,n.parent=t}return i.fixInsert(this,n),n}rbInsertLeft(e,t){let n=new i.TreeNode(t,1);if(n.left=i.SENTINEL,n.right=i.SENTINEL,n.parent=i.SENTINEL,n.size_left=0,n.lf_left=0,this.root===i.SENTINEL)this.root=n,n.color=0;else if(e.left===i.SENTINEL)e.left=n,n.parent=e;else{let t=i.righttest(e.left);t.right=n,n.parent=t}return i.fixInsert(this,n),n}getContentOfSubTree(e){let t="";return this.iterate(e,e=>(t+=this.getNodeContent(e),!0)),t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t){this.lineNumber=e,this.column=t}with(e=this.lineNumber,t=this.column){return e===this.lineNumber&&t===this.column?this:new r(e,t)}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(e){return r.equals(this,e)}static equals(e,t){return!e&&!t||!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return r.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<t.column}isBeforeOrEqual(e){return r.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<=t.column}static compare(e,t){let n=0|e.lineNumber,r=0|t.lineNumber;if(n===r){return(0|e.column)-(0|t.column)}return n-r}clone(){return new r(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new r(e.lineNumber,e.column)}static isIPosition(e){return e&&"number"==typeof e.lineNumber&&"number"==typeof e.column}}t.Position=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGoLangImportsCmd=t.get_range=t.to_lsp_position=t.stream_from_string=void 0;const r=n(4),i=n(85);t.stream_from_string=e=>{let t=new r.Readable;return t.push(e),t.push(null),t};t.to_lsp_position=e=>(e=>({line:e.line-1,character:e.column-1}))(e),t.get_range=e=>(e=>{let n=e.value.length;return{start:t.to_lsp_position(e.position),end:{line:e.position.line-1,character:e.position.column+n-1}}})(e),t.getGoLangImportsCmd=()=>i.config.golang_executable+' list -mod=readonly -f "{{.Imports}}" ./...'},function(e,t,n){const{createToken:r,Lexer:i}=n(86),o={},a=o;function s(e,t){o[e]="string"==typeof t?t:t.source}function c(e,...t){let n="";for(let r=0;r<e.length;r++)if(n+=e[r],r<t.length){n+=`(?:${t[r]})`}return new RegExp(n)}const u=[],l={};function f(e){const t=r(e);return u.push(t),l[e.name]=t,t}s("NameStartChar","(:|[a-zA-Z]|_|\\u2070-\\u218F|\\u2C00-\\u2FEF|\\u3001-\\uD7FF|\\uF900-\\uFDCF|\\uFDF0-\\uFFFD)"),s("NameChar",c`${a.NameStartChar}|-|\\.|\\d|\\u00B7||[\\u0300-\\u036F]|[\\u203F-\\u2040]`),s("Name",c`${a.NameStartChar}(${a.NameChar})*`);const h=f({name:"Comment",pattern:/<!--(.|\r?\n)*?-->/,line_breaks:!0}),p=f({name:"CData",pattern:/<!\[CDATA\[(.|\r?\n)*?]]>/,line_breaks:!0}),d=f({name:"DocType",pattern:/<!DOCTYPE/,push_mode:"INSIDE"}),m=f({name:"DTD",pattern:/<!.*?>/,group:i.SKIPPED}),g=f({name:"EntityRef",pattern:c`&${a.Name};`}),v=f({name:"CharRef",pattern:/&#\d+;|&#x[a-fA-F0-9]/}),y=f({name:"SEA_WS",pattern:/( |\t|\n|\r\n)+/}),b=f({name:"XMLDeclOpen",pattern:/<\?xml[ \t\r\n]/,push_mode:"INSIDE"}),T=f({name:"SLASH_OPEN",pattern:/<\//,push_mode:"INSIDE"}),_=f({name:"INVALID_SLASH_OPEN",pattern:/<\//,categories:[T]}),O=f({name:"PROCESSING_INSTRUCTION",pattern:c`<\\?${a.Name}.*\\?>`}),E=f({name:"OPEN",pattern:/</,push_mode:"INSIDE"}),R=f({name:"INVALID_OPEN_INSIDE",pattern:/</,categories:[E]}),N=f({name:"TEXT",pattern:/[^<&]+/}),S=f({name:"CLOSE",pattern:/>/,pop_mode:!0}),I=f({name:"SPECIAL_CLOSE",pattern:/\?>/,pop_mode:!0}),A=f({name:"SLASH_CLOSE",pattern:/\/>/,pop_mode:!0}),C=f({name:"SLASH",pattern:/\//}),x=f({name:"STRING",pattern:/"[^<"]*"|'[^<']*'/}),L=new i({defaultMode:"OUTSIDE",modes:{OUTSIDE:[h,p,d,m,g,v,y,b,T,O,E,N],INSIDE:[h,_,R,S,I,A,C,f({name:"EQUALS",pattern:/=/}),x,f({name:"Name",pattern:c`${a.Name}`}),f({name:"S",pattern:/[ \t\r\n]/,group:i.SKIPPED})]}},{positionTracking:"full",ensureOptimizations:!1,lineTerminatorCharacters:["\n"],lineTerminatorsPattern:/\n|\r\n/g});e.exports={xmlLexer:L,tokensDictionary:l}},function(e,t,n){const{createToken:r,Lexer:i}=n(87),o={},a=o;function s(e,t){o[e]="string"==typeof t?t:t.source}function c(e,...t){let n="";for(let r=0;r<e.length;r++)if(n+=e[r],r<t.length){n+=`(?:${t[r]})`}return new RegExp(n)}const u=[],l={};function f(e){const t=r(e);return u.push(t),l[e.name]=t,t}s("NameStartChar","(:|[a-zA-Z]|_|\\u2070-\\u218F|\\u2C00-\\u2FEF|\\u3001-\\uD7FF|\\uF900-\\uFDCF|\\uFDF0-\\uFFFD)"),s("NameChar",c`${a.NameStartChar}|-|\\.|\\d|\\u00B7||[\\u0300-\\u036F]|[\\u203F-\\u2040]`),s("Name",c`${a.NameStartChar}(${a.NameChar})*`);const h=f({name:"Comment",pattern:/<!--(.|\r?\n)*?-->/,line_breaks:!0}),p=f({name:"CData",pattern:/<!\[CDATA\[(.|\r?\n)*?]]>/,line_breaks:!0}),d=f({name:"DocType",pattern:/<!DOCTYPE/,push_mode:"INSIDE"}),m=f({name:"DTD",pattern:/<!.*?>/,group:i.SKIPPED}),g=f({name:"EntityRef",pattern:c`&${a.Name};`}),v=f({name:"CharRef",pattern:/&#\d+;|&#x[a-fA-F0-9]/}),y=f({name:"SEA_WS",pattern:/( |\t|\n|\r\n)+/}),b=f({name:"XMLDeclOpen",pattern:/<\?xml[ \t\r\n]/,push_mode:"INSIDE"}),T=f({name:"SLASH_OPEN",pattern:/<\//,push_mode:"INSIDE"}),_=f({name:"INVALID_SLASH_OPEN",pattern:/<\//,categories:[T]}),O=f({name:"PROCESSING_INSTRUCTION",pattern:c`<\\?${a.Name}.*\\?>`}),E=f({name:"OPEN",pattern:/</,push_mode:"INSIDE"}),R=f({name:"INVALID_OPEN_INSIDE",pattern:/</,categories:[E]}),N=f({name:"TEXT",pattern:/[^<&]+/}),S=f({name:"CLOSE",pattern:/>/,pop_mode:!0}),I=f({name:"SPECIAL_CLOSE",pattern:/\?>/,pop_mode:!0}),A=f({name:"SLASH_CLOSE",pattern:/\/>/,pop_mode:!0}),C=f({name:"SLASH",pattern:/\//}),x=f({name:"STRING",pattern:/"[^<"]*"|'[^<']*'/}),L=new i({defaultMode:"OUTSIDE",modes:{OUTSIDE:[h,p,d,m,g,v,y,b,T,O,E,N],INSIDE:[h,_,R,S,I,A,C,f({name:"EQUALS",pattern:/=/}),x,f({name:"Name",pattern:c`${a.Name}`}),f({name:"S",pattern:/[ \t\r\n]/,group:i.SKIPPED})]}},{positionTracking:"full",ensureOptimizations:!1,lineTerminatorCharacters:["\n"],lineTerminatorsPattern:/\n|\r\n/g});e.exports={xmlLexer:L,tokensDictionary:l}},function(e,t,n){const{reduce:r,has:i,isArray:o}=n(61);e.exports={getAstChildrenReflective:function(e){return r(e,(e,t,n)=>("parent"===n||(i(t,"type")?e.push(t):o(t)&&t.length>0&&i(t[0],"type")&&(e=e.concat(t))),e),[])}}},function(e,t){e.exports={DEFAULT_NS:"::DEFAULT"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnalyticsSource=t.Vulnerability=void 0;const r=n(84),i="\nDependency Analytics Plugin [Powered by Snyk]";t.AnalyticsSource=i;t.Vulnerability=class{constructor(e,t,n,r,i,o,a,s,c){this.name=e,this.version=t,this.packageCount=n||0,this.vulnerabilityCount=r||0,this.advisoryCount=i||0,this.exploitCount=o||0,this.highestSeverity=a,this.recommendedVersion=s,this.range=c}getDiagnostic(){let e;e=0==this.vulnerabilityCount&&this.advisoryCount>0?r.DiagnosticSeverity.Information:r.DiagnosticSeverity.Error;const t=this.recommendedVersion||"N/A",n=this.exploitCount||"unavailable";var o="",a=this.name;if("golang"==this.ecosystem){o="\nNumber of packages: "+this.packageCount;const e=this.name.split("@");a=2==e.length?e[1]:a}const s=`${a}: ${this.version}${o}\nKnown security vulnerability: ${this.vulnerabilityCount}\nSecurity advisory: ${this.advisoryCount}\nExploits: ${n}\nHighest severity: ${this.highestSeverity}\nRecommendation: ${t}`;return{severity:e,range:this.range,message:s,source:i}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const c=o(n(3)),u=o(n(6)),l=o(n(410)),f=o(n(5)),h=n(84),p=s(n(62)),d=s(n(10)),m=n(447),g=n(448),v=n(450),y=n(462),b=n(38),T=n(463),_=n(464),O=n(159),E=n(85),R=n(466);var N;!function(e){e[e.Invalid=0]="Invalid",e[e.Diagnostics=1]="Diagnostics",e[e.CodeLens=2]="CodeLens"}(N||(N={}));let S=null;S=-1==process.argv.indexOf("--stdio")?h.createConnection(new h.IPCMessageReader(process),new h.IPCMessageWriter(process)):h.createConnection();let I,A=new h.TextDocuments;A.listen(S),S.onInitialize(e=>(I=e.rootPath,{capabilities:{textDocumentSync:A.syncKind,codeActionProvider:!0}}));class C{constructor(e,t,n){this.stream=t,this.callback=n,this.matcher=new RegExp(e)}}let x=new class{constructor(){this.handlers=[],this.file_data=new Map}on(e,t,n){return this.handlers.push(new C(t,e,n)),this}run(e,t,n,r){for(let i of this.handlers)if(i.stream==e&&i.matcher.test(n))return i.callback(t,n,r)}},L=new class{constructor(e,t){this.connection=e,this.files=t}handle_file_event(e,t){let n=d.default.parse(e).pathname,r=c.basename(n);this.files.file_data[e]=t,this.files.run(N.Diagnostics,e,r,t)}handle_code_lens_event(e){let t=d.default.parse(e).pathname,n=c.basename(t),r=this.files.file_data[e];return this.files.run(N.CodeLens,e,n,r)}}(S,x),k=c.join(E.config.home_dir,".analysis_rc");if(u.existsSync(k)){let e=JSON.parse(u.readFileSync(k,"utf8"));"server"in e&&(E.config.server_url=e.server+"/api/v2")}const w={title:"Detailed Vulnerability Report",kind:h.CodeActionKind.QuickFix,command:{command:"extension.fabric8AnalyticsWidgetFullStack",title:"Analytics Report"}};let P=[T.SecurityEngine];const j=(e,t,n)=>{let r=`Scanned ${e.length} ${1==e.length?"dependency":"dependencies"}, `;if(t.length>0){const e=e=>1==e?"Vulnerability":"Vulnerabilities",t=e=>1==e?"Advisory":"Advisories";let i=[!n.vulnerabilityCount||`${n.vulnerabilityCount} Known Security ${e(n.vulnerabilityCount)}`,!n.advisoryCount||`${n.advisoryCount} Security ${t(n.advisoryCount)}`].filter(e=>!0!==e).join(" and ");i+=n.exploitCount>0?` with ${n.exploitCount} Exploitable ${e(n.exploitCount)}`:"",i+=n.vulnerabilityCount+n.advisoryCount>0?" along with quick fixes":"",r+=i?"flagged "+i:"No potential security vulnerabilities found"}else r+="No potential security vulnerabilities found";return r};class M{constructor(){this.vulnerabilityCount=0,this.advisoryCount=0,this.exploitCount=0}}const D=new RegExp(/^([a-zA-Z0-9]+\.)?([a-zA-Z0-9]+\.)?([a-zA-Z0-9]+\.)?([a-zA-Z0-9]+)$/),F=(e,t,n,r)=>a(void 0,void 0,void 0,(function*(){S.sendDiagnostics({uri:t,diagnostics:[]}),S.sendNotification("caNotification",{data:"Checking for security vulnerabilities ...",done:!1,uri:t});let i=null;try{const e=(new Date).getTime();i=yield r.collect(n);const t=(new Date).getTime();S.console.log(`manifest parse took ${t-e} ms, found ${i.length} deps`)}catch(e){return S.console.warn("Error: "+e),void S.sendNotification("caError",{data:e,uri:t})}let o=i,s=null;"golang"!=e?(o=i.filter(e=>D.test(e.version.value.trim())),s=new _.NoopVulnerabilityAggregator):s=new _.GolangVulnerabilityAggregator;const c=new b.DependencyMap(o),u=[],h=new M,d=(new Date).getTime(),m=f.createHash("sha256").update(t).digest("hex"),g=l.v4(),v=e=>function(e,t,n,r,i,o){e.forEach(e=>{const a=i.get(new b.SimpleDependency(e.package,e.version));let s=new T.DiagnosticsPipeline(P,a,E.config,t,n,r);s.run(e);for(const e of s.items){const t=e;o.vulnerabilityCount+=t.vulnerabilityCount,o.advisoryCount+=t.advisoryCount,o.exploitCount+=t.exploitCount}}),S.sendDiagnostics({uri:r,diagnostics:t}),S.console.log("sendDiagnostics: "+(null==t?void 0:t.length))}(e,u,s,t,c,h),y=(O=e,R.globalCache(O,1e3,18e5));var O;const N=y.get(o),I=N.filter(e=>void 0!==e.V).map(e=>e.V),A=N.filter(e=>void 0===e.V).map(e=>e.K);S.console.log(`cache hit: ${I.length} miss: ${A.length}`),v(I);const C=A.map(e=>({package:e.name.value,version:e.version.value})),x=e=>{y.add(e),v(e)},L=function(e,t,n){let r=[];for(let i=0;i<e.length;i+=t)r.push({ecosystem:n,package_versions:e.slice(i,i+t)});return r}(C,10,e).map(e=>((e,t,n)=>a(void 0,void 0,void 0,(function*(){let r=E.config.server_url;E.config.three_scale_user_token?r+="/component-analyses/?user_key="+E.config.three_scale_user_token:r+="/component-analyses";const i={"Content-Type":"application/json",Authorization:"Bearer "+E.config.api_token,"X-Request-Id":n};r+="&utm_content="+t,E.config.utm_source&&(r+="&utm_source="+E.config.utm_source),E.config.uuid&&(i.uuid=E.config.uuid),E.config.telemetry_id&&(i["X-Telemetry-Id"]=E.config.telemetry_id);try{const t=yield p.default(r,{method:"post",body:JSON.stringify(e),headers:i});if(S.console.log(`fetching vuln for ${e.package_versions.length} packages`),t.ok){return yield t.json()}return S.console.warn("fetch error. http status "+t.status),t.status}catch(e){S.console.warn("Exception while fetch: "+e)}})))(e,m,g).then(x));yield Promise.allSettled(L);const k=(new Date).getTime();S.console.log(`fetch vulns took ${k-d} ms`),S.sendNotification("caNotification",{data:j(i,u,h),diagCount:u.length||0,vulnCount:h,depCount:i.length||0,done:!0,uri:t,cacheHitCount:I.length,cacheMissCount:A.length})}));let U;x.on(N.Diagnostics,"^package\\.json$",(e,t,n)=>{F("npm",e,n,new g.DependencyCollector)}),x.on(N.Diagnostics,"^pom\\.xml$",(e,t,n)=>{F("maven",e,n,new v.DependencyCollector)}),x.on(N.Diagnostics,"^requirements\\.txt$",(e,t,n)=>{F("pypi",e,n,new y.DependencyCollector)}),x.on(N.Diagnostics,"^go\\.mod$",(e,t,n)=>{S.console.log("Using golang executable: "+E.config.golang_executable),F("golang",e,n,new m.DependencyCollector(e))}),S.onDidSaveTextDocument(e=>{clearTimeout(U),L.handle_file_event(e.textDocument.uri,L.files.file_data[e.textDocument.uri])}),S.onDidChangeTextDocument(e=>{L.files.file_data[e.textDocument.uri]=e.contentChanges[0].text,clearTimeout(U),U=setTimeout(()=>{L.handle_file_event(e.textDocument.uri,L.files.file_data[e.textDocument.uri])},500)}),S.onDidOpenTextDocument(e=>{L.handle_file_event(e.textDocument.uri,e.textDocument.text)}),S.onCodeAction((e,t)=>{let n=[],r=!1;for(let t of e.context.diagnostics){let e=T.codeActionsMap[t.range.start.line+"|"+t.range.start.character];null!=e&&n.push(e),r||(r=t.source===O.AnalyticsSource)}return E.config.provide_fullstack_action&&r&&n.push(w),n}),S.onDidCloseTextDocument(e=>{clearTimeout(U)}),S.listen()},function(e,t,n){var r=n(411),i=n(37),o=i;o.v1=r,o.v4=i,e.exports=o},function(e,t,n){var r,i,o=n(59),a=n(60),s=0,c=0;e.exports=function(e,t,n){var u=t&&n||0,l=t||[],f=(e=e||{}).node||r,h=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==h){var p=o();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==h&&(h=i=16383&(p[6]<<8|p[7]))}var d=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:c+1,g=d-s+(m-c)/1e4;if(g<0&&void 0===e.clockseq&&(h=h+1&16383),(g<0||d>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=d,c=m,i=h;var v=(1e4*(268435455&(d+=122192928e5))+m)%4294967296;l[u++]=v>>>24&255,l[u++]=v>>>16&255,l[u++]=v>>>8&255,l[u++]=255&v;var y=d/4294967296*1e4&268435455;l[u++]=y>>>8&255,l[u++]=255&y,l[u++]=y>>>24&15|16,l[u++]=y>>>16&255,l[u++]=h>>>8|128,l[u++]=255&h;for(var b=0;b<6;++b)l[u+b]=f[b];return t||a(l)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(32),i=n(8),o=n(146),a=n(413);class s extends a.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return s.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new i.TextDecoder(t).decode(e)}asNative(e,t){return void 0===t?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}}s.emptyBuffer=Buffer.allocUnsafe(0);class c{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),o.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),o.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),o.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),o.Disposable.create(()=>this.stream.off("data",e))}}class u{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),o.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),o.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),o.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((n,r)=>{const i=e=>{null==e?n():r(e)};"string"==typeof e?this.stream.write(e,t,i):this.stream.write(e,i)})}end(){this.stream.end()}}const l=Object.freeze({messageBuffer:Object.freeze({create:e=>new s(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(e){return Promise.reject(e)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new i.TextDecoder(t.charset).decode(e)))}catch(e){return Promise.reject(e)}}})}),stream:Object.freeze({asReadableStream:e=>new c(e),asWritableStream:e=>new u(e)}),console:console,timer:Object.freeze({setTimeout:(e,t,...n)=>setTimeout(e,t,...n),clearTimeout(e){clearTimeout(e)},setImmediate:(e,...t)=>setImmediate(e,...t),clearImmediate(e){clearImmediate(e)}})});function f(){return l}!function(e){e.install=function(){r.default.install(l)}}(f||(f={})),t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractMessageBuffer=void 0;t.AbstractMessageBuffer=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){const t="string"==typeof e?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(){if(0===this._chunks.length)return;let e=0,t=0,n=0,r=0;e:for(;t<this._chunks.length;){const i=this._chunks[t];for(n=0;n<i.length;){switch(i[n]){case 13:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case 10:switch(e){case 1:e=2;break;case 3:e=4,n++;break e;default:e=0}break;default:e=0}n++}r+=i.byteLength,t++}if(4!==e)return;const i=this._read(r+n),o=new Map,a=this.toString(i,"ascii").split("\r\n");if(a.length<2)return o;for(let e=0;e<a.length-2;e++){const t=a[e],n=t.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");const r=t.substr(0,n),i=t.substr(n+1).trim();o.set(r,i)}return o}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(0===e)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){const t=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(t)}if(this._chunks[0].byteLength>e){const t=this._chunks[0],n=this.asNative(t,e);return this._chunks[0]=t.slice(e),this._totalLength-=e,n}const t=this.allocNative(e);let n=0;for(;e>0;){const r=this._chunks[0];if(r.byteLength>e){const i=r.slice(0,e);t.set(i,n),n+=e,this._chunks[0]=r.slice(e),this._totalLength-=e,e-=e}else t.set(r,n),n+=r.byteLength,this._chunks.shift(),this._totalLength-=r.byteLength,e-=r.byteLength}return t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=void 0;const r=n(32),i=n(52),o=n(53);var a;!function(e){e.is=function(e){let t=e;return t&&i.func(t.listen)&&i.func(t.dispose)&&i.func(t.onError)&&i.func(t.onClose)&&i.func(t.onPartialMessage)}}(t.MessageReader||(t.MessageReader={}));class s{constructor(){this.errorEmitter=new o.Emitter,this.closeEmitter=new o.Emitter,this.partialMessageEmitter=new o.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error("Reader received error. Reason: "+(i.string(e.message)?e.message:"unknown"))}}t.AbstractMessageReader=s,function(e){e.fromOptions=function(e){var t;let n,i;const o=new Map;let a;const s=new Map;if(void 0===e||"string"==typeof e)n=null!=e?e:"utf-8";else{if(n=null!==(t=e.charset)&&void 0!==t?t:"utf-8",void 0!==e.contentDecoder&&(i=e.contentDecoder,o.set(i.name,i)),void 0!==e.contentDecoders)for(const t of e.contentDecoders)o.set(t.name,t);if(void 0!==e.contentTypeDecoder&&(a=e.contentTypeDecoder,s.set(a.name,a)),void 0!==e.contentTypeDecoders)for(const t of e.contentTypeDecoders)s.set(t.name,t)}return void 0===a&&(a=r.default().applicationJson.decoder,s.set(a.name,a)),{charset:n,contentDecoder:i,contentDecoders:o,contentTypeDecoder:a,contentTypeDecoders:s}}}(a||(a={}));t.ReadableStreamMessageReader=class extends s{constructor(e,t){super(),this.readable=e,this.options=a.fromOptions(t),this.buffer=r.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;const t=this.readable.onData(e=>{this.onData(e)});return this.readable.onError(e=>this.fireError(e)),this.readable.onClose(()=>this.fireClose()),t}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){const e=this.buffer.tryReadHeaders();if(!e)return;const t=e.get("Content-Length");if(!t)throw new Error("Header must provide a Content-Length property.");const n=parseInt(t);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}const e=this.buffer.tryReadBody(this.nextMessageLength);if(void 0===e)return void this.setPartialMessageTimer();let t;this.clearPartialMessageTimer(),this.nextMessageLength=-1,t=void 0!==this.options.contentDecoder?this.options.contentDecoder.decode(e):Promise.resolve(e),t.then(e=>{this.options.contentTypeDecoder.decode(e,this.options).then(e=>{this.callback(e)},e=>{this.fireError(e)})},e=>{this.fireError(e)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(r.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=r.default().timer.setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=void 0;const r=n(32),i=n(52),o=n(416),a=n(53);var s;!function(e){e.is=function(e){let t=e;return t&&i.func(t.dispose)&&i.func(t.onClose)&&i.func(t.onError)&&i.func(t.write)}}(t.MessageWriter||(t.MessageWriter={}));class c{constructor(){this.errorEmitter=new a.Emitter,this.closeEmitter=new a.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error("Writer received error. Reason: "+(i.string(e.message)?e.message:"unknown"))}}t.AbstractMessageWriter=c,function(e){e.fromOptions=function(e){var t,n;return void 0===e||"string"==typeof e?{charset:null!=e?e:"utf-8",contentTypeEncoder:r.default().applicationJson.encoder}:{charset:null!==(t=e.charset)&&void 0!==t?t:"utf-8",contentEncoder:e.contentEncoder,contentTypeEncoder:null!==(n=e.contentTypeEncoder)&&void 0!==n?n:r.default().applicationJson.encoder}}}(s||(s={}));t.WriteableStreamMessageWriter=class extends c{constructor(e,t){super(),this.writable=e,this.options=s.fromOptions(t),this.errorCount=0,this.writeSemaphore=new o.Semaphore(1),this.writable.onError(e=>this.fireError(e)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(e=>void 0!==this.options.contentEncoder?this.options.contentEncoder.encode(e):e).then(t=>{const n=[];return n.push("Content-Length: ",t.byteLength.toString(),"\r\n"),n.push("\r\n"),this.doWrite(e,n,t)},e=>{throw this.fireError(e),e}))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Semaphore=void 0;const r=n(32);t.Semaphore=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){0!==this._waiting.length&&this._active!==this._capacity&&r.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const t=e.thunk();t instanceof Promise?t.then(t=>{this._active--,e.resolve(t),this.runNext()},t=>{this._active--,e.reject(t),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.ConnectionOptions=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.Trace=t.NullLogger=t.ProgressType=void 0;const r=n(32),i=n(52),o=n(148),a=n(418),s=n(53),c=n(149);var u,l,f,h,p,d,m,g,v,y,b,T,_;!function(e){e.type=new o.NotificationType("$/cancelRequest")}(u||(u={})),function(e){e.type=new o.NotificationType("$/progress")}(l||(l={}));t.ProgressType=class{constructor(){}},function(e){e.is=function(e){return i.func(e)}}(f||(f={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"}(h=t.Trace||(t.Trace={})),function(e){e.fromString=function(t){if(!i.string(t))return e.Off;switch(t=t.toLowerCase()){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}}(h=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(p=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new o.NotificationType("$/setTrace")}(d=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new o.NotificationType("$/logTrace")}(m=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(g=t.ConnectionErrors||(t.ConnectionErrors={}));class O extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,O.prototype)}}t.ConnectionError=O,function(e){e.is=function(e){const t=e;return t&&i.func(t.cancelUndispatched)}}(v=t.ConnectionStrategy||(t.ConnectionStrategy={})),function(e){e.Message=Object.freeze({createCancellationTokenSource:e=>new c.CancellationTokenSource}),e.is=function(e){const t=e;return t&&i.func(t.createCancellationTokenSource)}}(y=t.CancellationReceiverStrategy||(t.CancellationReceiverStrategy={})),function(e){e.Message=Object.freeze({sendCancellation(e,t){e.sendNotification(u.type,{id:t})},cleanup(e){}}),e.is=function(e){const t=e;return t&&i.func(t.sendCancellation)&&i.func(t.cleanup)}}(b=t.CancellationSenderStrategy||(t.CancellationSenderStrategy={})),function(e){e.Message=Object.freeze({receiver:y.Message,sender:b.Message}),e.is=function(e){const t=e;return t&&y.is(t.receiver)&&b.is(t.sender)}}(T=t.CancellationStrategy||(t.CancellationStrategy={})),function(e){e.is=function(e){const t=e;return t&&(T.is(t.cancellationStrategy)||v.is(t.connectionStrategy))}}(t.ConnectionOptions||(t.ConnectionOptions={})),function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(_||(_={})),t.createMessageConnection=function(e,n,v,y){const b=void 0!==v?v:t.NullLogger;let E=0,R=0,N=0,S=void 0;const I=Object.create(null);let A=void 0;const C=Object.create(null),x=new Map;let L,k,w=new a.LinkedMap,P=Object.create(null),j=Object.create(null),M=h.Off,D=p.Text,F=_.New;const U=new s.Emitter,q=new s.Emitter,B=new s.Emitter,W=new s.Emitter,z=new s.Emitter,K=y&&y.cancellationStrategy?y.cancellationStrategy:T.Message;function V(e){if(null===e)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+e.toString()}function H(e,t){var n;o.isRequestMessage(t)?e.set(V(t.id),t):o.isResponseMessage(t)?e.set(null===(n=t.id)?"res-unknown-"+(++N).toString():"res-"+n.toString(),t):e.set("not-"+(++R).toString(),t)}function G(e){}function $(){return F===_.Listening}function Y(){return F===_.Closed}function X(){return F===_.Disposed}function J(){F!==_.New&&F!==_.Listening||(F=_.Closed,q.fire(void 0))}function Z(){L||0===w.size||(L=r.default().timer.setImmediate(()=>{L=void 0,function(){if(0===w.size)return;const e=w.shift();try{o.isRequestMessage(e)?function(e){if(X())return;function t(t,r,i){const a={jsonrpc:"2.0",id:e.id};t instanceof o.ResponseError?a.error=t.toJson():a.result=void 0===t?null:t,ee(a,r,i),n.write(a)}function r(t,r,i){const o={jsonrpc:"2.0",id:e.id,error:t.toJson()};ee(o,r,i),n.write(o)}!function(e){if(M===h.Off||!k)return;if(D===p.Text){let t=void 0;M===h.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),k.log(`Received request '${e.method} - (${e.id})'.`,t)}else te("receive-request",e)}(e);const a=I[e.method];let s,c;a&&(s=a.type,c=a.handler);const u=Date.now();if(c||S){const a=String(e.id),l=K.receiver.createCancellationTokenSource(a);j[a]=l;try{let f;if(c)if(void 0===e.params){if(void 0!==s&&0!==s.numberOfParams)return void r(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines ${s.numberOfParams} params but recevied none.`),e.method,u);f=c(l.token)}else if(Array.isArray(e.params)){if(void 0!==s&&s.parameterStructures===o.ParameterStructures.byName)return void r(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by name but received parameters by position`),e.method,u);f=c(...e.params,l.token)}else{if(void 0!==s&&s.parameterStructures===o.ParameterStructures.byPosition)return void r(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by position but received parameters by name`),e.method,u);f=c(e.params,l.token)}else S&&(f=S(e.method,e.params,l.token));const h=f;f?h.then?h.then(n=>{delete j[a],t(n,e.method,u)},t=>{delete j[a],t instanceof o.ResponseError?r(t,e.method,u):t&&i.string(t.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,u):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)}):(delete j[a],t(f,e.method,u)):(delete j[a],function(t,r,i){void 0===t&&(t=null);const o={jsonrpc:"2.0",id:e.id,result:t};ee(o,r,i),n.write(o)}(f,e.method,u))}catch(n){delete j[a],n instanceof o.ResponseError?t(n,e.method,u):n&&i.string(n.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${n.message}`),e.method,u):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)}}else r(new o.ResponseError(o.ErrorCodes.MethodNotFound,"Unhandled method "+e.method),e.method,u)}(e):o.isNotificationMessage(e)?function(e){if(X())return;let t,n=void 0;if(e.method===u.type.method)t=e=>{const t=e.id,n=j[String(t)];n&&n.cancel()};else{const r=C[e.method];r&&(t=r.handler,n=r.type)}if(t||A)try{!function(e){if(M===h.Off||!k||e.method===m.type.method)return;if(D===p.Text){let t=void 0;M===h.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),k.log(`Received notification '${e.method}'.`,t)}else te("receive-notification",e)}(e),t?void 0===e.params?(void 0!==n&&0!==n.numberOfParams&&n.parameterStructures!==o.ParameterStructures.byName&&b.error(`Notification ${e.method} defines ${n.numberOfParams} params but recevied none.`),t()):Array.isArray(e.params)?(void 0!==n&&(n.parameterStructures===o.ParameterStructures.byName&&b.error(`Notification ${e.method} defines parameters by name but received parameters by position`),n.numberOfParams!==e.params.length&&b.error(`Notification ${e.method} defines ${n.numberOfParams} params but received ${e.params.length} argumennts`)),t(...e.params)):(void 0!==n&&n.parameterStructures===o.ParameterStructures.byPosition&&b.error(`Notification ${e.method} defines parameters by position but received parameters by name`),t(e.params)):A&&A(e.method,e.params)}catch(t){t.message?b.error(`Notification handler '${e.method}' failed with message: ${t.message}`):b.error(`Notification handler '${e.method}' failed unexpectedly.`)}else B.fire(e)}(e):o.isResponseMessage(e)?function(e){if(X())return;if(null===e.id)e.error?b.error("Received response message without id: Error is: \n"+JSON.stringify(e.error,void 0,4)):b.error("Received response message without id. No further error information provided.");else{const t=String(e.id),n=P[t];if(function(e,t){if(M===h.Off||!k)return;if(D===p.Text){let n=void 0;if(M===h.Verbose&&(e.error&&e.error.data?n=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?n=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),t){const r=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";k.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${r}`,n)}else k.log(`Received response ${e.id} without active response promise.`,n)}else te("receive-response",e)}(e,n),n){delete P[t];try{if(e.error){const t=e.error;n.reject(new o.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");n.resolve(e.result)}}catch(e){e.message?b.error(`Response handler '${n.method}' failed with message: ${e.message}`):b.error(`Response handler '${n.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void b.error("Received empty message.");b.error("Received message which is neither a response nor a notification message:\n"+JSON.stringify(e,null,4));const t=e;if(i.string(t.id)||i.number(t.id)){const e=String(t.id),n=P[e];n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{Z()}}()}))}e.onClose(J),e.onError((function(e){U.fire([e,void 0,void 0])})),n.onClose(J),n.onError((function(e){U.fire(e)}));const Q=e=>{try{if(o.isNotificationMessage(e)&&e.method===u.type.method){const t=V(e.params.id),r=w.get(t);if(o.isRequestMessage(r)){const i=null==y?void 0:y.connectionStrategy,o=i&&i.cancelUndispatched?i.cancelUndispatched(r,G):void 0;if(o&&(void 0!==o.error||void 0!==o.result))return w.delete(t),o.id=r.id,ee(o,e.method,Date.now()),void n.write(o)}}H(w,e)}finally{Z()}};function ee(e,t,n){if(M!==h.Off&&k)if(D===p.Text){let r=void 0;M===h.Verbose&&(e.error&&e.error.data?r=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?r=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),k.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-n}ms`,r)}else te("send-response",e)}function te(e,t){if(!k||M===h.Off)return;const n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};k.log(n)}function ne(){if(Y())throw new O(g.Closed,"Connection is closed.");if(X())throw new O(g.Disposed,"Connection is disposed.")}function re(e){return void 0===e?null:e}function ie(e){return null===e?void 0:e}function oe(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function ae(e,t){switch(e){case o.ParameterStructures.auto:return oe(t)?ie(t):[re(t)];case o.ParameterStructures.byName:if(!oe(t))throw new Error("Recevied parameters by name but param is not an object literal.");return ie(t);case o.ParameterStructures.byPosition:return[re(t)];default:throw new Error("Unknown parameter structure "+e.toString())}}function se(e,t){let n;const r=e.numberOfParams;switch(r){case 0:n=void 0;break;case 1:n=ae(e.parameterStructures,t[0]);break;default:n=[];for(let e=0;e<t.length&&e<r;e++)n.push(re(t[e]));if(t.length<r)for(let e=t.length;e<r;e++)n.push(null)}return n}const ce={sendNotification:(e,...t)=>{let r,a;if(ne(),i.string(e)){r=e;const n=t[0];let i=0,s=o.ParameterStructures.auto;o.ParameterStructures.is(n)&&(i=1,s=n);let c=t.length;const u=c-i;switch(u){case 0:a=void 0;break;case 1:a=ae(s,t[i]);break;default:if(s===o.ParameterStructures.byName)throw new Error(`Recevied ${u} parameters for 'by Name' notification parameter structure.`);a=t.slice(i,c).map(e=>re(e))}}else{const n=t;r=e.method,a=se(e,n)}const s={jsonrpc:"2.0",method:r,params:a};!function(e){if(M!==h.Off&&k)if(D===p.Text){let t=void 0;M===h.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),k.log(`Sending notification '${e.method}'.`,t)}else te("send-notification",e)}(s),n.write(s)},onNotification:(e,t)=>{let n;return ne(),i.func(e)?A=e:t&&(i.string(e)?(n=e,C[e]={type:void 0,handler:t}):(n=e.method,C[e.method]={type:e,handler:t})),{dispose:()=>{void 0!==n?delete C[n]:A=void 0}}},onProgress:(e,t,n)=>{if(x.has(t))throw new Error(`Progress handler for token ${t} already registered`);return x.set(t,n),{dispose:()=>{x.delete(t)}}},sendProgress:(e,t,n)=>{ce.sendNotification(l.type,{token:t,value:n})},onUnhandledProgress:W.event,sendRequest:(e,...t)=>{let r,a;ne(),function(){if(!$())throw new Error("Call listen() first.")}();let s=void 0;if(i.string(e)){r=e;const n=t[0],i=t[t.length-1];let u=0,l=o.ParameterStructures.auto;o.ParameterStructures.is(n)&&(u=1,l=n);let f=t.length;c.CancellationToken.is(i)&&(f-=1,s=i);const h=f-u;switch(h){case 0:a=void 0;break;case 1:a=ae(l,t[u]);break;default:if(l===o.ParameterStructures.byName)throw new Error(`Recevied ${h} parameters for 'by Name' request parameter structure.`);a=t.slice(u,f).map(e=>re(e))}}else{const n=t;r=e.method,a=se(e,n);const i=e.numberOfParams;s=c.CancellationToken.is(n[i])?n[i]:void 0}const u=E++;let l;s&&(l=s.onCancellationRequested(()=>{K.sender.sendCancellation(ce,u)}));return new Promise((e,t)=>{const i={jsonrpc:"2.0",id:u,method:r,params:a};let s={method:r,timerStart:Date.now(),resolve:t=>{e(t),K.sender.cleanup(u),null==l||l.dispose()},reject:e=>{t(e),K.sender.cleanup(u),null==l||l.dispose()}};!function(e){if(M!==h.Off&&k)if(D===p.Text){let t=void 0;M===h.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),k.log(`Sending request '${e.method} - (${e.id})'.`,t)}else te("send-request",e)}(i);try{n.write(i)}catch(e){s.reject(new o.ResponseError(o.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),s=null}s&&(P[String(u)]=s)})},onRequest:(e,t)=>{ne();let n=null;return f.is(e)?(n=void 0,S=e):i.string(e)?(n=null,void 0!==t&&(n=e,I[e]={handler:t,type:void 0})):void 0!==t&&(n=e.method,I[e.method]={type:e,handler:t}),{dispose:()=>{null!==n&&(void 0!==n?delete I[n]:S=void 0)}}},trace:(e,t,n)=>{let r=!1,o=p.Text;void 0!==n&&(i.boolean(n)?r=n:(r=n.sendNotification||!1,o=n.traceFormat||p.Text)),M=e,D=o,k=M===h.Off?void 0:t,!r||Y()||X()||ce.sendNotification(d.type,{value:h.toString(e)})},onError:U.event,onClose:q.event,onUnhandledNotification:B.event,onDispose:z.event,end:()=>{n.end()},dispose:()=>{if(X())return;F=_.Disposed,z.fire(void 0);const t=new Error("Connection got disposed.");Object.keys(P).forEach(e=>{P[e].reject(t)}),P=Object.create(null),j=Object.create(null),w=new a.LinkedMap,i.func(n.dispose)&&n.dispose(),i.func(e.dispose)&&e.dispose()},listen:()=>{ne(),function(){if($())throw new O(g.AlreadyListening,"Connection is already listening")}(),F=_.Listening,e.listen(Q)},inspect:()=>{r.default().console.log("inspect")}};return ce.onNotification(m.type,e=>{M!==h.Off&&k&&k.log(e.message,M===h.Verbose?e.verbose:void 0)}),ce.onNotification(l.type,e=>{const t=x.get(e.token);t?t(e.value):W.fire(e)}),ce}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=t.LinkedMap=t.Touch=void 0,function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last}(r=t.Touch||(t.Touch={}));class i{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return null===(e=this._head)||void 0===e?void 0:e.value}get last(){var e;return null===(e=this._tail)||void 0===e?void 0:e.value}has(e){return this._map.has(e)}get(e,t=r.None){const n=this._map.get(e);if(n)return t!==r.None&&this.touch(n,t),n.value}set(e,t,n=r.None){let i=this._map.get(e);if(i)i.value=t,n!==r.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case r.None:this.addItemLast(i);break;case r.First:this.addItemFirst(i);break;case r.Last:default:this.addItemLast(i)}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const n=this._state;let r=this._head;for(;r;){if(t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:n.key,done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return r}values(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:n.value,done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return r}entries(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:[n.key,n.value],done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return r}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===r.First||t===r.Last)if(t===r.First){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===r.Last){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(const[t,n]of e)this.set(t,n)}}t.LinkedMap=i;t.LRUCache=class extends i{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=r.AsNew){return super.get(e,t)}peek(e){return super.get(e,r.None)}set(e,t){return super.set(e,t,r.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.LSPErrorCodes=t.createProtocolConnection=void 0,i(n(51),t),i(n(420),t),i(n(15),t),i(n(421),t);var o=n(438);Object.defineProperty(t,"createProtocolConnection",{enumerable:!0,get:function(){return o.createProtocolConnection}}),function(e){e.lspReservedErrorRangeStart=-32899,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800}(t.LSPErrorCodes||(t.LSPErrorCodes={}))},function(e,t,n){"use strict";var r,i,o,a,s,c,u,l,f,h,p,d,m,g,v,y,b,T,_,O,E,R,N,S,I,A;n.r(t),n.d(t,"integer",(function(){return r})),n.d(t,"uinteger",(function(){return i})),n.d(t,"Position",(function(){return o})),n.d(t,"Range",(function(){return a})),n.d(t,"Location",(function(){return s})),n.d(t,"LocationLink",(function(){return c})),n.d(t,"Color",(function(){return u})),n.d(t,"ColorInformation",(function(){return l})),n.d(t,"ColorPresentation",(function(){return f})),n.d(t,"FoldingRangeKind",(function(){return h})),n.d(t,"FoldingRange",(function(){return p})),n.d(t,"DiagnosticRelatedInformation",(function(){return d})),n.d(t,"DiagnosticSeverity",(function(){return m})),n.d(t,"DiagnosticTag",(function(){return g})),n.d(t,"CodeDescription",(function(){return v})),n.d(t,"Diagnostic",(function(){return y})),n.d(t,"Command",(function(){return b})),n.d(t,"TextEdit",(function(){return T})),n.d(t,"ChangeAnnotation",(function(){return _})),n.d(t,"ChangeAnnotationIdentifier",(function(){return O})),n.d(t,"AnnotatedTextEdit",(function(){return E})),n.d(t,"TextDocumentEdit",(function(){return R})),n.d(t,"CreateFile",(function(){return N})),n.d(t,"RenameFile",(function(){return S})),n.d(t,"DeleteFile",(function(){return I})),n.d(t,"WorkspaceEdit",(function(){return A})),n.d(t,"WorkspaceChange",(function(){return se})),n.d(t,"TextDocumentIdentifier",(function(){return C})),n.d(t,"VersionedTextDocumentIdentifier",(function(){return x})),n.d(t,"OptionalVersionedTextDocumentIdentifier",(function(){return L})),n.d(t,"TextDocumentItem",(function(){return k})),n.d(t,"MarkupKind",(function(){return w})),n.d(t,"MarkupContent",(function(){return P})),n.d(t,"CompletionItemKind",(function(){return j})),n.d(t,"InsertTextFormat",(function(){return M})),n.d(t,"CompletionItemTag",(function(){return D})),n.d(t,"InsertReplaceEdit",(function(){return F})),n.d(t,"InsertTextMode",(function(){return U})),n.d(t,"CompletionItem",(function(){return q})),n.d(t,"CompletionList",(function(){return B})),n.d(t,"MarkedString",(function(){return W})),n.d(t,"Hover",(function(){return z})),n.d(t,"ParameterInformation",(function(){return K})),n.d(t,"SignatureInformation",(function(){return V})),n.d(t,"DocumentHighlightKind",(function(){return H})),n.d(t,"DocumentHighlight",(function(){return G})),n.d(t,"SymbolKind",(function(){return $})),n.d(t,"SymbolTag",(function(){return Y})),n.d(t,"SymbolInformation",(function(){return X})),n.d(t,"DocumentSymbol",(function(){return J})),n.d(t,"CodeActionKind",(function(){return Z})),n.d(t,"CodeActionContext",(function(){return Q})),n.d(t,"CodeAction",(function(){return ee})),n.d(t,"CodeLens",(function(){return te})),n.d(t,"FormattingOptions",(function(){return ne})),n.d(t,"DocumentLink",(function(){return re})),n.d(t,"SelectionRange",(function(){return ie})),n.d(t,"EOL",(function(){return ue})),n.d(t,"TextDocument",(function(){return ce})),function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647}(r||(r={})),function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647}(i||(i={})),function(e){e.create=function(e,t){return e===Number.MAX_VALUE&&(e=i.MAX_VALUE),t===Number.MAX_VALUE&&(t=i.MAX_VALUE),{line:e,character:t}},e.is=function(e){var t=e;return le.objectLiteral(t)&&le.uinteger(t.line)&&le.uinteger(t.character)}}(o||(o={})),function(e){e.create=function(e,t,n,r){if(le.uinteger(e)&&le.uinteger(t)&&le.uinteger(n)&&le.uinteger(r))return{start:o.create(e,t),end:o.create(n,r)};if(o.is(e)&&o.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+n+", "+r+"]")},e.is=function(e){var t=e;return le.objectLiteral(t)&&o.is(t.start)&&o.is(t.end)}}(a||(a={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return le.defined(t)&&a.is(t.range)&&(le.string(t.uri)||le.undefined(t.uri))}}(s||(s={})),function(e){e.create=function(e,t,n,r){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:r}},e.is=function(e){var t=e;return le.defined(t)&&a.is(t.targetRange)&&le.string(t.targetUri)&&(a.is(t.targetSelectionRange)||le.undefined(t.targetSelectionRange))&&(a.is(t.originSelectionRange)||le.undefined(t.originSelectionRange))}}(c||(c={})),function(e){e.create=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},e.is=function(e){var t=e;return le.numberRange(t.red,0,1)&&le.numberRange(t.green,0,1)&&le.numberRange(t.blue,0,1)&&le.numberRange(t.alpha,0,1)}}(u||(u={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return a.is(t.range)&&u.is(t.color)}}(l||(l={})),function(e){e.create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function(e){var t=e;return le.string(t.label)&&(le.undefined(t.textEdit)||T.is(t))&&(le.undefined(t.additionalTextEdits)||le.typedArray(t.additionalTextEdits,T.is))}}(f||(f={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(h||(h={})),function(e){e.create=function(e,t,n,r,i){var o={startLine:e,endLine:t};return le.defined(n)&&(o.startCharacter=n),le.defined(r)&&(o.endCharacter=r),le.defined(i)&&(o.kind=i),o},e.is=function(e){var t=e;return le.uinteger(t.startLine)&&le.uinteger(t.startLine)&&(le.undefined(t.startCharacter)||le.uinteger(t.startCharacter))&&(le.undefined(t.endCharacter)||le.uinteger(t.endCharacter))&&(le.undefined(t.kind)||le.string(t.kind))}}(p||(p={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return le.defined(t)&&s.is(t.location)&&le.string(t.message)}}(d||(d={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(m||(m={})),function(e){e.Unnecessary=1,e.Deprecated=2}(g||(g={})),function(e){e.is=function(e){var t=e;return null!=t&&le.string(t.href)}}(v||(v={})),function(e){e.create=function(e,t,n,r,i,o){var a={range:e,message:t};return le.defined(n)&&(a.severity=n),le.defined(r)&&(a.code=r),le.defined(i)&&(a.source=i),le.defined(o)&&(a.relatedInformation=o),a},e.is=function(e){var t,n=e;return le.defined(n)&&a.is(n.range)&&le.string(n.message)&&(le.number(n.severity)||le.undefined(n.severity))&&(le.integer(n.code)||le.string(n.code)||le.undefined(n.code))&&(le.undefined(n.codeDescription)||le.string(null===(t=n.codeDescription)||void 0===t?void 0:t.href))&&(le.string(n.source)||le.undefined(n.source))&&(le.undefined(n.relatedInformation)||le.typedArray(n.relatedInformation,d.is))}}(y||(y={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={title:e,command:t};return le.defined(n)&&n.length>0&&(i.arguments=n),i},e.is=function(e){var t=e;return le.defined(t)&&le.string(t.title)&&le.string(t.command)}}(b||(b={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return le.objectLiteral(t)&&le.string(t.newText)&&a.is(t.range)}}(T||(T={})),function(e){e.create=function(e,t,n){var r={label:e};return void 0!==t&&(r.needsConfirmation=t),void 0!==n&&(r.description=n),r},e.is=function(e){var t=e;return void 0!==t&&le.objectLiteral(t)&&le.string(t.label)&&(le.boolean(t.needsConfirmation)||void 0===t.needsConfirmation)&&(le.string(t.description)||void 0===t.description)}}(_||(_={})),function(e){e.is=function(e){return"string"==typeof e}}(O||(O={})),function(e){e.replace=function(e,t,n){return{range:e,newText:t,annotationId:n}},e.insert=function(e,t,n){return{range:{start:e,end:e},newText:t,annotationId:n}},e.del=function(e,t){return{range:e,newText:"",annotationId:t}},e.is=function(e){var t=e;return T.is(t)&&(_.is(t.annotationId)||O.is(t.annotationId))}}(E||(E={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return le.defined(t)&&L.is(t.textDocument)&&Array.isArray(t.edits)}}(R||(R={})),function(e){e.create=function(e,t,n){var r={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){var t=e;return t&&"create"===t.kind&&le.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||le.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||le.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||O.is(t.annotationId))}}(N||(N={})),function(e){e.create=function(e,t,n,r){var i={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(i.options=n),void 0!==r&&(i.annotationId=r),i},e.is=function(e){var t=e;return t&&"rename"===t.kind&&le.string(t.oldUri)&&le.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||le.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||le.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||O.is(t.annotationId))}}(S||(S={})),function(e){e.create=function(e,t,n){var r={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){var t=e;return t&&"delete"===t.kind&&le.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||le.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||le.boolean(t.options.ignoreIfNotExists)))&&(void 0===t.annotationId||O.is(t.annotationId))}}(I||(I={})),function(e){e.is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(e){return le.string(e.kind)?N.is(e)||S.is(e)||I.is(e):R.is(e)})))}}(A||(A={}));var C,x,L,k,w,P,j,M,D,F,U,q,B,W,z,K,V,H,G,$,Y,X,J,Z,Q,ee,te,ne,re,ie,oe=function(){function e(e,t){this.edits=e,this.changeAnnotations=t}return e.prototype.insert=function(e,t,n){var r,i;if(void 0===n?r=T.insert(e,t):O.is(n)?(i=n,r=E.insert(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=E.insert(e,t,i)),this.edits.push(r),void 0!==i)return i},e.prototype.replace=function(e,t,n){var r,i;if(void 0===n?r=T.replace(e,t):O.is(n)?(i=n,r=E.replace(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=E.replace(e,t,i)),this.edits.push(r),void 0!==i)return i},e.prototype.delete=function(e,t){var n,r;if(void 0===t?n=T.del(e):O.is(t)?(r=t,n=E.del(e,t)):(this.assertChangeAnnotations(this.changeAnnotations),r=this.changeAnnotations.manage(t),n=E.del(e,r)),this.edits.push(n),void 0!==r)return r},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(e){if(void 0===e)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),ae=function(){function e(e){this._annotations=void 0===e?Object.create(null):e,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(e,t){var n;if(O.is(e)?n=e:(n=this.nextId(),t=e),void 0!==this._annotations[n])throw new Error("Id "+n+" is already in use.");if(void 0===t)throw new Error("No annotation provided for id "+n);return this._annotations[n]=t,this._size++,n},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}(),se=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),void 0!==e?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new ae(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach((function(e){if(R.is(e)){var n=new oe(e.edits,t._changeAnnotations);t._textEditChanges[e.textDocument.uri]=n}}))):e.changes&&Object.keys(e.changes).forEach((function(n){var r=new oe(e.changes[n]);t._textEditChanges[n]=r}))):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),void 0!==this._changeAnnotations&&(0===this._changeAnnotations.size?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(e){if(L.is(e)){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t={uri:e.uri,version:e.version};if(!(r=this._textEditChanges[t.uri])){var n={textDocument:t,edits:i=[]};this._workspaceEdit.documentChanges.push(n),r=new oe(i,this._changeAnnotations),this._textEditChanges[t.uri]=r}return r}if(this.initChanges(),void 0===this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var r;if(!(r=this._textEditChanges[e])){var i=[];this._workspaceEdit.changes[e]=i,r=new oe(i),this._textEditChanges[e]=r}return r},e.prototype.initDocumentChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._changeAnnotations=new ae,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r,i,o;if(_.is(t)||O.is(t)?r=t:n=t,void 0===r?i=N.create(e,n):(o=O.is(r)?r:this._changeAnnotations.manage(r),i=N.create(e,n,o)),this._workspaceEdit.documentChanges.push(i),void 0!==o)return o},e.prototype.renameFile=function(e,t,n,r){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var i,o,a;if(_.is(n)||O.is(n)?i=n:r=n,void 0===i?o=S.create(e,t,r):(a=O.is(i)?i:this._changeAnnotations.manage(i),o=S.create(e,t,r,a)),this._workspaceEdit.documentChanges.push(o),void 0!==a)return a},e.prototype.deleteFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r,i,o;if(_.is(t)||O.is(t)?r=t:n=t,void 0===r?i=I.create(e,n):(o=O.is(r)?r:this._changeAnnotations.manage(r),i=I.create(e,n,o)),this._workspaceEdit.documentChanges.push(i),void 0!==o)return o},e}();!function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return le.defined(t)&&le.string(t.uri)}}(C||(C={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return le.defined(t)&&le.string(t.uri)&&le.integer(t.version)}}(x||(x={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return le.defined(t)&&le.string(t.uri)&&(null===t.version||le.integer(t.version))}}(L||(L={})),function(e){e.create=function(e,t,n,r){return{uri:e,languageId:t,version:n,text:r}},e.is=function(e){var t=e;return le.defined(t)&&le.string(t.uri)&&le.string(t.languageId)&&le.integer(t.version)&&le.string(t.text)}}(k||(k={})),function(e){e.PlainText="plaintext",e.Markdown="markdown"}(w||(w={})),function(e){e.is=function(t){var n=t;return n===e.PlainText||n===e.Markdown}}(w||(w={})),function(e){e.is=function(e){var t=e;return le.objectLiteral(e)&&w.is(t.kind)&&le.string(t.value)}}(P||(P={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(j||(j={})),function(e){e.PlainText=1,e.Snippet=2}(M||(M={})),function(e){e.Deprecated=1}(D||(D={})),function(e){e.create=function(e,t,n){return{newText:e,insert:t,replace:n}},e.is=function(e){var t=e;return t&&le.string(t.newText)&&a.is(t.insert)&&a.is(t.replace)}}(F||(F={})),function(e){e.asIs=1,e.adjustIndentation=2}(U||(U={})),function(e){e.create=function(e){return{label:e}}}(q||(q={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(B||(B={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return le.string(t)||le.objectLiteral(t)&&le.string(t.language)&&le.string(t.value)}}(W||(W={})),function(e){e.is=function(e){var t=e;return!!t&&le.objectLiteral(t)&&(P.is(t.contents)||W.is(t.contents)||le.typedArray(t.contents,W.is))&&(void 0===e.range||a.is(e.range))}}(z||(z={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(K||(K={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={label:e};return le.defined(t)&&(i.documentation=t),le.defined(n)?i.parameters=n:i.parameters=[],i}}(V||(V={})),function(e){e.Text=1,e.Read=2,e.Write=3}(H||(H={})),function(e){e.create=function(e,t){var n={range:e};return le.number(t)&&(n.kind=t),n}}(G||(G={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}($||($={})),function(e){e.Deprecated=1}(Y||(Y={})),function(e){e.create=function(e,t,n,r,i){var o={name:e,kind:t,location:{uri:r,range:n}};return i&&(o.containerName=i),o}}(X||(X={})),function(e){e.create=function(e,t,n,r,i,o){var a={name:e,detail:t,kind:n,range:r,selectionRange:i};return void 0!==o&&(a.children=o),a},e.is=function(e){var t=e;return t&&le.string(t.name)&&le.number(t.kind)&&a.is(t.range)&&a.is(t.selectionRange)&&(void 0===t.detail||le.string(t.detail))&&(void 0===t.deprecated||le.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))&&(void 0===t.tags||Array.isArray(t.tags))}}(J||(J={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(Z||(Z={})),function(e){e.create=function(e,t){var n={diagnostics:e};return null!=t&&(n.only=t),n},e.is=function(e){var t=e;return le.defined(t)&&le.typedArray(t.diagnostics,y.is)&&(void 0===t.only||le.typedArray(t.only,le.string))}}(Q||(Q={})),function(e){e.create=function(e,t,n){var r={title:e},i=!0;return"string"==typeof t?(i=!1,r.kind=t):b.is(t)?r.command=t:r.edit=t,i&&void 0!==n&&(r.kind=n),r},e.is=function(e){var t=e;return t&&le.string(t.title)&&(void 0===t.diagnostics||le.typedArray(t.diagnostics,y.is))&&(void 0===t.kind||le.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||b.is(t.command))&&(void 0===t.isPreferred||le.boolean(t.isPreferred))&&(void 0===t.edit||A.is(t.edit))}}(ee||(ee={})),function(e){e.create=function(e,t){var n={range:e};return le.defined(t)&&(n.data=t),n},e.is=function(e){var t=e;return le.defined(t)&&a.is(t.range)&&(le.undefined(t.command)||b.is(t.command))}}(te||(te={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return le.defined(t)&&le.uinteger(t.tabSize)&&le.boolean(t.insertSpaces)}}(ne||(ne={})),function(e){e.create=function(e,t,n){return{range:e,target:t,data:n}},e.is=function(e){var t=e;return le.defined(t)&&a.is(t.range)&&(le.undefined(t.target)||le.string(t.target))}}(re||(re={})),function(e){e.create=function(e,t){return{range:e,parent:t}},e.is=function(t){var n=t;return void 0!==n&&a.is(n.range)&&(void 0===n.parent||e.is(n.parent))}}(ie||(ie={}));var ce,ue=["\n","\r\n","\r"];!function(e){e.create=function(e,t,n,r){return new fe(e,t,n,r)},e.is=function(e){var t=e;return!!(le.defined(t)&&le.string(t.uri)&&(le.undefined(t.languageId)||le.string(t.languageId))&&le.uinteger(t.lineCount)&&le.func(t.getText)&&le.func(t.positionAt)&&le.func(t.offsetAt))},e.applyEdits=function(e,t){for(var n=e.getText(),r=function e(t,n){if(t.length<=1)return t;var r=t.length/2|0,i=t.slice(0,r),o=t.slice(r);e(i,n),e(o,n);var a=0,s=0,c=0;for(;a<i.length&&s<o.length;){var u=n(i[a],o[s]);t[c++]=u<=0?i[a++]:o[s++]}for(;a<i.length;)t[c++]=i[a++];for(;s<o.length;)t[c++]=o[s++];return t}(t,(function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n})),i=n.length,o=r.length-1;o>=0;o--){var a=r[o],s=e.offsetAt(a.range.start),c=e.offsetAt(a.range.end);if(!(c<=i))throw new Error("Overlapping edit");n=n.substring(0,s)+a.newText+n.substring(c,n.length),i=s}return n}}(ce||(ce={}));var le,fe=function(){function e(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var e=[],t=this._content,n=!0,r=0;r<t.length;r++){n&&(e.push(r),n=!1);var i=t.charAt(r);n="\r"===i||"\n"===i,"\r"===i&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,r=t.length;if(0===r)return o.create(0,e);for(;n<r;){var i=Math.floor((n+r)/2);t[i]>e?r=i:n=i+1}var a=n-1;return o.create(a,e-t[a])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}();!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.numberRange=function(e,n,r){return"[object Number]"===t.call(e)&&n<=e&&e<=r},e.integer=function(e){return"[object Number]"===t.call(e)&&-2147483648<=e&&e<=2147483647},e.uinteger=function(e){return"[object Number]"===t.call(e)&&0<=e&&e<=2147483647},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(le||(le={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentLinkRequest=t.CodeLensRefreshRequest=t.CodeLensResolveRequest=t.CodeLensRequest=t.WorkspaceSymbolRequest=t.CodeActionResolveRequest=t.CodeActionRequest=t.DocumentSymbolRequest=t.DocumentHighlightRequest=t.ReferencesRequest=t.DefinitionRequest=t.SignatureHelpRequest=t.SignatureHelpTriggerKind=t.HoverRequest=t.CompletionResolveRequest=t.CompletionRequest=t.CompletionTriggerKind=t.PublishDiagnosticsNotification=t.WatchKind=t.FileChangeType=t.DidChangeWatchedFilesNotification=t.WillSaveTextDocumentWaitUntilRequest=t.WillSaveTextDocumentNotification=t.TextDocumentSaveReason=t.DidSaveTextDocumentNotification=t.DidCloseTextDocumentNotification=t.DidChangeTextDocumentNotification=t.TextDocumentContentChangeEvent=t.DidOpenTextDocumentNotification=t.TextDocumentSyncKind=t.TelemetryEventNotification=t.LogMessageNotification=t.ShowMessageRequest=t.ShowMessageNotification=t.MessageType=t.DidChangeConfigurationNotification=t.ExitNotification=t.ShutdownRequest=t.InitializedNotification=t.InitializeError=t.InitializeRequest=t.WorkDoneProgressOptions=t.TextDocumentRegistrationOptions=t.StaticRegistrationOptions=t.FailureHandlingKind=t.ResourceOperationKind=t.UnregistrationRequest=t.RegistrationRequest=t.DocumentSelector=t.DocumentFilter=void 0,t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.WillRenameFilesRequest=t.DidRenameFilesNotification=t.WillCreateFilesRequest=t.DidCreateFilesNotification=t.FileOperationPatternKind=t.LinkedEditingRangeRequest=t.ShowDocumentRequest=t.SemanticTokensRegistrationType=t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.TokenFormat=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.CallHierarchyPrepareRequest=t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=t.SelectionRangeRequest=t.DeclarationRequest=t.FoldingRangeRequest=t.ColorPresentationRequest=t.DocumentColorRequest=t.ConfigurationRequest=t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=t.TypeDefinitionRequest=t.ImplementationRequest=t.ApplyWorkspaceEditRequest=t.ExecuteCommandRequest=t.PrepareRenameRequest=t.RenameRequest=t.PrepareSupportDefaultBehavior=t.DocumentOnTypeFormattingRequest=t.DocumentRangeFormattingRequest=t.DocumentFormattingRequest=t.DocumentLinkResolveRequest=void 0;const r=n(422),i=n(15),o=n(423);Object.defineProperty(t,"ImplementationRequest",{enumerable:!0,get:function(){return o.ImplementationRequest}});const a=n(424);Object.defineProperty(t,"TypeDefinitionRequest",{enumerable:!0,get:function(){return a.TypeDefinitionRequest}});const s=n(425);Object.defineProperty(t,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return s.WorkspaceFoldersRequest}}),Object.defineProperty(t,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return s.DidChangeWorkspaceFoldersNotification}});const c=n(426);Object.defineProperty(t,"ConfigurationRequest",{enumerable:!0,get:function(){return c.ConfigurationRequest}});const u=n(427);Object.defineProperty(t,"DocumentColorRequest",{enumerable:!0,get:function(){return u.DocumentColorRequest}}),Object.defineProperty(t,"ColorPresentationRequest",{enumerable:!0,get:function(){return u.ColorPresentationRequest}});const l=n(428);Object.defineProperty(t,"FoldingRangeRequest",{enumerable:!0,get:function(){return l.FoldingRangeRequest}});const f=n(429);Object.defineProperty(t,"DeclarationRequest",{enumerable:!0,get:function(){return f.DeclarationRequest}});const h=n(430);Object.defineProperty(t,"SelectionRangeRequest",{enumerable:!0,get:function(){return h.SelectionRangeRequest}});const p=n(431);Object.defineProperty(t,"WorkDoneProgress",{enumerable:!0,get:function(){return p.WorkDoneProgress}}),Object.defineProperty(t,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return p.WorkDoneProgressCreateRequest}}),Object.defineProperty(t,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return p.WorkDoneProgressCancelNotification}});const d=n(432);Object.defineProperty(t,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return d.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(t,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return d.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(t,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return d.CallHierarchyPrepareRequest}});const m=n(433);Object.defineProperty(t,"SemanticTokenTypes",{enumerable:!0,get:function(){return m.SemanticTokenTypes}}),Object.defineProperty(t,"SemanticTokenModifiers",{enumerable:!0,get:function(){return m.SemanticTokenModifiers}}),Object.defineProperty(t,"SemanticTokens",{enumerable:!0,get:function(){return m.SemanticTokens}}),Object.defineProperty(t,"TokenFormat",{enumerable:!0,get:function(){return m.TokenFormat}}),Object.defineProperty(t,"SemanticTokensRequest",{enumerable:!0,get:function(){return m.SemanticTokensRequest}}),Object.defineProperty(t,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return m.SemanticTokensDeltaRequest}}),Object.defineProperty(t,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return m.SemanticTokensRangeRequest}}),Object.defineProperty(t,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return m.SemanticTokensRefreshRequest}}),Object.defineProperty(t,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return m.SemanticTokensRegistrationType}});const g=n(434);Object.defineProperty(t,"ShowDocumentRequest",{enumerable:!0,get:function(){return g.ShowDocumentRequest}});const v=n(435);Object.defineProperty(t,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return v.LinkedEditingRangeRequest}});const y=n(436);Object.defineProperty(t,"FileOperationPatternKind",{enumerable:!0,get:function(){return y.FileOperationPatternKind}}),Object.defineProperty(t,"DidCreateFilesNotification",{enumerable:!0,get:function(){return y.DidCreateFilesNotification}}),Object.defineProperty(t,"WillCreateFilesRequest",{enumerable:!0,get:function(){return y.WillCreateFilesRequest}}),Object.defineProperty(t,"DidRenameFilesNotification",{enumerable:!0,get:function(){return y.DidRenameFilesNotification}}),Object.defineProperty(t,"WillRenameFilesRequest",{enumerable:!0,get:function(){return y.WillRenameFilesRequest}}),Object.defineProperty(t,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return y.DidDeleteFilesNotification}}),Object.defineProperty(t,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return y.WillDeleteFilesRequest}});const b=n(437);var T,_;Object.defineProperty(t,"UniquenessLevel",{enumerable:!0,get:function(){return b.UniquenessLevel}}),Object.defineProperty(t,"MonikerKind",{enumerable:!0,get:function(){return b.MonikerKind}}),Object.defineProperty(t,"MonikerRequest",{enumerable:!0,get:function(){return b.MonikerRequest}}),function(e){e.is=function(e){const t=e;return r.string(t.language)||r.string(t.scheme)||r.string(t.pattern)}}(T=t.DocumentFilter||(t.DocumentFilter={})),function(e){e.is=function(e){if(!Array.isArray(e))return!1;for(let t of e)if(!r.string(t)&&!T.is(t))return!1;return!0}}(_=t.DocumentSelector||(t.DocumentSelector={})),function(e){e.type=new i.ProtocolRequestType("client/registerCapability")}(t.RegistrationRequest||(t.RegistrationRequest={})),function(e){e.type=new i.ProtocolRequestType("client/unregisterCapability")}(t.UnregistrationRequest||(t.UnregistrationRequest={})),function(e){e.Create="create",e.Rename="rename",e.Delete="delete"}(t.ResourceOperationKind||(t.ResourceOperationKind={})),function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"}(t.FailureHandlingKind||(t.FailureHandlingKind={})),function(e){e.hasId=function(e){const t=e;return t&&r.string(t.id)&&t.id.length>0}}(t.StaticRegistrationOptions||(t.StaticRegistrationOptions={})),function(e){e.is=function(e){const t=e;return t&&(null===t.documentSelector||_.is(t.documentSelector))}}(t.TextDocumentRegistrationOptions||(t.TextDocumentRegistrationOptions={})),function(e){e.is=function(e){const t=e;return r.objectLiteral(t)&&(void 0===t.workDoneProgress||r.boolean(t.workDoneProgress))},e.hasWorkDoneProgress=function(e){const t=e;return t&&r.boolean(t.workDoneProgress)}}(t.WorkDoneProgressOptions||(t.WorkDoneProgressOptions={})),function(e){e.type=new i.ProtocolRequestType("initialize")}(t.InitializeRequest||(t.InitializeRequest={})),function(e){e.unknownProtocolVersion=1}(t.InitializeError||(t.InitializeError={})),function(e){e.type=new i.ProtocolNotificationType("initialized")}(t.InitializedNotification||(t.InitializedNotification={})),function(e){e.type=new i.ProtocolRequestType0("shutdown")}(t.ShutdownRequest||(t.ShutdownRequest={})),function(e){e.type=new i.ProtocolNotificationType0("exit")}(t.ExitNotification||(t.ExitNotification={})),function(e){e.type=new i.ProtocolNotificationType("workspace/didChangeConfiguration")}(t.DidChangeConfigurationNotification||(t.DidChangeConfigurationNotification={})),function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4}(t.MessageType||(t.MessageType={})),function(e){e.type=new i.ProtocolNotificationType("window/showMessage")}(t.ShowMessageNotification||(t.ShowMessageNotification={})),function(e){e.type=new i.ProtocolRequestType("window/showMessageRequest")}(t.ShowMessageRequest||(t.ShowMessageRequest={})),function(e){e.type=new i.ProtocolNotificationType("window/logMessage")}(t.LogMessageNotification||(t.LogMessageNotification={})),function(e){e.type=new i.ProtocolNotificationType("telemetry/event")}(t.TelemetryEventNotification||(t.TelemetryEventNotification={})),function(e){e.None=0,e.Full=1,e.Incremental=2}(t.TextDocumentSyncKind||(t.TextDocumentSyncKind={})),function(e){e.method="textDocument/didOpen",e.type=new i.ProtocolNotificationType(e.method)}(t.DidOpenTextDocumentNotification||(t.DidOpenTextDocumentNotification={})),function(e){e.isIncremental=function(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)},e.isFull=function(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength}}(t.TextDocumentContentChangeEvent||(t.TextDocumentContentChangeEvent={})),function(e){e.method="textDocument/didChange",e.type=new i.ProtocolNotificationType(e.method)}(t.DidChangeTextDocumentNotification||(t.DidChangeTextDocumentNotification={})),function(e){e.method="textDocument/didClose",e.type=new i.ProtocolNotificationType(e.method)}(t.DidCloseTextDocumentNotification||(t.DidCloseTextDocumentNotification={})),function(e){e.method="textDocument/didSave",e.type=new i.ProtocolNotificationType(e.method)}(t.DidSaveTextDocumentNotification||(t.DidSaveTextDocumentNotification={})),function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3}(t.TextDocumentSaveReason||(t.TextDocumentSaveReason={})),function(e){e.method="textDocument/willSave",e.type=new i.ProtocolNotificationType(e.method)}(t.WillSaveTextDocumentNotification||(t.WillSaveTextDocumentNotification={})),function(e){e.method="textDocument/willSaveWaitUntil",e.type=new i.ProtocolRequestType(e.method)}(t.WillSaveTextDocumentWaitUntilRequest||(t.WillSaveTextDocumentWaitUntilRequest={})),function(e){e.type=new i.ProtocolNotificationType("workspace/didChangeWatchedFiles")}(t.DidChangeWatchedFilesNotification||(t.DidChangeWatchedFilesNotification={})),function(e){e.Created=1,e.Changed=2,e.Deleted=3}(t.FileChangeType||(t.FileChangeType={})),function(e){e.Create=1,e.Change=2,e.Delete=4}(t.WatchKind||(t.WatchKind={})),function(e){e.type=new i.ProtocolNotificationType("textDocument/publishDiagnostics")}(t.PublishDiagnosticsNotification||(t.PublishDiagnosticsNotification={})),function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3}(t.CompletionTriggerKind||(t.CompletionTriggerKind={})),function(e){e.method="textDocument/completion",e.type=new i.ProtocolRequestType(e.method)}(t.CompletionRequest||(t.CompletionRequest={})),function(e){e.method="completionItem/resolve",e.type=new i.ProtocolRequestType(e.method)}(t.CompletionResolveRequest||(t.CompletionResolveRequest={})),function(e){e.method="textDocument/hover",e.type=new i.ProtocolRequestType(e.method)}(t.HoverRequest||(t.HoverRequest={})),function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3}(t.SignatureHelpTriggerKind||(t.SignatureHelpTriggerKind={})),function(e){e.method="textDocument/signatureHelp",e.type=new i.ProtocolRequestType(e.method)}(t.SignatureHelpRequest||(t.SignatureHelpRequest={})),function(e){e.method="textDocument/definition",e.type=new i.ProtocolRequestType(e.method)}(t.DefinitionRequest||(t.DefinitionRequest={})),function(e){e.method="textDocument/references",e.type=new i.ProtocolRequestType(e.method)}(t.ReferencesRequest||(t.ReferencesRequest={})),function(e){e.method="textDocument/documentHighlight",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentHighlightRequest||(t.DocumentHighlightRequest={})),function(e){e.method="textDocument/documentSymbol",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentSymbolRequest||(t.DocumentSymbolRequest={})),function(e){e.method="textDocument/codeAction",e.type=new i.ProtocolRequestType(e.method)}(t.CodeActionRequest||(t.CodeActionRequest={})),function(e){e.method="codeAction/resolve",e.type=new i.ProtocolRequestType(e.method)}(t.CodeActionResolveRequest||(t.CodeActionResolveRequest={})),function(e){e.method="workspace/symbol",e.type=new i.ProtocolRequestType(e.method)}(t.WorkspaceSymbolRequest||(t.WorkspaceSymbolRequest={})),function(e){e.method="textDocument/codeLens",e.type=new i.ProtocolRequestType(e.method)}(t.CodeLensRequest||(t.CodeLensRequest={})),function(e){e.method="codeLens/resolve",e.type=new i.ProtocolRequestType(e.method)}(t.CodeLensResolveRequest||(t.CodeLensResolveRequest={})),function(e){e.method="workspace/codeLens/refresh",e.type=new i.ProtocolRequestType0(e.method)}(t.CodeLensRefreshRequest||(t.CodeLensRefreshRequest={})),function(e){e.method="textDocument/documentLink",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentLinkRequest||(t.DocumentLinkRequest={})),function(e){e.method="documentLink/resolve",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentLinkResolveRequest||(t.DocumentLinkResolveRequest={})),function(e){e.method="textDocument/formatting",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentFormattingRequest||(t.DocumentFormattingRequest={})),function(e){e.method="textDocument/rangeFormatting",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentRangeFormattingRequest||(t.DocumentRangeFormattingRequest={})),function(e){e.method="textDocument/onTypeFormatting",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentOnTypeFormattingRequest||(t.DocumentOnTypeFormattingRequest={})),function(e){e.Identifier=1}(t.PrepareSupportDefaultBehavior||(t.PrepareSupportDefaultBehavior={})),function(e){e.method="textDocument/rename",e.type=new i.ProtocolRequestType(e.method)}(t.RenameRequest||(t.RenameRequest={})),function(e){e.method="textDocument/prepareRename",e.type=new i.ProtocolRequestType(e.method)}(t.PrepareRenameRequest||(t.PrepareRenameRequest={})),function(e){e.type=new i.ProtocolRequestType("workspace/executeCommand")}(t.ExecuteCommandRequest||(t.ExecuteCommandRequest={})),function(e){e.type=new i.ProtocolRequestType("workspace/applyEdit")}(t.ApplyWorkspaceEditRequest||(t.ApplyWorkspaceEditRequest={}))},function(e,t,n){"use strict";function r(e){return"string"==typeof e||e instanceof String}function i(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.objectLiteral=t.typedArray=t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=i,t.stringArray=function(e){return i(e)&&e.every(e=>r(e))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.objectLiteral=function(e){return null!==e&&"object"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImplementationRequest=void 0;const r=n(15);!function(e){e.method="textDocument/implementation",e.type=new r.ProtocolRequestType(e.method)}(t.ImplementationRequest||(t.ImplementationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeDefinitionRequest=void 0;const r=n(15);!function(e){e.method="textDocument/typeDefinition",e.type=new r.ProtocolRequestType(e.method)}(t.TypeDefinitionRequest||(t.TypeDefinitionRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=void 0;const r=n(15);!function(e){e.type=new r.ProtocolRequestType0("workspace/workspaceFolders")}(t.WorkspaceFoldersRequest||(t.WorkspaceFoldersRequest={})),function(e){e.type=new r.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")}(t.DidChangeWorkspaceFoldersNotification||(t.DidChangeWorkspaceFoldersNotification={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationRequest=void 0;const r=n(15);!function(e){e.type=new r.ProtocolRequestType("workspace/configuration")}(t.ConfigurationRequest||(t.ConfigurationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorPresentationRequest=t.DocumentColorRequest=void 0;const r=n(15);!function(e){e.method="textDocument/documentColor",e.type=new r.ProtocolRequestType(e.method)}(t.DocumentColorRequest||(t.DocumentColorRequest={})),function(e){e.type=new r.ProtocolRequestType("textDocument/colorPresentation")}(t.ColorPresentationRequest||(t.ColorPresentationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FoldingRangeRequest=t.FoldingRangeKind=void 0;const r=n(15);!function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(t.FoldingRangeKind||(t.FoldingRangeKind={})),function(e){e.method="textDocument/foldingRange",e.type=new r.ProtocolRequestType(e.method)}(t.FoldingRangeRequest||(t.FoldingRangeRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeclarationRequest=void 0;const r=n(15);!function(e){e.method="textDocument/declaration",e.type=new r.ProtocolRequestType(e.method)}(t.DeclarationRequest||(t.DeclarationRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRangeRequest=void 0;const r=n(15);!function(e){e.method="textDocument/selectionRange",e.type=new r.ProtocolRequestType(e.method)}(t.SelectionRangeRequest||(t.SelectionRangeRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=void 0;const r=n(51),i=n(15);!function(e){e.type=new r.ProgressType,e.is=function(t){return t===e.type}}(t.WorkDoneProgress||(t.WorkDoneProgress={})),function(e){e.type=new i.ProtocolRequestType("window/workDoneProgress/create")}(t.WorkDoneProgressCreateRequest||(t.WorkDoneProgressCreateRequest={})),function(e){e.type=new i.ProtocolNotificationType("window/workDoneProgress/cancel")}(t.WorkDoneProgressCancelNotification||(t.WorkDoneProgressCancelNotification={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.CallHierarchyPrepareRequest=void 0;const r=n(15);!function(e){e.method="textDocument/prepareCallHierarchy",e.type=new r.ProtocolRequestType(e.method)}(t.CallHierarchyPrepareRequest||(t.CallHierarchyPrepareRequest={})),function(e){e.method="callHierarchy/incomingCalls",e.type=new r.ProtocolRequestType(e.method)}(t.CallHierarchyIncomingCallsRequest||(t.CallHierarchyIncomingCallsRequest={})),function(e){e.method="callHierarchy/outgoingCalls",e.type=new r.ProtocolRequestType(e.method)}(t.CallHierarchyOutgoingCallsRequest||(t.CallHierarchyOutgoingCallsRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.SemanticTokensRegistrationType=t.TokenFormat=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=void 0;const r=n(15);!function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator"}(t.SemanticTokenTypes||(t.SemanticTokenTypes={})),function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"}(t.SemanticTokenModifiers||(t.SemanticTokenModifiers={})),function(e){e.is=function(e){const t=e;return void 0!==t&&(void 0===t.resultId||"string"==typeof t.resultId)&&Array.isArray(t.data)&&(0===t.data.length||"number"==typeof t.data[0])}}(t.SemanticTokens||(t.SemanticTokens={})),function(e){e.Relative="relative"}(t.TokenFormat||(t.TokenFormat={})),function(e){e.method="textDocument/semanticTokens",e.type=new r.RegistrationType(e.method)}(t.SemanticTokensRegistrationType||(t.SemanticTokensRegistrationType={})),function(e){e.method="textDocument/semanticTokens/full",e.type=new r.ProtocolRequestType(e.method)}(t.SemanticTokensRequest||(t.SemanticTokensRequest={})),function(e){e.method="textDocument/semanticTokens/full/delta",e.type=new r.ProtocolRequestType(e.method)}(t.SemanticTokensDeltaRequest||(t.SemanticTokensDeltaRequest={})),function(e){e.method="textDocument/semanticTokens/range",e.type=new r.ProtocolRequestType(e.method)}(t.SemanticTokensRangeRequest||(t.SemanticTokensRangeRequest={})),function(e){e.method="workspace/semanticTokens/refresh",e.type=new r.ProtocolRequestType0(e.method)}(t.SemanticTokensRefreshRequest||(t.SemanticTokensRefreshRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowDocumentRequest=void 0;const r=n(15);!function(e){e.method="window/showDocument",e.type=new r.ProtocolRequestType(e.method)}(t.ShowDocumentRequest||(t.ShowDocumentRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedEditingRangeRequest=void 0;const r=n(15);!function(e){e.method="textDocument/linkedEditingRange",e.type=new r.ProtocolRequestType(e.method)}(t.LinkedEditingRangeRequest||(t.LinkedEditingRangeRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.DidRenameFilesNotification=t.WillRenameFilesRequest=t.DidCreateFilesNotification=t.WillCreateFilesRequest=t.FileOperationPatternKind=void 0;const r=n(15);!function(e){e.file="file",e.folder="folder"}(t.FileOperationPatternKind||(t.FileOperationPatternKind={})),function(e){e.method="workspace/willCreateFiles",e.type=new r.ProtocolRequestType(e.method)}(t.WillCreateFilesRequest||(t.WillCreateFilesRequest={})),function(e){e.method="workspace/didCreateFiles",e.type=new r.ProtocolNotificationType(e.method)}(t.DidCreateFilesNotification||(t.DidCreateFilesNotification={})),function(e){e.method="workspace/willRenameFiles",e.type=new r.ProtocolRequestType(e.method)}(t.WillRenameFilesRequest||(t.WillRenameFilesRequest={})),function(e){e.method="workspace/didRenameFiles",e.type=new r.ProtocolNotificationType(e.method)}(t.DidRenameFilesNotification||(t.DidRenameFilesNotification={})),function(e){e.method="workspace/didDeleteFiles",e.type=new r.ProtocolNotificationType(e.method)}(t.DidDeleteFilesNotification||(t.DidDeleteFilesNotification={})),function(e){e.method="workspace/willDeleteFiles",e.type=new r.ProtocolRequestType(e.method)}(t.WillDeleteFilesRequest||(t.WillDeleteFilesRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=void 0;const r=n(15);!function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"}(t.UniquenessLevel||(t.UniquenessLevel={})),function(e){e.import="import",e.export="export",e.local="local"}(t.MonikerKind||(t.MonikerKind={})),function(e){e.method="textDocument/moniker",e.type=new r.ProtocolRequestType(e.method)}(t.MonikerRequest||(t.MonikerRequest={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const r=n(51);t.createProtocolConnection=function(e,t,n,i){return r.ConnectionStrategy.is(i)&&(i={connectionStrategy:i}),r.createMessageConnection(e,t,n,i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(50),i=n(150);t.ConfigurationFeature=e=>class extends e{getConfiguration(e){return e?i.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let t={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(r.ConfigurationRequest.type,t).then(t=>Array.isArray(e)?t:t[0])}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(50);t.WorkspaceFoldersFeature=e=>class extends e{initialize(e){let t=e.workspace;t&&t.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new r.Emitter,this.connection.onNotification(r.DidChangeWorkspaceFoldersNotification.type,e=>{this._onDidChangeWorkspaceFolders.fire(e.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(r.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(r.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),i=n(3),o=n(6),a=n(21);function s(){return"win32"===process.platform}function c(e,t,n,r){const o=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((s,c)=>{let u=process.env,l=Object.create(null);Object.keys(u).forEach(e=>l[e]=u[e]),t&&(l.NODE_PATH?l.NODE_PATH=t+i.delimiter+l.NODE_PATH:l.NODE_PATH=t,r&&r("NODE_PATH value is: "+l.NODE_PATH)),l.ELECTRON_RUN_AS_NODE="1";try{let t=a.fork("",[],{cwd:n,env:l,execArgv:["-e",o]});if(void 0===t.pid)return void c(new Error(`Starting process to resolve node module  ${e} failed`));t.on("error",e=>{c(e)}),t.on("message",n=>{"r"===n.c&&(t.send({c:"e"}),n.s?s(n.r):c(new Error("Failed to resolve module: "+e)))});let r={c:"rs",a:e};t.send(r)}catch(e){c(e)}})}function u(e){let t="npm",n={encoding:"utf8"};s()&&(t="npm.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let o=a.spawnSync(t,["config","get","prefix"],n).stdout;if(!o)return void(e&&e("'npm config get prefix' didn't return a value."));let c=o.trim();return e&&e("'npm config get prefix' value is: "+c),c.length>0?s()?i.join(c,"node_modules"):i.join(c,"lib","node_modules"):void 0}catch(e){return}finally{process.removeListener("SIGPIPE",r)}}var l;t.uriToFilePath=function(e){let t=r.parse(e);if("file:"!==t.protocol||!t.path)return;let n=t.path.split("/");for(var o=0,a=n.length;o<a;o++)n[o]=decodeURIComponent(n[o]);if("win32"===process.platform&&n.length>1){let e=n[0],t=n[1];0===e.length&&t.length>1&&":"===t[1]&&n.shift()}return i.normalize(n.join("/"))},t.resolve=c,t.resolveGlobalNodePath=u,t.resolveGlobalYarnPath=function(e){let t="yarn",n={encoding:"utf8"};s()&&(t="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let o=a.spawnSync(t,["global","dir","--json"],n),s=o.stdout;if(!s)return void(e&&(e("'yarn global dir' didn't return a value."),o.stderr&&e(o.stderr)));let c=s.trim().split(/\r?\n/);for(let e of c)try{let t=JSON.parse(e);if("log"===t.type)return i.join(t.data,"node_modules")}catch(e){}return}catch(e){return}finally{process.removeListener("SIGPIPE",r)}},function(t){let n=void 0;function r(){return void 0!==n||(n="win32"!==process.platform&&(!o.existsSync(e.toUpperCase())||!o.existsSync(e.toLowerCase()))),n}t.isCaseSensitive=r,t.isParent=function(e,t){return r()?0===i.normalize(t).indexOf(i.normalize(e)):0==i.normalize(t).toLowerCase().indexOf(i.normalize(e).toLowerCase())}}(l=t.FileSystem||(t.FileSystem={})),t.resolveModulePath=function(e,t,n,r){return n?(i.isAbsolute(n)||(n=i.join(e,n)),c(t,n,n,r).then(e=>l.isParent(n,e)?e:Promise.reject(new Error(`Failed to load ${t} from node path location.`))).then(void 0,n=>c(t,u(r),e,r))):c(t,u(r),e,r)}}).call(this,"/index.js")},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(152)),r(n(444))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==t.SENTINEL)return i(this.right);let e=this;for(;e.parent!==t.SENTINEL&&e.parent.left!==e;)e=e.parent;return e.parent===t.SENTINEL?t.SENTINEL:e.parent}prev(){if(this.left!==t.SENTINEL)return o(this.left);let e=this;for(;e.parent!==t.SENTINEL&&e.parent.right!==e;)e=e.parent;return e.parent===t.SENTINEL?t.SENTINEL:e.parent}detach(){this.parent=null,this.left=null,this.right=null}}function i(e){for(;e.left!==t.SENTINEL;)e=e.left;return e}function o(e){for(;e.right!==t.SENTINEL;)e=e.right;return e}function a(e){return e===t.SENTINEL?0:e.size_left+e.piece.length+a(e.right)}function s(e){return e===t.SENTINEL?0:e.lf_left+e.piece.lineFeedCnt+s(e.right)}function c(){t.SENTINEL.parent=t.SENTINEL}function u(e,n){let r=n.right;r.size_left+=n.size_left+(n.piece?n.piece.length:0),r.lf_left+=n.lf_left+(n.piece?n.piece.lineFeedCnt:0),n.right=r.left,r.left!==t.SENTINEL&&(r.left.parent=n),r.parent=n.parent,n.parent===t.SENTINEL?e.root=r:n.parent.left===n?n.parent.left=r:n.parent.right=r,r.left=n,n.parent=r}function l(e,n){let r=n.left;n.left=r.right,r.right!==t.SENTINEL&&(r.right.parent=n),r.parent=n.parent,n.size_left-=r.size_left+(r.piece?r.piece.length:0),n.lf_left-=r.lf_left+(r.piece?r.piece.lineFeedCnt:0),n.parent===t.SENTINEL?e.root=r:n===n.parent.right?n.parent.right=r:n.parent.left=r,r.right=n,n.parent=r}function f(e,n,r,i){for(;n!==e.root&&n!==t.SENTINEL;)n.parent.left===n&&(n.parent.size_left+=r,n.parent.lf_left+=i),n=n.parent}function h(e,t){let n=0,r=0;if(t!==e.root){if(0===n){for(;t!==e.root&&t===t.parent.right;)t=t.parent;if(t===e.root)return;n=a((t=t.parent).left)-t.size_left,r=s(t.left)-t.lf_left,t.size_left+=n,t.lf_left+=r}for(;t!==e.root&&(0!==n||0!==r);)t.parent.left===t&&(t.parent.size_left+=n,t.parent.lf_left+=r),t=t.parent}}t.TreeNode=r,t.SENTINEL=new r(null,0),t.SENTINEL.parent=t.SENTINEL,t.SENTINEL.left=t.SENTINEL,t.SENTINEL.right=t.SENTINEL,t.SENTINEL.color=0,t.leftest=i,t.righttest=o,t.calculateSize=a,t.calculateLF=s,t.resetSentinel=c,t.leftRotate=u,t.rightRotate=l,t.rbDelete=function(e,n){let r,o;if(n.left===t.SENTINEL?(o=n,r=o.right):n.right===t.SENTINEL?(o=n,r=o.left):(o=i(n.right),r=o.right),o===e.root)return e.root=r,r.color=0,n.detach(),c(),void(e.root.parent=t.SENTINEL);let p,d=1===o.color;if(o===o.parent.left?o.parent.left=r:o.parent.right=r,o===n?(r.parent=o.parent,h(e,r)):(o.parent===n?r.parent=o:r.parent=o.parent,h(e,r),o.left=n.left,o.right=n.right,o.parent=n.parent,o.color=n.color,n===e.root?e.root=o:n===n.parent.left?n.parent.left=o:n.parent.right=o,o.left!==t.SENTINEL&&(o.left.parent=o),o.right!==t.SENTINEL&&(o.right.parent=o),o.size_left=n.size_left,o.lf_left=n.lf_left,h(e,o)),n.detach(),r.parent.left===r){let t=a(r),n=s(r);if(t!==r.parent.size_left||n!==r.parent.lf_left){let i=t-r.parent.size_left,o=n-r.parent.lf_left;r.parent.size_left=t,r.parent.lf_left=n,f(e,r.parent,i,o)}}if(h(e,r.parent),d)c();else{for(;r!==e.root&&0===r.color;)r===r.parent.left?(p=r.parent.right,1===p.color&&(p.color=0,r.parent.color=1,u(e,r.parent),p=r.parent.right),0===p.left.color&&0===p.right.color?(p.color=1,r=r.parent):(0===p.right.color&&(p.left.color=0,p.color=1,l(e,p),p=r.parent.right),p.color=r.parent.color,r.parent.color=0,p.right.color=0,u(e,r.parent),r=e.root)):(p=r.parent.left,1===p.color&&(p.color=0,r.parent.color=1,l(e,r.parent),p=r.parent.left),0===p.left.color&&0===p.right.color?(p.color=1,r=r.parent):(0===p.left.color&&(p.right.color=0,p.color=1,u(e,p),p=r.parent.left),p.color=r.parent.color,r.parent.color=0,p.left.color=0,l(e,r.parent),r=e.root));r.color=0,c()}},t.fixInsert=function(e,t){for(h(e,t);t!==e.root&&1===t.parent.color;)if(t.parent===t.parent.parent.left){const n=t.parent.parent.right;1===n.color?(t.parent.color=0,n.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.right&&u(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,l(e,t.parent.parent))}else{const n=t.parent.parent.left;1===n.color?(t.parent.color=0,n.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.left&&l(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,u(e,t.parent.parent))}e.root.color=0},t.updateTreeMetadata=f,t.recomputeTreeMetadata=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(152);function i(e){return!!(e&&e.length>0&&65279===e.charCodeAt(0))}t.UTF8_BOM_CHARACTER=String.fromCharCode(65279),t.startsWithUTF8BOM=i;class o{constructor(e,t,n,r,i,o){this._chunks=e,this._bom=t,this._cr=n,this._lf=r,this._crlf=i,this._normalizeEOL=o}_getEOL(e){const t=this._cr+this._lf+this._crlf,n=this._cr+this._crlf;return 0===t?1===e?"\n":"\r\n":n>t/2?"\r\n":"\n"}create(e){const t=this._getEOL(e);let n=this._chunks;if(this._normalizeEOL&&("\r\n"===t&&(this._cr>0||this._lf>0)||"\n"===t&&(this._cr>0||this._crlf>0)))for(let e=0,i=n.length;e<i;e++){let i=n[e].buffer.replace(/\r\n|\r|\n/g,t),o=r.createLineStartsFast(i);n[e]=new r.StringBuffer(i,o)}return new r.PieceTreeBase(n,t,this._normalizeEOL)}getFirstLineText(e){return this._chunks[0].buffer.substr(0,100).split(/\r\n|\r|\n/)[0]}}t.PieceTreeTextBufferFactory=o;t.PieceTreeTextBufferBuilder=class{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0}acceptChunk(e){if(0===e.length)return;0===this.chunks.length&&i(e)&&(this.BOM=t.UTF8_BOM_CHARACTER,e=e.substr(1));const n=e.charCodeAt(e.length-1);13===n||n>=55296&&n<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=n):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=n)}_acceptChunk1(e,t){(t||0!==e.length)&&(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){const t=r.createLineStarts(this._tmpLineStarts,e);this.chunks.push(new r.StringBuffer(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf}finish(e=!0){return this._finish(),new o(this.chunks,this.BOM,this.cr,this.lf,this.crlf,e)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);let t=r.createLineStartsFast(e.buffer);e.lineStarts=t,13===this._previousChar&&this.cr++}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(153);class i{constructor(e,t,n,r){e>n||e===n&&t>r?(this.startLineNumber=n,this.startColumn=r,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=n,this.endColumn=r)}isEmpty(){return i.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return i.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber)&&(!(t.lineNumber===e.startLineNumber&&t.column<e.startColumn)&&!(t.lineNumber===e.endLineNumber&&t.column>e.endColumn))}containsRange(e){return i.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)))}plusRange(e){return i.plusRange(this,e)}static plusRange(e,t){let n,r,o,a;return t.startLineNumber<e.startLineNumber?(n=t.startLineNumber,r=t.startColumn):t.startLineNumber===e.startLineNumber?(n=t.startLineNumber,r=Math.min(t.startColumn,e.startColumn)):(n=e.startLineNumber,r=e.startColumn),t.endLineNumber>e.endLineNumber?(o=t.endLineNumber,a=t.endColumn):t.endLineNumber===e.endLineNumber?(o=t.endLineNumber,a=Math.max(t.endColumn,e.endColumn)):(o=e.endLineNumber,a=e.endColumn),new i(n,r,o,a)}intersectRanges(e){return i.intersectRanges(this,e)}static intersectRanges(e,t){let n=e.startLineNumber,r=e.startColumn,o=e.endLineNumber,a=e.endColumn,s=t.startLineNumber,c=t.startColumn,u=t.endLineNumber,l=t.endColumn;return n<s?(n=s,r=c):n===s&&(r=Math.max(r,c)),o>u?(o=u,a=l):o===u&&(a=Math.min(a,l)),n>o||n===o&&r>a?null:new i(n,r,o,a)}equalsRange(e){return i.equalsRange(this,e)}static equalsRange(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return new r.Position(this.endLineNumber,this.endColumn)}getStartPosition(){return new r.Position(this.startLineNumber,this.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new i(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new i(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return i.collapseToStart(this)}static collapseToStart(e){return new i(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}static fromPositions(e,t=e){return new i(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new i(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&"number"==typeof e.startLineNumber&&"number"==typeof e.startColumn&&"number"==typeof e.endLineNumber&&"number"==typeof e.endColumn}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){const n=0|e.startLineNumber,r=0|t.startLineNumber;if(n===r){const n=0|e.startColumn,r=0|t.startColumn;if(n===r){const n=0|e.endLineNumber,r=0|t.endLineNumber;if(n===r){return(0|e.endColumn)-(0|t.endColumn)}return n-r}return n-r}return n-r}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}}t.Range=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(50),i=n(151);class o{constructor(e,t){this._connection=e,this._token=t,o.Instances.set(this._token,this),this._source=new r.CancellationTokenSource}get token(){return this._source.token}begin(e,t,n,i){let o={kind:"begin",title:e,percentage:t,message:n,cancellable:i};this._connection.sendProgress(r.Proposed.WorkDoneProgress.type,this._token,o)}report(e,t){let n={kind:"report"};"number"==typeof e?(n.percentage=e,void 0!==t&&(n.message=t)):n.message=e,this._connection.sendProgress(r.Proposed.WorkDoneProgress.type,this._token,n)}done(){o.Instances.delete(this._token),this._source.dispose(),this._connection.sendProgress(r.Proposed.WorkDoneProgress.type,this._token,{kind:"done"})}cancel(){this._source.cancel()}}o.Instances=new Map;class a{constructor(){this._source=new r.CancellationTokenSource}get token(){return this._source.token}begin(){}report(){}done(){}}var s;t.attachWorkDone=function(e,t){if(void 0===t||void 0===t.workDoneToken)return new a;const n=t.workDoneToken;return delete t.workDoneToken,new o(e,n)},t.ProgressFeature=e=>class extends e{initialize(e){const t=e;t.window&&t.window.workDoneProgress&&(this._progressSupported=!0,this.connection.onNotification(r.Proposed.WorkDoneProgressCancelNotification.type,e=>{let t=o.Instances.get(e.token);void 0!==t&&t.cancel()}))}attachWorkDoneProgress(e){return void 0===e?new a:new o(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){const e=i.generateUuid();return this.connection.sendRequest(r.Proposed.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new o(this.connection,e))}return Promise.resolve(new a)}},function(e){e.type=new r.ProgressType}(s||(s={}));class c{constructor(e,t){this._connection=e,this._token=t}report(e){this._connection.sendProgress(s.type,this._token,e)}}t.attachPartialResult=function(e,t){if(void 0===t||void 0===t.partialResultToken)return;const n=t.partialResultToken;return delete t.partialResultToken,new c(e,n)}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DependencyCollector=void 0;const i=n(38),o=n(154),a=n(85),s=n(21),c=n(3),u=n(10);function l(e){return/(?<=^v?|\sv?)(?:0|[1-9]\d*)\.(?:0|[1-9]\d*)\.(?:0|[1-9]\d*)(?:-(?:0|[1-9]\d*|[\da-z-]*[a-z-][\da-z-]*)(?:\.(?:0|[1-9]\d*|[\da-z-]*[a-z-][\da-z-]*))*)?(?:\+[\da-z-]+(?:\.[\da-z-]+)*)?(?=$|\s)/gi.exec(e)}class f{constructor(e,t){this.dependencies=f.parseDependencies(e,t)}static getReplaceMap(e,t){const n=e.replace("replace","").replace("(","").replace(")","").trim().split("=>"),r=l(n[1]);if(r&&r.length>0){const o=(n[0]||"").trim().split(" "),a=l(o[1]),s=(n[1]||"").trim().split(" "),c=e.lastIndexOf(n[1]),u=new i.KeyValueEntry(s[0].trim(),{line:0,column:0});u.value=new i.Variant(i.ValueType.String,"v"+r[0]),u.value_position={line:t+1,column:c+r.index};const f=new i.Dependency(u),h=a&&a.length>0;return{key:o[0].trim()+(h?"@v"+a[0]:""),value:f}}return null}static applyReplaceMap(e,t){let n=t.get(e.name.value+"@"+e.version.value);return void 0===n&&(n=t.get(e.name.value),void 0===n)?e:n}static parseDependencies(e,t){let n=new Map,r=e.split("\n").reduce((e,t,r)=>{if(t.includes("//")&&(t=t.split("//")[0]),t.includes("=>")){let e=f.getReplaceMap(t,r);e&&n.set(e.key,e.value)}else{const n=l(t);if(n&&n.length>0){const o=(t.replace("require","").replace("(","").replace(")","").trim().split(" ")[0]||"").trim();if(o.length>0){const t=new i.KeyValueEntry(o,{line:0,column:0});t.value=new i.Variant(i.ValueType.String,"v"+n[0]),t.value_position={line:r+1,column:n.index},e.push(new i.Dependency(t))}}}return e},[]),o=[];return t.forEach(e=>{let t=null,a=null;if(r.forEach(n=>{e==n.name.value?t=n:e.startsWith(n.name.value+"/")&&(null==a||a.name.value.length<n.name.value.length)&&(a=n)}),null==t&&null!=a){let t=f.applyReplaceMap(a,n);t!==a&&(e=e.replace(a.name.value,t.name.value));const r=new i.KeyValueEntry(e+"@"+t.name.value,t.name.position);r.value=new i.Variant(i.ValueType.String,t.version.value),r.value_position=t.version.position,o.push(new i.Dependency(r))}}),r=r.map(e=>f.applyReplaceMap(e,n)),[...r,...o]}parse(){return this.dependencies}}t.DependencyCollector=class{constructor(e,t=["dependencies"]){this.manifestFile=e,this.classes=t,this.manifestFile=e}collect(e){return r(this,void 0,void 0,(function*(){let t=new Promise((e,t)=>{const n=u.fileURLToPath(c.dirname(this.manifestFile)),r=o.getGoLangImportsCmd();console.info(`Root path : '${n}' Cmd : '${r}'`),s.exec(r,{windowsHide:!0,cwd:n,maxBuffer:1228800},(i,o,s)=>{i?(console.error(`Command error [${i}], PATH: [${process.env.PATH}] CWD: [${n}] CMD: [${r}]`),127==i.code?t(`Unable to locate '${a.config.golang_executable}'`):t(`Unable to execute '${a.config.golang_executable} list' command, run '${a.config.golang_executable} mod tidy' to know more`)):e(new Set(o.toString().replace("[","").replace("]","").split(" ")))})});const n=yield t;return new f(e,n).parse()}))}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DependencyCollector=void 0;const o=i(n(449)),a=n(38);t.DependencyCollector=class{constructor(e=["dependencies"]){this.classes=e}collect(e){return r(this,void 0,void 0,(function*(){let t;try{t=o.default(e||"{}")}catch(e){if("SyntaxError"===e.name)return[];throw e}return t.children.filter(e=>this.classes.includes(e.key.value)).flatMap(e=>e.value.children).map(e=>{let t=new a.KeyValueEntry(e.key.value,{line:e.key.loc.start.line,column:e.key.loc.start.column+1});return t.value=new a.Variant(a.ValueType.String,e.value.value),t.value_position={line:e.value.loc.start.line,column:e.value.loc.start.column+1},new a.Dependency(t)})}))}}},function(e,t,n){var r;r=function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var t=new(e((function(e){e.exports&&(e.exports=function(){var e=3,t=4,n=12,r=13,i=16,o=17;function a(e,t){void 0===t&&(t=0);var n=e.charCodeAt(t);if(55296<=n&&n<=56319&&t<e.length-1){var r=n;return 56320<=(i=e.charCodeAt(t+1))&&i<=57343?1024*(r-55296)+(i-56320)+65536:r}if(56320<=n&&n<=57343&&t>=1){var i=n;return 55296<=(r=e.charCodeAt(t-1))&&r<=56319?1024*(r-55296)+(i-56320)+65536:i}return n}function s(a,s,c){var u=[a].concat(s).concat([c]),l=u[u.length-2],f=c,h=u.lastIndexOf(14);if(h>1&&u.slice(1,h).every((function(t){return t==e}))&&-1==[e,r,o].indexOf(a))return 2;var p=u.lastIndexOf(t);if(p>0&&u.slice(1,p).every((function(e){return e==t}))&&-1==[n,t].indexOf(l))return u.filter((function(e){return e==t})).length%2==1?3:4;if(0==l&&1==f)return 0;if(2==l||0==l||1==l)return 14==f&&s.every((function(t){return t==e}))?2:1;if(2==f||0==f||1==f)return 1;if(6==l&&(6==f||7==f||9==f||10==f))return 0;if(!(9!=l&&7!=l||7!=f&&8!=f))return 0;if((10==l||8==l)&&8==f)return 0;if(f==e||15==f)return 0;if(5==f)return 0;if(l==n)return 0;var d=-1!=u.indexOf(e)?u.lastIndexOf(e)-1:u.length-2;return-1!=[r,o].indexOf(u[d])&&u.slice(d+1,-1).every((function(t){return t==e}))&&14==f||15==l&&-1!=[i,o].indexOf(f)?0:-1!=s.indexOf(t)?2:l==t&&f==t?0:1}function c(a){return 1536<=a&&a<=1541||1757==a||1807==a||2274==a||3406==a||69821==a||70082<=a&&a<=70083||72250==a||72326<=a&&a<=72329||73030==a?n:13==a?0:10==a?1:0<=a&&a<=9||11<=a&&a<=12||14<=a&&a<=31||127<=a&&a<=159||173==a||1564==a||6158==a||8203==a||8206<=a&&a<=8207||8232==a||8233==a||8234<=a&&a<=8238||8288<=a&&a<=8292||8293==a||8294<=a&&a<=8303||55296<=a&&a<=57343||65279==a||65520<=a&&a<=65528||65529<=a&&a<=65531||113824<=a&&a<=113827||119155<=a&&a<=119162||917504==a||917505==a||917506<=a&&a<=917535||917632<=a&&a<=917759||918e3<=a&&a<=921599?2:768<=a&&a<=879||1155<=a&&a<=1159||1160<=a&&a<=1161||1425<=a&&a<=1469||1471==a||1473<=a&&a<=1474||1476<=a&&a<=1477||1479==a||1552<=a&&a<=1562||1611<=a&&a<=1631||1648==a||1750<=a&&a<=1756||1759<=a&&a<=1764||1767<=a&&a<=1768||1770<=a&&a<=1773||1809==a||1840<=a&&a<=1866||1958<=a&&a<=1968||2027<=a&&a<=2035||2070<=a&&a<=2073||2075<=a&&a<=2083||2085<=a&&a<=2087||2089<=a&&a<=2093||2137<=a&&a<=2139||2260<=a&&a<=2273||2275<=a&&a<=2306||2362==a||2364==a||2369<=a&&a<=2376||2381==a||2385<=a&&a<=2391||2402<=a&&a<=2403||2433==a||2492==a||2494==a||2497<=a&&a<=2500||2509==a||2519==a||2530<=a&&a<=2531||2561<=a&&a<=2562||2620==a||2625<=a&&a<=2626||2631<=a&&a<=2632||2635<=a&&a<=2637||2641==a||2672<=a&&a<=2673||2677==a||2689<=a&&a<=2690||2748==a||2753<=a&&a<=2757||2759<=a&&a<=2760||2765==a||2786<=a&&a<=2787||2810<=a&&a<=2815||2817==a||2876==a||2878==a||2879==a||2881<=a&&a<=2884||2893==a||2902==a||2903==a||2914<=a&&a<=2915||2946==a||3006==a||3008==a||3021==a||3031==a||3072==a||3134<=a&&a<=3136||3142<=a&&a<=3144||3146<=a&&a<=3149||3157<=a&&a<=3158||3170<=a&&a<=3171||3201==a||3260==a||3263==a||3266==a||3270==a||3276<=a&&a<=3277||3285<=a&&a<=3286||3298<=a&&a<=3299||3328<=a&&a<=3329||3387<=a&&a<=3388||3390==a||3393<=a&&a<=3396||3405==a||3415==a||3426<=a&&a<=3427||3530==a||3535==a||3538<=a&&a<=3540||3542==a||3551==a||3633==a||3636<=a&&a<=3642||3655<=a&&a<=3662||3761==a||3764<=a&&a<=3769||3771<=a&&a<=3772||3784<=a&&a<=3789||3864<=a&&a<=3865||3893==a||3895==a||3897==a||3953<=a&&a<=3966||3968<=a&&a<=3972||3974<=a&&a<=3975||3981<=a&&a<=3991||3993<=a&&a<=4028||4038==a||4141<=a&&a<=4144||4146<=a&&a<=4151||4153<=a&&a<=4154||4157<=a&&a<=4158||4184<=a&&a<=4185||4190<=a&&a<=4192||4209<=a&&a<=4212||4226==a||4229<=a&&a<=4230||4237==a||4253==a||4957<=a&&a<=4959||5906<=a&&a<=5908||5938<=a&&a<=5940||5970<=a&&a<=5971||6002<=a&&a<=6003||6068<=a&&a<=6069||6071<=a&&a<=6077||6086==a||6089<=a&&a<=6099||6109==a||6155<=a&&a<=6157||6277<=a&&a<=6278||6313==a||6432<=a&&a<=6434||6439<=a&&a<=6440||6450==a||6457<=a&&a<=6459||6679<=a&&a<=6680||6683==a||6742==a||6744<=a&&a<=6750||6752==a||6754==a||6757<=a&&a<=6764||6771<=a&&a<=6780||6783==a||6832<=a&&a<=6845||6846==a||6912<=a&&a<=6915||6964==a||6966<=a&&a<=6970||6972==a||6978==a||7019<=a&&a<=7027||7040<=a&&a<=7041||7074<=a&&a<=7077||7080<=a&&a<=7081||7083<=a&&a<=7085||7142==a||7144<=a&&a<=7145||7149==a||7151<=a&&a<=7153||7212<=a&&a<=7219||7222<=a&&a<=7223||7376<=a&&a<=7378||7380<=a&&a<=7392||7394<=a&&a<=7400||7405==a||7412==a||7416<=a&&a<=7417||7616<=a&&a<=7673||7675<=a&&a<=7679||8204==a||8400<=a&&a<=8412||8413<=a&&a<=8416||8417==a||8418<=a&&a<=8420||8421<=a&&a<=8432||11503<=a&&a<=11505||11647==a||11744<=a&&a<=11775||12330<=a&&a<=12333||12334<=a&&a<=12335||12441<=a&&a<=12442||42607==a||42608<=a&&a<=42610||42612<=a&&a<=42621||42654<=a&&a<=42655||42736<=a&&a<=42737||43010==a||43014==a||43019==a||43045<=a&&a<=43046||43204<=a&&a<=43205||43232<=a&&a<=43249||43302<=a&&a<=43309||43335<=a&&a<=43345||43392<=a&&a<=43394||43443==a||43446<=a&&a<=43449||43452==a||43493==a||43561<=a&&a<=43566||43569<=a&&a<=43570||43573<=a&&a<=43574||43587==a||43596==a||43644==a||43696==a||43698<=a&&a<=43700||43703<=a&&a<=43704||43710<=a&&a<=43711||43713==a||43756<=a&&a<=43757||43766==a||44005==a||44008==a||44013==a||64286==a||65024<=a&&a<=65039||65056<=a&&a<=65071||65438<=a&&a<=65439||66045==a||66272==a||66422<=a&&a<=66426||68097<=a&&a<=68099||68101<=a&&a<=68102||68108<=a&&a<=68111||68152<=a&&a<=68154||68159==a||68325<=a&&a<=68326||69633==a||69688<=a&&a<=69702||69759<=a&&a<=69761||69811<=a&&a<=69814||69817<=a&&a<=69818||69888<=a&&a<=69890||69927<=a&&a<=69931||69933<=a&&a<=69940||70003==a||70016<=a&&a<=70017||70070<=a&&a<=70078||70090<=a&&a<=70092||70191<=a&&a<=70193||70196==a||70198<=a&&a<=70199||70206==a||70367==a||70371<=a&&a<=70378||70400<=a&&a<=70401||70460==a||70462==a||70464==a||70487==a||70502<=a&&a<=70508||70512<=a&&a<=70516||70712<=a&&a<=70719||70722<=a&&a<=70724||70726==a||70832==a||70835<=a&&a<=70840||70842==a||70845==a||70847<=a&&a<=70848||70850<=a&&a<=70851||71087==a||71090<=a&&a<=71093||71100<=a&&a<=71101||71103<=a&&a<=71104||71132<=a&&a<=71133||71219<=a&&a<=71226||71229==a||71231<=a&&a<=71232||71339==a||71341==a||71344<=a&&a<=71349||71351==a||71453<=a&&a<=71455||71458<=a&&a<=71461||71463<=a&&a<=71467||72193<=a&&a<=72198||72201<=a&&a<=72202||72243<=a&&a<=72248||72251<=a&&a<=72254||72263==a||72273<=a&&a<=72278||72281<=a&&a<=72283||72330<=a&&a<=72342||72344<=a&&a<=72345||72752<=a&&a<=72758||72760<=a&&a<=72765||72767==a||72850<=a&&a<=72871||72874<=a&&a<=72880||72882<=a&&a<=72883||72885<=a&&a<=72886||73009<=a&&a<=73014||73018==a||73020<=a&&a<=73021||73023<=a&&a<=73029||73031==a||92912<=a&&a<=92916||92976<=a&&a<=92982||94095<=a&&a<=94098||113821<=a&&a<=113822||119141==a||119143<=a&&a<=119145||119150<=a&&a<=119154||119163<=a&&a<=119170||119173<=a&&a<=119179||119210<=a&&a<=119213||119362<=a&&a<=119364||121344<=a&&a<=121398||121403<=a&&a<=121452||121461==a||121476==a||121499<=a&&a<=121503||121505<=a&&a<=121519||122880<=a&&a<=122886||122888<=a&&a<=122904||122907<=a&&a<=122913||122915<=a&&a<=122916||122918<=a&&a<=122922||125136<=a&&a<=125142||125252<=a&&a<=125258||917536<=a&&a<=917631||917760<=a&&a<=917999?e:127462<=a&&a<=127487?t:2307==a||2363==a||2366<=a&&a<=2368||2377<=a&&a<=2380||2382<=a&&a<=2383||2434<=a&&a<=2435||2495<=a&&a<=2496||2503<=a&&a<=2504||2507<=a&&a<=2508||2563==a||2622<=a&&a<=2624||2691==a||2750<=a&&a<=2752||2761==a||2763<=a&&a<=2764||2818<=a&&a<=2819||2880==a||2887<=a&&a<=2888||2891<=a&&a<=2892||3007==a||3009<=a&&a<=3010||3014<=a&&a<=3016||3018<=a&&a<=3020||3073<=a&&a<=3075||3137<=a&&a<=3140||3202<=a&&a<=3203||3262==a||3264<=a&&a<=3265||3267<=a&&a<=3268||3271<=a&&a<=3272||3274<=a&&a<=3275||3330<=a&&a<=3331||3391<=a&&a<=3392||3398<=a&&a<=3400||3402<=a&&a<=3404||3458<=a&&a<=3459||3536<=a&&a<=3537||3544<=a&&a<=3550||3570<=a&&a<=3571||3635==a||3763==a||3902<=a&&a<=3903||3967==a||4145==a||4155<=a&&a<=4156||4182<=a&&a<=4183||4228==a||6070==a||6078<=a&&a<=6085||6087<=a&&a<=6088||6435<=a&&a<=6438||6441<=a&&a<=6443||6448<=a&&a<=6449||6451<=a&&a<=6456||6681<=a&&a<=6682||6741==a||6743==a||6765<=a&&a<=6770||6916==a||6965==a||6971==a||6973<=a&&a<=6977||6979<=a&&a<=6980||7042==a||7073==a||7078<=a&&a<=7079||7082==a||7143==a||7146<=a&&a<=7148||7150==a||7154<=a&&a<=7155||7204<=a&&a<=7211||7220<=a&&a<=7221||7393==a||7410<=a&&a<=7411||7415==a||43043<=a&&a<=43044||43047==a||43136<=a&&a<=43137||43188<=a&&a<=43203||43346<=a&&a<=43347||43395==a||43444<=a&&a<=43445||43450<=a&&a<=43451||43453<=a&&a<=43456||43567<=a&&a<=43568||43571<=a&&a<=43572||43597==a||43755==a||43758<=a&&a<=43759||43765==a||44003<=a&&a<=44004||44006<=a&&a<=44007||44009<=a&&a<=44010||44012==a||69632==a||69634==a||69762==a||69808<=a&&a<=69810||69815<=a&&a<=69816||69932==a||70018==a||70067<=a&&a<=70069||70079<=a&&a<=70080||70188<=a&&a<=70190||70194<=a&&a<=70195||70197==a||70368<=a&&a<=70370||70402<=a&&a<=70403||70463==a||70465<=a&&a<=70468||70471<=a&&a<=70472||70475<=a&&a<=70477||70498<=a&&a<=70499||70709<=a&&a<=70711||70720<=a&&a<=70721||70725==a||70833<=a&&a<=70834||70841==a||70843<=a&&a<=70844||70846==a||70849==a||71088<=a&&a<=71089||71096<=a&&a<=71099||71102==a||71216<=a&&a<=71218||71227<=a&&a<=71228||71230==a||71340==a||71342<=a&&a<=71343||71350==a||71456<=a&&a<=71457||71462==a||72199<=a&&a<=72200||72249==a||72279<=a&&a<=72280||72343==a||72751==a||72766==a||72873==a||72881==a||72884==a||94033<=a&&a<=94078||119142==a||119149==a?5:4352<=a&&a<=4447||43360<=a&&a<=43388?6:4448<=a&&a<=4519||55216<=a&&a<=55238?7:4520<=a&&a<=4607||55243<=a&&a<=55291?8:44032==a||44060==a||44088==a||44116==a||44144==a||44172==a||44200==a||44228==a||44256==a||44284==a||44312==a||44340==a||44368==a||44396==a||44424==a||44452==a||44480==a||44508==a||44536==a||44564==a||44592==a||44620==a||44648==a||44676==a||44704==a||44732==a||44760==a||44788==a||44816==a||44844==a||44872==a||44900==a||44928==a||44956==a||44984==a||45012==a||45040==a||45068==a||45096==a||45124==a||45152==a||45180==a||45208==a||45236==a||45264==a||45292==a||45320==a||45348==a||45376==a||45404==a||45432==a||45460==a||45488==a||45516==a||45544==a||45572==a||45600==a||45628==a||45656==a||45684==a||45712==a||45740==a||45768==a||45796==a||45824==a||45852==a||45880==a||45908==a||45936==a||45964==a||45992==a||46020==a||46048==a||46076==a||46104==a||46132==a||46160==a||46188==a||46216==a||46244==a||46272==a||46300==a||46328==a||46356==a||46384==a||46412==a||46440==a||46468==a||46496==a||46524==a||46552==a||46580==a||46608==a||46636==a||46664==a||46692==a||46720==a||46748==a||46776==a||46804==a||46832==a||46860==a||46888==a||46916==a||46944==a||46972==a||47e3==a||47028==a||47056==a||47084==a||47112==a||47140==a||47168==a||47196==a||47224==a||47252==a||47280==a||47308==a||47336==a||47364==a||47392==a||47420==a||47448==a||47476==a||47504==a||47532==a||47560==a||47588==a||47616==a||47644==a||47672==a||47700==a||47728==a||47756==a||47784==a||47812==a||47840==a||47868==a||47896==a||47924==a||47952==a||47980==a||48008==a||48036==a||48064==a||48092==a||48120==a||48148==a||48176==a||48204==a||48232==a||48260==a||48288==a||48316==a||48344==a||48372==a||48400==a||48428==a||48456==a||48484==a||48512==a||48540==a||48568==a||48596==a||48624==a||48652==a||48680==a||48708==a||48736==a||48764==a||48792==a||48820==a||48848==a||48876==a||48904==a||48932==a||48960==a||48988==a||49016==a||49044==a||49072==a||49100==a||49128==a||49156==a||49184==a||49212==a||49240==a||49268==a||49296==a||49324==a||49352==a||49380==a||49408==a||49436==a||49464==a||49492==a||49520==a||49548==a||49576==a||49604==a||49632==a||49660==a||49688==a||49716==a||49744==a||49772==a||49800==a||49828==a||49856==a||49884==a||49912==a||49940==a||49968==a||49996==a||50024==a||50052==a||50080==a||50108==a||50136==a||50164==a||50192==a||50220==a||50248==a||50276==a||50304==a||50332==a||50360==a||50388==a||50416==a||50444==a||50472==a||50500==a||50528==a||50556==a||50584==a||50612==a||50640==a||50668==a||50696==a||50724==a||50752==a||50780==a||50808==a||50836==a||50864==a||50892==a||50920==a||50948==a||50976==a||51004==a||51032==a||51060==a||51088==a||51116==a||51144==a||51172==a||51200==a||51228==a||51256==a||51284==a||51312==a||51340==a||51368==a||51396==a||51424==a||51452==a||51480==a||51508==a||51536==a||51564==a||51592==a||51620==a||51648==a||51676==a||51704==a||51732==a||51760==a||51788==a||51816==a||51844==a||51872==a||51900==a||51928==a||51956==a||51984==a||52012==a||52040==a||52068==a||52096==a||52124==a||52152==a||52180==a||52208==a||52236==a||52264==a||52292==a||52320==a||52348==a||52376==a||52404==a||52432==a||52460==a||52488==a||52516==a||52544==a||52572==a||52600==a||52628==a||52656==a||52684==a||52712==a||52740==a||52768==a||52796==a||52824==a||52852==a||52880==a||52908==a||52936==a||52964==a||52992==a||53020==a||53048==a||53076==a||53104==a||53132==a||53160==a||53188==a||53216==a||53244==a||53272==a||53300==a||53328==a||53356==a||53384==a||53412==a||53440==a||53468==a||53496==a||53524==a||53552==a||53580==a||53608==a||53636==a||53664==a||53692==a||53720==a||53748==a||53776==a||53804==a||53832==a||53860==a||53888==a||53916==a||53944==a||53972==a||54e3==a||54028==a||54056==a||54084==a||54112==a||54140==a||54168==a||54196==a||54224==a||54252==a||54280==a||54308==a||54336==a||54364==a||54392==a||54420==a||54448==a||54476==a||54504==a||54532==a||54560==a||54588==a||54616==a||54644==a||54672==a||54700==a||54728==a||54756==a||54784==a||54812==a||54840==a||54868==a||54896==a||54924==a||54952==a||54980==a||55008==a||55036==a||55064==a||55092==a||55120==a||55148==a||55176==a?9:44033<=a&&a<=44059||44061<=a&&a<=44087||44089<=a&&a<=44115||44117<=a&&a<=44143||44145<=a&&a<=44171||44173<=a&&a<=44199||44201<=a&&a<=44227||44229<=a&&a<=44255||44257<=a&&a<=44283||44285<=a&&a<=44311||44313<=a&&a<=44339||44341<=a&&a<=44367||44369<=a&&a<=44395||44397<=a&&a<=44423||44425<=a&&a<=44451||44453<=a&&a<=44479||44481<=a&&a<=44507||44509<=a&&a<=44535||44537<=a&&a<=44563||44565<=a&&a<=44591||44593<=a&&a<=44619||44621<=a&&a<=44647||44649<=a&&a<=44675||44677<=a&&a<=44703||44705<=a&&a<=44731||44733<=a&&a<=44759||44761<=a&&a<=44787||44789<=a&&a<=44815||44817<=a&&a<=44843||44845<=a&&a<=44871||44873<=a&&a<=44899||44901<=a&&a<=44927||44929<=a&&a<=44955||44957<=a&&a<=44983||44985<=a&&a<=45011||45013<=a&&a<=45039||45041<=a&&a<=45067||45069<=a&&a<=45095||45097<=a&&a<=45123||45125<=a&&a<=45151||45153<=a&&a<=45179||45181<=a&&a<=45207||45209<=a&&a<=45235||45237<=a&&a<=45263||45265<=a&&a<=45291||45293<=a&&a<=45319||45321<=a&&a<=45347||45349<=a&&a<=45375||45377<=a&&a<=45403||45405<=a&&a<=45431||45433<=a&&a<=45459||45461<=a&&a<=45487||45489<=a&&a<=45515||45517<=a&&a<=45543||45545<=a&&a<=45571||45573<=a&&a<=45599||45601<=a&&a<=45627||45629<=a&&a<=45655||45657<=a&&a<=45683||45685<=a&&a<=45711||45713<=a&&a<=45739||45741<=a&&a<=45767||45769<=a&&a<=45795||45797<=a&&a<=45823||45825<=a&&a<=45851||45853<=a&&a<=45879||45881<=a&&a<=45907||45909<=a&&a<=45935||45937<=a&&a<=45963||45965<=a&&a<=45991||45993<=a&&a<=46019||46021<=a&&a<=46047||46049<=a&&a<=46075||46077<=a&&a<=46103||46105<=a&&a<=46131||46133<=a&&a<=46159||46161<=a&&a<=46187||46189<=a&&a<=46215||46217<=a&&a<=46243||46245<=a&&a<=46271||46273<=a&&a<=46299||46301<=a&&a<=46327||46329<=a&&a<=46355||46357<=a&&a<=46383||46385<=a&&a<=46411||46413<=a&&a<=46439||46441<=a&&a<=46467||46469<=a&&a<=46495||46497<=a&&a<=46523||46525<=a&&a<=46551||46553<=a&&a<=46579||46581<=a&&a<=46607||46609<=a&&a<=46635||46637<=a&&a<=46663||46665<=a&&a<=46691||46693<=a&&a<=46719||46721<=a&&a<=46747||46749<=a&&a<=46775||46777<=a&&a<=46803||46805<=a&&a<=46831||46833<=a&&a<=46859||46861<=a&&a<=46887||46889<=a&&a<=46915||46917<=a&&a<=46943||46945<=a&&a<=46971||46973<=a&&a<=46999||47001<=a&&a<=47027||47029<=a&&a<=47055||47057<=a&&a<=47083||47085<=a&&a<=47111||47113<=a&&a<=47139||47141<=a&&a<=47167||47169<=a&&a<=47195||47197<=a&&a<=47223||47225<=a&&a<=47251||47253<=a&&a<=47279||47281<=a&&a<=47307||47309<=a&&a<=47335||47337<=a&&a<=47363||47365<=a&&a<=47391||47393<=a&&a<=47419||47421<=a&&a<=47447||47449<=a&&a<=47475||47477<=a&&a<=47503||47505<=a&&a<=47531||47533<=a&&a<=47559||47561<=a&&a<=47587||47589<=a&&a<=47615||47617<=a&&a<=47643||47645<=a&&a<=47671||47673<=a&&a<=47699||47701<=a&&a<=47727||47729<=a&&a<=47755||47757<=a&&a<=47783||47785<=a&&a<=47811||47813<=a&&a<=47839||47841<=a&&a<=47867||47869<=a&&a<=47895||47897<=a&&a<=47923||47925<=a&&a<=47951||47953<=a&&a<=47979||47981<=a&&a<=48007||48009<=a&&a<=48035||48037<=a&&a<=48063||48065<=a&&a<=48091||48093<=a&&a<=48119||48121<=a&&a<=48147||48149<=a&&a<=48175||48177<=a&&a<=48203||48205<=a&&a<=48231||48233<=a&&a<=48259||48261<=a&&a<=48287||48289<=a&&a<=48315||48317<=a&&a<=48343||48345<=a&&a<=48371||48373<=a&&a<=48399||48401<=a&&a<=48427||48429<=a&&a<=48455||48457<=a&&a<=48483||48485<=a&&a<=48511||48513<=a&&a<=48539||48541<=a&&a<=48567||48569<=a&&a<=48595||48597<=a&&a<=48623||48625<=a&&a<=48651||48653<=a&&a<=48679||48681<=a&&a<=48707||48709<=a&&a<=48735||48737<=a&&a<=48763||48765<=a&&a<=48791||48793<=a&&a<=48819||48821<=a&&a<=48847||48849<=a&&a<=48875||48877<=a&&a<=48903||48905<=a&&a<=48931||48933<=a&&a<=48959||48961<=a&&a<=48987||48989<=a&&a<=49015||49017<=a&&a<=49043||49045<=a&&a<=49071||49073<=a&&a<=49099||49101<=a&&a<=49127||49129<=a&&a<=49155||49157<=a&&a<=49183||49185<=a&&a<=49211||49213<=a&&a<=49239||49241<=a&&a<=49267||49269<=a&&a<=49295||49297<=a&&a<=49323||49325<=a&&a<=49351||49353<=a&&a<=49379||49381<=a&&a<=49407||49409<=a&&a<=49435||49437<=a&&a<=49463||49465<=a&&a<=49491||49493<=a&&a<=49519||49521<=a&&a<=49547||49549<=a&&a<=49575||49577<=a&&a<=49603||49605<=a&&a<=49631||49633<=a&&a<=49659||49661<=a&&a<=49687||49689<=a&&a<=49715||49717<=a&&a<=49743||49745<=a&&a<=49771||49773<=a&&a<=49799||49801<=a&&a<=49827||49829<=a&&a<=49855||49857<=a&&a<=49883||49885<=a&&a<=49911||49913<=a&&a<=49939||49941<=a&&a<=49967||49969<=a&&a<=49995||49997<=a&&a<=50023||50025<=a&&a<=50051||50053<=a&&a<=50079||50081<=a&&a<=50107||50109<=a&&a<=50135||50137<=a&&a<=50163||50165<=a&&a<=50191||50193<=a&&a<=50219||50221<=a&&a<=50247||50249<=a&&a<=50275||50277<=a&&a<=50303||50305<=a&&a<=50331||50333<=a&&a<=50359||50361<=a&&a<=50387||50389<=a&&a<=50415||50417<=a&&a<=50443||50445<=a&&a<=50471||50473<=a&&a<=50499||50501<=a&&a<=50527||50529<=a&&a<=50555||50557<=a&&a<=50583||50585<=a&&a<=50611||50613<=a&&a<=50639||50641<=a&&a<=50667||50669<=a&&a<=50695||50697<=a&&a<=50723||50725<=a&&a<=50751||50753<=a&&a<=50779||50781<=a&&a<=50807||50809<=a&&a<=50835||50837<=a&&a<=50863||50865<=a&&a<=50891||50893<=a&&a<=50919||50921<=a&&a<=50947||50949<=a&&a<=50975||50977<=a&&a<=51003||51005<=a&&a<=51031||51033<=a&&a<=51059||51061<=a&&a<=51087||51089<=a&&a<=51115||51117<=a&&a<=51143||51145<=a&&a<=51171||51173<=a&&a<=51199||51201<=a&&a<=51227||51229<=a&&a<=51255||51257<=a&&a<=51283||51285<=a&&a<=51311||51313<=a&&a<=51339||51341<=a&&a<=51367||51369<=a&&a<=51395||51397<=a&&a<=51423||51425<=a&&a<=51451||51453<=a&&a<=51479||51481<=a&&a<=51507||51509<=a&&a<=51535||51537<=a&&a<=51563||51565<=a&&a<=51591||51593<=a&&a<=51619||51621<=a&&a<=51647||51649<=a&&a<=51675||51677<=a&&a<=51703||51705<=a&&a<=51731||51733<=a&&a<=51759||51761<=a&&a<=51787||51789<=a&&a<=51815||51817<=a&&a<=51843||51845<=a&&a<=51871||51873<=a&&a<=51899||51901<=a&&a<=51927||51929<=a&&a<=51955||51957<=a&&a<=51983||51985<=a&&a<=52011||52013<=a&&a<=52039||52041<=a&&a<=52067||52069<=a&&a<=52095||52097<=a&&a<=52123||52125<=a&&a<=52151||52153<=a&&a<=52179||52181<=a&&a<=52207||52209<=a&&a<=52235||52237<=a&&a<=52263||52265<=a&&a<=52291||52293<=a&&a<=52319||52321<=a&&a<=52347||52349<=a&&a<=52375||52377<=a&&a<=52403||52405<=a&&a<=52431||52433<=a&&a<=52459||52461<=a&&a<=52487||52489<=a&&a<=52515||52517<=a&&a<=52543||52545<=a&&a<=52571||52573<=a&&a<=52599||52601<=a&&a<=52627||52629<=a&&a<=52655||52657<=a&&a<=52683||52685<=a&&a<=52711||52713<=a&&a<=52739||52741<=a&&a<=52767||52769<=a&&a<=52795||52797<=a&&a<=52823||52825<=a&&a<=52851||52853<=a&&a<=52879||52881<=a&&a<=52907||52909<=a&&a<=52935||52937<=a&&a<=52963||52965<=a&&a<=52991||52993<=a&&a<=53019||53021<=a&&a<=53047||53049<=a&&a<=53075||53077<=a&&a<=53103||53105<=a&&a<=53131||53133<=a&&a<=53159||53161<=a&&a<=53187||53189<=a&&a<=53215||53217<=a&&a<=53243||53245<=a&&a<=53271||53273<=a&&a<=53299||53301<=a&&a<=53327||53329<=a&&a<=53355||53357<=a&&a<=53383||53385<=a&&a<=53411||53413<=a&&a<=53439||53441<=a&&a<=53467||53469<=a&&a<=53495||53497<=a&&a<=53523||53525<=a&&a<=53551||53553<=a&&a<=53579||53581<=a&&a<=53607||53609<=a&&a<=53635||53637<=a&&a<=53663||53665<=a&&a<=53691||53693<=a&&a<=53719||53721<=a&&a<=53747||53749<=a&&a<=53775||53777<=a&&a<=53803||53805<=a&&a<=53831||53833<=a&&a<=53859||53861<=a&&a<=53887||53889<=a&&a<=53915||53917<=a&&a<=53943||53945<=a&&a<=53971||53973<=a&&a<=53999||54001<=a&&a<=54027||54029<=a&&a<=54055||54057<=a&&a<=54083||54085<=a&&a<=54111||54113<=a&&a<=54139||54141<=a&&a<=54167||54169<=a&&a<=54195||54197<=a&&a<=54223||54225<=a&&a<=54251||54253<=a&&a<=54279||54281<=a&&a<=54307||54309<=a&&a<=54335||54337<=a&&a<=54363||54365<=a&&a<=54391||54393<=a&&a<=54419||54421<=a&&a<=54447||54449<=a&&a<=54475||54477<=a&&a<=54503||54505<=a&&a<=54531||54533<=a&&a<=54559||54561<=a&&a<=54587||54589<=a&&a<=54615||54617<=a&&a<=54643||54645<=a&&a<=54671||54673<=a&&a<=54699||54701<=a&&a<=54727||54729<=a&&a<=54755||54757<=a&&a<=54783||54785<=a&&a<=54811||54813<=a&&a<=54839||54841<=a&&a<=54867||54869<=a&&a<=54895||54897<=a&&a<=54923||54925<=a&&a<=54951||54953<=a&&a<=54979||54981<=a&&a<=55007||55009<=a&&a<=55035||55037<=a&&a<=55063||55065<=a&&a<=55091||55093<=a&&a<=55119||55121<=a&&a<=55147||55149<=a&&a<=55175||55177<=a&&a<=55203?10:9757==a||9977==a||9994<=a&&a<=9997||127877==a||127938<=a&&a<=127940||127943==a||127946<=a&&a<=127948||128066<=a&&a<=128067||128070<=a&&a<=128080||128110==a||128112<=a&&a<=128120||128124==a||128129<=a&&a<=128131||128133<=a&&a<=128135||128170==a||128372<=a&&a<=128373||128378==a||128400==a||128405<=a&&a<=128406||128581<=a&&a<=128583||128587<=a&&a<=128591||128675==a||128692<=a&&a<=128694||128704==a||128716==a||129304<=a&&a<=129308||129310<=a&&a<=129311||129318==a||129328<=a&&a<=129337||129341<=a&&a<=129342||129489<=a&&a<=129501?r:127995<=a&&a<=127999?14:8205==a?15:9792==a||9794==a||9877<=a&&a<=9878||9992==a||10084==a||127752==a||127806==a||127859==a||127891==a||127908==a||127912==a||127979==a||127981==a||128139==a||128187<=a&&a<=128188||128295==a||128300==a||128488==a||128640==a||128658==a?i:128102<=a&&a<=128105?o:11}return this.nextBreak=function(e,t){if(void 0===t&&(t=0),t<0)return 0;if(t>=e.length-1)return e.length;for(var n,r,i=c(a(e,t)),o=[],u=t+1;u<e.length;u++)if(r=u-1,!(55296<=(n=e).charCodeAt(r)&&n.charCodeAt(r)<=56319&&56320<=n.charCodeAt(r+1)&&n.charCodeAt(r+1)<=57343)){var l=c(a(e,u));if(s(i,o,l))return u;o.push(l)}return e.length},this.splitGraphemes=function(e){for(var t,n=[],r=0;(t=this.nextBreak(e,r))<e.length;)n.push(e.slice(r,t)),r=t;return r<e.length&&n.push(e.slice(r)),n},this.iterateGraphemes=function(e){var t=0,n={next:function(){var n,r;return(r=this.nextBreak(e,t))<e.length?(n=e.slice(t,r),t=r,{value:n,done:!1}):t<e.length?(n=e.slice(t),t=e.length,{value:n,done:!1}):{value:void 0,done:!0}}.bind(this)};return"undefined"!=typeof Symbol&&Symbol.iterator&&(n[Symbol.iterator]=function(){return n}),n},this.countGraphemes=function(e){for(var t,n=0,r=0;(t=this.nextBreak(e,r))<e.length;)r=t,n++;return r<e.length&&n++,n},this})}))),n=function(e,n,r){for(var i=t.iterateGraphemes(e.substring(n)),o="",a=0;a<r-n;a++){var s=i.next();if(o+=s.value,s.done)break}return o},r=function(e,t,n,r,i,o,a){return{start:{line:e,column:t,offset:n},end:{line:r,column:i,offset:o},source:a||null}},i=e((function(e,t){e.exports=function(){var e,t="",n=function(n,r){if("string"!=typeof n)throw new TypeError("expected a string");if(1===r)return n;if(2===r)return n+n;var i=n.length*r;if(e!==n||void 0===e)e=n,t="";else if(t.length>=i)return t.substr(0,i);for(;i>t.length&&r>1;)1&r&&(t+=n),r>>=1,n+=n;return t=(t+=n).substr(0,i)},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function i(e,t,r,i){var o=function(e,t,n){if(null==e||null==t)return e;var r=String(e),i="number"==typeof t?t:parseInt(t,10);if(isNaN(i)||!isFinite(i))return r;var o=r.length;if(o>=i)return r;var a=null==n?"":String(n);""===a&&(a=" ");for(var s=i-o;a.length<s;)a+=a;return(a.length>s?a.substr(0,s):a)+r}(String(t),r," "),a=n(" ",i.tabSize);return o+" | "+e.replace(/\t/g,a)}function o(e,t,n,r,o){return e.slice(t,n).map((function(e,n){return i(e,t+n+1,r,o)})).join("\n")}var a={extraLines:2,tabSize:4};return function(e,t,s,c){c=r({},a,c);var u=e.split(/\r\n?|\n|\f/),l=Math.max(1,t-c.extraLines)-1,f=Math.min(t+c.extraLines,u.length),h=String(f).length,p=o(u,l,t,h,c),d=i(u[t-1].substring(0,s-1),t,h,c);return[p,n(" ",d.length)+"^",o(u,t,f,h,c)].filter(Boolean).join("\n")}}()})),o=(new Error).stack,a=function(e,t,n,r,a){throw function(e){var t=Object.create(SyntaxError.prototype);return Object.assign(t,e,{name:"SyntaxError"}),Object.defineProperty(t,"stack",{get:function(){return o?o.replace(/^(.+\n){1,3}/,String(t)+"\n"):""}}),t}({message:r?e+"\n"+i(t,r,a):e,rawMessage:e,source:n,line:r,column:a})},s=function(){return"Unexpected end of input"},c=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"Unexpected token <"+e+"> at "+n.filter(Boolean).join(":")},u=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"Unexpected symbol <"+e+"> at "+n.filter(Boolean).join(":")},l=0,f=1,h=2,p=3,d=4,m=5,g=6,v=7,y=8,b=9,T=10,_={"{":l,"}":f,"[":h,"]":p,":":d,",":m},O={true:y,false:b,null:T},E=0,R=1,N=2,S={'"':0,"\\":1,"/":2,b:3,f:4,n:5,r:6,t:7,u:8},I=0,A=1,C=2,x=3,L=4,k=5,w=6,P=7;function j(e){return e>="1"&&e<="9"}function M(e){return e>="0"&&e<="9"}function D(e){return M(e)||e>="a"&&e<="f"||e>="A"&&e<="F"}function F(e){return"e"===e||"E"===e}function U(e,t,n,r){var i=e.charAt(t);if("\r"===i)t++,n++,r=1,"\n"===e.charAt(t)&&t++;else if("\n"===i)t++,n++,r=1;else{if("\t"!==i&&" "!==i)return null;t++,r++}return{index:t,line:n,column:r}}function q(e,t,n,r){var i=e.charAt(t);return i in _?{type:_[i],line:n,column:r+1,index:t+1,value:null}:null}function B(e,t,n,r){for(var i in O)if(O.hasOwnProperty(i)&&e.substr(t,i.length)===i)return{type:O[i],line:n,column:r+i.length,index:t+i.length,value:i};return null}function W(e,t,n,r){for(var i=t,o=E;t<e.length;){var a=e.charAt(t);switch(o){case E:if('"'!==a)return null;t++,o=R;break;case R:if("\\"===a)t++,o=N;else{if('"'===a)return t++,{type:g,line:n,column:r+t-i,index:t,value:e.slice(i,t)};t++}break;case N:if(!(a in S))return null;if(t++,"u"===a)for(var s=0;s<4;s++){var c=e.charAt(t);if(!c||!D(c))return null;t++}o=R}}}function z(e,t,n,r){var i=t,o=t,a=I;e:for(;t<e.length;){var s=e.charAt(t);switch(a){case I:if("-"===s)a=A;else if("0"===s)o=t+1,a=C;else{if(!j(s))return null;o=t+1,a=x}break;case A:if("0"===s)o=t+1,a=C;else{if(!j(s))return null;o=t+1,a=x}break;case C:if("."===s)a=L;else{if(!F(s))break e;a=w}break;case x:if(M(s))o=t+1;else if("."===s)a=L;else{if(!F(s))break e;a=w}break;case L:if(!M(s))break e;o=t+1,a=k;break;case k:if(M(s))o=t+1;else{if(!F(s))break e;a=w}break;case w:if("+"===s||"-"===s)a=P;else{if(!M(s))break e;o=t+1,a=P}break;case P:if(!M(s))break e;o=t+1}t++}return o>0?{type:v,line:n,column:r+o-i,index:o,value:e.slice(i,o)}:null}var K=0,V=1,H=2,G=3,$=0,Y=1,X=2,J=0,Z=1,Q=2,ee=3,te={loc:!0,source:null};function ne(e,t,n){var r=t.length>0?t[t.length-1].loc.end:{line:1,column:1};a(s(),e,n.source,r.line,r.column)}function re(e){for(var t=0,n=0;n<4;n++)t=16*t+parseInt(e[n],16);return String.fromCharCode(t)}var ie={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},oe=['"',"\\","/"];function ae(e){for(var t="",n=0;n<e.length;n++){var r=e.charAt(n);if("\\"===r){n++;var i=e.charAt(n);if("u"===i)t+=re(e.substr(n+1,4)),n+=4;else if(-1!==oe.indexOf(i))t+=i;else{if(!(i in ie))break;t+=ie[i]}}else t+=r}return t}function se(e,t,i,o){for(var s=void 0,u={type:"Object",children:[]},h=K;i<t.length;){var p=t[i];switch(h){case K:if(p.type!==l)return null;s=p,h=V,i++;break;case V:if(p.type===f)return o.loc&&(u.loc=r(s.loc.start.line,s.loc.start.column,s.loc.start.offset,p.loc.end.line,p.loc.end.column,p.loc.end.offset,o.source)),{value:u,index:i+1};var d=ce(e,t,i,o);u.children.push(d.value),h=H,i=d.index;break;case H:if(p.type===f)return o.loc&&(u.loc=r(s.loc.start.line,s.loc.start.column,s.loc.start.offset,p.loc.end.line,p.loc.end.column,p.loc.end.offset,o.source)),{value:u,index:i+1};p.type===m?(h=G,i++):a(c(n(e,p.loc.start.offset,p.loc.end.offset),o.source,p.loc.start.line,p.loc.start.column),e,o.source,p.loc.start.line,p.loc.start.column);break;case G:var g=ce(e,t,i,o);g?(i=g.index,u.children.push(g.value),h=H):a(c(n(e,p.loc.start.offset,p.loc.end.offset),o.source,p.loc.start.line,p.loc.start.column),e,o.source,p.loc.start.line,p.loc.start.column)}}ne(e,t,o)}function ce(e,t,i,o){for(var s=void 0,u={type:"Property",key:null,value:null},l=$;i<t.length;){var f=t[i];switch(l){case $:if(f.type!==g)return null;var h={type:"Identifier",value:ae(e.slice(f.loc.start.offset+1,f.loc.end.offset-1)),raw:f.value};o.loc&&(h.loc=f.loc),s=f,u.key=h,l=Y,i++;break;case Y:f.type===d?(l=X,i++):a(c(n(e,f.loc.start.offset,f.loc.end.offset),o.source,f.loc.start.line,f.loc.start.column),e,o.source,f.loc.start.line,f.loc.start.column);break;case X:var p=fe(e,t,i,o);return u.value=p.value,o.loc&&(u.loc=r(s.loc.start.line,s.loc.start.column,s.loc.start.offset,p.value.loc.end.line,p.value.loc.end.column,p.value.loc.end.offset,o.source)),{value:u,index:p.index}}}}function ue(e,t,i,o){for(var s=void 0,u={type:"Array",children:[]},l=J,f=void 0;i<t.length;)switch(f=t[i],l){case J:if(f.type!==h)return null;s=f,l=Z,i++;break;case Z:if(f.type===p)return o.loc&&(u.loc=r(s.loc.start.line,s.loc.start.column,s.loc.start.offset,f.loc.end.line,f.loc.end.column,f.loc.end.offset,o.source)),{value:u,index:i+1};var d=fe(e,t,i,o);i=d.index,u.children.push(d.value),l=Q;break;case Q:if(f.type===p)return o.loc&&(u.loc=r(s.loc.start.line,s.loc.start.column,s.loc.start.offset,f.loc.end.line,f.loc.end.column,f.loc.end.offset,o.source)),{value:u,index:i+1};f.type===m?(l=ee,i++):a(c(n(e,f.loc.start.offset,f.loc.end.offset),o.source,f.loc.start.line,f.loc.start.column),e,o.source,f.loc.start.line,f.loc.start.column);break;case ee:var g=fe(e,t,i,o);i=g.index,u.children.push(g.value),l=Q}ne(e,t,o)}function le(e,t,n,r){var i=t[n],o=null;switch(i.type){case g:o=ae(e.slice(i.loc.start.offset+1,i.loc.end.offset-1));break;case v:o=Number(i.value);break;case y:o=!0;break;case b:o=!1;break;case T:o=null;break;default:return null}var a={type:"Literal",value:o,raw:i.value};return r.loc&&(a.loc=i.loc),{value:a,index:n+1}}function fe(e,t,r,i){var o=t[r],s=le.apply(void 0,arguments)||se.apply(void 0,arguments)||ue.apply(void 0,arguments);if(s)return s;a(c(n(e,o.loc.start.offset,o.loc.end.offset),i.source,o.loc.start.line,o.loc.start.column),e,i.source,o.loc.start.line,o.loc.start.column)}return function(e,t){var i=function(e,t){for(var i=1,o=1,s=0,c=[];s<e.length;){var l=[e,s,i,o],f=U.apply(void 0,l);if(f)s=f.index,i=f.line,o=f.column;else{var h=q.apply(void 0,l)||B.apply(void 0,l)||W.apply(void 0,l)||z.apply(void 0,l);if(h){var p={type:h.type,value:h.value,loc:r(i,o,s,h.line,h.column,h.index,t.source)};c.push(p),s=h.index,i=h.line,o=h.column}else a(u(n(e,s,s+1),t.source,i,o),e,t.source,i,o)}}return c}(e,t=Object.assign({},te,t));0===i.length&&ne(e,i,t);var o=fe(e,i,0,t);if(o.index===i.length)return o.value;var s=i[o.index];a(c(n(e,s.loc.start.offset,s.loc.end.offset),t.source,s.loc.start.line,s.loc.start.column),e,t.source,s.loc.start.line,s.loc.start.column)}},e.exports=r()},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DependencyCollector=void 0;const i=n(38),o=n(451),a=n(453);t.DependencyCollector=class{constructor(e=["dependencies"]){this.classes=e}findRootNodes(e){const t=[],n={visitXMLElement:n=>{n.name===e&&t.push(n)}};return a.accept(this.xmlDocAst,n),t}parseXml(e){const{cst:t,tokenVector:n}=o.parse(e);this.xmlDocAst=a.buildAst(t,n)}mapToDependency(e){class t{constructor(e){this.groupId=e.subElements.find(e=>"groupId"===e.name),this.artifactId=e.subElements.find(e=>"artifactId"===e.name),this.version=e.subElements.find(e=>"version"===e.name)}isValid(){return void 0===[this.groupId,this.artifactId,this.version].find(e=>{var t;return!(null===(t=e.textContents[0])||void 0===t?void 0:t.text)})}toDependency(){const e=new i.KeyValueEntry(`${this.groupId.textContents[0].text}:${this.artifactId.textContents[0].text}`,{line:0,column:0}),t=this.version.textContents[0];return e.value=new i.Variant(i.ValueType.String,t.text),e.value_position={line:t.position.startLine,column:t.position.startColumn},new i.Dependency(e)}}const n=["groupId","artifactId","version"];return e.subElements.filter(e=>"dependency"===e.name).filter(e=>e.subElements.filter(e=>n.includes(e.name)).length==n.length).filter(e=>!e.subElements.find(e=>"scope"===e.name&&"test"===e.textContents[0].text)).map(e=>new t(e)).filter(e=>e.isValid()).map(e=>e.toDependency())}createPropertySubstitution(e){var t;return new Map(null===(t=null==e?void 0:e.subElements)||void 0===t?void 0:t.filter(e=>{var t;return null===(t=e.textContents[0])||void 0===t?void 0:t.text}).map(e=>{const t=e.textContents[0],n={line:t.position.startLine,column:t.position.startColumn},r={value:t.text,position:n};return[`\${${e.name}}`,r]}))}applyProperty(e,t){var n;return e.version=null!==(n=t.get(e.version.value))&&void 0!==n?n:e.version,e}collect(e){return r(this,void 0,void 0,(function*(){this.parseXml(e);const t=this.findRootNodes("dependencies"),n=(()=>{let e=null;return()=>(e=null!=e?e:this.createPropertySubstitution(this.findRootNodes("properties")[0]),e)})();return t.flatMap(e=>this.mapToDependency(e)).map(e=>this.applyProperty(e,n()))}))}}},function(e,t,n){const{xmlLexer:r}=n(155),{xmlParser:i}=n(452);e.exports={parse:function(e){const t=r.tokenize(e);i.input=t.tokens;return{cst:i.document(),tokenVector:t.tokens,lexErrors:t.errors,parseErrors:i.errors}},BaseXmlCstVisitor:i.getBaseCstVisitorConstructor()}},function(e,t,n){const{CstParser:r,tokenMatcher:i}=n(86),{tokensDictionary:o}=n(155);const a=new class extends r{constructor(){super(o,{maxLookahead:1,recoveryEnabled:!0,nodeLocationTracking:"full"}),this.deletionRecoveryEnabled=!0;const e=this;e.RULE("document",()=>{e.OPTION(()=>{e.SUBRULE(e.prolog)}),e.MANY(()=>{e.SUBRULE(e.misc)}),e.OPTION2(()=>{e.SUBRULE(e.docTypeDecl)}),e.MANY2(()=>{e.SUBRULE2(e.misc)}),e.SUBRULE(e.element),e.MANY3(()=>{e.SUBRULE3(e.misc)})}),e.RULE("prolog",()=>{e.CONSUME(o.XMLDeclOpen),e.MANY(()=>{e.SUBRULE(e.attribute)}),e.CONSUME(o.SPECIAL_CLOSE)}),e.RULE("docTypeDecl",()=>{e.CONSUME(o.DocType),e.CONSUME(o.Name),e.OPTION(()=>{e.SUBRULE(e.externalID)}),e.CONSUME(o.CLOSE)}),e.RULE("externalID",()=>{e.OR([{GATE:()=>"SYSTEM"===e.LA(1).image,ALT:()=>{e.CONSUME2(o.Name,{LABEL:"System"}),e.CONSUME(o.STRING,{LABEL:"SystemLiteral"})}},{GATE:()=>"PUBLIC"===e.LA(1).image,ALT:()=>{e.CONSUME3(o.Name,{LABEL:"Public"}),e.CONSUME2(o.STRING,{LABEL:"PubIDLiteral"}),e.CONSUME3(o.STRING,{LABEL:"SystemLiteral"})}}])}),e.RULE("content",()=>{e.MANY(()=>{e.OR([{ALT:()=>e.SUBRULE(e.element)},{ALT:()=>e.SUBRULE(e.chardata)},{ALT:()=>e.SUBRULE(e.reference)},{ALT:()=>e.CONSUME(o.CData)},{ALT:()=>e.CONSUME(o.PROCESSING_INSTRUCTION)},{ALT:()=>e.CONSUME(o.Comment)}])})}),e.RULE("element",()=>{e.CONSUME(o.OPEN);try{this.deletionRecoveryEnabled=!1,e.CONSUME(o.Name)}finally{this.deletionRecoveryEnabled=!0}e.MANY(()=>{e.SUBRULE(e.attribute)}),e.OR([{ALT:()=>{e.CONSUME(o.CLOSE,{LABEL:"START_CLOSE"}),e.SUBRULE(e.content),e.CONSUME(o.SLASH_OPEN),e.CONSUME2(o.Name,{LABEL:"END_NAME"}),e.CONSUME2(o.CLOSE,{LABEL:"END"})}},{ALT:()=>{e.CONSUME(o.SLASH_CLOSE)}}])}),e.RULE("reference",()=>{e.OR([{ALT:()=>e.CONSUME(o.EntityRef)},{ALT:()=>e.CONSUME(o.CharRef)}])}),e.RULE("attribute",()=>{e.CONSUME(o.Name);try{this.deletionRecoveryEnabled=!1,e.CONSUME(o.EQUALS),e.CONSUME(o.STRING)}finally{this.deletionRecoveryEnabled=!0}}),e.RULE("chardata",()=>{e.OR([{ALT:()=>e.CONSUME(o.TEXT)},{ALT:()=>e.CONSUME(o.SEA_WS)}])}),e.RULE("misc",()=>{e.OR([{ALT:()=>e.CONSUME(o.Comment)},{ALT:()=>e.CONSUME(o.PROCESSING_INSTRUCTION)},{ALT:()=>e.CONSUME(o.SEA_WS)}])}),this.performSelfAnalysis()}canRecoverWithSingleTokenDeletion(e){return!1!==this.deletionRecoveryEnabled&&super.canRecoverWithSingleTokenDeletion(e)}findReSyncTokenType(){const e=this.flattenFollowSet();let t=this.LA(1),n=2;for(;;){const r=e.find(e=>i(t,e));if(void 0!==r)return r;t=this.LA(n),n++}}};e.exports={xmlParser:a}},function(e,t,n){const{buildAst:r}=n(454),{accept:i}=n(461),{DEFAULT_NS:o}=n(158);e.exports={buildAst:r,accept:i,DEFAULT_NS:o}},function(e,t,n){const{BaseXmlCstVisitor:r}=n(455),{last:i,forEach:o,reduce:a,map:s,pick:c,sortBy:u,isEmpty:l,isArray:f,assign:h}=n(61),{findNextTextualToken:p,isXMLNamespaceKey:d,getXMLNamespaceKeyPrefix:m}=n(458),{getAstChildrenReflective:g}=n(157),{DEFAULT_NS:v}=n(158);const y=new class extends r{constructor(){super()}setState({tokenVector:e}){this.tokenVector=e}visit(e,t={}){return super.visit(e,{location:e.location,...t})}document(e,{location:t}){const n={type:"XMLDocument",rootElement:R,position:t};return void 0!==e.prolog&&(n.prolog=this.visit(e.prolog[0])),void 0!==e.element&&!1===l(e.element[0].children)&&(n.rootElement=this.visit(e.element[0])),b(n),n}prolog(e,{location:t}){const n={type:"XMLProlog",attributes:[],position:t};return void 0!==e.attribute&&(n.attributes=s(e.attribute,e=>this.visit(e,{isPrologParent:!0}))),b(n),n}docTypeDecl(e,t){}externalID(e,t){}content(e,{location:t}){let n=[],r=[];return void 0!==e.element&&(n=s(e.element,this.visit.bind(this))),void 0!==e.chardata&&(r=s(e.chardata,this.visit.bind(this))),{elements:n,textContents:r}}element(e,{location:t}){const n={type:"XMLElement",namespaces:Object.create(null),name:R,attributes:[],subElements:[],textContents:[],position:t,syntax:{}};if(void 0!==e.attribute&&(n.attributes=s(e.attribute,this.visit.bind(this))),void 0!==e.content){const{elements:t,textContents:r}=this.visit(e.content[0]);n.subElements=t,n.textContents=r}return function(e,t){if(void 0!==t.Name&&!0!==t.Name[0].isInsertedInRecovery){const n=t.Name[0];e.syntax.openName=T(n);const r=function(e){const t=/^([^:]+):([^:]+)$/.exec(e);if(null===t)return null;const n=t[1],r=t[2];return{ns:n,name:r}}(n.image);null!==r?(e.ns=r.ns,e.name=r.name):e.name=n.image}void 0!==t.END_NAME&&!0!==t.END_NAME[0].isInsertedInRecovery&&(e.syntax.closeName=T(t.END_NAME[0]))}(n,e),function(e,t){if(E(t.OPEN)){let n=void 0;E(t.START_CLOSE)?(n=t.START_CLOSE[0],e.syntax.isSelfClosing=!1):E(t.SLASH_CLOSE)&&(n=t.SLASH_CLOSE[0],e.syntax.isSelfClosing=!0),void 0!==n&&(e.syntax.openBody={..._(t.OPEN[0]),...O(n)}),E(t.SLASH_OPEN)&&E(t.END)&&(e.syntax.closeBody={..._(t.SLASH_OPEN[0]),...O(t.END[0])})}}(n,e),function(e,t,n){if(E(t.Name)){const r=t.Name[0].endOffset+2;if(E(t.START_CLOSE)||E(t.SLASH_CLOSE)){const n=(E(t.START_CLOSE)?t.START_CLOSE[0].startOffset:t.SLASH_CLOSE[0].startOffset)-1;e.syntax.attributesRange={startOffset:r,endOffset:n}}else{const o=f(t.attribute)?i(t.attribute).location.endOffset:t.Name[0].endOffset,a=p(n,o);null!==a&&(e.syntax.guessedAttributesRange={startOffset:r,endOffset:a.endOffset-1})}}}(n,e,this.tokenVector),b(n),n}reference(e,{location:t}){}attribute(e,{location:t,isPrologParent:n}){const r={type:n?"XMLPrologAttribute":"XMLAttribute",position:t,key:R,value:R,syntax:{}};if(void 0!==e.Name&&!0!==e.Name[0].isInsertedInRecovery){const t=e.Name[0];r.key=t.image,r.syntax.key=T(t)}if(void 0!==e.STRING&&!0!==e.STRING[0].isInsertedInRecovery){const t=e.STRING[0];r.value=(i=t.image).substring(1,i.length-1),r.syntax.value=T(t)}var i;return b(r),r}chardata(e,{location:t}){const n={type:"XMLTextContent",position:t,text:R};let r=[];void 0!==e.SEA_WS&&(r=r.concat(e.SEA_WS)),void 0!==e.TEXT&&(r=r.concat(e.TEXT));const i=u(r,["startOffset"]),o=s(i,"image").join("");return n.text=o,n}misc(e,{location:t}){}};function b(e){const t=g(e);o(t,t=>t.parent=e)}function T(e){return c(e,["image","startOffset","endOffset","startLine","endLine","startColumn","endColumn"])}function _(e){return c(e,["startOffset","startLine","startColumn"])}function O(e){return c(e,["endOffset","endLine","endColumn"])}function E(e){return f(e)&&1===e.length&&!0!==e[0].isInsertedInRecovery}const R=null;e.exports={buildAst:function(e,t){y.setState({tokenVector:t});const n=y.visit(e);return n.rootElement!==R&&function e(t,n=[]){const r=a(t.attributes,(e,t)=>{if(t.key!==R&&!0===d({key:t.key,includeEmptyPrefix:!1})){const n=m(t.key);if(t.value){const r=t.value;""!==n?e[n]=r:e[v]=r}}return e},{}),i=Object.create(null);t.namespaces=h(i,n,r),o(t.subElements,n=>e(n,t.namespaces))}(n.rootElement),n}}},function(e,t,n){const{xmlLexer:r}=n(156),{xmlParser:i}=n(456);e.exports={parse:function(e){const t=r.tokenize(e);i.input=t.tokens;return{cst:i.document(),tokenVector:t.tokens,lexErrors:t.errors,parseErrors:i.errors}},BaseXmlCstVisitor:i.getBaseCstVisitorConstructor()}},function(e,t,n){const{CstParser:r,tokenMatcher:i}=n(87),{tokensDictionary:o}=n(156);const a=new class extends r{constructor(){super(o,{maxLookahead:1,recoveryEnabled:!0,nodeLocationTracking:"full"}),this.deletionRecoveryEnabled=!0;const e=this;e.RULE("document",()=>{e.OPTION(()=>{e.SUBRULE(e.prolog)}),e.MANY(()=>{e.SUBRULE(e.misc)}),e.OPTION2(()=>{e.SUBRULE(e.docTypeDecl)}),e.MANY2(()=>{e.SUBRULE2(e.misc)}),e.SUBRULE(e.element),e.MANY3(()=>{e.SUBRULE3(e.misc)})}),e.RULE("prolog",()=>{e.CONSUME(o.XMLDeclOpen),e.MANY(()=>{e.SUBRULE(e.attribute)}),e.CONSUME(o.SPECIAL_CLOSE)}),e.RULE("docTypeDecl",()=>{e.CONSUME(o.DocType),e.CONSUME(o.Name),e.OPTION(()=>{e.SUBRULE(e.externalID)}),e.CONSUME(o.CLOSE)}),e.RULE("externalID",()=>{e.OR([{GATE:()=>"SYSTEM"===e.LA(1).image,ALT:()=>{e.CONSUME2(o.Name,{LABEL:"System"}),e.CONSUME(o.STRING,{LABEL:"SystemLiteral"})}},{GATE:()=>"PUBLIC"===e.LA(1).image,ALT:()=>{e.CONSUME3(o.Name,{LABEL:"Public"}),e.CONSUME2(o.STRING,{LABEL:"PubIDLiteral"}),e.CONSUME3(o.STRING,{LABEL:"SystemLiteral"})}}])}),e.RULE("content",()=>{e.MANY(()=>{e.OR([{ALT:()=>e.SUBRULE(e.element)},{ALT:()=>e.SUBRULE(e.chardata)},{ALT:()=>e.SUBRULE(e.reference)},{ALT:()=>e.CONSUME(o.CData)},{ALT:()=>e.CONSUME(o.PROCESSING_INSTRUCTION)},{ALT:()=>e.CONSUME(o.Comment)}])})}),e.RULE("element",()=>{e.CONSUME(o.OPEN);try{this.deletionRecoveryEnabled=!1,e.CONSUME(o.Name)}finally{this.deletionRecoveryEnabled=!0}e.MANY(()=>{e.SUBRULE(e.attribute)}),e.OR([{ALT:()=>{e.CONSUME(o.CLOSE,{LABEL:"START_CLOSE"}),e.SUBRULE(e.content),e.CONSUME(o.SLASH_OPEN),e.CONSUME2(o.Name,{LABEL:"END_NAME"}),e.CONSUME2(o.CLOSE,{LABEL:"END"})}},{ALT:()=>{e.CONSUME(o.SLASH_CLOSE)}}])}),e.RULE("reference",()=>{e.OR([{ALT:()=>e.CONSUME(o.EntityRef)},{ALT:()=>e.CONSUME(o.CharRef)}])}),e.RULE("attribute",()=>{e.CONSUME(o.Name);try{this.deletionRecoveryEnabled=!1,e.CONSUME(o.EQUALS),e.CONSUME(o.STRING)}finally{this.deletionRecoveryEnabled=!0}}),e.RULE("chardata",()=>{e.OR([{ALT:()=>e.CONSUME(o.TEXT)},{ALT:()=>e.CONSUME(o.SEA_WS)}])}),e.RULE("misc",()=>{e.OR([{ALT:()=>e.CONSUME(o.Comment)},{ALT:()=>e.CONSUME(o.PROCESSING_INSTRUCTION)},{ALT:()=>e.CONSUME(o.SEA_WS)}])}),this.performSelfAnalysis()}canRecoverWithSingleTokenDeletion(e){return!1!==this.deletionRecoveryEnabled&&super.canRecoverWithSingleTokenDeletion(e)}findReSyncTokenType(){const e=this.flattenFollowSet();let t=this.LA(1),n=2;for(;;){const r=e.find(e=>i(t,e));if(void 0!==r)return r;t=this.LA(n),n++}}};e.exports={xmlParser:a}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){const{findNextTextualToken:r}=n(459),{isXMLNamespaceKey:i,getXMLNamespaceKeyPrefix:o}=n(460);e.exports={findNextTextualToken:r,isXMLNamespaceKey:i,getXMLNamespaceKeyPrefix:o}},function(e,t,n){const{findIndex:r}=n(61);e.exports={findNextTextualToken:function(e,t){let n=r(e,e=>e.endOffset===t);for(;;){n++;const t=e[n];if(void 0===t)return null;if("SEA_WS"!==t.tokenType.name)return t}}}},function(e,t){const n=/^xmlns(?<prefixWithColon>:(?<prefix>[^:]*))?$/;e.exports={isXMLNamespaceKey:function({key:e,includeEmptyPrefix:t}){if("string"!=typeof e)return!1;const r=e.match(n);return null!==r&&!(!0!==t&&r.groups.prefixWithColon&&!r.groups.prefix)},getXMLNamespaceKeyPrefix:function(e){if("string"!=typeof e)return;const t=e.match(n);return null!==t?t.groups&&t.groups.prefix||"":void 0}}},function(e,t,n){const{forEach:r,isFunction:i}=n(61),{getAstChildrenReflective:o}=n(157);e.exports={accept:function e(t,n){switch(t.type){case"XMLDocument":i(n.visitXMLDocument)&&n.visitXMLDocument(t);break;case"XMLProlog":i(n.visitXMLProlog)&&n.visitXMLProlog(t);break;case"XMLPrologAttribute":i(n.visitXMLPrologAttribute)&&n.visitXMLPrologAttribute(t);break;case"XMLElement":i(n.visitXMLElement)&&n.visitXMLElement(t);break;case"XMLAttribute":i(n.visitXMLAttribute)&&n.visitXMLAttribute(t);break;case"XMLTextContent":i(n.visitXMLTextContent)&&n.visitXMLTextContent(t);break;default:throw Error("None Exhaustive Match")}const a=o(t);r(a,t=>{e(t,n)})}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DependencyCollector=void 0;const i=n(38);class o{constructor(e){this.dependencies=o.parseDependencies(e)}static parseDependencies(e){return e.split("\n").reduce((e,t,n)=>{t.includes("#")&&(t=t.split("#")[0]);const r=t.split(/[==,>=,<=]+/),o=(r[0]||"").trim();if(o.length>0){const a=(r[1]||"").trim(),s=new i.KeyValueEntry(o,{line:0,column:0});s.value=new i.Variant(i.ValueType.String,a),s.value_position={line:n+1,column:t.indexOf(a)+1},e.push(new i.Dependency(s))}return e},[])}parse(){return this.dependencies}}t.DependencyCollector=class{constructor(e=["dependencies"]){this.classes=e}collect(e){return r(this,void 0,void 0,(function*(){return new o(e).parse()}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.codeActionsMap=t.SecurityEngine=t.DiagnosticsPipeline=void 0;const r=n(154),i=n(159),o=n(84);let a=(e,t)=>{let n=e;for(let e of t.path){if(!(e in n))return null;n=n[e]}return n};t.DiagnosticsPipeline=class{constructor(e,t,n,r,i,o){this.items=e.map(e=>new e(t,n)),this.dependency=t,this.config=n,this.diagnostics=r,this.uri=o,this.vulnerabilityAggregator=i}run(e){for(let t of this.items)if(t.consume(e))for(let e of t.produce()){const t=this.vulnerabilityAggregator.aggregate(e),n=t.getDiagnostic();if(t.recommendedVersion&&(t.vulnerabilityCount>0||null!=t.exploitCount)){let e={title:"Switch to recommended version "+t.recommendedVersion,diagnostics:[n],kind:o.CodeActionKind.QuickFix,edit:{changes:{}}};e.edit.changes[this.uri]=[{range:n.range,newText:t.recommendedVersion}],s[n.range.start.line+"|"+n.range.start.character]=e}this.vulnerabilityAggregator.isNewVulnerability?this.diagnostics.push(n):this.diagnostics.forEach((e,r)=>{e.range.start.line!=t.range.start.line||e.range.start.character!=t.range.start.character||(this.diagnostics[r]=n)})}return[]}};t.SecurityEngine=class extends class{constructor(e){this.config=e,this.package=null,this.version=null,this.changeTo=null,this.message=null,this.vulnerabilityCount=0,this.advisoryCount=0,this.highestSeverity=null}consume(e){return null!=this.binding?this.item=a(e,this.binding):this.item=e,null!=this.packageBinding&&(this.package=a(e,this.packageBinding)),null!=this.versionBinding&&(this.version=a(e,this.versionBinding)),null!=this.changeToBinding&&(this.changeTo=a(e,this.changeToBinding)),null!=this.messageBinding&&(this.message=a(e,this.messageBinding)),null!=this.vulnerabilityCountBinding&&(this.vulnerabilityCount=a(e,this.vulnerabilityCountBinding)),null!=this.advisoryCountBinding&&(this.advisoryCount=a(e,this.advisoryCountBinding)),null!=this.exploitCountBinding&&(this.exploitCount=a(e,this.exploitCountBinding)),null!=this.highestSeverityBinding&&(this.highestSeverity=a(e,this.highestSeverityBinding)),null!=this.item}}{constructor(e,t){super(t),this.context=e,this.binding={path:["vulnerability"]},this.packageBinding={path:["package"]},this.versionBinding={path:["version"]},this.changeToBinding={path:["recommended_versions"]},this.messageBinding={path:["message"]},this.vulnerabilityCountBinding={path:["known_security_vulnerability_count"]},this.advisoryCountBinding={path:["security_advisory_count"]},this.exploitCountBinding={path:["exploitable_vulnerabilities_count"]},this.highestSeverityBinding={path:["highest_severity"]}}produce(){return this.item.length>0?[new i.Vulnerability(this.package,this.version,1,this.vulnerabilityCount,this.advisoryCount,this.exploitCount,this.highestSeverity,this.changeTo,r.get_range(this.context.version))]:[]}};let s=new Map;t.codeActionsMap=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GolangVulnerabilityAggregator=t.NoopVulnerabilityAggregator=void 0;const r=n(465),i=["low","medium","high","critical"];t.NoopVulnerabilityAggregator=class{aggregate(e){return this.isNewVulnerability=!0,e.ecosystem="",e}};t.GolangVulnerabilityAggregator=class{constructor(){this.vulnerabilities=Array()}aggregate(e){e.ecosystem="golang",this.isNewVulnerability=!0;var t=0;return this.vulnerabilities.forEach((n,r)=>{this.getModuleName(e.name)==this.getModuleName(n.name)&&(this.mergeVulnerability(r,e),this.isNewVulnerability=!1,t=r)}),this.isNewVulnerability?(this.vulnerabilities.push(e),e):this.vulnerabilities[t]}getModuleName(e){const t=e.split("@");return 2==t.length?t[1]:e}mergeVulnerability(e,t){t.name.length<this.vulnerabilities[e].name.length&&(this.vulnerabilities[e].name=t.name),this.vulnerabilities[e].packageCount+=t.packageCount,this.vulnerabilities[e].vulnerabilityCount+=t.vulnerabilityCount,this.vulnerabilities[e].advisoryCount+=t.advisoryCount,this.vulnerabilities[e].exploitCount+=t.exploitCount,this.vulnerabilities[e].highestSeverity=this.getMaxSeverity(this.vulnerabilities[e].highestSeverity,t.highestSeverity),this.vulnerabilities[e].recommendedVersion=this.getMaxRecVersion(this.vulnerabilities[e].recommendedVersion,t.recommendedVersion)}getMaxSeverity(e,t){const n=Math.max(i.indexOf(e),i.indexOf(t));return i[n]}getMaxRecVersion(e,t){var n=e;return(""==e||null==e||""!=t&&null!=t&&-1==r(e,t))&&(n=t),n}}},function(e,t,n){var r,i,o;i=[],void 0===(o="function"==typeof(r=function(){var e=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function t(e){var t,n,r=e.replace(/^v/,"").replace(/\+.*$/,""),i=(n="-",-1===(t=r).indexOf(n)?t.length:t.indexOf(n)),o=r.substring(0,i).split(".");return o.push(r.substring(i+1)),o}function n(e){return isNaN(Number(e))?e:Number(e)}function r(t){if("string"!=typeof t)throw new TypeError("Invalid argument expected string");if(!e.test(t))throw new Error("Invalid argument not valid semver ('"+t+"' received)")}function i(e,i){[e,i].forEach(r);for(var o=t(e),a=t(i),s=0;s<Math.max(o.length-1,a.length-1);s++){var c=parseInt(o[s]||0,10),u=parseInt(a[s]||0,10);if(c>u)return 1;if(u>c)return-1}var l=o[o.length-1],f=a[a.length-1];if(l&&f){var h=l.split(".").map(n),p=f.split(".").map(n);for(s=0;s<Math.max(h.length,p.length);s++){if(void 0===h[s]||"string"==typeof p[s]&&"number"==typeof h[s])return-1;if(void 0===p[s]||"string"==typeof h[s]&&"number"==typeof p[s])return 1;if(h[s]>p[s])return 1;if(p[s]>h[s])return-1}}else if(l||f)return l?-1:1;return 0}var o=[">",">=","=","<","<="],a={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};return i.validate=function(t){return"string"==typeof t&&e.test(t)},i.compare=function(e,t,n){!function(e){if("string"!=typeof e)throw new TypeError("Invalid operator type, expected string but got "+typeof e);if(-1===o.indexOf(e))throw new TypeError("Invalid operator, expected one of "+o.join("|"))}(n);var r=i(e,t);return a[n].indexOf(r)>-1},i})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.globalCache=t.Cache=void 0;const i=r(n(467)),o=n(38);class a{constructor(e,t){this.cache=new i.default({max:e,maxAge:t})}get(e){return e.map(e=>{const t=this.cache.get(e.key());return{K:e,V:t}})}add(e){e.forEach(e=>{const t=new o.SimpleDependency(e.package||e.name,e.version);this.cache.set(t.key(),e)})}}t.Cache=a,t.globalCache=(()=>{const e=new Map;return(t,n,r)=>{var i;return null!==(i=e.get(t))&&void 0!==i?i:e.set(t,new a(n,r)).get(t)}})()},function(e,t,n){"use strict";const r=n(468),i=Symbol("max"),o=Symbol("length"),a=Symbol("lengthCalculator"),s=Symbol("allowStale"),c=Symbol("maxAge"),u=Symbol("dispose"),l=Symbol("noDisposeOnSet"),f=Symbol("lruList"),h=Symbol("cache"),p=Symbol("updateAgeOnGet"),d=()=>1;const m=(e,t,n)=>{const r=e[h].get(t);if(r){const t=r.value;if(g(e,t)){if(y(e,r),!e[s])return}else n&&(e[p]&&(r.value.now=Date.now()),e[f].unshiftNode(r));return t.value}},g=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[c]&&n>e[c]},v=e=>{if(e[o]>e[i])for(let t=e[f].tail;e[o]>e[i]&&null!==t;){const n=t.prev;y(e,t),t=n}},y=(e,t)=>{if(t){const n=t.value;e[u]&&e[u](n.key,n.value),e[o]-=n.length,e[h].delete(n.key),e[f].removeNode(t)}};class b{constructor(e,t,n,r,i){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=i||0}}const T=(e,t,n,r)=>{let i=n.value;g(e,i)&&(y(e,n),e[s]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||d;if(this[a]="function"!=typeof t?d:t,this[s]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[u]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[p]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,v(this)}get max(){return this[i]}set allowStale(e){this[s]=!!e}get allowStale(){return this[s]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,v(this)}get maxAge(){return this[c]}set lengthCalculator(e){"function"!=typeof e&&(e=d),e!==this[a]&&(this[a]=e,this[o]=0,this[f].forEach(e=>{e.length=this[a](e.value,e.key),this[o]+=e.length})),v(this)}get lengthCalculator(){return this[a]}get length(){return this[o]}get itemCount(){return this[f].length}rforEach(e,t){t=t||this;for(let n=this[f].tail;null!==n;){const r=n.prev;T(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[f].head;null!==n;){const r=n.next;T(this,e,n,t),n=r}}keys(){return this[f].toArray().map(e=>e.key)}values(){return this[f].toArray().map(e=>e.value)}reset(){this[u]&&this[f]&&this[f].length&&this[f].forEach(e=>this[u](e.key,e.value)),this[h]=new Map,this[f]=new r,this[o]=0}dump(){return this[f].map(e=>!g(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[f]}set(e,t,n){if((n=n||this[c])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,s=this[a](t,e);if(this[h].has(e)){if(s>this[i])return y(this,this[h].get(e)),!1;const a=this[h].get(e).value;return this[u]&&(this[l]||this[u](e,a.value)),a.now=r,a.maxAge=n,a.value=t,this[o]+=s-a.length,a.length=s,this.get(e),v(this),!0}const p=new b(e,t,s,r,n);return p.length>this[i]?(this[u]&&this[u](e,t),!1):(this[o]+=p.length,this[f].unshift(p),this[h].set(e,this[f].head),v(this),!0)}has(e){if(!this[h].has(e))return!1;const t=this[h].get(e).value;return!g(this,t)}get(e){return m(this,e,!0)}peek(e){return m(this,e,!1)}pop(){const e=this[f].tail;return e?(y(this,e),e.value):null}del(e){y(this,this[h].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const r=e[n],i=r.e||0;if(0===i)this.set(r.k,r.v);else{const e=i-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[h].forEach((e,t)=>m(this,t,!1))}}},function(e,t,n){"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)t.push(arguments[n]);return t}function i(e,t,n){var r=t===e.head?new s(n,null,t,e):new s(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function o(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,n,r){if(!(this instanceof s))return new s(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=r,r.Node=s,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,i=this.head;null!==i;)n.push(e.call(t,i.value,this)),i=i.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,i=this.tail;null!==i;)n.push(e.call(t,i.value,this)),i=i.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=e(n,r.value,i),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=e(n,r.value,i),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)n.push(o.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)n.push(o.value);return n},r.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,o=this.head;null!==o&&r<e;r++)o=o.next;var a=[];for(r=0;o&&r<t;r++)a.push(o.value),o=this.removeNode(o);null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(r=0;r<n.length;r++)o=i(this,o,n[r]);return a},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{n(469)(r)}catch(e){}},function(e,t,n){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}}]);
//# sourceMappingURL=server.js.map
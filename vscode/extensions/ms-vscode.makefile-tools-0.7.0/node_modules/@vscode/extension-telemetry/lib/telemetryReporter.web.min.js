var xo=Object.defineProperty;var mo=Object.getOwnPropertySymbols;var Cc=Object.prototype.hasOwnProperty,Tc=Object.prototype.propertyIsEnumerable;var ho=(t,e,r)=>e in t?xo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,at=(t,e)=>{for(var r in e||(e={}))Cc.call(e,r)&&ho(t,r,e[r]);if(mo)for(var r of mo(e))Tc.call(e,r)&&ho(t,r,e[r]);return t};var I=(t,e)=>()=>(t&&(e=t(t=0)),e);var Ec=(t,e)=>{for(var r in e)xo(t,r,{get:e[r],enumerable:!0})};var At=(t,e,r)=>new Promise((n,i)=>{var a=s=>{try{u(r.next(s))}catch(c){i(c)}},o=s=>{try{u(r.throw(s))}catch(c){i(c)}},u=s=>s.done?n(s.value):Promise.resolve(s.value).then(a,o);u((r=r.apply(t,e)).next())});var So,Io=I(()=>{So={Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}});var gt,Xe,Ue,Ie,Hr,vt,Ir,Cr,Un,On,nr,Bn=I(()=>{gt="function",Xe="object",Ue="undefined",Ie="prototype",Hr="hasOwnProperty",vt=Object,Ir=vt[Ie],Cr=vt.assign,Un=vt.create,On=vt.defineProperty,nr=Ir[Hr]});function ot(){return typeof globalThis!==Ue&&globalThis?globalThis:typeof self!==Ue&&self?self:typeof window!==Ue&&window?window:typeof global!==Ue&&global?global:null}function Tr(t){throw new TypeError(t)}function Dt(t){var e=Un;if(e)return e(t);if(t==null)return{};var r=typeof t;r!==Xe&&r!==gt&&Tr("Object prototype may only be an Object:"+t);function n(){}return n[Ie]=t,new n}var Ni=I(()=>{Bn()});function B(t,e){typeof e!==gt&&e!==null&&Tr("Class extends value "+String(e)+" is not a constructor or null"),ki(t,e);function r(){this.constructor=t}t[Ie]=e===null?Dt(e):(r[Ie]=e[Ie],new r)}var Vl,ql,bc,yt,ki,Co=I(()=>{Bn();Ni();Vl=(ot()||{}).Symbol,ql=(ot()||{}).Reflect,bc=function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Ir[Hr].call(e,i)&&(t[i]=e[i])}return t},yt=Cr||bc,ki=function(t,e){return ki=vt.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n[Hr](i)&&(r[i]=n[i])},ki(t,e)}});var To=I(()=>{});var ne=I(()=>{Bn();Ni();Co();To()});function kt(t,e){return t&&Kn[Nt].hasOwnProperty.call(t,e)}function No(t){return t&&(t===Kn[Nt]||t===Array[Nt])}function Ui(t){return No(t)||t===Function[Nt]}function ir(t){var e;if(t){if(qr)return qr(t);var r=t[Do]||t[Nt]||(t[Hn]?t[Hn][Nt]:null);e=t[zn]||r,kt(t,zn)||(delete t[Fi],e=t[zn]=t[Fi]||t[zn],t[Fi]=r)}return e}function jn(t,e){var r=[];if(Po)r=Po(t);else for(var n in t)typeof n=="string"&&kt(t,n)&&r.push(n);if(r&&r.length>0)for(var i=0;i<r.length;i++)e(r[i])}function Oi(t,e,r){return e!==Hn&&typeof t[e]===Vn&&(r||kt(t,e))}function Gn(t){throw new TypeError("DynamicProto: "+t)}function Dc(t){var e={};return jn(t,function(r){!e[r]&&Oi(t,r,!1)&&(e[r]=t[r])}),e}function Bi(t,e){for(var r=t.length-1;r>=0;r--)if(t[r]===e)return!0;return!1}function Nc(t,e,r,n){function i(s,c,l){var f=c[l];if(f[Li]&&n){var g=s[qn]||{};g[Vr]!==!1&&(f=(g[c[Er]]||{})[l]||f)}return function(){return f.apply(s,arguments)}}var a={};jn(r,function(s){a[s]=i(e,r,s)});for(var o=ir(t),u=[];o&&!Ui(o)&&!Bi(u,o);)jn(o,function(s){!a[s]&&Oi(o,s,!qr)&&(a[s]=i(e,o,s))}),u.push(o),o=ir(o);return a}function kc(t,e,r,n){var i=null;if(t&&kt(r,Er)){var a=t[qn]||{};if(i=(a[r[Er]]||{})[e],i||Gn("Missing ["+e+"] "+Vn),!i[_i]&&a[Vr]!==!1){for(var o=!kt(t,e),u=ir(t),s=[];o&&u&&!Ui(u)&&!Bi(s,u);){var c=u[e];if(c){o=c===n;break}s.push(u),u=ir(u)}try{o&&(t[e]=i),i[_i]=1}catch(l){a[Vr]=!1}}}return i}function Fc(t,e,r){var n=e[t];return n===r&&(n=ir(e)[t]),typeof n!==Vn&&Gn("["+t+"] is not a "+Vn),n}function Rc(t,e,r,n,i){function a(s,c){var l=function(){var f=kc(this,c,s,l)||Fc(c,s,l);return f.apply(this,arguments)};return l[Li]=1,l}if(!No(t)){var o=r[qn]=r[qn]||{},u=o[e]=o[e]||{};o[Vr]!==!1&&(o[Vr]=!!i),jn(r,function(s){Oi(r,s,!1)&&r[s]!==n[s]&&(u[s]=r[s],delete r[s],(!kt(t,s)||t[s]&&!t[s][Li])&&(t[s]=a(t,s)))})}}function Mc(t,e){if(qr){for(var r=[],n=ir(e);n&&!Ui(n)&&!Bi(r,n);){if(n===t)return!0;r.push(n),n=ir(n)}return!1}return!0}function Mi(t,e){return kt(t,Nt)?t.name||e||Eo:((t||{})[Hn]||{}).name||e||Eo}function W(t,e,r,n){kt(t,Nt)||Gn("theClass is an invalid class definition.");var i=t[Nt];Mc(i,e)||Gn("["+Mi(t)+"] is not in class hierarchy of ["+Mi(e)+"]");var a=null;kt(i,Er)?a=i[Er]:(a=Ac+Mi(t,"_")+"$"+bo,bo++,i[Er]=a);var o=W[Ao],u=!!o[Ri];u&&n&&n[Ri]!==void 0&&(u=!!n[Ri]);var s=Dc(e),c=Nc(i,e,s,u);r(e,c);var l=!!qr&&!!o[wo];l&&n&&(l=!!n[wo]),Rc(i,a,e,s,l!==!1)}var Hn,Nt,Vn,qn,Li,Er,Ac,_i,Vr,Ao,Eo,Do,zn,Fi,Ri,wo,Kn,qr,Po,bo,Lc,Ce=I(()=>{Hn="constructor",Nt="prototype",Vn="function",qn="_dynInstFuncs",Li="_isDynProxy",Er="_dynClass",Ac="_dynCls$",_i="_dynInstChk",Vr=_i,Ao="_dfOpts",Eo="_unknown_",Do="__proto__",zn="_dyn"+Do,Fi="_dynInstProto",Ri="useBaseInst",wo="setInstFuncs",Kn=Object,qr=Kn.getPrototypeOf,Po=Kn.getOwnPropertyNames,bo=0;Lc={setInstFuncs:!0,useBaseInst:!0};W[Ao]=Lc});var S,h,jr=I(()=>{(function(t){t[t.CRITICAL=1]="CRITICAL",t[t.WARNING=2]="WARNING"})(S||(S={}));h={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103}});function Hi(t){return Ir.toString.call(t)}function Vi(t,e){return typeof t===e}function fe(t){return t===void 0||typeof t===Ue}function x(t){return t===null||fe(t)}function qi(t){return!x(t)}function wr(t,e){return t&&nr.call(t,e)}function st(t){return typeof t===Xe}function z(t){return typeof t===gt}function Vt(t,e,r,n){n===void 0&&(n=!1);var i=!1;if(!x(t))try{x(t[Fo])?x(t[ko])||(t[ko](_o+e,r),i=!0):(t[Fo](e,r,n),i=!0)}catch(a){}return i}function Wn(t,e,r,n){if(n===void 0&&(n=!1),!x(t))try{x(t[Mo])?x(t[Ro])||t[Ro](_o+e,r):t[Mo](e,r,n)}catch(i){}}function ji(t){var e=t,r=/([^\w\d_$])/g;return r.test(t)&&(e=t.replace(r,"_")),e}function $(t,e){if(t)for(var r in t)nr.call(t,r)&&e.call(t,r,t[r])}function Gi(t,e){if(t&&e){var r=e.length,n=t.length;if(t===e)return!0;if(n>=r){for(var i=n-1,a=r-1;a>=0;a--){if(t[i]!=e[a])return!1;i--}return!0}}return!1}function Te(t,e){return t&&e?t.indexOf(e)!==-1:!1}function Pr(t){return Hi(t)==="[object Date]"}function Fe(t){return Hi(t)==="[object Array]"}function qt(t){return Hi(t)==="[object Error]"}function U(t){return typeof t=="string"}function ar(t){return typeof t=="number"}function Gr(t){return typeof t=="boolean"}function Re(t){if(Pr(t)){var e=function(r){var n=String(r);return n.length===1&&(n="0"+n),n};return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"."+String((t.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function R(t,e,r){for(var n=t.length,i=0;i<n&&!(i in t&&e.call(r||t,t[i],i,t)===-1);i++);}function Ft(t,e,r){for(var n=t.length,i=r||0,a=Math.max(i>=0?i:n-Math.abs(i),0);a<n;a++)if(a in t&&t[a]===e)return a;return-1}function jt(t,e,r){for(var n=t.length,i=r||t,a=new Array(n),o=0;o<n;o++)o in t&&(a[o]=e.call(i,t[o],t));return a}function Kr(t,e,r){var n=t.length,i=0,a;if(arguments.length>=3)a=arguments[2];else{for(;i<n&&!(i in t);)i++;a=t[i++]}for(;i<n;)i in t&&(a=e(a,t[i],i,t)),i++;return a}function oe(t){return typeof t!="string"?t:t.replace(/^\s+|\s+$/g,"")}function Ye(t){var e=typeof t;e!==gt&&(e!==Xe||t===null)&&Tr("objKeys called on non-object");var r=[];for(var n in t)t&&nr.call(t,n)&&r.push(n);if(_c)for(var i=zi.length,a=0;a<i;a++)t&&nr.call(t,zi[a])&&r.push(zi[a]);return r}function St(t,e,r,n){if(Lo)try{var i={enumerable:!0,configurable:!0};return r&&(i.get=r),n&&(i.set=n),Lo(t,e,i),!0}catch(a){}return!1}function pe(){var t=Date;return t.now?t.now():new t().getTime()}function G(t){return qt(t)?t.name:""}function K(t,e,r,n,i){var a=r;return t&&(a=t[e],a!==r&&(!i||i(a))&&(!n||n(r))&&(a=r,t[e]=a)),a}function ge(t,e,r){var n;return t?(n=t[e],!n&&x(n)&&(n=fe(r)?{}:r,t[e]=n)):n=fe(r)?{}:r,n}function Xn(t){return!t}function br(t){return!!t}function Ae(t){throw new Error(t)}function Wr(t,e,r){if(t&&e&&t!==e&&st(t)&&st(e)){var n=function(a){if(U(a)){var o=e[a];z(o)?(!r||r(a,!0,e,t))&&(t[a]=function(u){return function(){var s=arguments;return e[u].apply(e,s)}}(a)):(!r||r(a,!1,e,t))&&(wr(t,a)&&delete t[a],St(t,a,function(){return e[a]},function(u){e[a]=u})||(t[a]=o))}};for(var i in e)n(i)}return t}function Ki(t){return function(){function e(){var r=this;t&&$(t,function(n,i){r[n]=i})}return e}()}function Jn(t){return t&&(t=vt(Cr?Cr({},t):t)),t}var _o,ko,Fo,Ro,Mo,Lo,vf,mf,_c,zi,Me=I(()=>{ne();_o="on",ko="attachEvent",Fo="addEventListener",Ro="detachEvent",Mo="removeEventListener",Lo=On,vf=vt.freeze,mf=vt.seal;_c=!{toString:null}.propertyIsEnumerable("toString"),zi=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]});function Ee(t){var e=ot();return e&&e[t]?e[t]:t===Uo&&or()?window:null}function or(){return Boolean(typeof window===Xe&&window)}function It(){return or()?window:Ee(Uo)}function Qn(){return Boolean(typeof document===Xe&&document)}function De(){return Qn()?document:Ee(Uc)}function Bo(){return Boolean(typeof navigator===Xe&&navigator)}function Le(){return Bo()?navigator:Ee(Oc)}function zo(){return Boolean(typeof history===Xe&&history)}function Zi(){return zo()?history:Ee(Bc)}function $e(t){if(t&&Kc){var e=Ee("__mockLocation");if(e)return e}return typeof location===Xe&&location?location:Ee(zc)}function Yi(){return typeof console!==Ue?console:Ee(Hc)}function Je(){return Ee(Vc)}function mt(){return Boolean(typeof JSON===Xe&&JSON||Ee(Oo)!==null)}function we(){return mt()?JSON||Ee(Oo):null}function $i(){return Ee(qc)}function ea(){return Ee(jc)}function ta(){var t=Le();return t&&t.product?t.product===Gc:!1}function Gt(){var t=Le();if(t&&(t.userAgent!==Xi||Wi===null)){Xi=t.userAgent;var e=(Xi||"").toLowerCase();Wi=Te(e,Ji)||Te(e,Qi)}return Wi}function sr(t){if(t===void 0&&(t=null),!t){var e=Le()||{};t=e?(e.userAgent||"").toLowerCase():""}var r=(t||"").toLowerCase();if(Te(r,Ji))return parseInt(r.split(Ji)[1]);if(Te(r,Qi)){var n=parseInt(r.split(Qi)[1]);if(n)return n+4}return null}function O(t){var e=Object[Ie].toString.call(t),r="";return e==="[object Error]"?r="{ stack: '"+t.stack+"', message: '"+t.message+"', name: '"+t.name+"'":mt()&&(r=we().stringify(t)),e+r}var Uo,Uc,Oc,Bc,zc,Hc,Vc,Oo,qc,jc,Gc,Ji,Qi,Wi,Xi,Kc,Ar=I(()=>{"use strict";ne();Me();Uo="window",Uc="document",Oc="navigator",Bc="history",zc="location",Hc="console",Vc="performance",Oo="JSON",qc="crypto",jc="msCrypto",Gc="ReactNative",Ji="msie",Qi="trident/",Wi=null,Xi=null,Kc=!1});function Ho(t){return t?'"'+t.replace(/\"/g,"")+'"':""}function Mt(t,e){return(t||{}).logger||new Zn(e)}var Wc,Xc,Jc,Rt,Zn,Yn=I(()=>{"use strict";jr();Ar();Ce();Me();Wc="AI (Internal): ",Xc="AI: ",Jc="AITR_";Rt=function(){function t(e,r,n,i){n===void 0&&(n=!1);var a=this;a.messageId=e,a.message=(n?Xc:Wc)+e;var o="";mt()&&(o=we().stringify(i));var u=(r?" message:"+Ho(r):"")+(i?" props:"+Ho(o):"");a.message+=u}return t.dataType="MessageData",t}();Zn=function(){function t(e){this.identifier="DiagnosticLogger",this.queue=[];var r=0,n={};W(t,this,function(i){x(e)&&(e={}),i.consoleLoggingLevel=function(){return a("loggingLevelConsole",0)},i.telemetryLoggingLevel=function(){return a("loggingLevelTelemetry",1)},i.maxInternalMessageLimit=function(){return a("maxMessageLimit",25)},i.enableDebugExceptions=function(){return a("enableDebugExceptions",!1)},i.throwInternal=function(u,s,c,l,f){f===void 0&&(f=!1);var g=new Rt(s,c,f,l);if(i.enableDebugExceptions())throw g;if(!fe(g.message)){var C=i.consoleLoggingLevel();if(f){var E=+g.messageId;!n[E]&&C>=S.WARNING&&(i.warnToConsole(g.message),n[E]=!0)}else C>=S.WARNING&&i.warnToConsole(g.message);i.logInternalMessage(u,g)}},i.warnToConsole=function(u){var s=Yi();if(s){var c="log";s.warn&&(c="warn"),z(s[c])&&s[c](u)}},i.resetInternalMessageCount=function(){r=0,n={}},i.logInternalMessage=function(u,s){if(!o()){var c=!0,l=Jc+s.messageId;if(n[l]?c=!1:n[l]=!0,c&&(u<=i.telemetryLoggingLevel()&&(i.queue.push(s),r++),r===i.maxInternalMessageLimit())){var f="Internal events throttle limit per PageView reached for this app.",g=new Rt(h.MessageLimitPerPVExceeded,f,!1);i.queue.push(g),i.warnToConsole(f)}}};function a(u,s){var c=e[u];return x(c)?s:c}function o(){return r>=i.maxInternalMessageLimit()}})}return t}()});function ut(t,e,r,n,i){if(t){var a=t;if(z(a.getPerfMgr)&&(a=a.getPerfMgr()),a){var o=void 0,u=a.getCtx(ra);try{if(o=a.create(e(),n,i),o){if(u&&o.setCtx&&(o.setCtx(ur.ParentContextKey,u),u.getCtx&&u.setCtx)){var s=u.getCtx(ur.ChildrenContextKey);s||(s=[],u.setCtx(ur.ChildrenContextKey,s)),s.push(o)}return a.setCtx(ra,o),r(o)}}catch(c){o&&o.setCtx&&o.setCtx("exception",c)}finally{o&&a.fire(o),a.setCtx(ra,u)}}}return r()}var Dr,ur,Xr,ra,Jr=I(()=>{Ce();Me();Dr="ctx",ur=function(){function t(e,r,n){var i=this,a=!1;if(i.start=pe(),i.name=e,i.isAsync=n,i.isChildEvt=function(){return!1},z(r)){var o;a=St(i,"payload",function(){return!o&&z(r)&&(o=r(),r=null),o})}i.getCtx=function(u){return u?u===t.ParentContextKey||u===t.ChildrenContextKey?i[u]:(i[Dr]||{})[u]:null},i.setCtx=function(u,s){if(u)if(u===t.ParentContextKey)i[u]||(i.isChildEvt=function(){return!0}),i[u]=s;else if(u===t.ChildrenContextKey)i[u]=s;else{var c=i[Dr]=i[Dr]||{};c[u]=s}},i.complete=function(){var u=0,s=i.getCtx(t.ChildrenContextKey);if(Fe(s))for(var c=0;c<s.length;c++){var l=s[c];l&&(u+=l.time)}i.time=pe()-i.start,i.exTime=i.time-u,i.complete=function(){},!a&&z(r)&&(i.payload=r())}}return t.ParentContextKey="parent",t.ChildrenContextKey="childEvts",t}(),Xr=function(){function t(e){this.ctx={},W(t,this,function(r){r.create=function(n,i,a){return new ur(n,i,a)},r.fire=function(n){n&&(n.complete(),e&&e.perfEvent(n))},r.setCtx=function(n,i){if(n){var a=r[Dr]=r[Dr]||{};a[n]=i}},r.getCtx=function(n){return(r[Dr]||{})[n]}})}return t}(),ra="CoreUtils.doPerf"});var Vo,qo=I(()=>{"use strict";Jr();jr();Me();Vo=function(){function t(e,r){var n=this,i=null,a=z(e.processTelemetry),o=z(e.setNextPlugin);n._hasRun=!1,n.getPlugin=function(){return e},n.getNext=function(){return i},n.setNext=function(u){i=u},n.processTelemetry=function(u,s){s||(s=r);var c=e?e.identifier:"TelemetryPluginChain";ut(s?s.core():null,function(){return c+":processTelemetry"},function(){if(e&&a){n._hasRun=!0;try{s.setNext(i),o&&e.setNextPlugin(i),i&&(i._hasRun=!1),e.processTelemetry(u,s)}catch(f){var l=i&&i._hasRun;(!i||!l)&&s.diagLog().throwInternal(S.CRITICAL,h.PluginException,"Plugin ["+e.identifier+"] failed during processTelemetry - "+f),i&&!l&&i.processTelemetry(u,s)}}else i&&(n._hasRun=!0,i.processTelemetry(u,s))},function(){return{item:u}},!u.sync)}}return t}()});function na(t,e){var r=[];if(t&&t.length>0)for(var n=null,i=0;i<t.length;i++){var a=t[i];if(a&&z(a.processTelemetry)){var o=new Vo(a,e);r.push(o),n&&n.setNext(o),n=o}}return r.length>0?r[0]:null}function Qc(t,e,r){var n=[],i=!r;if(t)for(;t;){var a=t.getPlugin();(i||a===r)&&(i=!0,n.push(a)),t=t.getNext()}return i||n.push(r),na(n,e)}function Zc(t,e,r){var n=t,i=!1;return r&&t&&(n=[],R(t,function(a){(i||a===r)&&(i=!0,n.push(a))})),r&&!i&&(n||(n=[]),n.push(r)),na(n,e)}var Lt,$n=I(()=>{"use strict";Yn();qo();Me();Lt=function(){function t(e,r,n,i){var a=this,o=null;i!==null&&(e&&z(e.getPlugin)?o=Qc(e,a,i||e.getPlugin()):i?o=Zc(e,a,i):fe(i)&&(o=na(e,a))),a.core=function(){return n},a.diagLog=function(){return Mt(n,r)},a.getCfg=function(){return r},a.getExtCfg=function(u,s){s===void 0&&(s={});var c;if(r){var l=r.extensionConfig;l&&u&&(c=l[u])}return c||s},a.getConfig=function(u,s,c){c===void 0&&(c=!1);var l,f=a.getExtCfg(u,null);return f&&!x(f[s])?l=f[s]:r&&!x(r[s])&&(l=r[s]),x(l)?c:l},a.hasNext=function(){return o!=null},a.getNext=function(){return o},a.setNext=function(u){o=u},a.processNext=function(u){var s=o;s&&(o=s.getNext(),s.processTelemetry(u,a))},a.createNew=function(u,s){return u===void 0&&(u=null),new t(u||o,r,n,s)}}return t}()});var jo,ei,ia=I(()=>{jo="iKey",ei="extensionConfig"});var ti,et,aa=I(()=>{"use strict";$n();Me();ia();ti="getPlugin",et=function(){function t(){var e=this,r=!1,n=null,i=null;e.core=null,e.diagLog=function(a){return e._getTelCtx(a).diagLog()},e.isInitialized=function(){return r},e.setInitialized=function(a){r=a},e.setNextPlugin=function(a){i=a},e.processNext=function(a,o){o?o.processNext(a):i&&z(i.processTelemetry)&&i.processTelemetry(a,null)},e._getTelCtx=function(a){a===void 0&&(a=null);var o=a;if(!o){var u=n||new Lt(null,{},e.core);i&&i[ti]?o=u.createNew(null,i[ti]):o=u.createNew(null,i)}return o},e._baseTelInit=function(a,o,u,s){a&&K(a,ei,[],null,x),!s&&o&&(s=o.getProcessTelContext().getNext());var c=i;i&&i[ti]&&(c=i[ti]()),e.core=o,n=new Lt(s,a,o,c),r=!0}}return t.prototype.initialize=function(e,r,n,i){this._baseTelInit(e,r,n,i)},t}()});function Qr(t,e){for(var r=[],n=null,i=t.getNext();i;){var a=i.getPlugin();a&&(n&&z(n[Ko])&&z(a[oa])&&n[Ko](a),(!z(a[Wo])||!a[Wo]())&&r.push(a),n=a,i=i.getNext())}R(r,function(o){o.initialize(t.getCfg(),t.core(),e,t.getNext())})}function sa(t){return t.sort(function(e,r){var n=0,i=z(r[oa]);return z(e[oa])?n=i?e[Go]-r[Go]:1:i&&(n=-1),n})}var oa,Go,Ko,Wo,ua=I(()=>{"use strict";Me();oa="processTelemetry",Go="priority",Ko="setNextPlugin",Wo="isInitialized"});var ca,Yc,Xo,Jo=I(()=>{"use strict";ne();Ce();aa();$n();ua();Me();ca=500,Yc="Channel has invalid priority",Xo=function(t){B(e,t);function e(){var r=t.call(this)||this;r.identifier="ChannelControllerPlugin",r.priority=ca;var n;W(e,r,function(u,s){u.setNextPlugin=function(c){},u.processTelemetry=function(c,l){n&&R(n,function(f){if(f.length>0){var g=r._getTelCtx(l).createNew(f);g.processNext(c)}})},u.getChannelControls=function(){return n},u.initialize=function(c,l,f){u.isInitialized()||(s.initialize(c,l,f),o((c||{}).channels,f),R(n,function(g){return Qr(new Lt(g,c,l),f)}))}});function i(u){R(u,function(s){s.priority<ca&&Ae(Yc+s.identifier)})}function a(u){u&&u.length>0&&(u=u.sort(function(s,c){return s.priority-c.priority}),i(u),n.push(u))}function o(u,s){if(n=[],u&&R(u,function(l){return a(l)}),s){var c=[];R(s,function(l){l.priority>ca&&c.push(l)}),a(c)}}return r}return e._staticInit=function(){var r=e.prototype;St(r,"ChannelControls",r.getChannelControls),St(r,"channelQueue",r.getChannelControls)}(),e}(et)});function va(t,e){var r=cr[Kt]||ii[Kt];return r||(r=cr[Kt]=cr(t,e),ii[Kt]=r),r}function ni(t){return t?t.isEnabled():!0}function $c(t){var e=t.cookieCfg=t.cookieCfg||{};if(K(e,"domain",t.cookieDomain,qi,x),K(e,"path",t.cookiePath||"/",null,x),x(e[pa])){var r=void 0;fe(t[Yo])||(r=!t[Yo]),fe(t[$o])||(r=!t[$o]),e[pa]=r}return e}function lr(t,e){var r;if(t)r=t.getCookieMgr();else if(e){var n=e.cookieCfg;n[Kt]?r=n[Kt]:r=cr(e)}return r||(r=va(e,(t||{}).logger)),r}function cr(t,e){var r=$c(t||ii),n=r.path||"/",i=r.domain,a=r[pa]!==!1,o={isEnabled:function(){var u=a&&da(e),s=ii[Kt];return u&&s&&o!==s&&(u=ni(s)),u},setEnabled:function(u){a=u!==!1},set:function(u,s,c,l,f){if(ni(o)){var g={},C=oe(s||ht),E=C.indexOf(";");if(E!==-1&&(C=oe(s.substring(0,E)),g=as(s.substring(E+1))),K(g,"domain",l||i,br,fe),!x(c)){var b=Gt();if(fe(g[la])){var p=pe(),m=p+c*1e3;if(m>0){var y=new Date;y.setTime(m),K(g,la,rs(y,b?Qo:Zo)||rs(y,b?Qo:Zo)||ht,br)}}b||K(g,"max-age",ht+c,null,fe)}var w=$e();w&&w.protocol==="https:"&&(K(g,"secure",null,null,fe),fa===null&&(fa=!ai((Le()||{}).userAgent)),fa&&K(g,"SameSite","None",null,fe)),K(g,"path",f||n,null,fe);var L=r.setCookie||is;L(u,ns(C,g))}},get:function(u){var s=ht;return ni(o)&&(s=(r.getCookie||el)(u)),s},del:function(u,s){ni(o)&&o.purge(u,s)},purge:function(u,s){if(da(e)){var c=(f={},f.path=s||"/",f[la]="Thu, 01 Jan 1970 00:00:01 GMT",f);Gt()||(c["max-age"]="0");var l=r.delCookie||is;l(u,ns(ht,c))}var f}};return o[Kt]=o,o}function da(t){if(ri===null){ri=!1;try{var e=Zr||{};ri=e[ga]!==void 0}catch(r){t&&t.throwInternal(S.WARNING,h.CannotAccessCookie,"Cannot access document.cookie - "+G(r),{exception:O(r)})}}return ri}function as(t){var e={};if(t&&t.length){var r=oe(t).split(";");R(r,function(n){if(n=oe(n||ht),n){var i=n.indexOf("=");i===-1?e[n]=null:e[oe(n.substring(0,i))]=oe(n.substring(i+1))}})}return e}function rs(t,e){return z(t[e])?t[e]():null}function ns(t,e){var r=t||ht;return $(e,function(n,i){r+="; "+n+(x(i)?ht:"="+i)}),r}function el(t){var e=ht;if(Zr){var r=Zr[ga]||ht;es!==r&&(ts=as(r),es=r),e=oe(ts[t]||ht)}return e}function is(t,e){Zr&&(Zr[ga]=t+"="+e)}function ai(t){return U(t)?!!(Te(t,"CPU iPhone OS 12")||Te(t,"iPad; CPU OS 12")||Te(t,"Macintosh; Intel Mac OS X 10_14")&&Te(t,"Version/")&&Te(t,"Safari")||Te(t,"Macintosh; Intel Mac OS X 10_14")&&Gi(t,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Te(t,"Chrome/5")||Te(t,"Chrome/6")||Te(t,"UnrealEngine")&&!Te(t,"Chrome")||Te(t,"UCBrowser/12")||Te(t,"UCBrowser/11")):!1}var Qo,Zo,ga,la,pa,Yo,$o,Kt,ht,ri,fa,es,Zr,ts,ii,oi=I(()=>{jr();Ar();Me();Qo="toGMTString",Zo="toUTCString",ga="cookie",la="expires",pa="enabled",Yo="isCookieUseDisabled",$o="disableCookiesUsage",Kt="_ckMgr",ht="",ri=null,fa=null,es=null,Zr=De(),ts={},ii={}});var tl,os,Yr,ma=I(()=>{"use strict";ne();Ce();Jo();$n();ua();Jr();oi();Me();ia();tl="Extensions must provide callback to initialize",os="_notificationManager",Yr=function(){function t(){var e=!1,r,n,i,a,o;W(t,this,function(u){u._extensions=new Array,n=new Xo,u.logger=Dt({throwInternal:function(s,c,l,f,g){g===void 0&&(g=!1)},warnToConsole:function(s){},resetInternalMessageCount:function(){}}),r=[],u.isInitialized=function(){return e},u.initialize=function(s,c,l,f){u.isInitialized()&&Ae("Core should not be initialized more than once"),(!s||x(s.instrumentationKey))&&Ae("Please provide instrumentation key"),i=f,u[os]=f,u.config=s||{},s.extensions=x(s.extensions)?[]:s.extensions;var g=ge(s,ei);g.NotificationManager=f,l&&(u.logger=l);var C=[];C.push.apply(C,c.concat(s.extensions)),C=sa(C);var E=[],b=[],p={};R(C,function(m){(x(m)||x(m.initialize))&&Ae(tl);var y=m.priority,w=m.identifier;m&&y&&(x(p[y])?p[y]=w:l.warnToConsole("Two extensions have same priority #"+y+" - "+p[y]+", "+w)),!y||y<n.priority?E.push(m):b.push(m)}),C.push(n),E.push(n),C=sa(C),u._extensions=C,Qr(new Lt([n],s,u),C),Qr(new Lt(E,s,u),C),u._extensions=E,u.getTransmissionControls().length===0&&Ae("No channels available"),e=!0,u.releaseQueue()},u.getTransmissionControls=function(){return n.getChannelControls()},u.track=function(s){K(s,jo,u.config.instrumentationKey,null,Xn),K(s,"time",Re(new Date),null,Xn),K(s,"ver","4.0",null,x),u.isInitialized()?u.getProcessTelContext().processNext(s):r.push(s)},u.getProcessTelContext=function(){var s=u._extensions,c=s;return(!s||s.length===0)&&(c=[n]),new Lt(c,u.config,u)},u.getNotifyMgr=function(){return i||(i=Dt({addNotificationListener:function(s){},removeNotificationListener:function(s){},eventsSent:function(s){},eventsDiscarded:function(s,c){},eventsSendRequest:function(s,c){}}),u[os]=i),i},u.getCookieMgr=function(){return o||(o=cr(u.config,u.logger)),o},u.setCookieMgr=function(s){o=s},u.getPerfMgr=function(){return a||u.config&&u.config.enablePerfMgr&&(a=new Xr(u.getNotifyMgr())),a},u.setPerfMgr=function(s){a=s},u.eventCnt=function(){return r.length},u.releaseQueue=function(){r.length>0&&(R(r,function(s){u.getProcessTelContext().processNext(s)}),r=[])}})}return t}()});var $r,ha=I(()=>{Ce();Me();$r=function(){function t(e){this.listeners=[];var r=!!(e||{}).perfEvtsSendAll;W(t,this,function(n){n.addNotificationListener=function(i){n.listeners.push(i)},n.removeNotificationListener=function(i){for(var a=Ft(n.listeners,i);a>-1;)n.listeners.splice(a,1),a=Ft(n.listeners,i)},n.eventsSent=function(i){R(n.listeners,function(a){a&&a.eventsSent&&setTimeout(function(){return a.eventsSent(i)},0)})},n.eventsDiscarded=function(i,a){R(n.listeners,function(o){o&&o.eventsDiscarded&&setTimeout(function(){return o.eventsDiscarded(i,a)},0)})},n.eventsSendRequest=function(i,a){R(n.listeners,function(o){if(o&&o.eventsSendRequest)if(a)setTimeout(function(){return o.eventsSendRequest(i,a)},0);else try{o.eventsSendRequest(i,a)}catch(u){}})},n.perfEvent=function(i){i&&(r||!i.isChildEvt())&&R(n.listeners,function(a){if(a&&a.perfEvent)if(i.isAsync)setTimeout(function(){return a.perfEvent(i)},0);else try{a.perfEvent(i)}catch(o){}})}})}return t}()});var en,ss=I(()=>{ne();ma();Io();ha();Jr();Yn();Ce();Me();en=function(t){B(e,t);function e(){var r=t.call(this)||this;return W(e,r,function(n,i){n.initialize=function(u,s,c,l){i.initialize(u,s,c||new Zn(u),l||new $r(u))},n.track=function(u){ut(n.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){u===null&&(o(u),Ae("Invalid telemetry item")),a(u),i.track(u)},function(){return{item:u}},!u.sync)},n.addNotificationListener=function(u){var s=n.getNotifyMgr();s&&s.addNotificationListener(u)},n.removeNotificationListener=function(u){var s=n.getNotifyMgr();s&&s.removeNotificationListener(u)},n.pollInternalLogs=function(u){var s=n.config.diagnosticLogInterval;return(!s||!(s>0))&&(s=1e4),setInterval(function(){var c=n.logger?n.logger.queue:[];R(c,function(l){var f={name:u||"InternalMessageId: "+l.messageId,iKey:n.config.instrumentationKey,time:Re(new Date),baseType:Rt.dataType,baseData:{message:l.message}};n.track(f)}),c.length=0},s)};function a(u){if(x(u.name))throw o(u),Error("telemetry name required")}function o(u){var s=n.getNotifyMgr();s&&s.eventsDiscarded([u],So.InvalidEvent)}}),r}return e}(Yr)});function ls(t){t<0&&(t>>>=0),tn=123456789+t&Wt,rn=987654321-t&Wt,cs=!0}function fs(){try{var t=pe()&2147483647;ls((Math.random()*us^t)+t)}catch(e){}}function si(t){return t>0?Math.floor(Ct()/Wt*(t+1))>>>0:0}function Ct(t){var e,r=$i()||ea();return r&&r.getRandomValues?e=r.getRandomValues(new Uint32Array(1))[0]&Wt:Gt()?(cs||fs(),e=ui()&Wt):e=Math.floor(us*Math.random()|0),t||(e>>>=0),e}function xa(t){t?ls(t):fs()}function ui(t){rn=36969*(rn&65535)+(rn>>16)&Wt,tn=18e3*(tn&65535)+(tn>>16)&Wt;var e=(rn<<16)+(tn&65535)>>>0&Wt|0;return t||(e>>>=0),e}var us,Wt,cs,tn,rn,ya=I(()=>{Ar();Me();us=4294967296,Wt=4294967295,cs=!1,tn=123456789,rn=987654321});function _t(t,e){var r=!1,n=It();n&&(r=Vt(n,t,e),r=Vt(n.body,t,e)||r);var i=De();return i&&(r=Jt.Attach(i,t,e)||r),r}function ps(){function t(){return si(15)}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(rl,function(e){var r=t()|0,n=e==="x"?r:r&3|8;return n.toString(16)})}function ds(){var t=Je();return t&&t.now?t.now():pe()}function Xt(t){t===void 0&&(t=22);for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=Ct()>>>0,n=0,i="";i.length<t;)n++,i+=e.charAt(r&63),r>>>=6,n===5&&(r=(Ct()<<2&4294967295|r&3)>>>0,n=0);return i}function Oe(){for(var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],e="",r,n=0;n<4;n++)r=Ct(),e+=t[r&15]+t[r>>4&15]+t[r>>8&15]+t[r>>12&15]+t[r>>16&15]+t[r>>20&15]+t[r>>24&15]+t[r>>28&15];var i=t[8+(Ct()&3)|0];return e.substr(0,8)+e.substr(9,4)+"4"+e.substr(13,3)+i+e.substr(16,3)+e.substr(19,12)}function Qt(t,e){var r=va(t,e),n=on._canUseCookies;return nn===null&&(nn=[],an=n,St(on,"_canUseCookies",function(){return an},function(i){an=i,R(nn,function(a){a.setEnabled(i)})})),Ft(nn,r)===-1&&nn.push(r),Gr(n)&&r.setEnabled(n),Gr(an)&&r.setEnabled(an),r}function ci(){Qt().setEnabled(!1)}function Sa(t){return Qt(null,t).isEnabled()}function Ia(t,e){return Qt(null,t).get(e)}function Ca(t,e,r,n){Qt(null,t).set(e,r,null,n)}function Ta(t,e){return Qt(null,t).del(e)}var nn,an,on,rl,Jt,gs=I(()=>{"use strict";ne();oi();Ar();Me();ya();nn=null;on={_canUseCookies:void 0,isTypeof:Vi,isUndefined:fe,isNullOrUndefined:x,hasOwnProperty:wr,isFunction:z,isObject:st,isDate:Pr,isArray:Fe,isError:qt,isString:U,isNumber:ar,isBoolean:Gr,toISOString:Re,arrForEach:R,arrIndexOf:Ft,arrMap:jt,arrReduce:Kr,strTrim:oe,objCreate:Dt,objKeys:Ye,objDefineAccessors:St,addEventHandler:_t,dateNow:pe,isIE:Gt,disableCookies:ci,newGuid:ps,perfNow:ds,newId:Xt,randomValue:si,random32:Ct,mwcRandomSeed:xa,mwcRandom32:ui,generateW3CId:Oe},rl=/[xy]/g,Jt={Attach:Vt,AttachEvent:Vt,Detach:Wn,DetachEvent:Wn}});function wa(t,e){if(t)for(var r=0;r<t.length&&!e(t[r],r);r++);}function Ea(t,e,r,n,i){i>=0&&i<=2&&wa(t,function(a,o){var u=a.cbks,s=u[ms[i]];if(s){e.ctx=function(){var f=n[o]=n[o]||{};return f};try{s.apply(e.inst,r)}catch(f){var c=e.err;try{var l=u[ms[2]];l&&(e.err=f,l.apply(e.inst,r))}catch(g){}finally{e.err=c}}}})}function al(t){return function(){var e=this,r=arguments,n=t.h,i={name:t.n,inst:e,ctx:null,set:s},a=[],o=u([i],r);function u(l,f){return wa(f,function(g){l.push(g)}),l}function s(l,f){r=u([],r),r[l]=f,o=u([i],r)}Ea(n,i,o,a,0);var c=t.f;try{i.rslt=c.apply(e,r)}catch(l){throw i.err=l,Ea(n,i,o,a,3),l}return Ea(n,i,o,a,1),i.rslt}}function ol(t){if(t){if(hs)return hs(t);var e=t[nl]||t[Ie]||t[il];if(e)return e}return null}function xs(t,e,r){var n=null;return t&&(wr(t,e)?n=t:r&&(n=xs(ol(t),e,!1))),n}function Pa(t,e,r){return t?sn(t[Ie],e,r,!1):null}function sn(t,e,r,n){if(n===void 0&&(n=!0),t&&e&&r){var i=xs(t,e,n);if(i){var a=i[e];if(typeof a===gt){var o=a[vs];if(!o){o={i:0,n:e,f:a,h:[]};var u=al(o);u[vs]=o,i[e]=u}var s={id:o.i,cbks:r,rm:function(){var c=this.id;wa(o.h,function(l,f){if(l.id===c)return o.h.splice(f,1),1})}};return o.i++,o.h.push(s),s}}}return null}var vs,ms,nl,il,hs,ys=I(()=>{ne();Me();vs="_aiHooks",ms=["req","rsp","hkErr","fnErr"],nl="__proto__",il="constructor";hs=Object.getPrototypeOf});var X=I(()=>{ss();ma();aa();ya();gs();Me();Ar();ne();ha();Jr();Yn();jr();ys();oi()});var te,ba=I(()=>{te={requestContextHeader:"Request-Context",requestContextTargetKey:"appId",requestContextAppIdFormat:"appId=cid-v1:",requestIdHeader:"Request-Id",traceParentHeader:"traceparent",traceStateHeader:"tracestate",sdkContextHeader:"Sdk-Context",sdkContextHeaderAppIdRequest:"appId",requestContextHeaderLowerCase:"request-context"}});function li(t,e,r){var n=e.length,i=Aa(t,e);if(i.length!==n){for(var a=0,o=i;r[o]!==void 0;)a++,o=i.substring(0,150-3)+Da(a);i=o}return i}function Aa(t,e){var r;return e&&(e=oe(e.toString()),e.length>150&&(r=e.substring(0,150),t.throwInternal(S.WARNING,h.NameTooLong,"name is too long.  It has been truncated to "+150+" characters.",{name:e},!0))),r||e}function ae(t,e,r){r===void 0&&(r=1024);var n;return e&&(r=r||1024,e=oe(e),e.toString().length>r&&(n=e.toString().substring(0,r),t.throwInternal(S.WARNING,h.StringValueTooLong,"string value is too long. It has been truncated to "+r+" characters.",{value:e},!0))),n||e}function Tt(t,e){return di(t,e,2048,h.UrlTooLong)}function Nr(t,e){var r;return e&&e.length>32768&&(r=e.substring(0,32768),t.throwInternal(S.WARNING,h.MessageTruncated,"message is too long, it has been truncated to "+32768+" characters.",{message:e},!0)),r||e}function fi(t,e){var r;if(e){var n=""+e;n.length>32768&&(r=n.substring(0,32768),t.throwInternal(S.WARNING,h.ExceptionTruncated,"exception is too long, it has been truncated to "+32768+" characters.",{exception:e},!0))}return r||e}function Be(t,e){if(e){var r={};$(e,function(n,i){if(st(i)&&mt())try{i=we().stringify(i)}catch(a){t.throwInternal(S.WARNING,h.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:a},!0)}i=ae(t,i,8192),n=li(t,n,r),r[n]=i}),e=r}return e}function ze(t,e){if(e){var r={};$(e,function(n,i){n=li(t,n,r),r[n]=i}),e=r}return e}function pi(t,e){return e&&di(t,e,128,h.IdTooLong).toString()}function di(t,e,r,n){var i;return e&&(e=oe(e),e.length>r&&(i=e.substring(0,r),t.throwInternal(S.WARNING,n,"input is too long, it has been truncated to "+r+" characters.",{data:e},!0))),i||e}function Da(t){var e="00"+t;return e.substr(e.length-3)}var Na,ct=I(()=>{X();Na={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768,sanitizeKeyAndAddUniqueness:li,sanitizeKey:Aa,sanitizeString:ae,sanitizeUrl:Tt,sanitizeMessage:Nr,sanitizeException:fi,sanitizeProperties:Be,sanitizeMeasurements:ze,sanitizeId:pi,sanitizeInput:di,padNumber:Da,trim:oe}});function Ut(t){var e=null;if(z(Event))e=new Event(t);else{var r=De();r&&r.createEvent&&(e=r.createEvent("Event"),e.initEvent(t,!0,!0))}return e}var ka=I(()=>{X()});function ee(t,e){return e===void 0&&(e=!1),t==null?e:t.toString().toLowerCase()==="true"}function Ge(t){(isNaN(t)||t<0)&&(t=0),t=Math.round(t);var e=""+t%1e3,r=""+Math.floor(t/1e3)%60,n=""+Math.floor(t/(1e3*60))%60,i=""+Math.floor(t/(1e3*60*60))%24,a=Math.floor(t/(1e3*60*60*24));return e=e.length===1?"00"+e:e.length===2?"0"+e:e,r=r.length<2?"0"+r:r,n=n.length<2?"0"+n:n,i=i.length<2?"0"+i:i,(a>0?a+".":"")+i+":"+n+":"+r+"."+e}function kr(){var t=Le();return"sendBeacon"in t&&t.sendBeacon}function un(t,e){var r=null;return R(t,function(n){if(n.identifier===e)return r=n,-1}),r}function cn(t,e,r,n,i){return!i&&U(t)&&(t==="Script error."||t==="Script error")}var ln=I(()=>{X()});var Et,fr,Ot,Fr,fn,ce,lt=I(()=>{Et="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",fr="sampleRate",Ot="ProcessLegacy",Fr="http.method",fn="https://dc.services.visualstudio.com",ce="not_specified"});var Zt,Ke,Fa=I(()=>{(function(t){t[t.LocalStorage=0]="LocalStorage",t[t.SessionStorage=1]="SessionStorage"})(Zt||(Zt={}));(function(t){t[t.AI=0]="AI",t[t.AI_AND_W3C=1]="AI_AND_W3C",t[t.W3C=2]="W3C"})(Ke||(Ke={}))});function Ra(){return Rr()?gi(Zt.LocalStorage):null}function gi(t){try{if(x(ot()))return null;var e=new Date,r=Ee(t===Zt.LocalStorage?"localStorage":"sessionStorage");r.setItem(e.toString(),e.toString());var n=r.getItem(e.toString())!==e.toString();if(r.removeItem(e.toString()),!n)return r}catch(i){}return null}function Ma(){return wt()?gi(Zt.SessionStorage):null}function pn(){pr=!1,dr=!1}function Rr(){return pr===void 0&&(pr=!!gi(Zt.LocalStorage)),pr}function dn(t,e){var r=Ra();if(r!==null)try{return r.getItem(e)}catch(n){pr=!1,t.throwInternal(S.WARNING,h.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+G(n),{exception:O(n)})}return null}function gn(t,e,r){var n=Ra();if(n!==null)try{return n.setItem(e,r),!0}catch(i){pr=!1,t.throwInternal(S.WARNING,h.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+G(i),{exception:O(i)})}return!1}function vn(t,e){var r=Ra();if(r!==null)try{return r.removeItem(e),!0}catch(n){pr=!1,t.throwInternal(S.WARNING,h.BrowserFailedRemovalFromLocalStorage,"Browser failed removal of local storage item. "+G(n),{exception:O(n)})}return!1}function wt(){return dr===void 0&&(dr=!!gi(Zt.SessionStorage)),dr}function La(){var t=[];return wt()&&$(Ee("sessionStorage"),function(e){t.push(e)}),t}function Yt(t,e){var r=Ma();if(r!==null)try{return r.getItem(e)}catch(n){dr=!1,t.throwInternal(S.WARNING,h.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+G(n),{exception:O(n)})}return null}function $t(t,e,r){var n=Ma();if(n!==null)try{return n.setItem(e,r),!0}catch(i){dr=!1,t.throwInternal(S.WARNING,h.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+G(i),{exception:O(i)})}return!1}function mn(t,e){var r=Ma();if(r!==null)try{return r.removeItem(e),!0}catch(n){dr=!1,t.throwInternal(S.WARNING,h.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+G(n),{exception:O(n)})}return!1}var pr,dr,_a=I(()=>{X();Fa();pr=void 0,dr=void 0});function gr(t){var e=Is,r=sl,n=r[e];return Ss.createElement?r[e]||(n=r[e]=Ss.createElement("a")):n={host:vi(t,!0)},n.href=t,e++,e>=r.length&&(e=0),Is=e,n}function hn(t){var e,r=gr(t);return r&&(e=r.href),e}function Ua(t){var e,r=gr(t);return r&&(e=r.pathname),e}function xn(t,e){return t?t.toUpperCase()+" "+e:e}function vi(t,e){var r=yn(t,e)||"";if(r){var n=r.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(n!=null&&n.length>3&&U(n[2])&&n[2].length>0)return n[2]+(n[3]||"")}return r}function yn(t,e){var r=null;if(t){var n=t.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i);if(n!=null&&n.length>2&&U(n[2])&&n[2].length>0&&(r=n[2]||"",e&&n.length>2)){var i=(n[1]||"").toLowerCase(),a=n[3]||"";(i==="http"&&a===":80"||i==="https"&&a===":443")&&(a=""),r+=a}}return r}var Ss,Is,sl,Oa=I(()=>{X();Ss=De()||{},Is=0,sl=[null,null,null,null,null]});function Mr(t){return ul.indexOf(t.toLowerCase())!==-1}function Cs(t,e,r,n){var i,a=n,o=n;if(e&&e.length>0){var u=gr(e);if(i=u.host,!a)if(u.pathname!=null){var s=u.pathname.length===0?"/":u.pathname;s.charAt(0)!=="/"&&(s="/"+s),o=u.pathname,a=ae(t,r?r+" "+s:s)}else a=ae(t,e)}else i=n,a=n;return{target:i,name:a,data:o}}function vr(){var t=Je();if(t&&t.now&&t.timing){var e=t.now()+t.timing.navigationStart;if(e>0)return e}return pe()}function ve(t,e){var r=null;return t!==0&&e!==0&&!x(t)&&!x(e)&&(r=e-t),r}var ul,Sn,Ba,Pt,za,Ha=I(()=>{X();ba();ct();ka();ln();lt();_a();Oa();ul=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"];Sn={NotSpecified:ce,createDomEvent:Ut,disableStorage:pn,isInternalApplicationInsightsEndpoint:Mr,canUseLocalStorage:Rr,getStorage:dn,setStorage:gn,removeStorage:vn,canUseSessionStorage:wt,getSessionStorageKeys:La,getSessionStorage:Yt,setSessionStorage:$t,removeSessionStorage:mn,disableCookies:ci,canUseCookies:Sa,disallowsSameSiteNone:ai,setCookie:Ca,stringToBoolOrDefault:ee,getCookie:Ia,deleteCookie:Ta,trim:oe,newId:Xt,random32:function(){return Ct(!0)},generateW3CId:Oe,isArray:Fe,isError:qt,isDate:Pr,toISOStringForIE8:Re,getIEVersion:sr,msToTimeSpan:Ge,isCrossOriginError:cn,dump:O,getExceptionName:G,addEventHandler:Vt,IsBeaconApiSupported:kr,getExtension:un},Ba={parseUrl:gr,getAbsoluteUrl:hn,getPathName:Ua,getCompleteUrl:xn,parseHost:vi,parseFullHost:yn},Pt={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(t,e,r){if(!e||t&&t.disableCorrelationHeaders)return!1;if(t&&t.correlationHeaderExcludePatterns){for(var n=0;n<t.correlationHeaderExcludePatterns.length;n++)if(t.correlationHeaderExcludePatterns[n].test(e))return!1}var i=gr(e).host.toLowerCase();if(i&&(i.indexOf(":443")!==-1||i.indexOf(":80")!==-1)&&(i=(yn(e,!0)||"").toLowerCase()),(!t||!t.enableCorsCorrelation)&&i&&i!==r)return!1;var a=t&&t.correlationHeaderDomains;if(a){var o;if(R(a,function(c){var l=new RegExp(c.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));o=o||l.test(i)}),!o)return!1}var u=t&&t.correlationHeaderExcludedDomains;if(!u||u.length===0)return!0;for(var n=0;n<u.length;n++){var s=new RegExp(u[n].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(s.test(i))return!1}return i&&i.length>0},getCorrelationContext:function(t){if(t){var e=Pt.getCorrelationContextValue(t,te.requestContextTargetKey);if(e&&e!==Pt.correlationIdPrefix)return e}},getCorrelationContextValue:function(t,e){if(t)for(var r=t.split(","),n=0;n<r.length;++n){var i=r[n].split("=");if(i.length===2&&i[0]===e)return i[1]}}};za={Now:vr,GetDuration:ve}});function mi(t){if(!t)return{};var e=t.split(cl),r=Kr(e,function(i,a){var o=a.split(ll);if(o.length===2){var u=o[0].toLowerCase(),s=o[1];i[u]=s}return i},{});if(Ye(r).length>0){if(r.endpointsuffix){var n=r.location?r.location+".":"";r.ingestionendpoint=r.ingestionendpoint||"https://"+n+"dc."+r.endpointsuffix}r.ingestionendpoint=r.ingestionendpoint||fn}return r}var cl,ll,Va,Ts=I(()=>{lt();X();cl=";",ll="=";Va={parse:mi}});var In,qa=I(()=>{In=function(){function t(){}return t}()});var Cn,ja=I(()=>{ne();qa();Cn=function(t){B(e,t);function e(){return t.call(this)||this}return e}(In)});var Es,ws=I(()=>{Es=function(){function t(){this.ver=1,this.sampleRate=100,this.tags={}}return t}()});var Tn,Ps=I(()=>{ne();ws();ct();X();lt();Tn=function(t){B(e,t);function e(r,n,i){var a=t.call(this)||this;return a.name=ae(r,i)||ce,a.data=n,a.time=Re(new Date),a.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return a.sampleRate===100?4:1},tags:1,data:1},a}return e}(Es)});var hi,Ga=I(()=>{hi=function(){function t(){this.ver=2,this.properties={},this.measurements={}}return t}()});var He,bs=I(()=>{ne();Ga();ct();lt();He=function(t){B(e,t);function e(r,n,i,a){var o=t.call(this)||this;return o.aiDataContract={ver:1,name:1,properties:0,measurements:0},o.name=ae(r,n)||ce,o.properties=Be(r,i),o.measurements=ze(r,a),o}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",e.dataType="EventData",e}(hi)});var As,Ds=I(()=>{As=function(){function t(){}return t}()});var Ns,ks=I(()=>{Ns=function(){function t(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}}return t}()});var Fs,Rs=I(()=>{Fs=function(){function t(){this.hasFullStack=!0,this.parsedStack=[]}return t}()});function Ja(t,e){var r=t;return r&&!U(r)&&(JSON&&JSON.stringify?(r=JSON.stringify(t),e&&(!r||r==="{}")&&(z(t.toString)?r=t.toString():r=""+t)):r=""+t+" - (Missing JSON.stringify)"),r||""}function Os(t,e){var r=t;return t&&(r=t[Xa]||t[Us]||"",r&&!U(r)&&(r=Ja(r,!0)),t.filename&&(r=r+" @"+(t.filename||"")+":"+(t.lineno||"?")+":"+(t.colno||"?"))),e&&e!=="String"&&e!=="Object"&&e!=="Error"&&(r||"").indexOf(e)===-1&&(r=e+": "+r),r||""}function pl(t){return st(t)?"hasFullStack"in t&&"typeName"in t:!1}function dl(t){return st(t)?"ver"in t&&"exceptions"in t&&"properties"in t:!1}function Ls(t){return t&&t.src&&U(t.src)&&t.obj&&Fe(t.obj)}function Lr(t){var e=t||"";U(e)||(U(e[ft])?e=e[ft]:e=""+e);var r=e.split(`
`);return{src:e,obj:r}}function gl(t){for(var e=[],r=t.split(`
`),n=0;n<r.length;n++){var i=r[n];r[n+1]&&(i+="@"+r[n+1],n++),e.push(i)}return{src:t,obj:e}}function Bs(t){var e=null;if(t)try{if(t[ft])e=Lr(t[ft]);else if(t[_r]&&t[_r][ft])e=Lr(t[_r][ft]);else if(t.exception&&t.exception[ft])e=Lr(t.exception[ft]);else if(Ls(t))e=t;else if(Ls(t[Wa]))e=t[Wa];else if(window.opera&&t[Xa])e=gl(t.message);else if(U(t))e=Lr(t);else{var r=t[Xa]||t[Us]||"";U(t[Ms])&&(r&&(r+=`
`),r+=" from "+t[Ms]),r&&(e=Lr(r))}}catch(n){e=Lr(n)}return e||{src:"",obj:null}}function vl(t){var e="";return t&&(t.obj?R(t.obj,function(r){e+=r+`
`}):e=t.src||""),e}function ml(t){var e,r=t.obj;if(r&&r.length>0){e=[];var n=0,i=0;R(r,function(E){var b=E.toString();if(Qa.regex.test(b)){var p=new Qa(b,n++);i+=p.sizeInBytes,e.push(p)}});var a=32*1024;if(i>a)for(var o=0,u=e.length-1,s=0,c=o,l=u;o<u;){var f=e[o].sizeInBytes,g=e[u].sizeInBytes;if(s+=f+g,s>a){var C=l-c+1;e.splice(c,C);break}c=o,l=u,o++,u--}}return e}function xi(t){var e="";if(t&&(e=t.typeName||t.name||"",!e))try{var r=/function (.{1,200})\(/,n=r.exec(t.constructor.toString());e=n&&n.length>1?n[1]:""}catch(i){}return e}function Ka(t){if(t)try{if(!U(t)){var e=xi(t),r=Ja(t,!1);return(!r||r==="{}")&&(t[_r]&&(t=t[_r],e=xi(t)),r=Ja(t,!0)),r.indexOf(e)!==0&&e!=="String"?e+":"+r:r}}catch(n){}return""+(t||"")}var fl,_r,ft,Wa,Ms,Xa,Us,me,_s,Qa,zs=I(()=>{ne();Ds();ks();Rs();ct();X();lt();fl="<no_method>",_r="error",ft="stack",Wa="stackDetails",Ms="errorSrc",Xa="message",Us="description";me=function(t){B(e,t);function e(r,n,i,a,o,u){var s=t.call(this)||this;return s.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},dl(n)?(s.exceptions=n.exceptions,s.properties=n.properties,s.measurements=n.measurements,n.severityLevel&&(s.severityLevel=n.severityLevel),n.id&&(s.id=n.id),n.problemGroup&&(s.problemGroup=n.problemGroup),s.ver=2,x(n.isManual)||(s.isManual=n.isManual)):(i||(i={}),s.exceptions=[new _s(r,n,i)],s.properties=Be(r,i),s.measurements=ze(r,a),o&&(s.severityLevel=o),u&&(s.id=u)),s}return e.CreateAutoException=function(r,n,i,a,o,u,s,c){var l=xi(o||u||r);return{message:Os(r,l),url:n,lineNumber:i,columnNumber:a,error:Ka(o||u||r),evt:Ka(u||r),typeName:l,stackDetails:Bs(s||o||u),errorSrc:c}},e.CreateFromInterface=function(r,n,i,a){var o=n.exceptions&&jt(n.exceptions,function(s){return _s.CreateFromInterface(r,s)}),u=new e(r,yt({},n,{exceptions:o}),i,a);return u},e.prototype.toInterface=function(){var r=this,n=r.exceptions,i=r.properties,a=r.measurements,o=r.severityLevel,u=r.ver,s=r.problemGroup,c=r.id,l=r.isManual,f=n instanceof Array&&jt(n,function(g){return g.toInterface()})||void 0;return{ver:"4.0",exceptions:f,severityLevel:o,properties:i,measurements:a,problemGroup:s,id:c,isManual:l}},e.CreateSimpleException=function(r,n,i,a,o,u){return{exceptions:[{hasFullStack:!0,message:r,stack:o,typeName:n}]}},e.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",e.dataType="ExceptionData",e.formatError=Ka,e}(Ns),_s=function(t){B(e,t);function e(r,n,i){var a=t.call(this)||this;if(a.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},pl(n))a.typeName=n.typeName,a.message=n.message,a[ft]=n[ft],a.parsedStack=n.parsedStack,a.hasFullStack=n.hasFullStack;else{var o=n,u=o&&o.evt;qt(o)||(o=o[_r]||u||o),a.typeName=ae(r,xi(o))||ce,a.message=Nr(r,Os(n||o,a.typeName))||ce;var s=n[Wa]||Bs(n);a.parsedStack=ml(s),a[ft]=fi(r,vl(s)),a.hasFullStack=Fe(a.parsedStack)&&a.parsedStack.length>0,i&&(i.typeName=i.typeName||a.typeName)}return a}return e.prototype.toInterface=function(){var r=this.parsedStack instanceof Array&&jt(this.parsedStack,function(i){return i.toInterface()}),n={id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this[ft],parsedStack:r||void 0};return n},e.CreateFromInterface=function(r,n){var i=n.parsedStack instanceof Array&&jt(n.parsedStack,function(o){return Qa.CreateFromInterface(o)})||n.parsedStack,a=new e(r,yt({},n,{parsedStack:i}));return a},e}(Fs),Qa=function(t){B(e,t);function e(r,n){var i=t.call(this)||this;if(i.sizeInBytes=0,i.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},typeof r=="string"){var a=r;i.level=n,i.method=fl,i.assembly=oe(a),i.fileName="",i.line=0;var o=a.match(e.regex);o&&o.length>=5&&(i.method=oe(o[2])||i.method,i.fileName=oe(o[4]),i.line=parseInt(o[5])||0)}else i.level=r.level,i.method=r.method,i.assembly=r.assembly,i.fileName=r.fileName,i.line=r.line,i.sizeInBytes=0;return i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=e.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}return e.CreateFromInterface=function(r){return new e(r,null)},e.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},e.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e}(As)});var Hs,Vs=I(()=>{Hs=function(){function t(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}}return t}()});var yi,qs=I(()=>{(function(t){t[t.Measurement=0]="Measurement",t[t.Aggregation=1]="Aggregation"})(yi||(yi={}))});var js,Gs=I(()=>{qs();js=function(){function t(){this.kind=yi.Measurement}return t}()});var Ks,Ws=I(()=>{ne();Gs();Ks=function(t){B(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},r}return e}(js)});var Ve,Xs=I(()=>{ne();Vs();ct();Ws();lt();Ve=function(t){B(e,t);function e(r,n,i,a,o,u,s,c){var l=t.call(this)||this;l.aiDataContract={ver:1,metrics:1,properties:0};var f=new Ks;return f.count=a>0?a:void 0,f.max=isNaN(u)||u===null?void 0:u,f.min=isNaN(o)||o===null?void 0:o,f.name=ae(r,n)||ce,f.value=i,l.metrics=[f],l.properties=Be(r,s),l.measurements=ze(r,c),l}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e}(Hs)});var mr,Si=I(()=>{ne();Ga();mr=function(t){B(e,t);function e(){var r=t.call(this)||this;return r.ver=2,r.properties={},r.measurements={},r}return e}(hi)});var Ne,Js=I(()=>{ne();Si();ct();ln();lt();Ne=function(t){B(e,t);function e(r,n,i,a,o,u,s){var c=t.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},c.id=pi(r,s),c.url=Tt(r,i),c.name=ae(r,n)||ce,isNaN(a)||(c.duration=Ge(a)),c.properties=Be(r,o),c.measurements=ze(r,u),c}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e}(mr)});var Qs,Zs=I(()=>{Qs=function(){function t(){this.ver=2,this.success=!0,this.properties={},this.measurements={}}return t}()});var qe,Ys=I(()=>{ne();ct();Ha();Zs();ln();qe=function(t){B(e,t);function e(r,n,i,a,o,u,s,c,l,f,g,C){l===void 0&&(l="Ajax");var E=t.call(this)||this;E.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},E.id=n,E.duration=Ge(o),E.success=u,E.resultCode=s+"",E.type=ae(r,l);var b=Cs(r,i,c,a);return E.data=Tt(r,a)||b.data,E.target=ae(r,b.target),f&&(E.target=E.target+" | "+f),E.name=ae(r,b.name),E.properties=Be(r,g),E.measurements=ze(r,C),E}return e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}(Qs)});var $s,eu=I(()=>{$s=function(){function t(){this.ver=2,this.properties={},this.measurements={}}return t}()});var Qe,tu=I(()=>{ne();eu();ct();lt();Qe=function(t){B(e,t);function e(r,n,i,a,o){var u=t.call(this)||this;return u.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},n=n||ce,u.message=Nr(r,n),u.properties=Be(r,a),u.measurements=ze(r,o),i&&(u.severityLevel=i),u}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",e.dataType="MessageData",e}($s)});var ru,nu=I(()=>{ne();Si();ru=function(t){B(e,t);function e(){var r=t.call(this)||this;return r.ver=2,r.properties={},r.measurements={},r}return e}(mr)});var Ze,iu=I(()=>{ne();nu();ct();lt();Ze=function(t){B(e,t);function e(r,n,i,a,o,u,s){var c=t.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},c.url=Tt(r,i),c.name=ae(r,n)||ce,c.properties=Be(r,o),c.measurements=ze(r,u),s&&(c.domProcessing=s.domProcessing,c.duration=s.duration,c.networkConnect=s.networkConnect,c.perfTotal=s.perfTotal,c.receivedResponse=s.receivedResponse,c.sentRequest=s.sentRequest),c}return e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",e.dataType="PageviewPerformanceData",e}(ru)});var xt,au=I(()=>{ne();ja();xt=function(t){B(e,t);function e(r,n){var i=t.call(this)||this;return i.aiDataContract={baseType:1,baseData:1},i.baseType=r,i.baseData=n,i}return e}(Cn)});var Bt,ou=I(()=>{(function(t){t[t.Verbose=0]="Verbose",t[t.Information=1]="Information",t[t.Warning=2]="Warning",t[t.Error=3]="Error",t[t.Critical=4]="Critical"})(Bt||(Bt={}))});var Za,su=I(()=>{X();Za=function(){function t(){}return t.getConfig=function(e,r,n,i){i===void 0&&(i=!1);var a;return n&&e.extensionConfig&&e.extensionConfig[n]&&!x(e.extensionConfig[n][r])?a=e.extensionConfig[n][r]:a=e[r],x(a)?i:a},t}()});function tr(t){var e="ai."+t+".";return function(r){return e+r}}var En,Pe,Ii,Ur,Ya,er,hr,wn,xr,$a=I(()=>{ne();X();En=tr("application"),Pe=tr("device"),Ii=tr("location"),Ur=tr("operation"),Ya=tr("session"),er=tr("user"),hr=tr("cloud"),wn=tr("internal"),xr=function(t){B(e,t);function e(){return t.call(this)||this}return e}(Ki({applicationVersion:En("ver"),applicationBuild:En("build"),applicationTypeId:En("typeId"),applicationId:En("applicationId"),applicationLayer:En("layer"),deviceId:Pe("id"),deviceIp:Pe("ip"),deviceLanguage:Pe("language"),deviceLocale:Pe("locale"),deviceModel:Pe("model"),deviceFriendlyName:Pe("friendlyName"),deviceNetwork:Pe("network"),deviceNetworkName:Pe("networkName"),deviceOEMName:Pe("oemName"),deviceOS:Pe("os"),deviceOSVersion:Pe("osVersion"),deviceRoleInstance:Pe("roleInstance"),deviceRoleName:Pe("roleName"),deviceScreenResolution:Pe("screenResolution"),deviceType:Pe("type"),deviceMachineName:Pe("machineName"),deviceVMName:Pe("vmName"),deviceBrowser:Pe("browser"),deviceBrowserVersion:Pe("browserVersion"),locationIp:Ii("ip"),locationCountry:Ii("country"),locationProvince:Ii("province"),locationCity:Ii("city"),operationId:Ur("id"),operationName:Ur("name"),operationParentId:Ur("parentId"),operationRootId:Ur("rootId"),operationSyntheticSource:Ur("syntheticSource"),operationCorrelationVector:Ur("correlationVector"),sessionId:Ya("id"),sessionIsFirst:Ya("isFirst"),sessionIsNew:Ya("isNew"),userAccountAcquisitionDate:er("accountAcquisitionDate"),userAccountId:er("accountId"),userAgent:er("userAgent"),userId:er("id"),userStoreRegion:er("storeRegion"),userAuthUserId:er("authUserId"),userAnonymousUserAcquisitionDate:er("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:er("authUserAcquisitionDate"),cloudName:hr("name"),cloudRole:hr("role"),cloudRoleVer:hr("roleVer"),cloudRoleInstance:hr("roleInstance"),cloudEnvironment:hr("environment"),cloudLocation:hr("location"),cloudDeploymentUnit:hr("deploymentUnit"),internalNodeName:wn("nodeName"),internalSdkVersion:wn("sdkVersion"),internalAgentVersion:wn("agentVersion"),internalSnippet:wn("snippet"),internalSdkSrc:wn("sdkSrc")}))});var tt,uu=I(()=>{ct();X();lt();tt=function(){function t(){}return t.create=function(e,r,n,i,a,o){if(n=ae(i,n)||ce,x(e)||x(r)||x(n))throw Error("Input doesn't contain all required fields");var u={name:n,time:Re(new Date),iKey:"",ext:o||{},tags:[],data:{},baseType:r,baseData:e};return x(a)||$(a,function(s,c){u.data[s]=c}),u},t}()});var _e,re,cu=I(()=>{$a();_e={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},re=new xr});var zt,Or,Ci,he=I(()=>{Ha();Ts();ba();lt();ja();qa();Ps();bs();zs();Xs();Js();Si();Ys();tu();iu();au();ou();su();$a();ct();uu();cu();Fa();ln();ka();_a();Oa();zt="AppInsightsPropertiesPlugin",Or="AppInsightsChannelPlugin",Ci="ApplicationInsightsAnalytics"});var lu,fu=I(()=>{he();X();Ce();lu=function(){function t(e,r,n,i){W(t,this,function(a){var o=null,u=[],s=!1,c;n&&(c=n.logger);function l(){n&&R(n.getTransmissionControls(),function(g){R(g,function(C){return C.flush(!0)})})}function f(g){u.push(g),o||(o=setInterval(function(){var C=u.slice(0),E=!1;u=[],R(C,function(b){b()?E=!0:u.push(b)}),u.length===0&&(clearInterval(o),o=null),E&&l()},100))}a.trackPageView=function(g,C){var E=g.name;if(x(E)||typeof E!="string"){var b=De();E=g.name=b&&b.title||""}var p=g.uri;if(x(p)||typeof p!="string"){var m=$e();p=g.uri=m&&m.href||""}if(!i.isPerformanceTimingSupported()){e.sendPageViewInternal(g,C),l(),c.throwInternal(S.WARNING,h.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");return}var y=!1,w,L=i.getPerformanceTiming().navigationStart;L>0&&(w=ve(L,+new Date),i.shouldCollectDuration(w)||(w=void 0));var k;!x(C)&&!x(C.duration)&&(k=C.duration),(r||!isNaN(k))&&(isNaN(k)&&(C||(C={}),C.duration=w),e.sendPageViewInternal(g,C),l(),y=!0);var Q=6e4;C||(C={}),f(function(){var ye=!1;try{if(i.isPerformanceTimingDataReady()){ye=!0;var J={name:E,uri:p};i.populatePageViewPerformanceEvent(J),!J.isValid&&!y?(C.duration=w,e.sendPageViewInternal(g,C)):(y||(C.duration=J.durationMs,e.sendPageViewInternal(g,C)),s||(e.sendPageViewPerformanceInternal(J,C),s=!0))}else L>0&&ve(L,+new Date)>Q&&(ye=!0,y||(C.duration=Q,e.sendPageViewInternal(g,C)))}catch(de){c.throwInternal(S.CRITICAL,h.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+G(de),{exception:O(de)})}return ye})}})}return t}()});var pu,hl,du=I(()=>{he();X();pu=function(){function t(e,r){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=r,this._logger=e}return t.prototype.trackPreviousPageVisit=function(e,r){try{var n=this.restartPageVisitTimer(e,r);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(i){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+O(i))}},t.prototype.restartPageVisitTimer=function(e,r){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,r),n}catch(i){return this._logger.warnToConsole("Call to restart failed: "+O(i)),null}},t.prototype.startPageVisitTimer=function(e,r){try{if(wt()){Yt(this._logger,this.prevPageVisitDataKeyName)!=null&&Ae("Cannot call startPageVisit consecutively without first calling stopPageVisit");var n=new hl(e,r),i=we().stringify(n);$t(this._logger,this.prevPageVisitDataKeyName,i)}}catch(a){this._logger.warnToConsole("Call to start failed: "+O(a))}},t.prototype.stopPageVisitTimer=function(){try{if(wt()){var e=pe(),r=Yt(this._logger,this.prevPageVisitDataKeyName);if(r&&mt()){var n=we().parse(r);return n.pageVisitTime=e-n.pageVisitStartTime,mn(this._logger,this.prevPageVisitDataKeyName),n}else return null}return null}catch(i){return this._logger.warnToConsole("Stop page visit timer failed: "+O(i)),null}},t}(),hl=function(){function t(e,r){this.pageVisitStartTime=pe(),this.pageName=e,this.pageUrl=r}return t}()});var gu,vu=I(()=>{he();X();gu=function(){function t(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}return t.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var r=this.getPerformanceNavigationTiming(),n=this.getPerformanceTiming(),i=0,a=0,o=0,u=0,s=0;(r||n)&&(r?(i=r.duration,a=r.startTime===0?r.connectEnd:ve(r.startTime,r.connectEnd),o=ve(r.requestStart,r.responseStart),u=ve(r.responseStart,r.responseEnd),s=ve(r.responseEnd,r.loadEventEnd)):(i=ve(n.navigationStart,n.loadEventEnd),a=ve(n.navigationStart,n.connectEnd),o=ve(n.requestStart,n.responseStart),u=ve(n.responseStart,n.responseEnd),s=ve(n.responseEnd,n.loadEventEnd)),i===0?this._logger.throwInternal(S.WARNING,h.ErrorPVCalc,"error calculating page view performance.",{total:i,network:a,request:o,response:u,dom:s}):this.shouldCollectDuration(i,a,o,u,s)?i<Math.floor(a)+Math.floor(o)+Math.floor(u)+Math.floor(s)?this._logger.throwInternal(S.WARNING,h.ClientPerformanceMathError,"client performance math error.",{total:i,network:a,request:o,response:u,dom:s}):(e.durationMs=i,e.perfTotal=e.duration=Ge(i),e.networkConnect=Ge(a),e.sentRequest=Ge(o),e.receivedResponse=Ge(u),e.domProcessing=Ge(s),e.isValid=!0):this._logger.throwInternal(S.WARNING,h.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:i,network:a,request:o,response:u,dom:s}))},t.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?Je().timing:null},t.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?Je().getEntriesByType("navigation")[0]:null},t.prototype.isPerformanceNavigationTimingSupported=function(){var e=Je();return e&&e.getEntriesByType&&e.getEntriesByType("navigation").length>0},t.prototype.isPerformanceTimingSupported=function(){var e=Je();return e&&e.timing},t.prototype.isPerformanceTimingDataReady=function(){var e=Je(),r=e?e.timing:0;return r&&r.domainLookupStart>0&&r.navigationStart>0&&r.responseStart>0&&r.requestStart>0&&r.loadEventEnd>0&&r.responseEnd>0&&r.connectEnd>0&&r.domLoading>0},t.prototype.shouldCollectDuration=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=Le()||{},i=["googlebot","adsbot-google","apis-google","mediapartners-google"],a=n.userAgent,o=!1;if(a)for(var u=0;u<i.length;u++)o=o||a.toLowerCase().indexOf(i[u])!==-1;if(o)return!1;for(var u=0;u<e.length;u++)if(e[u]<0||e[u]>=this.MAX_DURATION_ALLOWED)return!1;return!0},t}()});function Pn(t,e){t&&t.dispatchEvent&&e&&t.dispatchEvent(e)}var mu,eo,bn,hu,xu=I(()=>{ne();he();X();fu();du();vu();Ce();mu="duration",eo="event";bn=function(t){B(e,t);function e(){var r=t.call(this)||this;r.identifier=Ci,r.priority=180,r.autoRoutePVDelay=500;var n,i,a,o=0,u,s;return W(e,r,function(c,l){var f=$e(!0);u=f&&f.href||"",c.getCookieMgr=function(){return lr(c.core)},c.processTelemetry=function(p,m){ut(c.core,function(){return c.identifier+":processTelemetry"},function(){var y=!1,w=c._telemetryInitializers.length;m=c._getTelCtx(m);for(var L=0;L<w;++L){var k=c._telemetryInitializers[L];if(k)try{if(k.apply(null,[p])===!1){y=!0;break}}catch(Q){m.diagLog().throwInternal(S.CRITICAL,h.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+G(Q),{exception:O(Q)},!0)}}y||c.processNext(p,m)},function(){return{item:p}},!p.sync)},c.trackEvent=function(p,m){try{var y=tt.create(p,He.dataType,He.envelopeType,c.diagLog(),m);c.core.track(y)}catch(w){c.diagLog().throwInternal(S.WARNING,h.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+G(w),{exception:O(w)})}},c.startTrackEvent=function(p){try{n.start(p)}catch(m){c.diagLog().throwInternal(S.CRITICAL,h.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+G(m),{exception:O(m)})}},c.stopTrackEvent=function(p,m,y){try{n.stop(p,void 0,m)}catch(w){c.diagLog().throwInternal(S.CRITICAL,h.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+G(w),{exception:O(w)})}},c.trackTrace=function(p,m){try{var y=tt.create(p,Qe.dataType,Qe.envelopeType,c.diagLog(),m);c.core.track(y)}catch(w){c.diagLog().throwInternal(S.WARNING,h.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+G(w),{exception:O(w)})}},c.trackMetric=function(p,m){try{var y=tt.create(p,Ve.dataType,Ve.envelopeType,c.diagLog(),m);c.core.track(y)}catch(w){c.diagLog().throwInternal(S.CRITICAL,h.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+G(w),{exception:O(w)})}},c.trackPageView=function(p,m){try{var y=p||{};c._pageViewManager.trackPageView(y,yt({},y.properties,y.measurements,m)),c.config.autoTrackPageVisitTime&&c._pageVisitTimeManager.trackPreviousPageVisit(y.name,y.uri)}catch(w){c.diagLog().throwInternal(S.CRITICAL,h.TrackPVFailed,"trackPageView failed, page view will not be collected: "+G(w),{exception:O(w)})}},c.sendPageViewInternal=function(p,m,y){var w=De();w&&(p.refUri=p.refUri===void 0?w.referrer:p.refUri);var L=tt.create(p,Ne.dataType,Ne.envelopeType,c.diagLog(),m,y);c.core.track(L),o=0},c.sendPageViewPerformanceInternal=function(p,m,y){var w=tt.create(p,Ze.dataType,Ze.envelopeType,c.diagLog(),m,y);c.core.track(w)},c.trackPageViewPerformance=function(p,m){try{c._pageViewPerformanceManager.populatePageViewPerformanceEvent(p),c.sendPageViewPerformanceInternal(p,m)}catch(y){c.diagLog().throwInternal(S.CRITICAL,h.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+G(y),{exception:O(y)})}},c.startTrackPage=function(p){try{if(typeof p!="string"){var m=De();p=m&&m.title||""}i.start(p)}catch(y){c.diagLog().throwInternal(S.CRITICAL,h.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+G(y),{exception:O(y)})}},c.stopTrackPage=function(p,m,y,w){try{if(typeof p!="string"){var L=De();p=L&&L.title||""}if(typeof m!="string"){var k=$e();m=k&&k.href||""}i.stop(p,m,y,w),c.config.autoTrackPageVisitTime&&c._pageVisitTimeManager.trackPreviousPageVisit(p,m)}catch(Q){c.diagLog().throwInternal(S.CRITICAL,h.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+G(Q),{exception:O(Q)})}},c.sendExceptionInternal=function(p,m,y){var w=p.exception||p.error||new Error(ce),L=new me(c.diagLog(),w,p.properties||m,p.measurements,p.severityLevel,p.id).toInterface(),k=tt.create(L,me.dataType,me.envelopeType,c.diagLog(),m,y);c.core.track(k)},c.trackException=function(p,m){try{c.sendExceptionInternal(p,m)}catch(y){c.diagLog().throwInternal(S.CRITICAL,h.TrackExceptionFailed,"trackException failed, exception will not be collected: "+G(y),{exception:O(y)})}},c._onerror=function(p){var m=p&&p.error,y=p&&p.evt;try{if(!y){var w=It();w&&(y=w[eo])}var L=p&&p.url||(De()||{}).URL,k=p.errorSrc||"window.onerror@"+L+":"+(p.lineNumber||0)+":"+(p.columnNumber||0),Q={errorSrc:k,url:L,lineNumber:p.lineNumber||0,columnNumber:p.columnNumber||0,message:p.message};cn(p.message,p.url,p.lineNumber,p.columnNumber,p.error)?b(me.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",L,p.lineNumber||0,p.columnNumber||0,m,y,null,k),Q):(p.errorSrc||(p.errorSrc=k),c.trackException({exception:p,severityLevel:Bt.Error},Q))}catch(J){var ye=m?m.name+", "+m.message:"null";c.diagLog().throwInternal(S.CRITICAL,h.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+G(J),{exception:O(J),errorString:ye})}},c.addTelemetryInitializer=function(p){c._telemetryInitializers.push(p)},c.initialize=function(p,m,y,w){if(!c.isInitialized()){if(x(m))throw Error("Error initializing");l.initialize(p,m,y,w),c.setInitialized(!1);var L=c._getTelCtx(),k=c.identifier;c.config=L.getExtCfg(k);var Q=e.getDefaultConfig(p);Q!==void 0&&$(Q,function(A,H){c.config[A]=L.getConfig(k,A,H),c.config[A]===void 0&&(c.config[A]=H)}),c.config.isStorageUseDisabled&&pn();var ye={instrumentationKey:function(){return p.instrumentationKey},accountId:function(){return c.config.accountId||p.accountId},sessionRenewalMs:function(){return c.config.sessionRenewalMs||p.sessionRenewalMs},sessionExpirationMs:function(){return c.config.sessionExpirationMs||p.sessionExpirationMs},sampleRate:function(){return c.config.samplingPercentage||p.samplingPercentage},sdkExtension:function(){return c.config.sdkExtension||p.sdkExtension},isBrowserLinkTrackingEnabled:function(){return c.config.isBrowserLinkTrackingEnabled||p.isBrowserLinkTrackingEnabled},appId:function(){return c.config.appId||p.appId}};c._pageViewPerformanceManager=new gu(c.core),c._pageViewManager=new lu(r,c.config.overridePageViewDuration,c.core,c._pageViewPerformanceManager),c._pageVisitTimeManager=new pu(c.diagLog(),function(A,H,_){return g(A,H,_)}),c._telemetryInitializers=c._telemetryInitializers||[],C(ye),n=new hu(c.diagLog(),"trackEvent"),n.action=function(A,H,_,j){j||(j={}),j[mu]=_.toString(),c.trackEvent({name:A,properties:j})},i=new hu(c.diagLog(),"trackPageView"),i.action=function(A,H,_,j,Z){x(j)&&(j={}),j[mu]=_.toString();var ie={name:A,uri:H,properties:j,measurements:Z};c.sendPageViewInternal(ie,j)};var J=It(),de=Zi(),be=$e(!0),pt=r;if(c.config.disableExceptionTracking===!1&&!c.config.autoExceptionInstrumented&&J){var it="onerror",dt=J[it];J.onerror=function(A,H,_,j,Z){var ie=J[eo],Ht=dt&&dt(A,H,_,j,Z);return Ht!==!0&&pt._onerror(me.CreateAutoException(A,H,_,j,Z,ie)),Ht},c.config.autoExceptionInstrumented=!0}if(c.config.disableExceptionTracking===!1&&c.config.enableUnhandledPromiseRejectionTracking===!0&&!c.config.autoUnhandledPromiseInstrumented&&J){var d="onunhandledrejection",T=J[d];J[d]=function(A){var H=J[eo],_=T&&T.call(J,A);return _!==!0&&pt._onerror(me.CreateAutoException(A.reason.toString(),be?be.href:"",0,0,A,H)),_},c.config.autoUnhandledPromiseInstrumented=!0}if(c.config.enableAutoRouteTracking===!0&&de&&z(de.pushState)&&z(de.replaceState)&&J&&typeof Event!="undefined"){var D=r;R(y,function(A){A.identifier===zt&&(a=A)}),de.pushState=function(A){return function(){var _=A.apply(this,arguments);return Pn(J,Ut(D.config.namePrefix+"pushState")),Pn(J,Ut(D.config.namePrefix+"locationchange")),_}}(de.pushState),de.replaceState=function(A){return function(){var _=A.apply(this,arguments);return Pn(J,Ut(D.config.namePrefix+"replaceState")),Pn(J,Ut(D.config.namePrefix+"locationchange")),_}}(de.replaceState),J.addEventListener&&(J.addEventListener(D.config.namePrefix+"popstate",function(){Pn(J,Ut(D.config.namePrefix+"locationchange"))}),J.addEventListener(D.config.namePrefix+"locationchange",function(){if(a&&a.context&&a.context.telemetryTrace){a.context.telemetryTrace.traceID=Oe();var A="_unknown_";be&&be.pathname&&(A=be.pathname+(be.hash||"")),a.context.telemetryTrace.name=A}s&&(u=s),s=be&&be.href||"",setTimeout(function(H){D.trackPageView({refUri:H,properties:{duration:0}})}.bind(r,u),D.autoRoutePVDelay)}))}c.setInitialized(!0)}};function g(p,m,y){var w={PageName:p,PageUrl:m};c.trackMetric({name:"PageVisitTime",average:y,max:y,min:y,sampleCount:1},w)}function C(p){if(!p.isBrowserLinkTrackingEnabled()){var m=["/browserLinkSignalR/","/__browserLink/"],y=function(w){if(w.baseType===qe.dataType){var L=w.baseData;if(L){for(var k=0;k<m.length;k++)if(L.target&&L.target.indexOf(m[k])>=0)return!1}}return!0};E(y)}}function E(p){c._telemetryInitializers.push(p)}function b(p,m){var y=tt.create(p,me.dataType,me.envelopeType,c.diagLog(),m);c.core.track(y)}}),r}return e.getDefaultConfig=function(r){return r||(r={}),r.sessionRenewalMs=30*60*1e3,r.sessionExpirationMs=24*60*60*1e3,r.disableExceptionTracking=ee(r.disableExceptionTracking),r.autoTrackPageVisitTime=ee(r.autoTrackPageVisitTime),r.overridePageViewDuration=ee(r.overridePageViewDuration),r.enableUnhandledPromiseRejectionTracking=ee(r.enableUnhandledPromiseRejectionTracking),(isNaN(r.samplingPercentage)||r.samplingPercentage<=0||r.samplingPercentage>=100)&&(r.samplingPercentage=100),r.isStorageUseDisabled=ee(r.isStorageUseDisabled),r.isBrowserLinkTrackingEnabled=ee(r.isBrowserLinkTrackingEnabled),r.enableAutoRouteTracking=ee(r.enableAutoRouteTracking),r.namePrefix=r.namePrefix||"",r.enableDebug=ee(r.enableDebug),r.disableFlushOnBeforeUnload=ee(r.disableFlushOnBeforeUnload),r.disableFlushOnUnload=ee(r.disableFlushOnUnload,r.disableFlushOnBeforeUnload),r},e.Version="2.6.4",e}(et),hu=function(){function t(e,r){var n=this,i={};n.start=function(a){typeof i[a]!="undefined"&&e.throwInternal(S.WARNING,h.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:a,key:a},!0),i[a]=+new Date},n.stop=function(a,o,u,s){var c=i[a];if(isNaN(c))e.throwInternal(S.WARNING,h.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:a,key:a},!0);else{var l=+new Date,f=ve(c,l);n.action(a,o,f,u,s)}delete i[a],i[a]=void 0}}return t}()});var to=I(()=>{xu()});var yu,Su,Iu=I(()=>{he();X();Ce();yu=function(){function t(e){var r=[];W(t,this,function(n){n.enqueue=function(i){r.push(i)},n.count=function(){return r.length},n.clear=function(){r.length=0},n.getItems=function(){return r.slice(0)},n.batchPayloads=function(i){if(i&&i.length>0){var a=e.emitLineDelimitedJson()?i.join(`
`):"["+i.join(",")+"]";return a}return null},n.markAsSent=function(i){n.clear()},n.clearSent=function(i){}})}return t}(),Su=function(){function t(e,r){var n=!1,i;W(t,this,function(a){var o=c(t.BUFFER_KEY),u=c(t.SENT_BUFFER_KEY);i=o.concat(u),i.length>t.MAX_BUFFER_SIZE&&(i.length=t.MAX_BUFFER_SIZE),l(t.SENT_BUFFER_KEY,[]),l(t.BUFFER_KEY,i),a.enqueue=function(f){if(i.length>=t.MAX_BUFFER_SIZE){n||(e.throwInternal(S.WARNING,h.SessionStorageBufferFull,"Maximum buffer size reached: "+i.length,!0),n=!0);return}i.push(f),l(t.BUFFER_KEY,i)},a.count=function(){return i.length},a.clear=function(){i=[],l(t.BUFFER_KEY,[]),l(t.SENT_BUFFER_KEY,[]),n=!1},a.getItems=function(){return i.slice(0)},a.batchPayloads=function(f){if(f&&f.length>0){var g=r.emitLineDelimitedJson()?f.join(`
`):"["+f.join(",")+"]";return g}return null},a.markAsSent=function(f){i=s(f,i),l(t.BUFFER_KEY,i);var g=c(t.SENT_BUFFER_KEY);g instanceof Array&&f instanceof Array&&(g=g.concat(f),g.length>t.MAX_BUFFER_SIZE&&(e.throwInternal(S.CRITICAL,h.SessionStorageBufferFull,"Sent buffer reached its maximum size: "+g.length,!0),g.length=t.MAX_BUFFER_SIZE),l(t.SENT_BUFFER_KEY,g))},a.clearSent=function(f){var g=c(t.SENT_BUFFER_KEY);g=s(f,g),l(t.SENT_BUFFER_KEY,g)};function s(f,g){var C=[];return R(g,function(E){!z(E)&&Ft(f,E)===-1&&C.push(E)}),C}function c(f){var g=f;try{g=r.namePrefix&&r.namePrefix()?r.namePrefix()+"_"+g:g;var C=Yt(e,g);if(C){var E=we().parse(C);if(U(E)&&(E=we().parse(E)),E&&Fe(E))return E}}catch(b){e.throwInternal(S.CRITICAL,h.FailedToRestoreStorageBuffer," storage key: "+g+", "+G(b),{exception:O(b)})}return[]}function l(f,g){var C=f;try{C=r.namePrefix&&r.namePrefix()?r.namePrefix()+"_"+C:C;var E=JSON.stringify(g);$t(e,C,E)}catch(b){$t(e,C,JSON.stringify([])),e.throwInternal(S.WARNING,h.FailedToSetStorageBuffer," storage key: "+C+", "+G(b)+". Buffer cleared",{exception:O(b)})}}})}return t.BUFFER_KEY="AI_buffer",t.SENT_BUFFER_KEY="AI_sentBuffer",t.MAX_BUFFER_SIZE=2e3,t}()});function xe(t,e,r){return K(t,e,r,br)}var ro,se,ke,Cu,le,Tu,no,Eu,wu,Pu,bu,Au,Du=I(()=>{ne();he();X();ro="baseType",se="baseData",ke="properties",Cu="true";le=function(){function t(){}return t.extractPropsAndMeasurements=function(e,r,n){x(e)||$(e,function(i,a){ar(a)?n[i]=a:U(a)?r[i]=a:mt()&&(r[i]=we().stringify(a))})},t.createEnvelope=function(e,r,n,i){var a=new Tn(e,i,r);xe(a,"sampleRate",n[fr]),(n[se]||{}).startTime&&(a.time=Re(n[se].startTime)),a.iKey=n.iKey;var o=n.iKey.replace(/-/g,"");return a.name=a.name.replace("{0}",o),t.extractPartAExtensions(n,a),n.tags=n.tags||[],Jn(a)},t.extractPartAExtensions=function(e,r){var n=r.tags=r.tags||{},i=e.ext=e.ext||{},a=e.tags=e.tags||[],o=i.user;o&&(xe(n,re.userAuthUserId,o.authId),xe(n,re.userId,o.id||o.localId));var u=i.app;u&&xe(n,re.sessionId,u.sesId);var s=i.device;s&&(xe(n,re.deviceId,s.id||s.localId),xe(n,re.deviceType,s.deviceClass),xe(n,re.deviceIp,s.ip),xe(n,re.deviceModel,s.model),xe(n,re.deviceType,s.deviceType));var c=e.ext.web;if(c){xe(n,re.deviceLanguage,c.browserLang),xe(n,re.deviceBrowserVersion,c.browserVer),xe(n,re.deviceBrowser,c.browser);var l=r.data=r.data||{},f=l[se]=l[se]||{},g=f[ke]=f[ke]||{};xe(g,"domain",c.domain),xe(g,"isManual",c.isManual?Cu:null),xe(g,"screenRes",c.screenRes),xe(g,"userConsent",c.userConsent?Cu:null)}var C=i.os;C&&xe(n,re.deviceOS,C.name);var E=i.trace;E&&(xe(n,re.operationParentId,E.parentID),xe(n,re.operationName,E.name),xe(n,re.operationId,E.traceID));for(var b={},p=a.length-1;p>=0;p--){var m=a[p];$(m,function(w,L){b[w]=L}),a.splice(p,1)}$(a,function(w,L){b[w]=L});var y=yt({},n,b);y[re.internalSdkVersion]||(y[re.internalSdkVersion]="javascript:"+t.Version),r.tags=Jn(y)},t.prototype.Init=function(e,r){this._logger=e,x(r[se])&&this._logger.throwInternal(S.CRITICAL,h.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.")},t.Version="2.6.4",t}(),Tu=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i=n[se].measurements||{},a=n[se][ke]||{};le.extractPropsAndMeasurements(n.data,a,i);var o=n[se];if(x(o))return r.warnToConsole("Invalid input for dependency data"),null;var u=o[ke]&&o[ke][Fr]?o[ke][Fr]:"GET",s=new qe(r,o.id,o.target,o.name,o.duration,o.success,o.responseCode,u,o.type,o.correlationContext,a,i),c=new xt(qe.dataType,s);return le.createEnvelope(r,qe.envelopeType,n,c)},e.DependencyEnvelopeCreator=new e,e}(le),no=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i={},a={};n[ro]!==He.dataType&&(i.baseTypeSource=n[ro]),n[ro]===He.dataType?(i=n[se][ke]||{},a=n[se].measurements||{}):n[se]&&le.extractPropsAndMeasurements(n[se],i,a),le.extractPropsAndMeasurements(n.data,i,a);var o=n[se].name,u=new He(r,o,i,a),s=new xt(He.dataType,u);return le.createEnvelope(r,He.envelopeType,n,s)},e.EventEnvelopeCreator=new e,e}(le),Eu=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i=n[se].measurements||{},a=n[se][ke]||{};le.extractPropsAndMeasurements(n.data,a,i);var o=n[se],u=me.CreateFromInterface(r,o,a,i),s=new xt(me.dataType,u);return le.createEnvelope(r,me.envelopeType,n,s)},e.ExceptionEnvelopeCreator=new e,e}(le),wu=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i=n[se],a=i[ke]||{},o=i.measurements||{};le.extractPropsAndMeasurements(n.data,a,o);var u=new Ve(r,i.name,i.average,i.sampleCount,i.min,i.max,a,o),s=new xt(Ve.dataType,u);return le.createEnvelope(r,Ve.envelopeType,n,s)},e.MetricEnvelopeCreator=new e,e}(le),Pu=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i="duration",a,o=n[se];!x(o)&&!x(o[ke])&&!x(o[ke][i])?(a=o[ke][i],delete o[ke][i]):!x(n.data)&&!x(n.data[i])&&(a=n.data[i],delete n.data[i]);var u=n[se],s;((n.ext||{}).trace||{}).traceID&&(s=n.ext.trace.traceID);var c=u.id||s,l=u.name,f=u.uri,g=u[ke]||{},C=u.measurements||{};if(x(u.refUri)||(g.refUri=u.refUri),x(u.pageType)||(g.pageType=u.pageType),x(u.isLoggedIn)||(g.isLoggedIn=u.isLoggedIn.toString()),!x(u[ke])){var E=u[ke];$(E,function(m,y){g[m]=y})}le.extractPropsAndMeasurements(n.data,g,C);var b=new Ne(r,l,f,a,g,C,c),p=new xt(Ne.dataType,b);return le.createEnvelope(r,Ne.envelopeType,n,p)},e.PageViewEnvelopeCreator=new e,e}(le),bu=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i=n[se],a=i.name,o=i.uri||i.url,u=i[ke]||{},s=i.measurements||{};le.extractPropsAndMeasurements(n.data,u,s);var c=new Ze(r,a,o,void 0,u,s,i),l=new xt(Ze.dataType,c);return le.createEnvelope(r,Ze.envelopeType,n,l)},e.PageViewPerformanceEnvelopeCreator=new e,e}(le),Au=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.Create=function(r,n){t.prototype.Init.call(this,r,n);var i=n[se].message,a=n[se].severityLevel,o=n[se][ke]||{},u=n[se].measurements||{};le.extractPropsAndMeasurements(n.data,o,u);var s=new Qe(r,i,a,o,u),c=new xt(Qe.dataType,s);return le.createEnvelope(r,Qe.envelopeType,n,c)},e.TraceEnvelopeCreator=new e,e}(le)});var Nu,ku=I(()=>{X();Ce();Nu=function(){function t(e){W(t,this,function(r){r.serialize=function(o){var u=n(o,"root");try{return we().stringify(u)}catch(s){e.throwInternal(S.CRITICAL,h.CannotSerializeObject,s&&z(s.toString)?s.toString():"Error serializing object",null,!0)}};function n(o,u){var s="__aiCircularRefCheck",c={};if(!o)return e.throwInternal(S.CRITICAL,h.CannotSerializeObject,"cannot serialize object because it is null or undefined",{name:u},!0),c;if(o[s])return e.throwInternal(S.WARNING,h.CircularReferenceDetected,"Circular reference detected while serializing object",{name:u},!0),c;if(!o.aiDataContract){if(u==="measurements")c=a(o,"number",u);else if(u==="properties")c=a(o,"string",u);else if(u==="tags")c=a(o,"string",u);else if(Fe(o))c=i(o,u);else{e.throwInternal(S.WARNING,h.CannotSerializeObjectNonSerializable,"Attempting to serialize an object which does not implement ISerializable",{name:u},!0);try{we().stringify(o),c=o}catch(l){e.throwInternal(S.CRITICAL,h.CannotSerializeObject,l&&z(l.toString)?l.toString():"Error serializing object",null,!0)}}return c}return o[s]=!0,$(o.aiDataContract,function(l,f){var g=z(f)?f()&1:f&1,C=z(f)?f()&4:f&4,E=f&2,b=o[l]!==void 0,p=st(o[l])&&o[l]!==null;if(g&&!b&&!E)e.throwInternal(S.CRITICAL,h.MissingRequiredFieldSpecification,"Missing required field specification. The field is required but not present on source",{field:l,name:u});else if(!C){var m=void 0;p?E?m=i(o[l],l):m=n(o[l],l):m=o[l],m!==void 0&&(c[l]=m)}}),delete o[s],c}function i(o,u){var s;if(o)if(!Fe(o))e.throwInternal(S.CRITICAL,h.ItemNotInArray,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:u},!0);else{s=[];for(var c=0;c<o.length;c++){var l=o[c],f=n(l,u+"["+c+"]");s.push(f)}}return s}function a(o,u,s){var c;return o&&(c={},$(o,function(l,f){if(u==="string")f===void 0?c[l]="undefined":f===null?c[l]="null":f.toString?c[l]=f.toString():c[l]="invalid field: toString() is not defined.";else if(u==="number")if(f===void 0)c[l]="undefined";else if(f===null)c[l]="null";else{var g=parseFloat(f);isNaN(g)?c[l]="NaN":c[l]=g}else c[l]="invalid field: "+s+" is of unknown type.",e.throwInternal(S.CRITICAL,c[l],null,!0)})),c}})}return t}()});var xl,io,Fu=I(()=>{X();Ce();xl=function(){function t(){var e=It(),r=De(),n=!1,i=!0;W(t,this,function(a){try{if(e&&Jt.Attach(e,"online",s)&&(Jt.Attach(e,"offline",c),n=!0),r){var o=r.body||r;fe(o.ononline)||(o.ononline=s,o.onoffline=c,n=!0)}if(n){var u=Le();u&&!x(u.onLine)&&(i=u.onLine)}}catch(l){n=!1}a.isListening=n,a.isOnline=function(){var l=!0,f=Le();return n?l=i:f&&!x(f.onLine)&&(l=f.onLine),l},a.isOffline=function(){return!a.isOnline()};function s(){i=!0}function c(){i=!1}})}return t.Offline=new t,t}(),io=xl.Offline});var Ru,Mu=I(()=>{Ru=function(){function t(){}return t.prototype.getHashCodeScore=function(e){var r=this.getHashCode(e)/t.INT_MAX_VALUE;return r*100},t.prototype.getHashCode=function(e){if(e==="")return 0;for(;e.length<t.MIN_INPUT_LENGTH;)e=e.concat(e);for(var r=5381,n=0;n<e.length;++n)r=(r<<5)+r+e.charCodeAt(n),r=r&r;return Math.abs(r)},t.INT_MAX_VALUE=2147483647,t.MIN_INPUT_LENGTH=8,t}()});var Lu,_u=I(()=>{Mu();he();Lu=function(){function t(){this.hashCodeGeneragor=new Ru,this.keys=new xr}return t.prototype.getSamplingScore=function(e){var r=0;return e.tags&&e.tags[this.keys.userId]?r=this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.userId]):e.ext&&e.ext.user&&e.ext.user.id?r=this.hashCodeGeneragor.getHashCodeScore(e.ext.user.id):e.tags&&e.tags[this.keys.operationId]?r=this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.operationId]):e.ext&&e.ext.telemetryTrace&&e.ext.telemetryTrace.traceID?r=this.hashCodeGeneragor.getHashCodeScore(e.ext.telemetryTrace.traceID):r=Math.random()*100,r},t}()});var Uu,Ou=I(()=>{_u();he();X();Uu=function(){function t(e,r){this.INT_MAX_VALUE=2147483647,this._logger=r||Mt(null),(e>100||e<0)&&(this._logger.throwInternal(S.WARNING,h.SampleRateOutOfRange,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this.sampleRate=e,this.samplingScoreGenerator=new Lu}return t.prototype.isSampledIn=function(e){var r=this.sampleRate,n=!1;return r==null||r>=100||e.baseType===Ve.dataType?!0:(n=this.samplingScoreGenerator.getSamplingScore(e)<r,n)},t}()});function Ti(t){try{return t.responseText}catch(e){}return null}var An,Bu=I(()=>{ne();Iu();Du();ku();he();X();Fu();Ou();Ce();An=function(t){B(e,t);function e(){var r=t.call(this)||this;r.priority=1001,r.identifier=Or,r._XMLHttpRequestSupported=!1;var n,i,a,o,u,s,c={};return W(e,r,function(l,f){function g(){Ae("Method not implemented.")}l.pause=g,l.resume=g,l.flush=function(){try{l.triggerSend(!0,null,1)}catch(d){l.diagLog().throwInternal(S.CRITICAL,h.FlushFailed,"flush failed, telemetry will not be collected: "+G(d),{exception:O(d)})}},l.onunloadFlush=function(){if((l._senderConfig.onunloadDisableBeacon()===!1||l._senderConfig.isBeaconApiDisabled()===!1)&&kr())try{l.triggerSend(!0,p,2)}catch(d){l.diagLog().throwInternal(S.CRITICAL,h.FailedToSendQueuedTelemetry,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+G(d),{exception:O(d)})}else l.flush()},l.teardown=g,l.addHeader=function(d,T){c[d]=T},l.initialize=function(d,T,D,A){f.initialize(d,T,D,A);var H=l._getTelCtx(),_=l.identifier;u=new Nu(T.logger),n=0,i=null,a=0,l._sender=null,s=0;var j=e._getDefaultAppInsightsChannelConfig();if(l._senderConfig=e._getEmptyAppInsightsChannelConfig(),$(j,function(v,P){l._senderConfig[v]=function(){return H.getConfig(_,v,P())}}),l._buffer=l._senderConfig.enableSessionStorageBuffer()&&wt()?new Su(l.diagLog(),l._senderConfig):new yu(l._senderConfig),l._sample=new Uu(l._senderConfig.samplingPercentage(),l.diagLog()),dt(d)||l.diagLog().throwInternal(S.CRITICAL,h.InvalidInstrumentationKey,"Invalid Instrumentation key "+d.instrumentationKey),!Mr(l._senderConfig.endpointUrl())&&l._senderConfig.customHeaders()&&l._senderConfig.customHeaders().length>0&&R(l._senderConfig.customHeaders(),function(v){r.addHeader(v.header,v.value)}),!l._senderConfig.isBeaconApiDisabled()&&kr())l._sender=p;else{var Z=Ee("XMLHttpRequest");if(Z){var ie=new Z;"withCredentials"in ie?(l._sender=m,l._XMLHttpRequestSupported=!0):typeof XDomainRequest!==Ue&&(l._sender=de)}else{var Ht=Ee("fetch");Ht&&(l._sender=y)}}},l.processTelemetry=function(d,T){T=l._getTelCtx(T);try{if(l._senderConfig.disableTelemetry())return;if(!d){T.diagLog().throwInternal(S.CRITICAL,h.CannotSendEmptyTelemetry,"Cannot send empty telemetry");return}if(d.baseData&&!d.baseType){T.diagLog().throwInternal(S.CRITICAL,h.InvalidEvent,"Cannot send telemetry without baseData and baseType");return}if(d.baseType||(d.baseType="EventData"),!l._sender){T.diagLog().throwInternal(S.CRITICAL,h.SenderNotInitialized,"Sender was not initialized");return}if(C(d))d[fr]=l._sample.sampleRate;else{T.diagLog().throwInternal(S.WARNING,h.TelemetrySampledAndNotSent,"Telemetry item was sampled out and not sent",{SampleRate:l._sample.sampleRate});return}var D=e.constructEnvelope(d,l._senderConfig.instrumentationKey(),T.diagLog());if(!D){T.diagLog().throwInternal(S.CRITICAL,h.CreateEnvelopeError,"Unable to create an AppInsights envelope");return}var A=!1;if(d.tags&&d.tags[Ot]&&(R(d.tags[Ot],function(Z){try{Z&&Z(D)===!1&&(A=!0,T.diagLog().warnToConsole("Telemetry processor check returns false"))}catch(ie){T.diagLog().throwInternal(S.CRITICAL,h.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+G(ie),{exception:O(ie)},!0)}}),delete d.tags[Ot]),A)return;var H=u.serialize(D),_=l._buffer.getItems(),j=l._buffer.batchPayloads(_);j&&j.length+H.length>l._senderConfig.maxBatchSizeInBytes()&&l.triggerSend(!0,null,10),l._buffer.enqueue(H),Q()}catch(Z){T.diagLog().throwInternal(S.WARNING,h.FailedAddingTelemetryToBuffer,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+G(Z),{exception:O(Z)})}l.processNext(d,T)},l._xhrReadyStateChange=function(d,T,D){d.readyState===4&&E(d.status,T,d.responseURL,D,J(d),Ti(d)||d.response)},l.triggerSend=function(d,T,D){d===void 0&&(d=!0);try{if(l._senderConfig.disableTelemetry())l._buffer.clear();else{if(l._buffer.count()>0){var A=l._buffer.getItems();it(D||0,d),T?T.call(r,A,d):l._sender(A,d)}a=+new Date}clearTimeout(o),o=null,i=null}catch(_){var H=sr();(!H||H>9)&&l.diagLog().throwInternal(S.CRITICAL,h.TransmissionFailed,"Telemetry transmission failed, some telemetry will be lost: "+G(_),{exception:O(_)})}},l._onError=function(d,T,D){l.diagLog().throwInternal(S.WARNING,h.OnError,"Failed to send telemetry.",{message:T}),l._buffer.clearSent(d)},l._onPartialSuccess=function(d,T){for(var D=[],A=[],H=T.errors.reverse(),_=0,j=H;_<j.length;_++){var Z=j[_],ie=d.splice(Z.index,1)[0];ye(Z.statusCode)?A.push(ie):D.push(ie)}d.length>0&&l._onSuccess(d,T.itemsAccepted),D.length>0&&l._onError(D,J(null,["partial success",T.itemsAccepted,"of",T.itemsReceived].join(" "))),A.length>0&&(L(A),l.diagLog().throwInternal(S.WARNING,h.TransmissionFailed,"Partial success. Delivered: "+d.length+", Failed: "+D.length+". Will retry to send "+A.length+" our of "+T.itemsReceived+" items"))},l._onSuccess=function(d,T){l._buffer.clearSent(d)},l._xdrOnLoad=function(d,T){var D=Ti(d);if(d&&(D+""=="200"||D===""))n=0,l._onSuccess(T,0);else{var A=w(D);A&&A.itemsReceived&&A.itemsReceived>A.itemsAccepted&&!l._senderConfig.isRetryDisabled()?l._onPartialSuccess(T,A):l._onError(T,be(d))}};function C(d){return l._sample.isSampledIn(d)}function E(d,T,D,A,H,_){var j=null;if(l._appId||(j=w(_),j&&j.appId&&(l._appId=j.appId)),(d<200||d>=300)&&d!==0){if((d===301||d===307||d===308)&&!b(D)){l._onError(T,H);return}!l._senderConfig.isRetryDisabled()&&ye(d)?(L(T),l.diagLog().throwInternal(S.WARNING,h.TransmissionFailed,". Response code "+d+". Will retry to send "+T.length+" items.")):l._onError(T,H)}else if(io.isOffline()){if(!l._senderConfig.isRetryDisabled()){var Z=10;L(T,Z),l.diagLog().throwInternal(S.WARNING,h.TransmissionFailed,". Offline - Response Code: "+d+". Offline status: "+io.isOffline()+". Will retry to send "+T.length+" items.")}}else b(D),d===206?(j||(j=w(_)),j&&!l._senderConfig.isRetryDisabled()?l._onPartialSuccess(T,j):l._onError(T,H)):(n=0,l._onSuccess(T,A))}function b(d){return s>=10?!1:!x(d)&&d!==""&&d!==l._senderConfig.endpointUrl()?(l._senderConfig.endpointUrl=function(){return d},++s,!0):!1}function p(d,T){var D=l._senderConfig.endpointUrl(),A=l._buffer.batchPayloads(d),H=new Blob([A],{type:"text/plain;charset=UTF-8"}),_=Le().sendBeacon(D,H);_?(l._buffer.markAsSent(d),l._onSuccess(d,d.length)):(m(d,!0),l.diagLog().throwInternal(S.WARNING,h.TransmissionFailed,". Failed to send telemetry with Beacon API, retried with xhrSender."))}function m(d,T){var D=new XMLHttpRequest,A=l._senderConfig.endpointUrl();try{D[Et]=!0}catch(_){}D.open("POST",A,T),D.setRequestHeader("Content-type","application/json"),Mr(A)&&D.setRequestHeader(te.sdkContextHeader,te.sdkContextHeaderAppIdRequest),R(Ye(c),function(_){D.setRequestHeader(_,c[_])}),D.onreadystatechange=function(){return l._xhrReadyStateChange(D,d,d.length)},D.onerror=function(_){return l._onError(d,J(D),_)};var H=l._buffer.batchPayloads(d);D.send(H),l._buffer.markAsSent(d)}function y(d,T){var D=l._senderConfig.endpointUrl(),A=l._buffer.batchPayloads(d),H=new Blob([A],{type:"text/plain;charset=UTF-8"}),_=new Headers;Mr(D)&&_.append(te.sdkContextHeader,te.sdkContextHeaderAppIdRequest),R(Ye(c),function(ie){_.append(ie,c[ie])});var j={method:"POST",headers:_,body:H},Z=new Request(D,j);fetch(Z).then(function(ie){if(ie.ok)ie.text().then(function(Ht){E(ie.status,d,ie.url,d.length,ie.statusText,Ht)}),l._buffer.markAsSent(d);else throw Error(ie.statusText)}).catch(function(ie){l._onError(d,ie.message)})}function w(d){try{if(d&&d!==""){var T=we().parse(d);if(T&&T.itemsReceived&&T.itemsReceived>=T.itemsAccepted&&T.itemsReceived-T.itemsAccepted===T.errors.length)return T}}catch(D){l.diagLog().throwInternal(S.CRITICAL,h.InvalidBackendResponse,"Cannot parse the response. "+G(D),{response:d})}return null}function L(d,T){if(T===void 0&&(T=1),!(!d||d.length===0)){l._buffer.clearSent(d),n++;for(var D=0,A=d;D<A.length;D++){var H=A[D];l._buffer.enqueue(H)}k(T),Q()}}function k(d){var T=10,D;if(n<=1)D=T;else{var A=(Math.pow(2,n)-1)/2,H=Math.floor(Math.random()*A*T)+1;H=d*H,D=Math.max(Math.min(H,3600),T)}var _=pe()+D*1e3;i=_}function Q(){if(!o){var d=i?Math.max(0,i-pe()):0,T=Math.max(l._senderConfig.maxBatchInterval(),d);o=setTimeout(function(){l.triggerSend(!0,null,1)},T)}}function ye(d){return d===408||d===429||d===500||d===503}function J(d,T){return d?"XMLHttpRequest,Status:"+d.status+",Response:"+Ti(d)||d.response||"":T}function de(d,T){var D=It(),A=new XDomainRequest;A.onload=function(){return l._xdrOnLoad(A,d)},A.onerror=function(Z){return l._onError(d,be(A),Z)};var H=D&&D.location&&D.location.protocol||"";if(l._senderConfig.endpointUrl().lastIndexOf(H,0)!==0){l.diagLog().throwInternal(S.WARNING,h.TransmissionFailed,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),l._buffer.clear();return}var _=l._senderConfig.endpointUrl().replace(/^(https?:)/,"");A.open("POST",_);var j=l._buffer.batchPayloads(d);A.send(j),l._buffer.markAsSent(d)}function be(d,T){return d?"XDomainRequest,Response:"+Ti(d)||"":T}function pt(){var d="getNotifyMgr";return l.core[d]?l.core[d]():l.core._notificationManager}function it(d,T){var D=pt();if(D&&D.eventsSendRequest)try{D.eventsSendRequest(d,T)}catch(A){l.diagLog().throwInternal(S.CRITICAL,h.NotificationException,"send request notification failed: "+G(A),{exception:O(A)})}}function dt(d){var T=x(d.disableInstrumentationKeyValidation)?!1:d.disableInstrumentationKeyValidation;if(T)return!0;var D="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",A=new RegExp(D);return A.test(d.instrumentationKey)}}),r}return e.constructEnvelope=function(r,n,i){var a;switch(n!==r.iKey&&!x(n)?a=yt({},r,{iKey:n}):a=r,a.baseType){case He.dataType:return no.EventEnvelopeCreator.Create(i,a);case Qe.dataType:return Au.TraceEnvelopeCreator.Create(i,a);case Ne.dataType:return Pu.PageViewEnvelopeCreator.Create(i,a);case Ze.dataType:return bu.PageViewPerformanceEnvelopeCreator.Create(i,a);case me.dataType:return Eu.ExceptionEnvelopeCreator.Create(i,a);case Ve.dataType:return wu.MetricEnvelopeCreator.Create(i,a);case qe.dataType:return Tu.DependencyEnvelopeCreator.Create(i,a);default:return no.EventEnvelopeCreator.Create(i,a)}},e._getDefaultAppInsightsChannelConfig=function(){return{endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100},customHeaders:function(){}}},e._getEmptyAppInsightsChannelConfig=function(){return{endpointUrl:void 0,emitLineDelimitedJson:void 0,maxBatchInterval:void 0,maxBatchSizeInBytes:void 0,disableTelemetry:void 0,enableSessionStorageBuffer:void 0,isRetryDisabled:void 0,isBeaconApiDisabled:void 0,onunloadDisableBeacon:void 0,instrumentationKey:void 0,namePrefix:void 0,samplingPercentage:void 0,customHeaders:void 0}},e}(et)});var ao=I(()=>{Bu()});var yl,oo,zu,Hu=I(()=>{Ce();he();X();yl="ai_session",oo=function(){function t(){}return t}(),zu=function(){function t(e,r){var n=this,i,a,o=Mt(r),u=lr(r);W(t,n,function(s){e||(e={}),z(e.sessionExpirationMs)||(e.sessionExpirationMs=function(){return t.acquisitionSpan}),z(e.sessionRenewalMs)||(e.sessionRenewalMs=function(){return t.renewalSpan}),s.config=e;var c=s.config.sessionCookiePostfix&&s.config.sessionCookiePostfix()?s.config.sessionCookiePostfix():s.config.namePrefix&&s.config.namePrefix()?s.config.namePrefix():"";i=function(){return yl+c},s.automaticSession=new oo,s.update=function(){var b=pe(),p=!1,m=s.automaticSession;m.id||(p=!l(m,b));var y=s.config.sessionExpirationMs();if(!p&&y>0){var w=s.config.sessionRenewalMs(),L=b-m.acquisitionDate,k=b-m.renewalDate;p=L<0||k<0,p=p||L>y,p=p||k>w}p?g(b):(!a||b-a>t.cookieUpdateInterval)&&C(m,b)},s.backup=function(){var b=s.automaticSession;E(b.id,b.acquisitionDate,b.renewalDate)};function l(b,p){var m=!1,y=u.get(i());if(y&&z(y.split))m=f(b,y);else{var w=dn(o,i());w&&(m=f(b,w))}return m||!!b.id}function f(b,p){var m=!1,y=", session will be reset",w=p.split("|");if(w.length>=2)try{var L=+w[1]||0,k=+w[2]||0;isNaN(L)||L<=0?o.throwInternal(S.WARNING,h.SessionRenewalDateIsZero,"AI session acquisition date is 0"+y):isNaN(k)||k<=0?o.throwInternal(S.WARNING,h.SessionRenewalDateIsZero,"AI session renewal date is 0"+y):w[0]&&(b.id=w[0],b.acquisitionDate=L,b.renewalDate=k,m=!0)}catch(Q){o.throwInternal(S.CRITICAL,h.ErrorParsingAISessionCookie,"Error parsing ai_session value ["+(p||"")+"]"+y+" - "+G(Q),{exception:O(Q)})}return m}function g(b){var p=s.config||{},m=(p.getNewId?p.getNewId():null)||Xt;s.automaticSession.id=m(p.idLength?p.idLength():22),s.automaticSession.acquisitionDate=b,C(s.automaticSession,b),Rr()||o.throwInternal(S.WARNING,h.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}function C(b,p){var m=b.acquisitionDate;b.renewalDate=p;var y=s.config,w=y.sessionRenewalMs(),L=m+y.sessionExpirationMs()-p,k=[b.id,m,p],Q=0;L<w?Q=L/1e3:Q=w/1e3;var ye=y.cookieDomain?y.cookieDomain():null;u.set(i(),k.join("|"),y.sessionExpirationMs()>0?Q:null,ye),a=p}function E(b,p,m){gn(o,i(),[b,p,m].join("|"))}})}return t.acquisitionSpan=864e5,t.renewalSpan=18e5,t.cookieUpdateInterval=6e4,t}()});var Vu,qu=I(()=>{Vu=function(){function t(){}return t}()});var ju,Gu=I(()=>{ju=function(){function t(){this.id="browser",this.deviceClass="Browser"}return t}()});var Sl,Ku,Wu=I(()=>{Sl="2.6.4",Ku=function(){function t(e){this.sdkVersion=(e.sdkExtension&&e.sdkExtension()?e.sdkExtension()+"_":"")+"javascript:"+Sl}return t}()});function Xu(t){return!(typeof t!="string"||!t||t.match(/,|;|=| |\|/))}var Ju,Qu=I(()=>{Ce();he();X();Ju=function(){function t(e,r){this.isNewUser=!1;var n=Mt(r),i=lr(r),a;W(t,this,function(o){o.config=e;var u=o.config.userCookiePostfix&&o.config.userCookiePostfix()?o.config.userCookiePostfix():"";a=function(){return t.userCookieName+u};var s=i.get(a());if(s){o.isNewUser=!1;var c=s.split(t.cookieSeparator);c.length>0&&(o.id=c[0])}if(!o.id){var l=e||{},f=(l.getNewId?l.getNewId():null)||Xt;o.id=f(l.idLength?e.idLength():22);var g=31536e3,C=Re(new Date);o.accountAcquisitionDate=C,o.isNewUser=!0;var E=[o.id,C];i.set(a(),E.join(t.cookieSeparator),g);var b=e.namePrefix&&e.namePrefix()?e.namePrefix()+"ai_session":"ai_session";vn(n,b)}o.accountId=e.accountId?e.accountId():void 0;var p=i.get(t.authUserCookieName);if(p){p=decodeURI(p);var m=p.split(t.cookieSeparator);m[0]&&(o.authenticatedId=m[0]),m.length>1&&m[1]&&(o.accountId=m[1])}o.setAuthenticatedUserContext=function(y,w,L){L===void 0&&(L=!1);var k=!Xu(y)||w&&!Xu(w);if(k){n.throwInternal(S.WARNING,h.SetAuthContextFailedAccountName,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);return}o.authenticatedId=y;var Q=o.authenticatedId;w&&(o.accountId=w,Q=[o.authenticatedId,o.accountId].join(t.cookieSeparator)),L&&i.set(t.authUserCookieName,encodeURI(Q))},o.clearAuthenticatedUserContext=function(){o.authenticatedId=null,o.accountId=null,i.del(t.authUserCookieName)}})}return t.cookieSeparator="|",t.userCookieName="ai_user",t.authUserCookieName="ai_authUser",t}()});var Zu,Yu=I(()=>{Zu=function(){function t(){}return t}()});var $u,ec=I(()=>{he();X();$u=function(){function t(e,r,n,i){var a=this;a.traceID=e||Oe(),a.parentID=r,a.name=n;var o=$e();!n&&o&&o.pathname&&(a.name=o.pathname),a.name=ae(i,a.name)}return t}()});function Br(t,e){t&&t[e]&&Ye(t[e]).length===0&&delete t[e]}var Ei,wi,tc,rc=I(()=>{Ce();X();Hu();he();qu();Gu();Wu();Qu();Yu();ec();Ei="ext",wi="tags";tc=function(){function t(e,r){var n=this,i=e.logger;this.appId=function(){return null},W(t,this,function(a){a.application=new Vu,a.internal=new Ku(r),or()&&(a.sessionManager=new zu(r,e),a.device=new ju,a.location=new Zu,a.user=new Ju(r,e),a.telemetryTrace=new $u(void 0,void 0,void 0,i),a.session=new oo),a.applySessionContext=function(o,u){var s=a.session,c=a.sessionManager;s&&U(s.id)?K(ge(o.ext,_e.AppExt),"sesId",s.id):c&&c.automaticSession&&K(ge(o.ext,_e.AppExt),"sesId",c.automaticSession.id,U)},a.applyOperatingSystemContxt=function(o,u){K(o.ext,_e.OSExt,a.os)},a.applyApplicationContext=function(o,u){var s=a.application;if(s){var c=ge(o,wi);K(c,re.applicationVersion,s.ver,U),K(c,re.applicationBuild,s.build,U)}},a.applyDeviceContext=function(o,u){var s=a.device;if(s){var c=ge(ge(o,Ei),_e.DeviceExt);K(c,"localId",s.id,U),K(c,"ip",s.ip,U),K(c,"model",s.model,U),K(c,"deviceClass",s.deviceClass,U)}},a.applyInternalContext=function(o,u){var s=a.internal;if(s){var c=ge(o,wi);K(c,re.internalAgentVersion,s.agentVersion,U),K(c,re.internalSdkVersion,s.sdkVersion,U),(o.baseType===Rt.dataType||o.baseType===Ne.dataType)&&(K(c,re.internalSnippet,s.snippetVer,U),K(c,re.internalSdkSrc,s.sdkSrc,U))}},a.applyLocationContext=function(o,u){var s=n.location;s&&K(ge(o,wi,[]),re.locationIp,s.ip,U)},a.applyOperationContext=function(o,u){var s=a.telemetryTrace;if(s){var c=ge(ge(o,Ei),_e.TraceExt,{traceID:void 0,parentID:void 0});K(c,"traceID",s.traceID,U),K(c,"name",s.name,U),K(c,"parentID",s.parentID,U)}},a.applyWebContext=function(o,u){var s=n.web;s&&K(ge(o,Ei),_e.WebExt,s)},a.applyUserContext=function(o,u){var s=a.user;if(s){var c=ge(o,wi,[]);K(c,re.userAccountId,s.accountId,U);var l=ge(ge(o,Ei),_e.UserExt);K(l,"id",s.id,U),K(l,"authId",s.authenticatedId,U)}},a.cleanUp=function(o,u){var s=o.ext;s&&(Br(s,_e.DeviceExt),Br(s,_e.UserExt),Br(s,_e.WebExt),Br(s,_e.OSExt),Br(s,_e.AppExt),Br(s,_e.TraceExt))}})}return t}()});var Il,Dn,nc=I(()=>{ne();Ce();X();rc();he();Il=function(t){B(e,t);function e(){var r=t.call(this)||this;r.priority=110,r.identifier=zt;var n,i;return W(e,r,function(a,o){a.initialize=function(s,c,l,f){o.initialize(s,c,l,f);var g=a._getTelCtx(),C=a.identifier,E=e.getDefaultConfig();i=i||{},$(E,function(b,p){i[b]=function(){return g.getConfig(C,b,p())}}),a.context=new tc(c,i),n=un(l,Or),a.context.appId=function(){return n?n._appId:null},a._extConfig=i},a.processTelemetry=function(s,c){if(!x(s)){c=a._getTelCtx(c),s.name===Ne.envelopeType&&c.diagLog().resetInternalMessageCount();var l=a.context||{};if(l.session&&typeof a.context.session.id!="string"&&l.sessionManager&&l.sessionManager.update(),u(s,c),l.user&&l.user.isNewUser){l.user.isNewUser=!1;var f=new Rt(h.SendBrowserInfoOnUserInit,(Le()||{}).userAgent||"");c.diagLog().logInternalMessage(S.CRITICAL,f)}a.processNext(s,c)}};function u(s,c){ge(s,"tags",[]),ge(s,"ext",{});var l=a.context;l.applySessionContext(s,c),l.applyApplicationContext(s,c),l.applyDeviceContext(s,c),l.applyOperationContext(s,c),l.applyUserContext(s,c),l.applyOperatingSystemContxt(s,c),l.applyWebContext(s,c),l.applyLocationContext(s,c),l.applyInternalContext(s,c),l.cleanUp(s,c)}}),r}return e.getDefaultConfig=function(){var r={instrumentationKey:function(){},accountId:function(){return null},sessionRenewalMs:function(){return 18e5},samplingPercentage:function(){return 100},sessionExpirationMs:function(){return 864e5},cookieDomain:function(){return null},sdkExtension:function(){return null},isBrowserLinkTrackingEnabled:function(){return!1},appId:function(){return null},namePrefix:function(){},sessionCookiePostfix:function(){},userCookiePostfix:function(){},idLength:function(){return 22},getNewId:function(){return null}};return r},e}(et),Dn=Il});var so=I(()=>{nc()});function ic(t,e,r){var n=0,i=t[e],a=t[r];return i&&a&&(n=ve(i,a)),n}function yr(t,e,r,n,i){var a=0,o=ic(r,n,i);return o&&(a=rr(t,e,Ge(o))),a}function rr(t,e,r){var n="ajaxPerf",i=0;if(t&&e&&r){var a=t[n]=t[n]||{};a[e]=r,i=1}return i}function Cl(t,e){var r=t.perfTiming,n=e[rt]||{},i=0,a="name",o="Start",u="End",s="domainLookup",c="connect",l="redirect",f="request",g="response",C="duration",E="startTime",b=s+o,p=s+u,m=c+o,y=c+u,w=f+o,L=f+u,k=g+o,Q=g+u,ye=l+o,J=l=u,de="transferSize",be="encodedBodySize",pt="decodedBodySize",it="serverTiming";if(r){i|=yr(n,l,r,ye,J),i|=yr(n,s,r,b,p),i|=yr(n,c,r,m,y),i|=yr(n,f,r,w,L),i|=yr(n,g,r,k,Q),i|=yr(n,"networkConnect",r,E,y),i|=yr(n,"sentRequest",r,w,Q);var dt=r[C];dt||(dt=ic(r,E,Q)||0),i|=rr(n,C,dt),i|=rr(n,"perfTotal",dt);var d=r[it];if(d){var T={};R(d,function(D,A){var H=ji(D[a]||""+A),_=T[H]||{};$(D,function(j,Z){(j!==a&&U(Z)||ar(Z))&&(_[j]&&(Z=_[j]+";"+Z),(Z||!U(Z))&&(_[j]=Z))}),T[H]=_}),i|=rr(n,it,T)}i|=rr(n,de,r[de]),i|=rr(n,be,r[be]),i|=rr(n,pt,r[pt])}else t.perfMark&&(i|=rr(n,"missing",t.perfAttempts));i&&(e[rt]=n)}var rt,Tl,uo,ac=I(()=>{he();X();Ce();rt="properties";Tl=function(){function t(){var e=this;e.openDone=!1,e.setRequestHeaderDone=!1,e.sendDone=!1,e.abortDone=!1,e.stateChangeAttached=!1}return t}(),uo=function(){function t(e,r,n){var i=this,a=n,o="responseText";i.perfMark=null,i.completed=!1,i.requestHeadersSize=null,i.requestHeaders=null,i.responseReceivingDuration=null,i.callbackDuration=null,i.ajaxTotalDuration=null,i.aborted=0,i.pageUrl=null,i.requestUrl=null,i.requestSize=0,i.method=null,i.status=null,i.requestSentTime=null,i.responseStartedTime=null,i.responseFinishedTime=null,i.callbackFinishedTime=null,i.endTime=null,i.xhrMonitoringState=new Tl,i.clientFailure=0,i.traceID=e,i.spanID=r,W(t,i,function(u){u.getAbsoluteUrl=function(){return u.requestUrl?hn(u.requestUrl):null},u.getPathName=function(){return u.requestUrl?Tt(a,xn(u.method,u.requestUrl)):null},u.CreateTrackItem=function(s,c,l){if(u.ajaxTotalDuration=Math.round(ve(u.requestSentTime,u.responseFinishedTime)*1e3)/1e3,u.ajaxTotalDuration<0)return null;var f=(b={id:"|"+u.traceID+"."+u.spanID,target:u.getAbsoluteUrl(),name:u.getPathName(),type:s,startTime:null,duration:u.ajaxTotalDuration,success:+u.status>=200&&+u.status<400,responseCode:+u.status,method:u.method},b[rt]={HttpMethod:u.method},b);if(u.requestSentTime&&(f.startTime=new Date,f.startTime.setTime(u.requestSentTime)),Cl(u,f),c&&Ye(u.requestHeaders).length>0&&(f[rt]=f[rt]||{},f[rt].requestHeaders=u.requestHeaders),l){var g=l();if(g){var C=g.correlationContext;if(C&&(f.correlationContext=C),g.headerMap&&Ye(g.headerMap).length>0&&(f[rt]=f[rt]||{},f[rt].responseHeaders=g.headerMap),u.status>=400){var E=g.type;f[rt]=f[rt]||{},(E===""||E==="text")&&(f[rt][o]=g[o]?g.statusText+" - "+g[o]:g.statusText),E==="json"&&(f[rt][o]=g.response?g.statusText+" - "+JSON.stringify(g.response):g.statusText)}}}return f;var b}})}return t}()});var Th,oc=I(()=>{X();X();Th=function(){function t(){}return t.GetLength=function(e){var r=0;if(!x(e)){var n="";try{n=e.toString()}catch(i){}r=n.length,r=isNaN(r)?0:r}return r},t}()});var co,sc=I(()=>{X();co=function(){function t(e,r){var n=this;n.traceFlag=t.DEFAULT_TRACE_FLAG,n.version=t.DEFAULT_VERSION,e&&t.isValidTraceId(e)?n.traceId=e:n.traceId=Oe(),r&&t.isValidSpanId(r)?n.spanId=r:n.spanId=Oe().substr(0,16)}return t.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&e!=="00000000000000000000000000000000"},t.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&e!=="0000000000000000"},t.prototype.toString=function(){var e=this;return e.version+"-"+e.traceId+"-"+e.spanId+"-"+e.traceFlag},t.DEFAULT_TRACE_FLAG="01",t.DEFAULT_VERSION="00",t}()});function El(){var t=ot();return!t||x(t.Request)||x(t.Request[Ie])||x(t[Fn])?null:t[Fn]}function wl(t){var e=!1;if(typeof XMLHttpRequest!==Ue&&!x(XMLHttpRequest)){var r=XMLHttpRequest[Ie];e=!x(r)&&!x(r.open)&&!x(r.send)&&!x(r.abort)}var n=sr();if(n&&n<9&&(e=!1),e)try{var i=new XMLHttpRequest;i[nt]={};var a=XMLHttpRequest[Ie].open;XMLHttpRequest[Ie].open=a}catch(o){e=!1,Rn(t,h.FailedMonitorAjaxOpen,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:O(o)})}return e}function bi(t){var e="";try{!x(t)&&!x(t[nt])&&!x(t[nt].requestUrl)&&(e+="(url: '"+t[nt].requestUrl+"')")}catch(r){}return e}function Rn(t,e,r,n,i){t[kn]()[lc](S.CRITICAL,e,r,n,i)}function Pi(t,e,r,n,i){t[kn]()[lc](S.WARNING,e,r,n,i)}function Nn(t,e,r){return function(n){Rn(t,e,r,{ajaxDiagnosticsMessage:bi(n.inst),exception:O(n.err)})}}function zr(t,e){return t&&e?t.indexOf(e):-1}var uc,kn,nt,lc,Fn,cc,Mn,fc=I(()=>{ne();he();X();ac();oc();sc();Ce();uc="ai.ajxmn.",kn="diagLog",nt="ajaxData",lc="throwInternal",Fn="fetch",cc=0;Mn=function(t){B(e,t);function e(){var r=t.call(this)||this;r.identifier=e.identifier,r.priority=120;var n="trackDependencyDataInternal",i=$e(),a=!1,o=!1,u=i&&i.host&&i.host.toLowerCase(),s=e.getEmptyConfig(),c=!1,l=0,f,g,C,E,b=!1,p=0,m=!1,y=[],w={},L;return W(e,r,function(k,Q){k.initialize=function(v,P,N,F){if(!k.isInitialized()){Q.initialize(v,P,N,F);var M=k._getTelCtx(),q=e.getDefaultConfig();$(q,function(We,Sr){s[We]=M.getConfig(e.identifier,We,Sr)});var V=s.distributedTracingMode;if(c=s.enableRequestHeaderTracking,b=s.enableAjaxPerfTracking,p=s.maxAjaxCallsPerView,m=s.enableResponseHeaderTracking,L=s.excludeRequestFromAutoTrackingPatterns,C=V===Ke.AI||V===Ke.AI_AND_W3C,g=V===Ke.AI_AND_W3C||V===Ke.W3C,b){var Y=v.instrumentationKey||"unkwn";Y.length>5?E=uc+Y.substring(Y.length-5)+".":E=uc+Y+"."}if(s.disableAjaxTracking===!1&&be(),J(),N.length>0&&N){for(var ue=void 0,Se=0;!ue&&Se<N.length;)N[Se]&&N[Se].identifier===zt&&(ue=N[Se]),Se++;ue&&(f=ue.context)}}},k.teardown=function(){R(y,function(v){v.rm()}),y=[],a=!1,o=!1,k.setInitialized(!1)},k.trackDependencyData=function(v,P){k[n](v,P)},k.includeCorrelationHeaders=function(v,P,N,F){var M=k._currentWindowHost||u;if(P){if(Pt.canIncludeCorrelationHeader(s,v.getAbsoluteUrl(),M)){if(N||(N={}),N.headers=new Headers(N.headers||(P instanceof Request?P.headers||{}:{})),C){var q="|"+v.traceID+"."+v.spanID;N.headers.set(te.requestIdHeader,q),c&&(v.requestHeaders[te.requestIdHeader]=q)}var V=s.appId||f&&f.appId();if(V&&(N.headers.set(te.requestContextHeader,te.requestContextAppIdFormat+V),c&&(v.requestHeaders[te.requestContextHeader]=te.requestContextAppIdFormat+V)),g){var Y=new co(v.traceID,v.spanID);N.headers.set(te.traceParentHeader,Y.toString()),c&&(v.requestHeaders[te.traceParentHeader]=Y.toString())}}return N}else if(F){if(Pt.canIncludeCorrelationHeader(s,v.getAbsoluteUrl(),M)){if(C){var q="|"+v.traceID+"."+v.spanID;F.setRequestHeader(te.requestIdHeader,q),c&&(v.requestHeaders[te.requestIdHeader]=q)}var V=s.appId||f&&f.appId();if(V&&(F.setRequestHeader(te.requestContextHeader,te.requestContextAppIdFormat+V),c&&(v.requestHeaders[te.requestContextHeader]=te.requestContextAppIdFormat+V)),g){var Y=new co(v.traceID,v.spanID);F.setRequestHeader(te.traceParentHeader,Y.toString()),c&&(v.requestHeaders[te.traceParentHeader]=Y.toString())}}return F}},k[n]=function(v,P,N){if(p===-1||l<p){(s.distributedTracingMode===Ke.W3C||s.distributedTracingMode===Ke.AI_AND_W3C)&&typeof v.id=="string"&&v.id[v.id.length-1]!=="."&&(v.id+="."),x(v.startTime)&&(v.startTime=new Date);var F=tt.create(v,qe.dataType,qe.envelopeType,k[kn](),P,N);k.core.track(F)}else l===p&&Rn(k,h.MaxAjaxPerPVExceeded,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++l};function ye(v){var P=!0;return(v||s.ignoreHeaders)&&R(s.ignoreHeaders,function(N){if(N.toLowerCase()===v.toLowerCase())return P=!1,-1}),P}function J(){var v=El();if(!!v){var P=ot(),N=v.polyfill;s.disableFetchTracking===!1?(y.push(sn(P,Fn,{req:function(F,M,q){var V;if(a&&!pt(null,M,q)&&!(N&&o)){var Y=F.ctx();V=j(M,q);var ue=k.includeCorrelationHeaders(V,M,q);ue!==q&&F.set(1,ue),Y.data=V}},rsp:function(F,M){var q=F.ctx().data;q&&(F.rslt=F.rslt.then(function(V){return ie(F,(V||{}).status,V,q,function(){var Y={statusText:V.statusText,headerMap:null,correlationContext:Ht(V)};if(m){var ue={};V.headers.forEach(function(Se,We){ye(We)&&(ue[We]=Se)}),Y.headerMap=ue}return Y}),V}).catch(function(V){throw ie(F,0,M,q,null,{error:V.message}),V}))},hkErr:Nn(k,h.FailedMonitorAjaxOpen,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),a=!0):N&&y.push(sn(P,Fn,{req:function(F,M,q){pt(null,M,q)}})),N&&(P[Fn].polyfill=N)}}function de(v,P,N){y.push(Pa(v,P,N))}function be(){wl(k)&&!o&&(de(XMLHttpRequest,"open",{req:function(v,P,N,F){var M=v.inst,q=M[nt];!pt(M,N)&&it(M,!0)&&(!q||!q.xhrMonitoringState.openDone)&&dt(M,P,N,F)},hkErr:Nn(k,h.FailedMonitorAjaxOpen,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),de(XMLHttpRequest,"send",{req:function(v,P){var N=v.inst,F=N[nt];it(N)&&!F.xhrMonitoringState.sendDone&&(H("xhr",F),F.requestSentTime=vr(),k.includeCorrelationHeaders(F,void 0,void 0,N),F.xhrMonitoringState.sendDone=!0)},hkErr:Nn(k,h.FailedMonitorAjaxSend,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),de(XMLHttpRequest,"abort",{req:function(v){var P=v.inst,N=P[nt];it(P)&&!N.xhrMonitoringState.abortDone&&(N.aborted=1,N.xhrMonitoringState.abortDone=!0)},hkErr:Nn(k,h.FailedMonitorAjaxAbort,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),c&&de(XMLHttpRequest,"setRequestHeader",{req:function(v,P,N){var F=v.inst;it(F)&&ye(P)&&(F[nt].requestHeaders[P]=N)},hkErr:Nn(k,h.FailedMonitorAjaxSetRequestHeader,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),o=!0)}function pt(v,P,N){var F=!1,M=((U(P)?P:(P||{}).url||"")||"").toLowerCase();if(R(L,function(Y){var ue=Y;U(Y)&&(ue=new RegExp(Y)),F||(F=ue.test(M))}),F)return F;var q=zr(M,"?"),V=zr(M,"#");return(q===-1||V!==-1&&V<q)&&(q=V),q!==-1&&(M=M.substring(0,q)),x(v)?x(P)||(F=(typeof P=="object"?P[Et]===!0:!1)||(N?N[Et]===!0:!1)):F=v[Et]===!0||M[Et]===!0,F?w[M]||(w[M]=1):w[M]&&(F=!0),F}function it(v,P){var N=!0,F=o;return x(v)||(N=P===!0||!x(v[nt])),F&&N}function dt(v,P,N,F){var M=f&&f.telemetryTrace&&f.telemetryTrace.traceID||Oe(),q=Oe().substr(0,16),V=new uo(M,q,k[kn]());V.method=P,V.requestUrl=N,V.xhrMonitoringState.openDone=!0,V.requestHeaders={},V.async=F,v[nt]=V,d(v)}function d(v){v[nt].xhrMonitoringState.stateChangeAttached=Jt.Attach(v,"readystatechange",function(){try{v&&v.readyState===4&&it(v)&&D(v)}catch(N){var P=O(N);(!P||zr(P.toLowerCase(),"c00c023f")===-1)&&Rn(k,h.FailedMonitorAjaxRSC,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:bi(v),exception:P})}})}function T(v){try{var P=v.responseType;if(P===""||P==="text")return v.responseText}catch(N){}return null}function D(v){var P=v[nt];P.responseFinishedTime=vr(),P.status=v.status;function N(F,M){var q=M||{};q.ajaxDiagnosticsMessage=bi(v),F&&(q.exception=O(F)),Pi(k,h.FailedMonitorAjaxDur,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",q)}_("xmlhttprequest",P,function(){try{var F=P.CreateTrackItem("Ajax",c,function(){var M={statusText:v.statusText,headerMap:null,correlationContext:A(v),type:v.responseType,responseText:T(v),response:v.response};if(m){var q=v.getAllResponseHeaders();if(q){var V=oe(q).split(/[\r\n]+/),Y={};R(V,function(ue){var Se=ue.split(": "),We=Se.shift(),Sr=Se.join(": ");ye(We)&&(Y[We]=Sr)}),M.headerMap=Y}}return M});F?k[n](F):N(null,{requestSentTime:P.requestSentTime,responseFinishedTime:P.responseFinishedTime})}finally{try{v[nt]=null}catch(M){}}},function(F){N(F,null)})}function A(v){try{var P=v.getAllResponseHeaders();if(P!==null){var N=zr(P.toLowerCase(),te.requestContextHeaderLowerCase);if(N!==-1){var F=v.getResponseHeader(te.requestContextHeader);return Pt.getCorrelationContext(F)}}}catch(M){Pi(k,h.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:bi(v),exception:O(M)})}}function H(v,P){if(P.requestUrl&&E&&b){var N=Je();if(N&&z(N.mark)){cc++;var F=E+v+"#"+cc;N.mark(F);var M=N.getEntriesByName(F);M&&M.length===1&&(P.perfMark=M[0])}}}function _(v,P,N,F){var M=P.perfMark,q=Je(),V=s.maxAjaxPerfLookupAttempts,Y=s.ajaxPerfLookupDelay,ue=P.requestUrl,Se=0;(function We(){try{if(q&&M){Se++;for(var Sr=null,vo=q.getEntries(),Di=vo.length-1;Di>=0;Di--){var bt=vo[Di];if(bt){if(bt.entryType==="resource")bt.initiatorType===v&&(zr(bt.name,ue)!==-1||zr(ue,bt.name)!==-1)&&(Sr=bt);else if(bt.entryType==="mark"&&bt.name===M.name){P.perfTiming=Sr;break}if(bt.startTime<M.startTime-1e3)break}}}!M||P.perfTiming||Se>=V||P.async===!1?(M&&z(q.clearMarks)&&q.clearMarks(M.name),P.perfAttempts=Se,N()):setTimeout(We,Y)}catch(Ic){F(Ic)}})()}function j(v,P){var N=f&&f.telemetryTrace&&f.telemetryTrace.traceID||Oe(),F=Oe().substr(0,16),M=new uo(N,F,k[kn]());M.requestSentTime=vr(),v instanceof Request?M.requestUrl=v?v.url:"":M.requestUrl=v;var q="GET";P&&P.method?q=P.method:v&&v instanceof Request&&(q=v.method),M.method=q;var V={};if(c){var Y=new Headers((P?P.headers:0)||(v instanceof Request?v.headers||{}:{}));Y.forEach(function(ue,Se){ye(Se)&&(V[Se]=ue)})}return M.requestHeaders=V,H("fetch",M),M}function Z(v){var P="";try{x(v)||(typeof v=="string"?P+="(url: '"+v+"')":P+="(url: '"+v.url+"')")}catch(N){Rn(k,h.FailedMonitorAjaxOpen,"Failed to grab failed fetch diagnostics message",{exception:O(N)})}return P}function ie(v,P,N,F,M,q){if(!F)return;function V(Y,ue,Se){var We=Se||{};We.fetchDiagnosticsMessage=Z(N),ue&&(We.exception=O(ue)),Pi(k,Y,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",We)}F.responseFinishedTime=vr(),F.status=P,_("fetch",F,function(){var Y=F.CreateTrackItem("Fetch",c,M);Y?k[n](Y):V(h.FailedMonitorAjaxDur,null,{requestSentTime:F.requestSentTime,responseFinishedTime:F.responseFinishedTime})},function(Y){V(h.FailedMonitorAjaxGetCorrelationHeader,Y,null)})}function Ht(v){if(v&&v.headers)try{var P=v.headers.get(te.requestContextHeader);return Pt.getCorrelationContext(P)}catch(N){Pi(k,h.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:Z(v),exception:O(N)})}}}),r}return e.getDefaultConfig=function(){var r={maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!0,excludeRequestFromAutoTrackingPatterns:void 0,disableCorrelationHeaders:!1,distributedTracingMode:Ke.AI_AND_W3C,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,correlationHeaderExcludePatterns:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"]};return r},e.getEmptyConfig=function(){var r=this.getDefaultConfig();return $(r,function(n){r[n]=void 0}),r},e.prototype.processTelemetry=function(r,n){this.processNext(r,n)},e.identifier="AjaxDependencyPlugin",e}(et)});var lo=I(()=>{fc()});var fo,pc,Pl,dc,Ai,po=I(()=>{X();to();ao();so();lo();he();pc=["snippet","dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],Pl={Default:0,Required:1,Array:2,Hidden:4},dc={__proto__:null,PropertiesPluginIdentifier:zt,BreezeChannelIdentifier:Or,AnalyticsPluginIdentifier:Ci,Util:Sn,CorrelationIdHelper:Pt,UrlHelper:Ba,DateTimeUtils:za,ConnectionStringParser:Va,FieldType:Pl,RequestHeaders:te,DisabledPropertyName:Et,ProcessLegacy:Ot,SampleRate:fr,HttpMethod:Fr,DEFAULT_BREEZE_ENDPOINT:fn,AIData:Cn,AIBase:In,Envelope:Tn,Event:He,Exception:me,Metric:Ve,PageView:Ne,PageViewData:mr,RemoteDependencyData:qe,Trace:Qe,PageViewPerformance:Ze,Data:xt,SeverityLevel:Bt,ConfigurationManager:Za,ContextTagKeys:xr,DataSanitizer:Na,TelemetryItemCreator:tt,CtxTagKeys:re,Extensions:_e,DistributedTracingModes:Ke},Ai=function(){function t(e){var r=this;r._snippetVersion=""+(e.sv||e.version||""),e.queue=e.queue||[],e.version=e.version||2;var n=e.config||{};if(n.connectionString){var i=mi(n.connectionString),a=i.ingestionendpoint;n.endpointUrl=a?a+"/v2/track":n.endpointUrl,n.instrumentationKey=i.instrumentationkey||n.instrumentationKey}r.appInsights=new bn,r.properties=new Dn,r.dependencies=new Mn,r.core=new en,r._sender=new An,r.snippet=e,r.config=n,r.getSKUDefaults()}return t.prototype.getCookieMgr=function(){return this.appInsights.getCookieMgr()},t.prototype.trackEvent=function(e,r){this.appInsights.trackEvent(e,r)},t.prototype.trackPageView=function(e){var r=e||{};this.appInsights.trackPageView(r)},t.prototype.trackPageViewPerformance=function(e){var r=e||{};this.appInsights.trackPageViewPerformance(r)},t.prototype.trackException=function(e){e&&!e.exception&&e.error&&(e.exception=e.error),this.appInsights.trackException(e)},t.prototype._onerror=function(e){this.appInsights._onerror(e)},t.prototype.trackTrace=function(e,r){this.appInsights.trackTrace(e,r)},t.prototype.trackMetric=function(e,r){this.appInsights.trackMetric(e,r)},t.prototype.startTrackPage=function(e){this.appInsights.startTrackPage(e)},t.prototype.stopTrackPage=function(e,r,n,i){this.appInsights.stopTrackPage(e,r,n,i)},t.prototype.startTrackEvent=function(e){this.appInsights.startTrackEvent(e)},t.prototype.stopTrackEvent=function(e,r,n){this.appInsights.stopTrackEvent(e,r,n)},t.prototype.addTelemetryInitializer=function(e){return this.appInsights.addTelemetryInitializer(e)},t.prototype.setAuthenticatedUserContext=function(e,r,n){n===void 0&&(n=!1),this.properties.context.user.setAuthenticatedUserContext(e,r,n)},t.prototype.clearAuthenticatedUserContext=function(){this.properties.context.user.clearAuthenticatedUserContext()},t.prototype.trackDependencyData=function(e){this.dependencies.trackDependencyData(e)},t.prototype.flush=function(e){var r=this;e===void 0&&(e=!0),ut(this.core,function(){return"AISKU.flush"},function(){R(r.core.getTransmissionControls(),function(n){R(n,function(i){i.flush(e)})})},null,e)},t.prototype.onunloadFlush=function(e){e===void 0&&(e=!0),R(this.core.getTransmissionControls(),function(r){R(r,function(n){n.onunloadFlush?n.onunloadFlush():n.flush(e)})})},t.prototype.loadAppInsights=function(e,r,n){var i=this;e===void 0&&(e=!1);var a=this;function o(u){if(u){var s="";x(a._snippetVersion)||(s+=a._snippetVersion),e&&(s+=".lg"),a.context&&a.context.internal&&(a.context.internal.snippetVer=s||"-"),$(a,function(c,l){U(c)&&!z(l)&&c&&c[0]!=="_"&&pc.indexOf(c)===-1&&(u[c]=l)})}}return e&&a.config.extensions&&a.config.extensions.length>0&&Ae("Extensions not allowed in legacy mode"),ut(a.core,function(){return"AISKU.loadAppInsights"},function(){var u=[];u.push(a._sender),u.push(a.properties),u.push(a.dependencies),u.push(a.appInsights),a.core.initialize(a.config,u,r,n),a.context=a.properties.context,fo&&a.context&&(a.context.internal.sdkSrc=fo),o(a.snippet),a.emptyQueue(),a.pollInternalLogs(),a.addHousekeepingBeforeUnload(i)}),a},t.prototype.updateSnippetDefinitions=function(e){Wr(e,this,function(r){return r&&pc.indexOf(r)===-1})},t.prototype.emptyQueue=function(){var e=this;try{if(Fe(e.snippet.queue)){for(var r=e.snippet.queue.length,n=0;n<r;n++){var i=e.snippet.queue[n];i()}e.snippet.queue=void 0,delete e.snippet.queue}}catch(o){var a={};o&&z(o.toString)&&(a.exception=o.toString())}},t.prototype.pollInternalLogs=function(){this.core.pollInternalLogs()},t.prototype.addHousekeepingBeforeUnload=function(e){if(or()||Qn()){var r=function(){e.onunloadFlush(!1),R(e.appInsights.core._extensions,function(i){if(i.identifier===zt)return i&&i.context&&i.context._sessionManager&&i.context._sessionManager.backup(),-1})};if(!e.appInsights.config.disableFlushOnBeforeUnload){var n=_t("beforeunload",r);n=_t("unload",r)||n,n=_t("pagehide",r)||n,n=_t("visibilitychange",r)||n,!n&&!ta()&&e.appInsights.core.logger.throwInternal(S.CRITICAL,h.FailedToAddHandlerForOnBeforeUnload,"Could not add handler for beforeunload and pagehide")}e.appInsights.config.disableFlushOnUnload||(_t("pagehide",r),_t("visibilitychange",r))}},t.prototype.getSender=function(){return this._sender},t.prototype.getSKUDefaults=function(){var e=this;e.config.diagnosticLogInterval=e.config.diagnosticLogInterval&&e.config.diagnosticLogInterval>0?e.config.diagnosticLogInterval:1e4},t}();(function(){var t=null,e=!1,r=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var n=(document||{}).currentScript;n&&(t=n.src)}catch(u){}if(t)try{var i=t.toLowerCase();if(i){for(var a="",o=0;o<r.length;o++)if(i.indexOf(r[o])!==-1){a="cdn"+(o+1),i.indexOf("/scripts/")===-1&&(i.indexOf("/next/")!==-1?a+="-next":i.indexOf("/beta/")!==-1&&(a+="-beta")),fo=a+(e?".mod":"");break}}}catch(u){}})()});var bl,gc,vc=I(()=>{he();X();bl=["snippet","getDefaultConfig","_hasLegacyInitializers","_queue","_processLegacyInitializers"],gc=function(){function t(e,r){this._hasLegacyInitializers=!1,this._queue=[],this.config=t.getDefaultConfig(e.config),this.appInsightsNew=r,this.context={addTelemetryInitializer:this.addTelemetryInitializers.bind(this)}}return t.getDefaultConfig=function(e){return e||(e={}),e.endpointUrl=e.endpointUrl||"https://dc.services.visualstudio.com/v2/track",e.sessionRenewalMs=30*60*1e3,e.sessionExpirationMs=24*60*60*1e3,e.maxBatchSizeInBytes=e.maxBatchSizeInBytes>0?e.maxBatchSizeInBytes:102400,e.maxBatchInterval=isNaN(e.maxBatchInterval)?15e3:e.maxBatchInterval,e.enableDebug=ee(e.enableDebug),e.disableExceptionTracking=ee(e.disableExceptionTracking),e.disableTelemetry=ee(e.disableTelemetry),e.verboseLogging=ee(e.verboseLogging),e.emitLineDelimitedJson=ee(e.emitLineDelimitedJson),e.diagnosticLogInterval=e.diagnosticLogInterval||1e4,e.autoTrackPageVisitTime=ee(e.autoTrackPageVisitTime),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.disableAjaxTracking=ee(e.disableAjaxTracking),e.maxAjaxCallsPerView=isNaN(e.maxAjaxCallsPerView)?500:e.maxAjaxCallsPerView,e.isBeaconApiDisabled=ee(e.isBeaconApiDisabled,!0),e.disableCorrelationHeaders=ee(e.disableCorrelationHeaders),e.correlationHeaderExcludedDomains=e.correlationHeaderExcludedDomains||["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],e.disableFlushOnBeforeUnload=ee(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=ee(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e.enableSessionStorageBuffer=ee(e.enableSessionStorageBuffer,!0),e.isRetryDisabled=ee(e.isRetryDisabled),e.isCookieUseDisabled=ee(e.isCookieUseDisabled),e.isStorageUseDisabled=ee(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=ee(e.isBrowserLinkTrackingEnabled),e.enableCorsCorrelation=ee(e.enableCorsCorrelation),e},t.prototype.addTelemetryInitializers=function(e){var r=this;this._hasLegacyInitializers||(this.appInsightsNew.addTelemetryInitializer(function(n){r._processLegacyInitializers(n)}),this._hasLegacyInitializers=!0),this._queue.push(e)},t.prototype.getCookieMgr=function(){return this.appInsightsNew.getCookieMgr()},t.prototype.startTrackPage=function(e){this.appInsightsNew.startTrackPage(e)},t.prototype.stopTrackPage=function(e,r,n,i){this.appInsightsNew.stopTrackPage(e,r,n)},t.prototype.trackPageView=function(e,r,n,i,a){var o={name:e,uri:r,properties:n,measurements:i};this.appInsightsNew.trackPageView(o)},t.prototype.trackEvent=function(e,r,n){this.appInsightsNew.trackEvent({name:e})},t.prototype.trackDependency=function(e,r,n,i,a,o,u){this.appInsightsNew.trackDependencyData({id:e,target:n,type:i,duration:a,properties:{HttpMethod:r},success:o,responseCode:u})},t.prototype.trackException=function(e,r,n,i,a){this.appInsightsNew.trackException({exception:e})},t.prototype.trackMetric=function(e,r,n,i,a,o){this.appInsightsNew.trackMetric({name:e,average:r,sampleCount:n,min:i,max:a})},t.prototype.trackTrace=function(e,r,n){this.appInsightsNew.trackTrace({message:e,severityLevel:n})},t.prototype.flush=function(e){this.appInsightsNew.flush(e)},t.prototype.setAuthenticatedUserContext=function(e,r,n){this.appInsightsNew.context.user.setAuthenticatedUserContext(e,r,n)},t.prototype.clearAuthenticatedUserContext=function(){this.appInsightsNew.context.user.clearAuthenticatedUserContext()},t.prototype._onerror=function(e,r,n,i,a){this.appInsightsNew._onerror({message:e,url:r,lineNumber:n,columnNumber:i,error:a})},t.prototype.startTrackEvent=function(e){this.appInsightsNew.startTrackEvent(e)},t.prototype.stopTrackEvent=function(e,r,n){this.appInsightsNew.stopTrackEvent(e,r,n)},t.prototype.downloadAndSetup=function(e){Ae("downloadAndSetup not implemented in web SKU")},t.prototype.updateSnippetDefinitions=function(e){Wr(e,this,function(r){return r&&bl.indexOf(r)===-1})},t.prototype.loadAppInsights=function(){var e=this;if(this.config.iKey){var r=this.trackPageView;this.trackPageView=function(a,o,u){r.apply(e,[null,a,o,u])}}var n="logPageView";typeof this.snippet[n]=="function"&&(this[n]=function(a,o,u){e.trackPageView(null,a,o,u)});var i="logEvent";return typeof this.snippet[i]=="function"&&(this[i]=function(a,o,u){e.trackEvent(a,o,u)}),this},t.prototype._processLegacyInitializers=function(e){return e.tags[Ot]=this._queue,e},t}()});var mc,hc=I(()=>{vc();po();X();mc=function(){function t(){}return t.getAppInsights=function(e,r){var n=new Ai(e),i=r!==2;if(Qt(),r===2)return n.updateSnippetDefinitions(e),n.loadAppInsights(i),n;var a=new gc(e,n);return a.updateSnippetDefinitions(e),n.loadAppInsights(i),a},t}()});var xc={};Ec(xc,{AppInsightsCore:()=>en,ApplicationAnalytics:()=>bn,ApplicationInsights:()=>Ai,ApplicationInsightsContainer:()=>mc,BaseCore:()=>Yr,BaseTelemetryPlugin:()=>et,CoreUtils:()=>on,DependenciesPlugin:()=>Mn,DistributedTracingModes:()=>Ke,Event:()=>He,Exception:()=>me,LoggingSeverity:()=>S,Metric:()=>Ve,NotificationManager:()=>$r,PageView:()=>Ne,PageViewPerformance:()=>Ze,PerfEvent:()=>ur,PerfManager:()=>Xr,PropertiesPlugin:()=>Dn,RemoteDependencyData:()=>qe,Sender:()=>An,SeverityLevel:()=>Bt,Telemetry:()=>dc,Trace:()=>Qe,Util:()=>Sn,_InternalMessageId:()=>h,doPerf:()=>ut});var yc=I(()=>{po();hc();X();he();ao();to();so();lo()});import*as Sc from"vscode";var wc=(t,e,r)=>At(void 0,null,function*(){let n=yield import("@microsoft/1ds-core-js"),i=yield import("@microsoft/1ds-post-js"),a=new n.AppInsightsCore,o=new i.PostChannel,u={instrumentationKey:t,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[o]]};if(r){u.extensionConfig={};let l={alwaysUseXhrOverride:!0,httpXHROverride:r};u.extensionConfig[o.identifier]=l}let c=e.workspace.getConfiguration("telemetry").get("internalTesting");return a.initialize(u,[]),a.addTelemetryInitializer(l=>{var f,g;!c||(l.ext=(f=l.ext)!=null?f:{},l.ext.utc=(g=l.ext.utc)!=null?g:{},l.ext.utc.flags=8462029)}),a}),yo=(t,e,r)=>At(void 0,null,function*(){let n=yield wc(t,e,r);return{logEvent:(a,o)=>{try{n==null||n.track({name:a,baseData:{name:a,properties:o==null?void 0:o.properties,measurements:o==null?void 0:o.measurements}})}catch(u){throw new Error(`Failed to log event to app insights!
`+u.message)}},logException:(a,o)=>{throw new Error("1DS SDK does not support logging exceptions, please use logEvent for exception tracking")},flush:()=>At(void 0,null,function*(){try{n==null||n.unload()}catch(a){throw new Error(`Failed to flush app insights!
`+a.message)}})}});var Ln=class{constructor(e,r){this._instantiationStatus=0;this._eventQueue=[];this._exceptionQueue=[];this._clientFactory=r,this._key=e}logEvent(e,r){if(!this._telemetryClient){this._instantiationStatus!==2&&this._eventQueue.push({eventName:e,data:r});return}this._telemetryClient.logEvent(e,r)}logException(e,r){if(!this._telemetryClient){this._instantiationStatus!==2&&this._exceptionQueue.push({exception:e,data:r});return}this._telemetryClient.logException(e,r)}flush(){return At(this,null,function*(){this._telemetryClient&&(yield this._telemetryClient.flush(),this._telemetryClient=void 0)})}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:r})=>this.logEvent(e,r)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:r})=>this.logException(e,r)),this._exceptionQueue=[]}instantiateAppender(){this._instantiationStatus===0&&(this._instantiationStatus=1,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=2,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=2}))}};var je=class{constructor(e){this.vscodeAPI=e}getTelemetryLevel(){let e="telemetry",r="enableTelemetry";try{let n=this.vscodeAPI.env.telemetryConfiguration;return n.isUsageEnabled&&n.isErrorsEnabled&&n.isCrashEnabled?"on":n.isErrorsEnabled&&n.isCrashEnabled?"error":"off"}catch(n){return this.vscodeAPI.env.isTelemetryEnabled!==void 0?this.vscodeAPI.env.isTelemetryEnabled?"on":"off":this.vscodeAPI.workspace.getConfiguration(e).get(r)?"on":"off"}}static applyReplacements(e,r){for(let n of Object.keys(e))for(let i of r)i.lookup.test(n)&&(i.replacementString!==void 0?e[n]=i.replacementString:delete e[n])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getInstance(e){return je._instance||(je._instance=new je(e)),je._instance}};var _n=class{constructor(e,r,n,i,a,o){this.extensionId=e;this.extensionVersion=r;this.telemetryAppender=n;this.osShim=i;this.vscodeAPI=a;this.firstParty=!1;this.userOptIn=!1;this.errorOptIn=!1;this.disposables=[];this.firstParty=!!o,this.updateUserOptStatus(),a.env.onDidChangeTelemetryEnabled!==void 0?(this.disposables.push(a.env.onDidChangeTelemetryEnabled(()=>this.updateUserOptStatus())),this.disposables.push(a.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))):this.disposables.push(a.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))}updateUserOptStatus(){let e=je.getInstance(this.vscodeAPI).getTelemetryLevel();this.userOptIn=e==="on",this.errorOptIn=e==="error"||this.userOptIn,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(e){if(!e)return"none";let r="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach(n=>{e.indexOf(`${n}`)===0&&(r=n)}),r}get extension(){return this._extension===void 0&&(this._extension=this.vscodeAPI.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(e,r){if(e===null||typeof e!="object"||typeof r!="function")return e;let n={};for(let i in e)n[i]=r(i,e[i]);return n}shouldSendErrorTelemetry(){return this.errorOptIn===!1?!1:this.firstParty?!(this.vscodeAPI.env.remoteName&&this.cleanRemoteName(this.vscodeAPI.env.remoteName)==="other"):!0}getCommonProperties(){let e={};if(e["common.os"]=this.osShim.platform,e["common.nodeArch"]=this.osShim.architecture,e["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,this.vscodeAPI&&this.vscodeAPI.env){switch(e["common.vscodemachineid"]=this.vscodeAPI.env.machineId,e["common.vscodesessionid"]=this.vscodeAPI.env.sessionId,e["common.vscodeversion"]=this.vscodeAPI.version,e["common.isnewappinstall"]=this.vscodeAPI.env.isNewAppInstall?this.vscodeAPI.env.isNewAppInstall.toString():"false",e["common.product"]=this.vscodeAPI.env.appHost,this.vscodeAPI.env.uiKind){case this.vscodeAPI.UIKind.Web:e["common.uikind"]="web";break;case this.vscodeAPI.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(this.vscodeAPI.env.remoteName)}return e}anonymizeFilePaths(e,r){let n;if(e==null)return"";let i=[];this.vscodeAPI.env.appRoot!==""&&i.push(new RegExp(this.vscodeAPI.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&i.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let a=e;if(r){let o=[];for(let l of i)for(;(n=l.exec(e))&&n;)o.push([n.index,l.lastIndex]);let u=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,s=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,c=0;for(a="";(n=s.exec(e))&&n;)n[0]&&!u.test(n[0])&&o.every(([l,f])=>n.index<l||n.index>=f)&&(a+=e.substring(c,n.index)+"<REDACTED: user-file-path>",c=s.lastIndex);c<e.length&&(a+=e.substr(c))}for(let o of i)a=a.replace(o,"");return a}removePropertiesWithPossibleUserInfo(e){if(typeof e!="object")return;let r={};for(let n of Object.keys(e)){let i=e[n];if(!i)continue;let a=/@[a-zA-Z0-9-.]+/,o=/(key|token|sig|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/,u=/xox[pbaors]-[a-zA-Z0-9]+-[a-zA-Z0-9-]+?/;o.test(i.toLowerCase())?r[n]="<REDACTED: secret>":a.test(i)?r[n]="<REDACTED: email>":u.test(i)?r[n]="<REDACTED: token>":r[n]=i}return r}get telemetryLevel(){switch(je.getInstance(this.vscodeAPI).getTelemetryLevel()){case"on":return"all";case"error":return"error";case"off":return"off"}}internalSendTelemetryEvent(e,r,n,i,a){if((this.userOptIn||a)&&e!==""){if(r=at(at({},r),this.getCommonProperties()),i){let o=this.cloneAndChange(r,(u,s)=>this.anonymizeFilePaths(s,this.firstParty));r=this.removePropertiesWithPossibleUserInfo(o)}r=r!=null?r:{},n=n!=null?n:{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:r,measurements:n})}}sendTelemetryEvent(e,r,n){this.internalSendTelemetryEvent(e,r,n,!0,!1)}sendRawTelemetryEvent(e,r,n){this.internalSendTelemetryEvent(e,r,n,!1,!1)}sendDangerousTelemetryEvent(e,r,n,i=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryEvent(e,r,n,i,!0)}internalSendTelemetryErrorEvent(e,r,n,i,a){if((this.shouldSendErrorTelemetry()||a)&&e!==""){if(r=at(at({},r),this.getCommonProperties()),i){let o=this.cloneAndChange(r,(u,s)=>this.anonymizeFilePaths(s,this.firstParty));r=this.removePropertiesWithPossibleUserInfo(o)}r=r!=null?r:{},n=n!=null?n:{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:r,measurements:n})}}sendTelemetryErrorEvent(e,r,n){this.internalSendTelemetryErrorEvent(e,r,n,!0,!1)}sendDangerousTelemetryErrorEvent(e,r,n,i=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryErrorEvent(e,r,n,i,!0)}internalSendTelemetryException(e,r,n,i,a){if((this.shouldSendErrorTelemetry()||a)&&e){if(r=at(at({},r),this.getCommonProperties()),i){let o=this.cloneAndChange(r,(u,s)=>this.anonymizeFilePaths(s,this.firstParty));e.stack&&(e.stack=this.anonymizeFilePaths(e.stack,this.firstParty)),r=this.removePropertiesWithPossibleUserInfo(o)}r=r!=null?r:{},n=n!=null?n:{},this.telemetryAppender.logException(e,{properties:r,measurements:n})}}sendTelemetryException(e,r,n){this.internalSendTelemetryException(e,r,n,!0,!1)}sendDangerousTelemetryException(e,r,n,i=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryException(e,r,n,i,!0)}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map(e=>e.dispose()))}};var Al=(t,e)=>At(void 0,null,function*(){let r;try{let i=yield Promise.resolve().then(()=>(yc(),xc)),a;t&&t.indexOf("AIF-")===0&&(a="https://vscode.vortex.data.microsoft.com/collect/v1"),r=new i.ApplicationInsights({config:{instrumentationKey:t,endpointUrl:a,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!0,disableInstrumentationKeyValidation:!0}}),r.loadAppInsights(),a&&fetch(a).catch(()=>r=void 0)}catch(i){return Promise.reject(i)}return{logEvent:(i,a)=>{let o=at(at({},a==null?void 0:a.properties),a==null?void 0:a.measurements);e!=null&&e.length&&je.applyReplacements(o,e),r==null||r.trackEvent({name:i},o)},logException:(i,a)=>{let o=at(at({},a==null?void 0:a.properties),a==null?void 0:a.measurements);e!=null&&e.length&&je.applyReplacements(o,e),r==null||r.trackException({exception:i,properties:o})},flush:()=>At(void 0,null,function*(){r==null||r.flush()})}}),go=class extends _n{constructor(e,r,n,i,a){let o=s=>Al(s,a);je.shouldUseOneDataSystemSDK(n)&&(o=s=>yo(s,Sc));let u=new Ln(n,o);n&&(n.indexOf("AIF-")===0||je.shouldUseOneDataSystemSDK(n))&&(i=!0),super(e,r,u,{release:navigator.appVersion,platform:"web",architecture:"web"},Sc,i)}};export{go as default};
/*!
 * Microsoft Dynamic Proto Utility, 1.1.6
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */

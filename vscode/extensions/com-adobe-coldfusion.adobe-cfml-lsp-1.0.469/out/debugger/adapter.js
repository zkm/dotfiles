/*! For license information please see adapter.js.LICENSE.txt */
(()=>{var e={4651:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugSession=t.ErrorDestination=t.MemoryEvent=t.InvalidatedEvent=t.ProgressEndEvent=t.ProgressUpdateEvent=t.ProgressStartEvent=t.CapabilitiesEvent=t.LoadedSourceEvent=t.ModuleEvent=t.BreakpointEvent=t.ThreadEvent=t.OutputEvent=t.ExitedEvent=t.TerminatedEvent=t.InitializedEvent=t.ContinuedEvent=t.StoppedEvent=t.CompletionItem=t.Module=t.Breakpoint=t.Variable=t.Thread=t.StackFrame=t.Scope=t.Source=void 0;const r=s(1839),n=s(1582),i=s(8153),a=s(7310);t.Source=class{constructor(e,t,s=0,r,n){this.name=e,this.path=t,this.sourceReference=s,r&&(this.origin=r),n&&(this.adapterData=n)}},t.Scope=class{constructor(e,t,s=!1){this.name=e,this.variablesReference=t,this.expensive=s}},t.StackFrame=class{constructor(e,t,s,r=0,n=0){this.id=e,this.source=s,this.line=r,this.column=n,this.name=t}},t.Thread=class{constructor(e,t){this.id=e,this.name=t||"Thread #"+e}},t.Variable=class{constructor(e,t,s=0,r,n){this.name=e,this.value=t,this.variablesReference=s,"number"==typeof n&&(this.namedVariables=n),"number"==typeof r&&(this.indexedVariables=r)}},t.Breakpoint=class{constructor(e,t,s,r){this.verified=e;const n=this;"number"==typeof t&&(n.line=t),"number"==typeof s&&(n.column=s),r&&(n.source=r)}setId(e){this.id=e}},t.Module=class{constructor(e,t){this.id=e,this.name=t}},t.CompletionItem=class{constructor(e,t,s=0){this.label=e,this.start=t,this.length=s}};class o extends n.Event{constructor(e,t,s){super("stopped"),this.body={reason:e},"number"==typeof t&&(this.body.threadId=t),"string"==typeof s&&(this.body.text=s)}}t.StoppedEvent=o;class u extends n.Event{constructor(e,t){super("continued"),this.body={threadId:e},"boolean"==typeof t&&(this.body.allThreadsContinued=t)}}t.ContinuedEvent=u;class c extends n.Event{constructor(){super("initialized")}}t.InitializedEvent=c;class l extends n.Event{constructor(e){super("terminated"),("boolean"==typeof e||e)&&(this.body={restart:e})}}t.TerminatedEvent=l;class h extends n.Event{constructor(e){super("exited"),this.body={exitCode:e}}}t.ExitedEvent=h;class d extends n.Event{constructor(e,t="console",s){super("output"),this.body={category:t,output:e},void 0!==s&&(this.body.data=s)}}t.OutputEvent=d;class p extends n.Event{constructor(e,t){super("thread"),this.body={reason:e,threadId:t}}}t.ThreadEvent=p;class g extends n.Event{constructor(e,t){super("breakpoint"),this.body={reason:e,breakpoint:t}}}t.BreakpointEvent=g;class m extends n.Event{constructor(e,t){super("module"),this.body={reason:e,module:t}}}t.ModuleEvent=m;class v extends n.Event{constructor(e,t){super("loadedSource"),this.body={reason:e,source:t}}}t.LoadedSourceEvent=v;class _ extends n.Event{constructor(e){super("capabilities"),this.body={capabilities:e}}}t.CapabilitiesEvent=_;class b extends n.Event{constructor(e,t,s){super("progressStart"),this.body={progressId:e,title:t},"string"==typeof s&&(this.body.message=s)}}t.ProgressStartEvent=b;class f extends n.Event{constructor(e,t){super("progressUpdate"),this.body={progressId:e},"string"==typeof t&&(this.body.message=t)}}t.ProgressUpdateEvent=f;class y extends n.Event{constructor(e,t){super("progressEnd"),this.body={progressId:e},"string"==typeof t&&(this.body.message=t)}}t.ProgressEndEvent=y;class E extends n.Event{constructor(e,t,s){super("invalidated"),this.body={},e&&(this.body.areas=e),t&&(this.body.threadId=t),s&&(this.body.stackFrameId=s)}}t.InvalidatedEvent=E;class S extends n.Event{constructor(e,t,s){super("memory"),this.body={memoryReference:e,offset:t,count:s}}}var R;t.MemoryEvent=S,function(e){e[e.User=1]="User",e[e.Telemetry=2]="Telemetry"}(R=t.ErrorDestination||(t.ErrorDestination={}));class T extends r.ProtocolServer{constructor(e,t){super();const s="boolean"==typeof e&&e;this._debuggerLinesStartAt1=s,this._debuggerColumnsStartAt1=s,this._debuggerPathsAreURIs=!1,this._clientLinesStartAt1=!0,this._clientColumnsStartAt1=!0,this._clientPathsAreURIs=!1,this._isServer="boolean"==typeof t&&t,this.on("close",(()=>{this.shutdown()})),this.on("error",(e=>{this.shutdown()}))}setDebuggerPathFormat(e){this._debuggerPathsAreURIs="path"!==e}setDebuggerLinesStartAt1(e){this._debuggerLinesStartAt1=e}setDebuggerColumnsStartAt1(e){this._debuggerColumnsStartAt1=e}setRunAsServer(e){this._isServer=e}static run(e){(0,i.runDebugAdapter)(e)}shutdown(){this._isServer||this._isRunningInline()||setTimeout((()=>{process.exit(0)}),100)}sendErrorResponse(e,t,s,r,n=R.User){let i;"number"==typeof t?(i={id:t,format:s},r&&(i.variables=r),n&R.User&&(i.showUser=!0),n&R.Telemetry&&(i.sendTelemetry=!0)):i=t,e.success=!1,e.message=T.formatPII(i.format,!0,i.variables),e.body||(e.body={}),e.body.error=i,this.sendResponse(e)}runInTerminalRequest(e,t,s){this.sendRequest("runInTerminal",e,t,s)}dispatchRequest(e){const t=new n.Response(e);try{if("initialize"===e.command){var s=e.arguments;if("boolean"==typeof s.linesStartAt1&&(this._clientLinesStartAt1=s.linesStartAt1),"boolean"==typeof s.columnsStartAt1&&(this._clientColumnsStartAt1=s.columnsStartAt1),"path"!==s.pathFormat)this.sendErrorResponse(t,2018,"debug adapter only supports native paths",null,R.Telemetry);else{const e=t;e.body={},this.initializeRequest(e,s)}}else"launch"===e.command?this.launchRequest(t,e.arguments,e):"attach"===e.command?this.attachRequest(t,e.arguments,e):"disconnect"===e.command?this.disconnectRequest(t,e.arguments,e):"terminate"===e.command?this.terminateRequest(t,e.arguments,e):"restart"===e.command?this.restartRequest(t,e.arguments,e):"setBreakpoints"===e.command?this.setBreakPointsRequest(t,e.arguments,e):"setFunctionBreakpoints"===e.command?this.setFunctionBreakPointsRequest(t,e.arguments,e):"setExceptionBreakpoints"===e.command?this.setExceptionBreakPointsRequest(t,e.arguments,e):"configurationDone"===e.command?this.configurationDoneRequest(t,e.arguments,e):"continue"===e.command?this.continueRequest(t,e.arguments,e):"next"===e.command?this.nextRequest(t,e.arguments,e):"stepIn"===e.command?this.stepInRequest(t,e.arguments,e):"stepOut"===e.command?this.stepOutRequest(t,e.arguments,e):"stepBack"===e.command?this.stepBackRequest(t,e.arguments,e):"reverseContinue"===e.command?this.reverseContinueRequest(t,e.arguments,e):"restartFrame"===e.command?this.restartFrameRequest(t,e.arguments,e):"goto"===e.command?this.gotoRequest(t,e.arguments,e):"pause"===e.command?this.pauseRequest(t,e.arguments,e):"stackTrace"===e.command?this.stackTraceRequest(t,e.arguments,e):"scopes"===e.command?this.scopesRequest(t,e.arguments,e):"variables"===e.command?this.variablesRequest(t,e.arguments,e):"setVariable"===e.command?this.setVariableRequest(t,e.arguments,e):"setExpression"===e.command?this.setExpressionRequest(t,e.arguments,e):"source"===e.command?this.sourceRequest(t,e.arguments,e):"threads"===e.command?this.threadsRequest(t,e):"terminateThreads"===e.command?this.terminateThreadsRequest(t,e.arguments,e):"evaluate"===e.command?this.evaluateRequest(t,e.arguments,e):"stepInTargets"===e.command?this.stepInTargetsRequest(t,e.arguments,e):"gotoTargets"===e.command?this.gotoTargetsRequest(t,e.arguments,e):"completions"===e.command?this.completionsRequest(t,e.arguments,e):"exceptionInfo"===e.command?this.exceptionInfoRequest(t,e.arguments,e):"loadedSources"===e.command?this.loadedSourcesRequest(t,e.arguments,e):"dataBreakpointInfo"===e.command?this.dataBreakpointInfoRequest(t,e.arguments,e):"setDataBreakpoints"===e.command?this.setDataBreakpointsRequest(t,e.arguments,e):"readMemory"===e.command?this.readMemoryRequest(t,e.arguments,e):"writeMemory"===e.command?this.writeMemoryRequest(t,e.arguments,e):"disassemble"===e.command?this.disassembleRequest(t,e.arguments,e):"cancel"===e.command?this.cancelRequest(t,e.arguments,e):"breakpointLocations"===e.command?this.breakpointLocationsRequest(t,e.arguments,e):"setInstructionBreakpoints"===e.command?this.setInstructionBreakpointsRequest(t,e.arguments,e):this.customRequest(e.command,t,e.arguments,e)}catch(e){this.sendErrorResponse(t,1104,"{_stack}",{_exception:e.message,_stack:e.stack},R.Telemetry)}}initializeRequest(e,t){e.body.supportsConditionalBreakpoints=!1,e.body.supportsHitConditionalBreakpoints=!1,e.body.supportsFunctionBreakpoints=!1,e.body.supportsConfigurationDoneRequest=!0,e.body.supportsEvaluateForHovers=!1,e.body.supportsStepBack=!1,e.body.supportsSetVariable=!1,e.body.supportsRestartFrame=!1,e.body.supportsStepInTargetsRequest=!1,e.body.supportsGotoTargetsRequest=!1,e.body.supportsCompletionsRequest=!1,e.body.supportsRestartRequest=!1,e.body.supportsExceptionOptions=!1,e.body.supportsValueFormattingOptions=!1,e.body.supportsExceptionInfoRequest=!1,e.body.supportTerminateDebuggee=!1,e.body.supportsDelayedStackTraceLoading=!1,e.body.supportsLoadedSourcesRequest=!1,e.body.supportsLogPoints=!1,e.body.supportsTerminateThreadsRequest=!1,e.body.supportsSetExpression=!1,e.body.supportsTerminateRequest=!1,e.body.supportsDataBreakpoints=!1,e.body.supportsReadMemoryRequest=!1,e.body.supportsDisassembleRequest=!1,e.body.supportsCancelRequest=!1,e.body.supportsBreakpointLocationsRequest=!1,e.body.supportsClipboardContext=!1,e.body.supportsSteppingGranularity=!1,e.body.supportsInstructionBreakpoints=!1,e.body.supportsExceptionFilterOptions=!1,this.sendResponse(e)}disconnectRequest(e,t,s){this.sendResponse(e),this.shutdown()}launchRequest(e,t,s){this.sendResponse(e)}attachRequest(e,t,s){this.sendResponse(e)}terminateRequest(e,t,s){this.sendResponse(e)}restartRequest(e,t,s){this.sendResponse(e)}setBreakPointsRequest(e,t,s){this.sendResponse(e)}setFunctionBreakPointsRequest(e,t,s){this.sendResponse(e)}setExceptionBreakPointsRequest(e,t,s){this.sendResponse(e)}configurationDoneRequest(e,t,s){this.sendResponse(e)}continueRequest(e,t,s){this.sendResponse(e)}nextRequest(e,t,s){this.sendResponse(e)}stepInRequest(e,t,s){this.sendResponse(e)}stepOutRequest(e,t,s){this.sendResponse(e)}stepBackRequest(e,t,s){this.sendResponse(e)}reverseContinueRequest(e,t,s){this.sendResponse(e)}restartFrameRequest(e,t,s){this.sendResponse(e)}gotoRequest(e,t,s){this.sendResponse(e)}pauseRequest(e,t,s){this.sendResponse(e)}sourceRequest(e,t,s){this.sendResponse(e)}threadsRequest(e,t){this.sendResponse(e)}terminateThreadsRequest(e,t,s){this.sendResponse(e)}stackTraceRequest(e,t,s){this.sendResponse(e)}scopesRequest(e,t,s){this.sendResponse(e)}variablesRequest(e,t,s){this.sendResponse(e)}setVariableRequest(e,t,s){this.sendResponse(e)}setExpressionRequest(e,t,s){this.sendResponse(e)}evaluateRequest(e,t,s){this.sendResponse(e)}stepInTargetsRequest(e,t,s){this.sendResponse(e)}gotoTargetsRequest(e,t,s){this.sendResponse(e)}completionsRequest(e,t,s){this.sendResponse(e)}exceptionInfoRequest(e,t,s){this.sendResponse(e)}loadedSourcesRequest(e,t,s){this.sendResponse(e)}dataBreakpointInfoRequest(e,t,s){this.sendResponse(e)}setDataBreakpointsRequest(e,t,s){this.sendResponse(e)}readMemoryRequest(e,t,s){this.sendResponse(e)}writeMemoryRequest(e,t,s){this.sendResponse(e)}disassembleRequest(e,t,s){this.sendResponse(e)}cancelRequest(e,t,s){this.sendResponse(e)}breakpointLocationsRequest(e,t,s){this.sendResponse(e)}setInstructionBreakpointsRequest(e,t,s){this.sendResponse(e)}customRequest(e,t,s,r){this.sendErrorResponse(t,1014,"unrecognized request",null,R.Telemetry)}convertClientLineToDebugger(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e+1:this._clientLinesStartAt1?e-1:e}convertDebuggerLineToClient(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e-1:this._clientLinesStartAt1?e+1:e}convertClientColumnToDebugger(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e+1:this._clientColumnsStartAt1?e-1:e}convertDebuggerColumnToClient(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e-1:this._clientColumnsStartAt1?e+1:e}convertClientPathToDebugger(e){return this._clientPathsAreURIs!==this._debuggerPathsAreURIs?this._clientPathsAreURIs?T.uri2path(e):T.path2uri(e):e}convertDebuggerPathToClient(e){return this._debuggerPathsAreURIs!==this._clientPathsAreURIs?this._debuggerPathsAreURIs?T.uri2path(e):T.path2uri(e):e}static path2uri(e){"win32"===process.platform&&(/^[A-Z]:/.test(e)&&(e=e[0].toLowerCase()+e.substr(1)),e=e.replace(/\\/g,"/")),e=encodeURI(e);let t=new a.URL("file:");return t.pathname=e,t.toString()}static uri2path(e){let t=new a.URL(e),s=decodeURIComponent(t.pathname);return"win32"===process.platform&&(/^\/[a-zA-Z]:/.test(s)&&(s=s[1].toLowerCase()+s.substr(2)),s=s.replace(/\//g,"\\")),s}static formatPII(e,t,s){return e.replace(T._formatPIIRegexp,(function(e,r){return t&&r.length>0&&"_"!==r[0]?e:s[r]&&s.hasOwnProperty(r)?s[r]:e}))}}t.DebugSession=T,T._formatPIIRegexp=/{([^}]+)}/g},527:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Handles=void 0,t.Handles=class{constructor(e){this.START_HANDLE=1e3,this._handleMap=new Map,this._nextHandle="number"==typeof e?e:this.START_HANDLE}reset(){this._nextHandle=this.START_HANDLE,this._handleMap=new Map}create(e){var t=this._nextHandle++;return this._handleMap.set(t,e),t}get(e,t){return this._handleMap.get(e)||t}}},7309:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InternalLogger=void 0;const r=s(7147),n=s(1017),i=s(4100);function a(){let e=new Date;return o(2,String(e.getUTCHours()))+":"+o(2,String(e.getUTCMinutes()))+":"+o(2,String(e.getUTCSeconds()))+"."+o(3,String(e.getUTCMilliseconds()))+" UTC"}function o(e,t){return t.length>=e?t:String("0".repeat(e)+t).slice(-e)}t.InternalLogger=class{constructor(e,t){this.beforeExitCallback=()=>this.dispose(),this._logCallback=e,this._logToConsole=t,this._minLogLevel=i.LogLevel.Warn,this.disposeCallback=(e,t)=>{this.dispose(),t=t||2,t+=128,process.exit(t)}}async setup(e){if(this._minLogLevel=e.consoleMinLogLevel,this._prependTimestamp=e.prependTimestamp,e.logFilePath)if(n.isAbsolute(e.logFilePath)){const t=t=>this.sendLog(`Error creating log file at path: ${e.logFilePath}. Error: ${t.toString()}\n`,i.LogLevel.Error);try{await r.promises.mkdir(n.dirname(e.logFilePath),{recursive:!0}),this.log("Verbose logs are written to:\n",i.LogLevel.Warn),this.log(e.logFilePath+"\n",i.LogLevel.Warn),this._logFileStream=r.createWriteStream(e.logFilePath),this.logDateTime(),this.setupShutdownListeners(),this._logFileStream.on("error",(e=>{t(e)}))}catch(e){t(e)}}else this.log(`logFilePath must be an absolute path: ${e.logFilePath}`,i.LogLevel.Error)}logDateTime(){let e=new Date;const t=e.getUTCFullYear()+"-"+`${e.getUTCMonth()+1}-`+e.getUTCDate()+", "+a();this.log(t+"\n",i.LogLevel.Verbose,!1)}setupShutdownListeners(){process.on("beforeExit",this.beforeExitCallback),process.on("SIGTERM",this.disposeCallback),process.on("SIGINT",this.disposeCallback)}removeShutdownListeners(){process.removeListener("beforeExit",this.beforeExitCallback),process.removeListener("SIGTERM",this.disposeCallback),process.removeListener("SIGINT",this.disposeCallback)}dispose(){return new Promise((e=>{this.removeShutdownListeners(),this._logFileStream?(this._logFileStream.end(e),this._logFileStream=null):e()}))}log(e,t,s=!0){if(this._minLogLevel!==i.LogLevel.Stop){if(t>=this._minLogLevel&&this.sendLog(e,t),this._logToConsole){const s=t===i.LogLevel.Error?console.error:t===i.LogLevel.Warn?console.warn:null;s&&s((0,i.trimLastNewline)(e))}t===i.LogLevel.Error&&(e=`[${i.LogLevel[t]}] ${e}`),this._prependTimestamp&&s&&(e="["+a()+"] "+e),this._logFileStream&&this._logFileStream.write(e)}}sendLog(e,t){if(e.length>1500){const t=!!e.match(/(\n|\r\n)$/);e=e.substr(0,1500)+"[...]",t&&(e+="\n")}if(this._logCallback){const s=new i.LogOutputEvent(e,t);this._logCallback(s)}}}},4100:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trimLastNewline=t.LogOutputEvent=t.logger=t.Logger=t.LogLevel=void 0;const r=s(7309),n=s(4651);var i;!function(e){e[e.Verbose=0]="Verbose",e[e.Log=1]="Log",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Stop=4]="Stop"}(i=t.LogLevel||(t.LogLevel={}));class a{constructor(){this._pendingLogQ=[]}log(e,t=i.Log){e+="\n",this._write(e,t)}verbose(e){this.log(e,i.Verbose)}warn(e){this.log(e,i.Warn)}error(e){this.log(e,i.Error)}dispose(){if(this._currentLogger){const e=this._currentLogger.dispose();return this._currentLogger=null,e}return Promise.resolve()}_write(e,t=i.Log){e+="",this._pendingLogQ?this._pendingLogQ.push({msg:e,level:t}):this._currentLogger&&this._currentLogger.log(e,t)}setup(e,t,s=!0){const r="string"==typeof t?t:t&&this._logFilePathFromInit;if(this._currentLogger){const t={consoleMinLogLevel:e,logFilePath:r,prependTimestamp:s};this._currentLogger.setup(t).then((()=>{if(this._pendingLogQ){const e=this._pendingLogQ;this._pendingLogQ=null,e.forEach((e=>this._write(e.msg,e.level)))}}))}}init(e,t,s){this._pendingLogQ=this._pendingLogQ||[],this._currentLogger=new r.InternalLogger(e,s),this._logFilePathFromInit=t}}t.Logger=a,t.logger=new a;class o extends n.OutputEvent{constructor(e,t){super(e,t===i.Error?"stderr":t===i.Warn?"console":"stdout")}}t.LogOutputEvent=o,t.trimLastNewline=function(e){return e.replace(/(\n|\r\n)$/,"")}},1212:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggingDebugSession=void 0;const r=s(4100),n=r.logger,i=s(4651);class a extends i.DebugSession{constructor(e,t,s){super(t,s),this.obsolete_logFilePath=e,this.on("error",(e=>{n.error(e.body)}))}start(e,t){super.start(e,t),n.init((e=>this.sendEvent(e)),this.obsolete_logFilePath,this._isServer)}sendEvent(e){if(!(e instanceof r.LogOutputEvent)){let t=e;e instanceof i.OutputEvent&&e.body&&e.body.data&&e.body.data.doNotLogOutput&&(delete e.body.data.doNotLogOutput,t={...e},t.body={...e.body,output:"<output not logged>"}),n.verbose(`To client: ${JSON.stringify(t)}`)}super.sendEvent(e)}sendRequest(e,t,s,r){n.verbose(`To client: ${JSON.stringify(e)}(${JSON.stringify(t)}), timeout: ${s}`),super.sendRequest(e,t,s,r)}sendResponse(e){n.verbose(`To client: ${JSON.stringify(e)}`),super.sendResponse(e)}dispatchRequest(e){n.verbose(`From client: ${e.command}(${JSON.stringify(e.arguments)})`),super.dispatchRequest(e)}}t.LoggingDebugSession=a},9955:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Handles=t.Response=t.Event=t.ErrorDestination=t.CompletionItem=t.Module=t.Source=t.Breakpoint=t.Variable=t.Scope=t.StackFrame=t.Thread=t.MemoryEvent=t.InvalidatedEvent=t.ProgressEndEvent=t.ProgressUpdateEvent=t.ProgressStartEvent=t.CapabilitiesEvent=t.LoadedSourceEvent=t.ModuleEvent=t.BreakpointEvent=t.ThreadEvent=t.OutputEvent=t.ContinuedEvent=t.StoppedEvent=t.ExitedEvent=t.TerminatedEvent=t.InitializedEvent=t.logger=t.Logger=t.LoggingDebugSession=t.DebugSession=void 0;const r=s(4651);Object.defineProperty(t,"DebugSession",{enumerable:!0,get:function(){return r.DebugSession}}),Object.defineProperty(t,"InitializedEvent",{enumerable:!0,get:function(){return r.InitializedEvent}}),Object.defineProperty(t,"TerminatedEvent",{enumerable:!0,get:function(){return r.TerminatedEvent}}),Object.defineProperty(t,"ExitedEvent",{enumerable:!0,get:function(){return r.ExitedEvent}}),Object.defineProperty(t,"StoppedEvent",{enumerable:!0,get:function(){return r.StoppedEvent}}),Object.defineProperty(t,"ContinuedEvent",{enumerable:!0,get:function(){return r.ContinuedEvent}}),Object.defineProperty(t,"OutputEvent",{enumerable:!0,get:function(){return r.OutputEvent}}),Object.defineProperty(t,"ThreadEvent",{enumerable:!0,get:function(){return r.ThreadEvent}}),Object.defineProperty(t,"BreakpointEvent",{enumerable:!0,get:function(){return r.BreakpointEvent}}),Object.defineProperty(t,"ModuleEvent",{enumerable:!0,get:function(){return r.ModuleEvent}}),Object.defineProperty(t,"LoadedSourceEvent",{enumerable:!0,get:function(){return r.LoadedSourceEvent}}),Object.defineProperty(t,"CapabilitiesEvent",{enumerable:!0,get:function(){return r.CapabilitiesEvent}}),Object.defineProperty(t,"ProgressStartEvent",{enumerable:!0,get:function(){return r.ProgressStartEvent}}),Object.defineProperty(t,"ProgressUpdateEvent",{enumerable:!0,get:function(){return r.ProgressUpdateEvent}}),Object.defineProperty(t,"ProgressEndEvent",{enumerable:!0,get:function(){return r.ProgressEndEvent}}),Object.defineProperty(t,"InvalidatedEvent",{enumerable:!0,get:function(){return r.InvalidatedEvent}}),Object.defineProperty(t,"MemoryEvent",{enumerable:!0,get:function(){return r.MemoryEvent}}),Object.defineProperty(t,"Thread",{enumerable:!0,get:function(){return r.Thread}}),Object.defineProperty(t,"StackFrame",{enumerable:!0,get:function(){return r.StackFrame}}),Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return r.Scope}}),Object.defineProperty(t,"Variable",{enumerable:!0,get:function(){return r.Variable}}),Object.defineProperty(t,"Breakpoint",{enumerable:!0,get:function(){return r.Breakpoint}}),Object.defineProperty(t,"Source",{enumerable:!0,get:function(){return r.Source}}),Object.defineProperty(t,"Module",{enumerable:!0,get:function(){return r.Module}}),Object.defineProperty(t,"CompletionItem",{enumerable:!0,get:function(){return r.CompletionItem}}),Object.defineProperty(t,"ErrorDestination",{enumerable:!0,get:function(){return r.ErrorDestination}});const n=s(1212);Object.defineProperty(t,"LoggingDebugSession",{enumerable:!0,get:function(){return n.LoggingDebugSession}});const i=s(4100);t.Logger=i;const a=s(1582);Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return a.Event}}),Object.defineProperty(t,"Response",{enumerable:!0,get:function(){return a.Response}});const o=s(527);Object.defineProperty(t,"Handles",{enumerable:!0,get:function(){return o.Handles}});const u=i.logger;t.logger=u},1582:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event=t.Response=t.Message=void 0;class s{constructor(e){this.seq=0,this.type=e}}t.Message=s,t.Response=class extends s{constructor(e,t){super("response"),this.request_seq=e.seq,this.command=e.command,t?(this.success=!1,this.message=t):this.success=!0}},t.Event=class extends s{constructor(e,t){super("event"),this.event=e,t&&(this.body=t)}}},1839:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolServer=void 0;const r=s(2361),n=s(1582);class i{get event(){return this._event||(this._event=(e,t)=>{let s;return this._listener=e,this._this=t,s={dispose:()=>{this._listener=void 0,this._this=void 0}},s}),this._event}fire(e){if(this._listener)try{this._listener.call(this._this,e)}catch(e){}}hasListener(){return!!this._listener}dispose(){this._listener=void 0,this._this=void 0}}class a extends r.EventEmitter{constructor(){super(),this._sendMessage=new i,this._pendingRequests=new Map,this.onDidSendMessage=this._sendMessage.event}dispose(){}handleMessage(e){if("request"===e.type)this.dispatchRequest(e);else if("response"===e.type){const t=e,s=this._pendingRequests.get(t.request_seq);s&&(this._pendingRequests.delete(t.request_seq),s(t))}}_isRunningInline(){return this._sendMessage&&this._sendMessage.hasListener()}start(e,t){this._sequence=1,this._writableStream=t,this._rawData=Buffer.alloc(0),e.on("data",(e=>this._handleData(e))),e.on("close",(()=>{this._emitEvent(new n.Event("close"))})),e.on("error",(e=>{this._emitEvent(new n.Event("error","inStream error: "+(e&&e.message)))})),t.on("error",(e=>{this._emitEvent(new n.Event("error","outStream error: "+(e&&e.message)))})),e.resume()}stop(){this._writableStream&&this._writableStream.end()}sendEvent(e){this._send("event",e)}sendResponse(e){e.seq>0?console.error(`attempt to send more than one response for command ${e.command}`):this._send("response",e)}sendRequest(e,t,s,r){const i={command:e};if(t&&Object.keys(t).length>0&&(i.arguments=t),this._send("request",i),r){this._pendingRequests.set(i.seq,r);const e=setTimeout((()=>{clearTimeout(e);const t=this._pendingRequests.get(i.seq);t&&(this._pendingRequests.delete(i.seq),t(new n.Response(i,"timeout")))}),s)}}dispatchRequest(e){}_emitEvent(e){this.emit(e.event,e)}_send(e,t){if(t.type=e,t.seq=this._sequence++,this._writableStream){const e=JSON.stringify(t);this._writableStream.write(`Content-Length: ${Buffer.byteLength(e,"utf8")}\r\n\r\n${e}`,"utf8")}this._sendMessage.fire(t)}_handleData(e){for(this._rawData=Buffer.concat([this._rawData,e]);;){if(this._contentLength>=0){if(this._rawData.length>=this._contentLength){const e=this._rawData.toString("utf8",0,this._contentLength);if(this._rawData=this._rawData.slice(this._contentLength),this._contentLength=-1,e.length>0)try{let t=JSON.parse(e);this.handleMessage(t)}catch(e){this._emitEvent(new n.Event("error","Error handling data: "+(e&&e.message)))}continue}}else{const e=this._rawData.indexOf(a.TWO_CRLF);if(-1!==e){const t=this._rawData.toString("utf8",0,e).split("\r\n");for(let e=0;e<t.length;e++){const s=t[e].split(/: +/);"Content-Length"==s[0]&&(this._contentLength=+s[1])}this._rawData=this._rawData.slice(e+a.TWO_CRLF.length);continue}}break}}}t.ProtocolServer=a,a.TWO_CRLF="\r\n\r\n"},8153:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runDebugAdapter=void 0;const r=s(1808);t.runDebugAdapter=function(e){let t=0;if(process.argv.slice(2).forEach((function(e,s,r){const n=/^--server=(\d{4,5})$/.exec(e);n&&(t=parseInt(n[1],10))})),t>0)console.error(`waiting for debug protocol on port ${t}`),r.createServer((t=>{console.error(">> accepted connection from client"),t.on("end",(()=>{console.error(">> client connection closed\n")}));const s=new e(!1,!0);s.setRunAsServer(!0),s.start(t,t)})).listen(t);else{const t=new e(!1);process.on("SIGTERM",(()=>{t.shutdown()})),t.start(process.stdin,process.stdout)}}},7029:(e,t)=>{function s(){this.waiters=[]}s.prototype.wait=function(e){var t=this,s={};this.waiters.push(s);var r=new Promise((function(e){var r=!1;s.resolve=function(n){if(!r){if(r=!0,s.timeout&&(clearTimeout(s.timeout),s.timeout=null),!n){var i=t.waiters.indexOf(s);i>-1&&t.waiters.splice(i,1)}e()}}}));return e>0&&isFinite(e)&&(s.timeout=setTimeout((function(){s.timeout=null,s.resolve()}),e)),r},s.prototype.notify=function(){this.waiters.length>0&&this.waiters.pop().resolve(!0)},s.prototype.notifyAll=function(){for(var e=this.waiters.length-1;e>=0;e--)this.waiters[e].resolve(!0);this.waiters=[]},t.Subject=s},1906:e=>{"use strict";e.exports=(e,t,s)=>{const r=s=>Object.defineProperty(e,t,{value:s,enumerable:!0,writable:!0});return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){const e=s();return r(e),e},set(e){r(e)}}),e}},1595:(e,t,s)=>{"use strict";const r=s(7147);let n;e.exports=()=>(void 0===n&&(n=function(){try{return r.statSync("/.dockerenv"),!0}catch(e){return!1}}()||function(){try{return r.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch(e){return!1}}()),n)},2475:function(e,t,s){(function(){"use strict";var t,r;s(1017),r=s(2081).exec,e.exports=function(e,s,n){var i,a,o,u;if(null==s&&(s={}),null==n&&(n=null),null==e)return!1;for(a in i=["open"],o=!1,null!=s.test&&!0===s.test&&(delete s.test,o=!0),u=function(e,t){return!0===t?i.push("-"+e):"string"==typeof t?(t='"'+t+'"',i.push("-"+e+" "+t)):void 0},s)u(a,s[a]);return i.push(t(e)),o?i.join(" "):r(i.join(" "),n)},t=function(e){return'"'+e.replace(/(["\s'$`\\])/g,"\\$1")+'"'}}).call(this)},8318:(e,t,s)=>{const r=s(1017),n=s(2081),{promises:i,constants:a}=s(7147),o=s(753),u=s(1595),c=s(1906),l=r.join(__dirname,"xdg-open"),{platform:h,arch:d}=process,p=(()=>{const e="/mnt/";let t;return async function(){if(t)return t;const s="/etc/wsl.conf";let r=!1;try{await i.access(s,a.F_OK),r=!0}catch{}if(!r)return e;const n=await i.readFile(s,{encoding:"utf8"}),o=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(n);return o?(t=o.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e}})(),g=async(e,t)=>{let s;for(const r of e)try{return await t(r)}catch(e){s=e}throw s},m=async e=>{if(e={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...e},Array.isArray(e.app))return g(e.app,(t=>m({...e,app:t})));let t,{name:s,arguments:r=[]}=e.app||{};if(r=[...r],Array.isArray(s))return g(s,(t=>m({...e,app:{name:t,arguments:r}})));const c=[],d={};if("darwin"===h)t="open",e.wait&&c.push("--wait-apps"),e.background&&c.push("--background"),e.newInstance&&c.push("--new"),s&&c.push("-a",s);else if("win32"===h||o&&!u()){const n=await p();t=o?`${n}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,c.push("-NoProfile","-NonInteractive","–ExecutionPolicy","Bypass","-EncodedCommand"),o||(d.windowsVerbatimArguments=!0);const i=["Start"];e.wait&&i.push("-Wait"),s?(i.push(`"\`"${s}\`""`,"-ArgumentList"),e.target&&r.unshift(e.target)):e.target&&i.push(`"${e.target}"`),r.length>0&&(r=r.map((e=>`"\`"${e}\`""`)),i.push(r.join(","))),e.target=Buffer.from(i.join(" "),"utf16le").toString("base64")}else{if(s)t=s;else{const e=!__dirname||"/"===__dirname;let s=!1;try{await i.access(l,a.X_OK),s=!0}catch{}t=process.versions.electron||"android"===h||e||!s?"xdg-open":l}r.length>0&&c.push(...r),e.wait||(d.stdio="ignore",d.detached=!0)}e.target&&c.push(e.target),"darwin"===h&&r.length>0&&c.push("--args",...r);const v=n.spawn(t,c,d);return e.wait?new Promise(((t,s)=>{v.once("error",s),v.once("close",(r=>{e.allowNonzeroExitCode&&r>0?s(new Error(`Exited with code ${r}`)):t(v)}))})):(v.unref(),v)},v=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a `target`");return m({...t,target:e})};function _(e){if("string"==typeof e||Array.isArray(e))return e;const{[d]:t}=e;if(!t)throw new Error(`${d} is not supported`);return t}function b({[h]:e},{wsl:t}){if(t&&o)return _(t);if(!e)throw new Error(`${h} is not supported`);return _(e)}const f={};c(f,"chrome",(()=>b({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}))),c(f,"firefox",(()=>b({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}))),c(f,"edge",(()=>b({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}))),v.apps=f,v.openApp=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a `name`");const{arguments:s=[]}=t||{};if(null!=s&&!Array.isArray(s))throw new TypeError("Expected `appArguments` as Array type");return m({...t,app:{name:e,arguments:s}})},e.exports=v},753:(e,t,s)=>{"use strict";const r=s(2037),n=s(7147),i=s(1595),a=()=>{if("linux"!==process.platform)return!1;if(r.release().toLowerCase().includes("microsoft"))return!i();try{return!!n.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")&&!i()}catch(e){return!1}};process.env.__IS_WSL_TEST__?e.exports=a:e.exports=a()},6099:(e,t,s)=>{!function(e){e.parser=function(e,t){return new n(e,t)},e.SAXParser=n,e.SAXStream=a,e.createStream=function(e,t){return new a(e,t)},e.MAX_BUFFER_LENGTH=65536;var t,r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function n(t,s){if(!(this instanceof n))return new n(t,s);var i=this;!function(e){for(var t=0,s=r.length;t<s;t++)e[r[t]]=""}(i),i.q=i.c="",i.bufferCheckPosition=e.MAX_BUFFER_LENGTH,i.opt=s||{},i.opt.lowercase=i.opt.lowercase||i.opt.lowercasetags,i.looseCase=i.opt.lowercase?"toLowerCase":"toUpperCase",i.tags=[],i.closed=i.closedRoot=i.sawRoot=!1,i.tag=i.error=null,i.strict=!!t,i.noscript=!(!t&&!i.opt.noscript),i.state=S.BEGIN,i.strictEntities=i.opt.strictEntities,i.ENTITIES=i.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),i.attribList=[],i.opt.xmlns&&(i.ns=Object.create(c)),i.trackPosition=!1!==i.opt.position,i.trackPosition&&(i.position=i.line=i.column=0),T(i,"onready")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var s in e)e.hasOwnProperty(s)&&t.push(s);return t}),n.prototype={end:function(){O(this)},write:function(t){var s=this;if(this.error)throw this.error;if(s.closed)return P(s,"Cannot write after close. Assign an onready handler.");if(null===t)return O(s);"object"==typeof t&&(t=t.toString());for(var n=0,i="";i=B(t,n++),s.c=i,i;)switch(s.trackPosition&&(s.position++,"\n"===i?(s.line++,s.column=0):s.column++),s.state){case S.BEGIN:if(s.state=S.BEGIN_WHITESPACE,"\ufeff"===i)continue;q(s,i);continue;case S.BEGIN_WHITESPACE:q(s,i);continue;case S.TEXT:if(s.sawRoot&&!s.closedRoot){for(var a=n-1;i&&"<"!==i&&"&"!==i;)(i=B(t,n++))&&s.trackPosition&&(s.position++,"\n"===i?(s.line++,s.column=0):s.column++);s.textNode+=t.substring(a,n-1)}"<"!==i||s.sawRoot&&s.closedRoot&&!s.strict?(g(i)||s.sawRoot&&!s.closedRoot||C(s,"Text data outside of root node."),"&"===i?s.state=S.TEXT_ENTITY:s.textNode+=i):(s.state=S.OPEN_WAKA,s.startTagPosition=s.position);continue;case S.SCRIPT:"<"===i?s.state=S.SCRIPT_ENDING:s.script+=i;continue;case S.SCRIPT_ENDING:"/"===i?s.state=S.CLOSE_TAG:(s.script+="<"+i,s.state=S.SCRIPT);continue;case S.OPEN_WAKA:if("!"===i)s.state=S.SGML_DECL,s.sgmlDecl="";else if(g(i));else if(_(l,i))s.state=S.OPEN_TAG,s.tagName=i;else if("/"===i)s.state=S.CLOSE_TAG,s.tagName="";else if("?"===i)s.state=S.PROC_INST,s.procInstName=s.procInstBody="";else{if(C(s,"Unencoded <"),s.startTagPosition+1<s.position){var o=s.position-s.startTagPosition;i=new Array(o).join(" ")+i}s.textNode+="<"+i,s.state=S.TEXT}continue;case S.SGML_DECL:"[CDATA["===(s.sgmlDecl+i).toUpperCase()?(x(s,"onopencdata"),s.state=S.CDATA,s.sgmlDecl="",s.cdata=""):s.sgmlDecl+i==="--"?(s.state=S.COMMENT,s.comment="",s.sgmlDecl=""):"DOCTYPE"===(s.sgmlDecl+i).toUpperCase()?(s.state=S.DOCTYPE,(s.doctype||s.sawRoot)&&C(s,"Inappropriately located doctype declaration"),s.doctype="",s.sgmlDecl=""):">"===i?(x(s,"onsgmldeclaration",s.sgmlDecl),s.sgmlDecl="",s.state=S.TEXT):m(i)?(s.state=S.SGML_DECL_QUOTED,s.sgmlDecl+=i):s.sgmlDecl+=i;continue;case S.SGML_DECL_QUOTED:i===s.q&&(s.state=S.SGML_DECL,s.q=""),s.sgmlDecl+=i;continue;case S.DOCTYPE:">"===i?(s.state=S.TEXT,x(s,"ondoctype",s.doctype),s.doctype=!0):(s.doctype+=i,"["===i?s.state=S.DOCTYPE_DTD:m(i)&&(s.state=S.DOCTYPE_QUOTED,s.q=i));continue;case S.DOCTYPE_QUOTED:s.doctype+=i,i===s.q&&(s.q="",s.state=S.DOCTYPE);continue;case S.DOCTYPE_DTD:s.doctype+=i,"]"===i?s.state=S.DOCTYPE:m(i)&&(s.state=S.DOCTYPE_DTD_QUOTED,s.q=i);continue;case S.DOCTYPE_DTD_QUOTED:s.doctype+=i,i===s.q&&(s.state=S.DOCTYPE_DTD,s.q="");continue;case S.COMMENT:"-"===i?s.state=S.COMMENT_ENDING:s.comment+=i;continue;case S.COMMENT_ENDING:"-"===i?(s.state=S.COMMENT_ENDED,s.comment=D(s.opt,s.comment),s.comment&&x(s,"oncomment",s.comment),s.comment=""):(s.comment+="-"+i,s.state=S.COMMENT);continue;case S.COMMENT_ENDED:">"!==i?(C(s,"Malformed comment"),s.comment+="--"+i,s.state=S.COMMENT):s.state=S.TEXT;continue;case S.CDATA:"]"===i?s.state=S.CDATA_ENDING:s.cdata+=i;continue;case S.CDATA_ENDING:"]"===i?s.state=S.CDATA_ENDING_2:(s.cdata+="]"+i,s.state=S.CDATA);continue;case S.CDATA_ENDING_2:">"===i?(s.cdata&&x(s,"oncdata",s.cdata),x(s,"onclosecdata"),s.cdata="",s.state=S.TEXT):"]"===i?s.cdata+="]":(s.cdata+="]]"+i,s.state=S.CDATA);continue;case S.PROC_INST:"?"===i?s.state=S.PROC_INST_ENDING:g(i)?s.state=S.PROC_INST_BODY:s.procInstName+=i;continue;case S.PROC_INST_BODY:if(!s.procInstBody&&g(i))continue;"?"===i?s.state=S.PROC_INST_ENDING:s.procInstBody+=i;continue;case S.PROC_INST_ENDING:">"===i?(x(s,"onprocessinginstruction",{name:s.procInstName,body:s.procInstBody}),s.procInstName=s.procInstBody="",s.state=S.TEXT):(s.procInstBody+="?"+i,s.state=S.PROC_INST_BODY);continue;case S.OPEN_TAG:_(h,i)?s.tagName+=i:(I(s),">"===i?A(s):"/"===i?s.state=S.OPEN_TAG_SLASH:(g(i)||C(s,"Invalid character in tag name"),s.state=S.ATTRIB));continue;case S.OPEN_TAG_SLASH:">"===i?(A(s,!0),L(s)):(C(s,"Forward-slash in opening tag not followed by >"),s.state=S.ATTRIB);continue;case S.ATTRIB:if(g(i))continue;">"===i?A(s):"/"===i?s.state=S.OPEN_TAG_SLASH:_(l,i)?(s.attribName=i,s.attribValue="",s.state=S.ATTRIB_NAME):C(s,"Invalid attribute name");continue;case S.ATTRIB_NAME:"="===i?s.state=S.ATTRIB_VALUE:">"===i?(C(s,"Attribute without value"),s.attribValue=s.attribName,F(s),A(s)):g(i)?s.state=S.ATTRIB_NAME_SAW_WHITE:_(h,i)?s.attribName+=i:C(s,"Invalid attribute name");continue;case S.ATTRIB_NAME_SAW_WHITE:if("="===i)s.state=S.ATTRIB_VALUE;else{if(g(i))continue;C(s,"Attribute without value"),s.tag.attributes[s.attribName]="",s.attribValue="",x(s,"onattribute",{name:s.attribName,value:""}),s.attribName="",">"===i?A(s):_(l,i)?(s.attribName=i,s.state=S.ATTRIB_NAME):(C(s,"Invalid attribute name"),s.state=S.ATTRIB)}continue;case S.ATTRIB_VALUE:if(g(i))continue;m(i)?(s.q=i,s.state=S.ATTRIB_VALUE_QUOTED):(C(s,"Unquoted attribute value"),s.state=S.ATTRIB_VALUE_UNQUOTED,s.attribValue=i);continue;case S.ATTRIB_VALUE_QUOTED:if(i!==s.q){"&"===i?s.state=S.ATTRIB_VALUE_ENTITY_Q:s.attribValue+=i;continue}F(s),s.q="",s.state=S.ATTRIB_VALUE_CLOSED;continue;case S.ATTRIB_VALUE_CLOSED:g(i)?s.state=S.ATTRIB:">"===i?A(s):"/"===i?s.state=S.OPEN_TAG_SLASH:_(l,i)?(C(s,"No whitespace between attributes"),s.attribName=i,s.attribValue="",s.state=S.ATTRIB_NAME):C(s,"Invalid attribute name");continue;case S.ATTRIB_VALUE_UNQUOTED:if(!v(i)){"&"===i?s.state=S.ATTRIB_VALUE_ENTITY_U:s.attribValue+=i;continue}F(s),">"===i?A(s):s.state=S.ATTRIB;continue;case S.CLOSE_TAG:if(s.tagName)">"===i?L(s):_(h,i)?s.tagName+=i:s.script?(s.script+="</"+s.tagName,s.tagName="",s.state=S.SCRIPT):(g(i)||C(s,"Invalid tagname in closing tag"),s.state=S.CLOSE_TAG_SAW_WHITE);else{if(g(i))continue;b(l,i)?s.script?(s.script+="</"+i,s.state=S.SCRIPT):C(s,"Invalid tagname in closing tag."):s.tagName=i}continue;case S.CLOSE_TAG_SAW_WHITE:if(g(i))continue;">"===i?L(s):C(s,"Invalid characters in closing tag");continue;case S.TEXT_ENTITY:case S.ATTRIB_VALUE_ENTITY_Q:case S.ATTRIB_VALUE_ENTITY_U:var u,c;switch(s.state){case S.TEXT_ENTITY:u=S.TEXT,c="textNode";break;case S.ATTRIB_VALUE_ENTITY_Q:u=S.ATTRIB_VALUE_QUOTED,c="attribValue";break;case S.ATTRIB_VALUE_ENTITY_U:u=S.ATTRIB_VALUE_UNQUOTED,c="attribValue"}";"===i?(s[c]+=k(s),s.entity="",s.state=u):_(s.entity.length?p:d,i)?s.entity+=i:(C(s,"Invalid character in entity name"),s[c]+="&"+s.entity+i,s.entity="",s.state=u);continue;default:throw new Error(s,"Unknown state: "+s.state)}return s.position>=s.bufferCheckPosition&&function(t){for(var s=Math.max(e.MAX_BUFFER_LENGTH,10),n=0,i=0,a=r.length;i<a;i++){var o=t[r[i]].length;if(o>s)switch(r[i]){case"textNode":w(t);break;case"cdata":x(t,"oncdata",t.cdata),t.cdata="";break;case"script":x(t,"onscript",t.script),t.script="";break;default:P(t,"Max buffer length exceeded: "+r[i])}n=Math.max(n,o)}var u=e.MAX_BUFFER_LENGTH-n;t.bufferCheckPosition=u+t.position}(s),s},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;w(e=this),""!==e.cdata&&(x(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(x(e,"onscript",e.script),e.script="")}};try{t=s(2781).Stream}catch(e){t=function(){}}var i=e.EVENTS.filter((function(e){return"error"!==e&&"end"!==e}));function a(e,s){if(!(this instanceof a))return new a(e,s);t.apply(this),this._parser=new n(e,s),this.writable=!0,this.readable=!0;var r=this;this._parser.onend=function(){r.emit("end")},this._parser.onerror=function(e){r.emit("error",e),r._parser.error=null},this._decoder=null,i.forEach((function(e){Object.defineProperty(r,"on"+e,{get:function(){return r._parser["on"+e]},set:function(t){if(!t)return r.removeAllListeners(e),r._parser["on"+e]=t,t;r.on(e,t)},enumerable:!0,configurable:!1})}))}a.prototype=Object.create(t.prototype,{constructor:{value:a}}),a.prototype.write=function(e){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)){if(!this._decoder){var t=s(1576).StringDecoder;this._decoder=new t("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},a.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},a.prototype.on=function(e,s){var r=this;return r._parser["on"+e]||-1===i.indexOf(e)||(r._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),r.emit.apply(r,t)}),t.prototype.on.call(r,e,s)};var o="http://www.w3.org/XML/1998/namespace",u="http://www.w3.org/2000/xmlns/",c={xml:o,xmlns:u},l=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,h=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,d=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,p=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function g(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function m(e){return'"'===e||"'"===e}function v(e){return">"===e||g(e)}function _(e,t){return e.test(t)}function b(e,t){return!_(e,t)}var f,y,E,S=0;for(var R in e.STATE={BEGIN:S++,BEGIN_WHITESPACE:S++,TEXT:S++,TEXT_ENTITY:S++,OPEN_WAKA:S++,SGML_DECL:S++,SGML_DECL_QUOTED:S++,DOCTYPE:S++,DOCTYPE_QUOTED:S++,DOCTYPE_DTD:S++,DOCTYPE_DTD_QUOTED:S++,COMMENT_STARTING:S++,COMMENT:S++,COMMENT_ENDING:S++,COMMENT_ENDED:S++,CDATA:S++,CDATA_ENDING:S++,CDATA_ENDING_2:S++,PROC_INST:S++,PROC_INST_BODY:S++,PROC_INST_ENDING:S++,OPEN_TAG:S++,OPEN_TAG_SLASH:S++,ATTRIB:S++,ATTRIB_NAME:S++,ATTRIB_NAME_SAW_WHITE:S++,ATTRIB_VALUE:S++,ATTRIB_VALUE_QUOTED:S++,ATTRIB_VALUE_CLOSED:S++,ATTRIB_VALUE_UNQUOTED:S++,ATTRIB_VALUE_ENTITY_Q:S++,ATTRIB_VALUE_ENTITY_U:S++,CLOSE_TAG:S++,CLOSE_TAG_SAW_WHITE:S++,SCRIPT:S++,SCRIPT_ENDING:S++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach((function(t){var s=e.ENTITIES[t],r="number"==typeof s?String.fromCharCode(s):s;e.ENTITIES[t]=r})),e.STATE)e.STATE[e.STATE[R]]=R;function T(e,t,s){e[t]&&e[t](s)}function x(e,t,s){e.textNode&&w(e),T(e,t,s)}function w(e){e.textNode=D(e.opt,e.textNode),e.textNode&&T(e,"ontext",e.textNode),e.textNode=""}function D(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function P(e,t){return w(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,T(e,"onerror",t),e}function O(e){return e.sawRoot&&!e.closedRoot&&C(e,"Unclosed root tag"),e.state!==S.BEGIN&&e.state!==S.BEGIN_WHITESPACE&&e.state!==S.TEXT&&P(e,"Unexpected end"),w(e),e.c="",e.closed=!0,T(e,"onend"),n.call(e,e.strict,e.opt),e}function C(e,t){if("object"!=typeof e||!(e instanceof n))throw new Error("bad call to strictFail");e.strict&&P(e,t)}function I(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,s=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(s.ns=t.ns),e.attribList.length=0,x(e,"onopentagstart",s)}function N(e,t){var s=e.indexOf(":")<0?["",e]:e.split(":"),r=s[0],n=s[1];return t&&"xmlns"===e&&(r="xmlns",n=""),{prefix:r,local:n}}function F(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=N(e.attribName,!0),s=t.prefix,r=t.local;if("xmlns"===s)if("xml"===r&&e.attribValue!==o)C(e,"xml: prefix must be bound to "+o+"\nActual: "+e.attribValue);else if("xmlns"===r&&e.attribValue!==u)C(e,"xmlns: prefix must be bound to "+u+"\nActual: "+e.attribValue);else{var n=e.tag,i=e.tags[e.tags.length-1]||e;n.ns===i.ns&&(n.ns=Object.create(i.ns)),n.ns[r]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,x(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function A(e,t){if(e.opt.xmlns){var s=e.tag,r=N(e.tagName);s.prefix=r.prefix,s.local=r.local,s.uri=s.ns[r.prefix]||"",s.prefix&&!s.uri&&(C(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),s.uri=r.prefix);var n=e.tags[e.tags.length-1]||e;s.ns&&n.ns!==s.ns&&Object.keys(s.ns).forEach((function(t){x(e,"onopennamespace",{prefix:t,uri:s.ns[t]})}));for(var i=0,a=e.attribList.length;i<a;i++){var o=e.attribList[i],u=o[0],c=o[1],l=N(u,!0),h=l.prefix,d=l.local,p=""===h?"":s.ns[h]||"",g={name:u,value:c,prefix:h,local:d,uri:p};h&&"xmlns"!==h&&!p&&(C(e,"Unbound namespace prefix: "+JSON.stringify(h)),g.uri=h),e.tag.attributes[u]=g,x(e,"onattribute",g)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),x(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=S.TEXT:e.state=S.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function L(e){if(!e.tagName)return C(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=S.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=S.SCRIPT);x(e,"onscript",e.script),e.script=""}var t=e.tags.length,s=e.tagName;e.strict||(s=s[e.looseCase]());for(var r=s;t--&&e.tags[t].name!==r;)C(e,"Unexpected close tag");if(t<0)return C(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=S.TEXT);e.tagName=s;for(var n=e.tags.length;n-- >t;){var i=e.tag=e.tags.pop();e.tagName=e.tag.name,x(e,"onclosetag",e.tagName);var a={};for(var o in i.ns)a[o]=i.ns[o];var u=e.tags[e.tags.length-1]||e;e.opt.xmlns&&i.ns!==u.ns&&Object.keys(i.ns).forEach((function(t){var s=i.ns[t];x(e,"onclosenamespace",{prefix:t,uri:s})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=S.TEXT}function k(e){var t,s=e.entity,r=s.toLowerCase(),n="";return e.ENTITIES[s]?e.ENTITIES[s]:e.ENTITIES[r]?e.ENTITIES[r]:("#"===(s=r).charAt(0)&&("x"===s.charAt(1)?(s=s.slice(2),n=(t=parseInt(s,16)).toString(16)):(s=s.slice(1),n=(t=parseInt(s,10)).toString(10))),s=s.replace(/^0+/,""),isNaN(t)||n.toLowerCase()!==s?(C(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function q(e,t){"<"===t?(e.state=S.OPEN_WAKA,e.startTagPosition=e.position):g(t)||(C(e,"Non-whitespace before first tag."),e.textNode=t,e.state=S.TEXT)}function B(e,t){var s="";return t<e.length&&(s=e.charAt(t)),s}S=e.STATE,String.fromCodePoint||(f=String.fromCharCode,y=Math.floor,E=function(){var e,t,s=16384,r=[],n=-1,i=arguments.length;if(!i)return"";for(var a="";++n<i;){var o=Number(arguments[n]);if(!isFinite(o)||o<0||o>1114111||y(o)!==o)throw RangeError("Invalid code point: "+o);o<=65535?r.push(o):(e=55296+((o-=65536)>>10),t=o%1024+56320,r.push(e,t)),(n+1===i||r.length>s)&&(a+=f.apply(null,r),r.length=0)}return a},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:E,configurable:!0,writable:!0}):String.fromCodePoint=E)}(t)},5100:(e,t,s)=>{"use strict";const{readdir:r,readdirSync:n}=s(7147),{platform:i}=s(2037),{isAbsolute:a,normalize:o}=s(1017),{promisify:u}=s(3837),c=u(r),l="win32"===i(),h=l?"\\":"/";function d(e,t,s){const r=new RegExp(`^${n=e,n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}$`,"i");var n;for(const e of t)if(r.test(e))return e;throw new Error(`[true-case-path]: Called with ${s}, but no matching file exists`)}function p({sync:e}){return(t,s)=>{if(s){if(!a(s))throw new Error(`[true-case-path]: basePath argument must be absolute. Received "${s}"`);s=o(s)}const r=function(e){return e.split(h).filter((e=>""!==e))}(t=o(t));if(a(t)){if(s)throw new Error("[true-case-path]: filePath must be relative when used with basePath");s=l?r.shift().toUpperCase():""}else s||(s=process.cwd());return e?function(e,t,s){return s.reduce(((e,s)=>e+h+d(s,n(e+h),t)),e)}(s,t,r):async function(e,t,s){return await s.reduce((async(e,s)=>await e+h+d(s,await c(await e+h),t)),e)}(s,t,r)}}e.exports={trueCasePath:p({sync:!1}),trueCasePathSync:p({sync:!0})}},6986:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debugSession=void 0;const r=s(9955),n=s(7029),i=s(1017),a=s(7888),o=s(5100),u=s(8552),c=s(9014);function l(e){return new Promise((t=>setTimeout(t,e)))}class h extends r.LoggingDebugSession{constructor(e){super("mock-debug.txt"),this._threadID=1,this._threadName="",this._clientLines=[],this._valuesInHex=!1,this._variableHandles=new r.Handles,this._configurationDone=new n.Subject,this._cancelationTokens=new Map,this._isLongrunning=new Map,this._reportProgress=!1,this._progressId=1e4,this._cancelledProgressId=void 0,this._isProgressCancellable=!0,this._showHex=!1,this._useInvalidatedEvent=!1,this.setDebuggerLinesStartAt1(!1),this.setDebuggerColumnsStartAt1(!1),this._runtime=new u.Runtime(e),this._runtime.on("stopOnEntry",(()=>{this.sendEvent(new r.StoppedEvent("entry",this._threadID))})),this._runtime.on("stopOnStep",(()=>{this.sendEvent(new r.StoppedEvent("step",this._threadID))})),this._runtime.on("stopOnBreakpoint",(()=>{this.sendEvent(new r.StoppedEvent("breakpoint",this._threadID))})),this._runtime.on("stopOnDataBreakpoint",(()=>{this.sendEvent(new r.StoppedEvent("data breakpoint",this._threadID))})),this._runtime.on("stopOnException",(e=>{e?this.sendEvent(new r.StoppedEvent(`exception(${e})`,this._threadID)):this.sendEvent(new r.StoppedEvent("exception",this._threadID))})),this._runtime.on("breakpointValidated",(e=>{this.sendEvent(new r.BreakpointEvent("changed",{verified:e.verified,id:e.id}))})),this._runtime.on("output",((e,t,s,n)=>{const i=new r.OutputEvent(`${e}\n`);"start"!==e&&"startCollapsed"!==e&&"end"!==e||(i.body.group=e,i.body.output=`group-${e}\n`),i.body.source=this.createSource(t),i.body.line=this.convertDebuggerLineToClient(s),i.body.column=this.convertDebuggerColumnToClient(n),this.sendEvent(i)})),this._runtime.on("end",(async(e={event:"",body:""})=>{let t={event:"error",body:"Debugger Stopped"};await this._runtime.stop(),await this.sendEvent(new r.TerminatedEvent),"object"==e.event?e.body.push(t):""==e.event&&(e={...t}),await this.sendEvent(e)})),this._runtime.on("console",(e=>{const t=new r.OutputEvent(`${e}\n`);this.sendEvent(t)})),this._runtime.on("showMsg",(async(e={event:"",body:""})=>{const t=e;this.sendEvent(t)}))}async initializeRequest(e,t){try{this._runtime.log("initializeRequest :: 1","debug"),t.supportsProgressReporting&&(this._reportProgress=!0),t.supportsInvalidatedEvent&&(this._useInvalidatedEvent=!0),e.body=e.body||{},e.body.supportsConfigurationDoneRequest=!0,e.body.supportsTerminateRequest=!1,e.body.supportsTerminateThreadsRequest=!0,e.body.supportsEvaluateForHovers=!1,e.body.supportsStepBack=!1,e.body.supportsDataBreakpoints=!0,e.body.supportsCompletionsRequest=!0,e.body.completionTriggerCharacters=[".","["],e.body.supportsCancelRequest=!0,e.body.supportsBreakpointLocationsRequest=!0,e.body.supportsStepInTargetsRequest=!0,e.body.supportsExceptionFilterOptions=!0,e.body.exceptionBreakpointFilters=[{filter:"namedException",label:"Named Exception",description:'Break on named exceptions. Enter the exception"s name as the Condition.',default:!1,supportsCondition:!0,conditionDescription:'Enter the exception"s name'},{filter:"otherExceptions",label:"Other Exceptions",description:"This is a other exception",default:!0,supportsCondition:!1}],e.body.supportsExceptionInfoRequest=!0,this.sendResponse(e),this.sendEvent(new r.InitializedEvent)}catch(e){this._runtime.log("Error on initializeRequest :: 13","error")}}async configurationDoneRequest(e,t){try{super.configurationDoneRequest(e,t),this._runtime.log("configurationDoneRequest :: 4","debug"),this._configurationDone.notify()}catch(e){this._runtime.log("Error on configurationDoneRequest :: 13","error")}}async launchRequest(e,t){try{this._runtime.log("launchRequest :: 6","debug");let s=t.project;"string"==typeof t.project&&(s=JSON.parse(t.project));let n=await this._runtime.setDebuggerData(t.globalConfigFilePath,s);if("started"==n){r.logger.setup(t.trace?r.Logger.LogLevel.Verbose:r.Logger.LogLevel.Stop,!1),await this._configurationDone.wait(1e3),await this._runtime.start((0,o.trueCasePathSync)(t.program),!!t.stopOnEntry,!!t.noDebug,this._breakPointLines),this._clientLines.length&&(await this._runtime.setBreakPointOnException(),await this._clientLines.map((async e=>{await e.lines.map((async t=>{await this._runtime.setBreakPointOnServer(e.serverPath,t)}))}))),await this._runtime.openInBrowser();let s=await this._runtime._getDebugEvents();await this._runtime.processDebugEventsData(s,"threadName","launchRequest"),this._threadName=await this._runtime.getPrivateProps().threadName,this.sendResponse(e)}else{let e="Debugger Stopped",t="error";"server-unknown"===n?e="Server is not configured with this project. To configure go to Project Manager -> edit project, select the server.":"stopped"===n?e="Please check your server status":"no-debug-mapping"===n&&(e="Debug mappings must be provided to debug remote server. Add debug mappings using the Server wizards.",t="info"),this.sendEvent({event:t,body:e}),this.sendEvent(new r.TerminatedEvent)}}catch(e){this._runtime.log("Error on launchRequest :: 13","error")}}async setBreakPointsRequest(e,t){try{if(this._clientPath=(0,o.trueCasePathSync)(t.source.path),this._serverPath=(0,o.trueCasePathSync)(t.source.path),"remote"==this._runtime._server.type)try{let e=c.getFolderRelativePath(this._runtime._server,t.source.path);if(""==e.relativeUrl)return void Promise.resolve(null);this._serverPath=i.join(e.baseDirRemote,e.relativeUrl)}catch(e){this._runtime.log("314 :: "+JSON.stringify(e),"error"),this._runtime.sendEvent("showMsg",{event:"error",body:e})}this._breakPointLines=t.lines||[];let s=this._runtime.getPrivateProps();""!=s.sessionId&&await this._runtime.clearBreakpoints(this._clientPath,this._serverPath);let n=!1;if(this._clientLines.map((e=>{e.clientPath===this._clientPath&&(n=!0,e.lines=this._breakPointLines)})),!n){let e={};e.clientPath=this._clientPath,e.serverPath=this._serverPath,e.lines=this._breakPointLines,this._clientLines.push(e)}let a=[];a=this._breakPointLines.map((async e=>{const{verified:t,line:s,id:n}=await this._runtime.addBreakPoint(this._clientPath,this._serverPath,this.convertClientLineToDebugger(e)),i=new r.Breakpoint(t,e);return i.id=n,i}));const u=await Promise.all(a);if(""!=s.sessionId){let e=await this._runtime._getDebugEvents();await this._runtime.processDebugEventsData(e,"addBreakPoint","setBreakPointsRequest")}e.body={breakpoints:u},this.sendResponse(e)}catch(e){this._runtime.log("Error on setBreakpointsRequest :: 13","error")}}async setExceptionBreakPointsRequest(e,t){try{let s;this._runtime.log("setExceptionBreakPointsRequest :: 3","debug");let r=!1;if(t.filterOptions)for(const e of t.filterOptions)switch(e.filterId){case"namedException":s=t.filterOptions[0].condition;break;case"otherExceptions":r=!0}t.filters&&t.filters.indexOf("otherExceptions")>=0&&(r=!0),this._runtime.setExceptionsFilters(s,r),this.sendResponse(e)}catch(e){this._runtime.log("Error on setExceptionBreakpointsRequest :: 13","error")}}exceptionInfoRequest(e,t){try{this._runtime.log("exceptionInfoRequest","debug"),e.body={exceptionId:"Exception ID",description:"This is a descriptive description of the exception.",breakMode:"always",details:{message:"Message contained in the exception.",typeName:"Short type name of the exception object",stackTrace:"stack frame 1\nstack frame 2"}},this.sendResponse(e)}catch(e){this._runtime.log("Error on exceptionInfoRequest :: 13","error")}}threadsRequest(e){try{this._runtime.log("threadsRequest :: 5 ","debug"),e.body={threads:[new r.Thread(this._threadID,"thread 1")]},this.sendResponse(e)}catch(e){this._runtime.log("Error on threadsRequest :: 13","error")}}async stackTraceRequest(e,t){try{this._runtime.log("stackTraceRequest :: 7","debug");"number"==typeof t.startFrame&&t.startFrame;const s=("number"==typeof t.levels&&t.levels,this._runtime.getCallStackTraceData());e.body={stackFrames:s.frames.map(((e,t)=>{let s=this._runtime._sourceFile;if("remote"===this._runtime._server.type){let t=c.getFolderRelativePath(this._runtime._server,e.file,!0);s=i.join(t.baseDir,t.relativeUrl).split("\\").join("/"),e.file=s,e.name=s+":"+e.line}const n=new r.StackFrame(e.index,e.name,this.createSource(e.file),e.line);return"number"==typeof e.column&&(n.column=this.convertDebuggerColumnToClient(e.column)),n})),totalFrames:s.count},this.sendResponse(e)}catch(e){this._runtime.log("Error on stackTraceRequest :: 13","error")}}async scopesRequest(e,t){try{this._runtime.log("scopesRequest :: 12","debug");let t=(await this._runtime.getPrivateProps()).globalConfig.debugConfigurations,s=null!=t.scopes?t.scopes:[];e.body={scopes:[]};for(let t in s)e.body.scopes.push(new r.Scope(s[t].toUpperCase(),this._variableHandles.create(s[t].toLowerCase()),!1));await this._runtime.setScopeFilter(s),this.sendResponse(e)}catch(e){this._runtime.log("Error on scopesRequest","error")}}TerminateRequest(e,t){try{this._runtime.log("TerminateRequest","debug"),this.sendResponse(e)}catch(e){this._runtime.log("Error on terminateRequest","error")}}TerminateThreadsRequest(e,t){try{this._runtime.log("TerminateThreadsRequest","debug"),this.sendResponse(e)}catch(e){this._runtime.log("Error on scopesRequest","error")}}parseData(e,t=!1,s=[]){var r=void 0;if(Array.isArray(e))for(var n in e){let s=e[n];s.hasOwnProperty("string")?(this._runtime.log("#1 :: multiple - string","debug"),r=this.parseString(s.string)):s.hasOwnProperty("array")?(this._runtime.log("#2 :: multiple - array","debug"),r=this.parseArray(s.array)):s.hasOwnProperty("struct")?(this._runtime.log("#3 :: multiple - struct","debug"),r=[],s.struct.hasOwnProperty("var")&&(r=this.parseStruct(s.struct.var))):s.hasOwnProperty("_text")&&t?(this._runtime.log("#4 :: multiple - string from array","debug"),r=this.parseString(s)):this._runtime.log("562 :: Error on parsing server response","error")}else if(e.hasOwnProperty("string"))this._runtime.log("#5 :: single - string","debug"),r=this.parseString(e.string);else if(e.hasOwnProperty("array"))this._runtime.log("#6 :: single - array","debug"),r=this.parseArray(e.array);else if(e.hasOwnProperty("struct"))if(this._runtime.log("#7 :: single - struct","debug"),Array.isArray(e.struct))for(var n in r=[],e.struct)r.push(this.parseStruct(e.struct[n].var));else r=this.parseStruct(e.struct.var);else e.hasOwnProperty("_text")&&t?(this._runtime.log("#8 :: single - string from array","debug"),r=this.parseString(e)):this._runtime.log("589 :: Error on parsing server response","debug");return r}parseStruct(e){var t={};if(Array.isArray(e))for(var s in this._runtime.log("parseStruct #1 :: multiple","debug"),e)t[e[s]._attributes.name]=this.parseData(e[s]);else this._runtime.log("parseStruct #2 :: single","debug"),t[e._attributes.name]=this.parseData(e);return t}parseArray(e){var t=[];if(Array.isArray(e))for(var s in this._runtime.log("parseArray #1 :: multiple","debug"),e)t.push(this.parseData(e[s],!0,t));else this._runtime.log("parseArray #2 :: single","debug"),1==e._attributes.length?t.push(this.parseData(e)):t=this.parseData(e);return t}parseString(e){var t=void 0;if(Array.isArray(e))for(var s in this._runtime.log("parseString #1 :: multiple"+JSON.stringify(e),"debug"),t=[],e)t=[...t,this.parseString(e[s])];else this._runtime.log("parseString #2 :: single","debug"),t=e._text;return t}async variablesRequest(e,t,s){try{let s=this.parseData(this._runtime._scopeRawData),r=await this._parseRuntimeVariable(s),n=[];const i=[],a=this._variableHandles.get(t.variablesReference);if("string"==typeof a)n=r.filter(((e,t)=>e.parent==a));else if(a.value&&Array.isArray(a.value))for(let e of a.value){let t=a.parent+"@@"+a.name;e.parent==t&&n.push(e)}else a.value&&a.value;n.map((e=>{i.push(...this.convertFromRuntime(e))})),e.body={variables:i},this.sendResponse(e)}catch(e){this._runtime.log("Error on variablesRequest","error")}}convertFromRuntime(e){let t=[],s={name:e.name,value:"???",type:typeof e.value,variablesReference:0,evaluateName:"$"+e.name};if(Array.isArray(e.value)||"object"==typeof e.value)s.value="Object",s.variablesReference=this._variableHandles.create(e);else switch(typeof e.value){case"number":Math.round(e.value)===e.value?(s.value=this.formatNumber(e.value),s.__vscodeVariableMenuContext="simple",s.type="integer"):(s.value=e.value.toString(),s.type="float");break;case"string":s.value=`"${e.value}"`;break;case"boolean":s.value=e.value?"true":"false";break;default:s.value=typeof e.value}return t.push(s),this._runtime.log("variablesRequest :: mainVariable :: "+JSON.stringify(s),"debug"),t}formatNumber(e){return this._valuesInHex?"0x"+e.toString(16):e.toString(10)}async pauseRequest(e,t){try{this._runtime.log("pauseRequest","debug"),this.sendResponse(e),this._runtime.sendEvent("showMsg",{event:"info",body:"This feature is not supported."})}catch(e){this._runtime.log("Error on pauseRequest","error")}Promise.resolve(null)}async continueRequest(e,t){try{this._runtime.log("continueRequest","debug"),this.sendResponse(e),await this._runtime.continue()}catch(e){this._runtime.log("Error on continueRequest","error")}Promise.resolve(null)}reverseContinueRequest(e,t){try{this._runtime.log("reverseContinueRequest","debug"),this.sendResponse(e),this._runtime.continue(!0)}catch(e){this._runtime.log("Error on reverseContinueRequest","error")}}async nextRequest(e,t){try{this._runtime.log("nextRequest","debug"),this.sendResponse(e),await this._runtime.step()}catch(e){this._runtime.log("Error on nextRequest","error")}Promise.resolve(null)}async stepBackRequest(e,t){try{this._runtime.log("stepBackRequest","debug"),this.sendResponse(e),await this._runtime.step(!0)}catch(e){this._runtime.log("Error on stepBackRequest","error")}Promise.resolve(null)}stepInTargetsRequest(e,t){try{this._runtime.log("stepInTargetsRequest","debug");const s=this._runtime.getStepInTargets(t.frameId);e.body={targets:s.map((e=>({id:e.id,label:e.label})))},this.sendResponse(e)}catch(e){this._runtime.log("Error on stepInTargetsRequest","error")}}async stepInRequest(e,t){try{this._runtime.log("stepInRequest :: 1 :: "+JSON.stringify(e),"debug"),this._runtime.log("stepInRequest :: 2 :: "+JSON.stringify(t),"debug"),this.sendResponse(e),await this._runtime.stepIn(t.targetId),Promise.resolve(null)}catch(e){this._runtime.log("Error on stepInRequest","error")}}async stepOutRequest(e,t){try{this._runtime.log("stepOutRequest","debug"),this.sendResponse(e),await this._runtime.stepOut()}catch(e){this._runtime.log("Error on stepOutRequest","error")}Promise.resolve(null)}async evaluateRequest(e,t){try{let s,n,i;if(this._runtime.log("evaluateRequest","debug"),await this._runtime.setWatchVariable(t.expression),"watch"===t.context&&""!==this._threadName){let e=await this._runtime._watchExpression(t.expression);if(200==JSON.parse(e).statusCode){let s="<wddxPacket"+JSON.parse(e).data.split("<wddxPacket")[1],r=a.xml2json(s,{compact:!0,spaces:4}),o=JSON.parse(r).wddxPacket.data.array.struct.var,u=await this.parseData(o);if(u){i=this._parseWatchData(t.expression,u);let e=await this._parseRuntimeVariable(i);n=e?e[0]:void 0}}}if("repl"===t.context){const e=/new +([0-9]+)/.exec(t.expression);if(e&&2===e.length){const t=await this._runtime.addBreakPoint(this._runtime.sourceFile,this._runtime.sourceFile,this.convertClientLineToDebugger(parseInt(e[1]))),n=new r.Breakpoint(t.verified,this.convertDebuggerLineToClient(t.line),void 0,this.createSource(this._runtime.sourceFile));n.id=t.id,this.sendEvent(new r.BreakpointEvent("new",n)),s="breakpoint created"}else{const e=/del +([0-9]+)/.exec(t.expression);if(e&&2===e.length){const t=await this._runtime.clearBreakPoint(this._runtime.sourceFile,this._runtime.sourceFile,this.convertClientLineToDebugger(parseInt(e[1])));if(t){const e=new r.Breakpoint(!1);e.id=t.id,this.sendEvent(new r.BreakpointEvent("removed",e)),s="breakpoint deleted"}}else{const e=/progress/.exec(t.expression);e&&1===e.length&&(this._reportProgress?(s="progress started",this.progressSequence()):s='frontend doesn"t support progress (capability "supportsProgressReporting" not set)')}}}if(n){const t=this.convertFromRuntime(n);e.body={result:t[0].value,type:t[0].type,variablesReference:t[0].variablesReference}}else e.body={result:s||void 0,type:typeof s,variablesReference:0};this.sendResponse(e)}catch(e){this._runtime.log("Error on evaluateRequest","error")}}async progressSequence(){this._runtime.log("progressSequence","debug");const e=""+this._progressId++;await l(100);const t=this._isProgressCancellable?"Cancellable operation":"Long running operation",s=new r.ProgressStartEvent(e,t);s.body.cancellable=this._isProgressCancellable,this._isProgressCancellable=!this._isProgressCancellable,this.sendEvent(s),this.sendEvent(new r.OutputEvent(`start progress: ${e}\n`));let n="progress ended";for(let t=0;t<100;t++)if(await l(500),this.sendEvent(new r.ProgressUpdateEvent(e,`progress: ${t}`)),this._cancelledProgressId===e){n="progress cancelled",this._cancelledProgressId=void 0,this.sendEvent(new r.OutputEvent(`cancel progress: ${e}\n`));break}this.sendEvent(new r.ProgressEndEvent(e,n)),this.sendEvent(new r.OutputEvent(`end progress: ${e}\n`)),this._cancelledProgressId=void 0}dataBreakpointInfoRequest(e,t){try{this._runtime.log("dataBreakpointInfoRequest","debug"),e.body={dataId:null,description:"cannot break on data access",accessTypes:void 0,canPersist:!1},t.variablesReference&&t.name&&this._variableHandles.get(t.variablesReference),this.sendResponse(e)}catch(e){this._runtime.log("Error on dataBreakpointInfoRequest","error")}}completionsRequest(e,t){try{this._runtime.log("completionsRequest","debug"),e.body={targets:[{label:"item 10",sortText:"10"},{label:"item 1",sortText:"01"},{label:"item 2",sortText:"02"},{label:"array[]",selectionStart:6,sortText:"03"},{label:"func(arg)",selectionStart:5,selectionLength:3,sortText:"04"}]},this.sendResponse(e)}catch(e){this._runtime.log("Error on completionsRequest","error")}}cancelRequest(e,t){try{this._runtime.log("cancelRequest","debug"),t.requestId&&this._cancelationTokens.set(t.requestId,!0),t.progressId&&(this._cancelledProgressId=t.progressId)}catch(e){this._runtime.log("Error on cancelRequest","error")}}customRequest(e,t,s){try{this._runtime.log("customRequest","debug"),"toggleFormatting"===e?(this._showHex=!this._showHex,this._useInvalidatedEvent&&this.sendEvent(new r.InvalidatedEvent(["variables"])),this.sendResponse(t)):super.customRequest(e,t,s)}catch(e){this._runtime.log("Error on customRequest","error")}}async disconnectRequest(e,t){try{this._runtime.log("disconnectRequest :: before","debug"),await this._runtime.quit(t.restart),this._runtime.log("disconnectRequest :: end","debug")}catch(e){this._runtime.log("Error on disconnectRequest","error")}}createSource(e){return new r.Source(i.basename(e),this.convertDebuggerPathToClient(e),void 0,void 0,"CMFL-adapter-data")}async _parseRuntimeVariable(e){let t=[];return Object.keys(e).map((async s=>{Object.keys(e[s]).map((r=>{let n=e[s][r];if("object"==typeof n){let e={};e.name=r,Array.isArray(n)?(e.value=[],n.map(((t,n)=>{let i=[];i.push(s.toLowerCase()),e.value.push(this._parseTempStruct(i,r,t)[0])}))):e.value=this._parseTempStruct([s.toLowerCase()],r,n),e.parent=s.toLowerCase(),t.push(e)}else t.push(this.scopeValue([s.toLowerCase()],"",r,n))}))})),t}_parseTempStruct(e,t,s){""!=t&&e.push(t);let r=[];return Object.keys(s).map((n=>{r.push(this.scopeValue(e,t,n,s[n]))})),e.splice(-1),r}scopeValue(e,t,s,r){let n={};return n.name=s,n.parent=e.join("@@"),n.value="object"==typeof r?this._parseTempStruct(e,s,r):r,n}_parseWatchData(e,t){let s={},r=e.split(".")[0];return s[r]={},s[r][e.split(".")[1]]=t,s}}t.debugSession=h},8552:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Runtime=t.RuntimeVariable=void 0;const r=s(2361),n=s(9014),i=s(7379),a=s(7147),o=s(1017),u=s(7888),c=s(5100),l=s(7310),h=s(3837);t.RuntimeVariable=class{constructor(e,t){this.name=e,this._value=t}get value(){return this._value}set value(e){this._value=e,this._memory=void 0}get memory(){return void 0===this._memory&&"string"==typeof this._value&&(this._memory=(new h.TextEncoder).encode(this._value)),this._memory}setMemory(e,t=0){const s=this.memory;s&&(s.set(e,t),this._memory=s,this._value=(new h.TextDecoder).decode(s))}};let d=!1,p=[],g=["info","warning","error","debug"],m=g.slice(0,g.indexOf("error")+1);class v extends r.EventEmitter{constructor(e){super(),this._fileAccessor=e,this._sourceFile="",this._sourceLines=[],this._frames={count:0,frames:new Array},this.variables=new Map,this._currentLine=0,this._currentColumn=-1,this._breakPoints=new Map,this._breakpointId=1,this._breakAddresses=new Set,this._noDebug=!1,this._otherExceptions=!1,this._globalConfigFilePath="",this._globalConfig="",this._globalDebuggerData={port:void 0,sessionId:void 0,threadName:void 0},this._projectInfo="",this._debugPort=0,this._sessionId="",this._threadName="",this.duration=2e3,this._serverId="",this._server="",this.isVirtualServer=!1,this._virtualServerId="",this._virtualServer="",this.instructions=[],this.starts=[],this.ends=[],this.parseResponse=(e,t)=>{let s={};if(!e.trim().length)return{};"string"==typeof t&&(t=t.split(","));let r=e,n=r.split(":"),i=parseInt(n[0]);if(n.shift(),r=r.substring(i.toString().length+1),i!=t.length)return{};for(let e=0;e<i;e++){let i=parseInt(n[0]),a=i.toString().length,o=t[e],u=r.substring(a+1,i+a+1);s[o]=u,r=r.substring(i+a+1,r.length),n=r.split(":")}return s},this.getPrivateProps=()=>{let e={};return e.globalConfig=this._globalConfig,e.debuggerData=this._globalDebuggerData,e.projectInfo=this._projectInfo,e.server=this._server,e.virtualServer=this._virtualServer,e.debugURL=this._debugURL,e.debugPort=this._debugPort?this._debugPort:e.debuggerData.port,e.sessionId=this._sessionId?this._sessionId:e.debuggerData.sessionId,e.threadName=this._threadName?this._threadName:e.debuggerData.threadName,e.sessionId=this._sessionId,e.threadName=this._threadName,e.sourceFile=this._sourceFile,e.currentLine=this._currentLine,e},this.setBrowserOpened=e=>{d=e},this.getBrowserOpened=()=>d,this.setPrivateProps=e=>{this._threadName=e},this.stripData=async(e,t)=>{if(this.log("stripData :: calledFor :: "+t,"debug"),this.log("stripData :: calledFor :: jsonData ::"+JSON.stringify(e),"debug"),Array.isArray(e)&&e.forEach((async t=>{if(""==this._threadName&&"THREAD"==t._attributes.name)this._threadName=t.string._text,n.setGlobalDebuggerData("threadName",this._threadName);else if("SOURCE"==t._attributes.name){let e=t.string._text;if("remote"===this._server.type){let s=n.getFolderRelativePath(this._server,t.string._text,!0);e=o.join(s.baseDir,s.relativeUrl).split("\\").join("/")}a.existsSync(e)?(this._sourceFile=o.resolve(e),this.log("_sourceFile :: "+this._sourceFile,"debug")):this.log("1215 :: Source file is not found :: "+this._sourceFile+" :: "+e,"error")}else if("LINE"==t._attributes.name)this._currentLine=parseInt(t.number._text)-1,this.log("_currentLine :: "+this._currentLine,"debug");else if("EVENT"==t._attributes.name&&"BREAKPOINT"==t.string._text)this.log("event triggered from stripData() :: stopOnBreakpoint","debug"),await this.sendEvent("stopOnBreakpoint");else if("EVENT"==t._attributes.name&&"CF_BREAKPOINT_SET"==t.string._text);else if("EVENT"==t._attributes.name&&"STEP"==t.string._text)await this.sendEvent("stopOnStep");else if("EVENT"==t._attributes.name&&"EXCEPTION_BREAKPOINT"==t.string._text)await this.sendEvent("stopOnException");else if("EVENT"==t._attributes.name&&"CF_DEBUGGER_EXCEPTION"==t.string._text){let t=n.filterData(e,["_attributes","name"],"EXCEPTION_TYPE",this);if(Object.keys(t).length&&"UnresolvedBreakpointLocationException"==t.string._text){let t=n.filterData(e,["_attributes","name"],"CFML_PATH",this).string._text,s=n.filterData(e,["_attributes","name"],"REQ_LINE_NUM",this),r=parseInt(s.number._text)-1;await this.invalidateBreakpoint(t,t,r)}else Object.keys(t).length&&"InvalidBreakpointLocationException"==t.string._text&&this.log("InvalidBreakpointLocationException","debug")}else if("CF_TRACE"===t._attributes.name){let e=parseInt(t.array._attributes.length);if(this._frames.frames=new Array,this._frames.count=e,e>1)t.array.string.map(((e,t)=>{let s=e._text,r=o.resolve(s.substr(0,s.lastIndexOf(":"))).toLowerCase(),n=parseInt(s.split(":").pop()),i={index:t,name:s,file:r,line:n,column:void 0};this._frames.frames.push(i)}));else{let e=t.array.string._text,s=o.resolve(e.substr(0,e.lastIndexOf(":"))).toLowerCase(),r=parseInt(e.split(":").pop()),n={index:0,name:e,file:s,line:r,column:void 0};this._frames.frames.push(n)}}else"SCOPES"==t._attributes.name&&(this._scopeRawData=[t])})),""==this._threadName){let e=await this._getDebugEvents();await this.processDebugEventsData(e,"threadName debug ","launchRequest")}},this.prepareXMLFromDebugEvents=e=>"<wddxPacket"+JSON.parse(e).data.split("<wddxPacket")[1],this.processDebugEventsData=async(e,t="",s="")=>{let r=this.prepareXMLFromDebugEvents(e),n=u.xml2json(r,{compact:!0,spaces:4}),i=JSON.parse(n).wddxPacket.data.array;(p.includes("all")||p.includes(s))&&this.log("debugs events data :: '"+s+"' :: result :: "+JSON.stringify(i),"debug"),i._attributes.length>1?await i.struct.forEach((async e=>{(p.includes("all")||p.includes(s))&&this.log("debugs events data :: '"+s+"' :: lvl1Elem.var :: "+JSON.stringify(e.var),"debug"),await this.stripData(e.var,t)})):((p.includes("all")||p.includes(s))&&this.log("debugs events data :: '"+s+"' :: result.struct.var :: "+JSON.stringify(i.struct.var),"debug"),await this.stripData(i.struct.var,t))},this.log("from constructor :: 1 ","debug")}get sourceFile(){return this._sourceFile}async setDebuggerData(e,t){return new Promise((async s=>{try{this._globalConfigFilePath=e,this._globalConfig=n.getGlobalConfigFromPath(this._globalConfigFilePath),this._globalDebuggerData=n.getGlobalDebuggerData(),this._projectInfo=t;let r=this._projectInfo.server,i=n.getServerIncludingVirtualHostsFromConfigPath(this._globalConfigFilePath,r);if("remote"!==i.type||i.mappings.length&&i.debugMappings.length){let e=n.getServerBaseURLFromServer(i);i.isVirtualServer&&(this.isVirtualServer=!0,this._virtualServerId=r,this._virtualServer=i,e=n.getServerBaseURLFromServer(this._virtualServer),r=this._virtualServer.serverId,i=n.getServerIncludingVirtualHostsFromConfigPath(this._globalConfigFilePath,r)),this._serverId=r,this._server=i;let t=await n.getServerStatus(e,this._server.name);""==this._server||null==this._server?s("server-unknown"):t.statusCode<=500?(await this._setDebugPort(),s("started")):s("stopped")}else s("no-debug-mapping")}catch(e){this.log("255 :: "+JSON.stringify(e)),s("unknown"),this.sendEvent("end",{event:"error",body:e})}}))}async start(e,t,s,r){this._noDebug=s,await this.loadSource(e),this._currentLine=-1;let i="",a=await this.startDebugSession();i=this.parseResponse(a.data,"sessionId,xmlData"),this._sessionId=i.sessionId,n.setGlobalDebuggerData("sessionId",this._sessionId)}async startDebugSession(){let e=new i.RDSRequest(this),t="";if(e.setOptions({host:this._server.host,port:this._debugPort,contextRoot:"",useSSL:this._server.enableSSL,action:"DBGREQUEST"}),e.setData(["DBG_START","<wddxPacket version='1.0'><header/><data><array length='1'><struct type='java.util.HashMap'><var name='REMOTE_SESSION'><boolean value='true'/></var></struct></array></data></wddxPacket>",this._server.RDSUsername,n.decryptWithCipher(this._server.id,this._server.RDSPassword)]),t=await e.send(),200===t.statusCode)return t;this.log("323 :: "+JSON.stringify(t),"error"),this.sendEvent("end",{event:"error",body:t})}async stop(){let e=new i.RDSRequest(this),t="",s=this.getPrivateProps();e.setOptions({host:s.server.host,port:s.debugPort,contextRoot:"",useSSL:s.server.enableSSL,action:"DBGREQUEST"}),e.setData(["DBG_STOP",s.sessionId,s.server.RDSUsername,n.decryptWithCipher(s.server.id,s.server.RDSPassword)]),t=await e.send(),this._sessionId="",this.log("Debugger stopped","info"),Promise.resolve(null)}async continue(e=!1,t=!1){if(await this._continue(),!t){let e=await this._getDebugEvents();await this.processDebugEventsData(e,"continue","continue")}}async step(e=!1,t="stopOnStep"){await this._stepOver();let s=await this._getDebugEvents();await this.processDebugEventsData(s,"stepOver","step"),this.sendEvent(t)}async stepIn(e){var t=await this._stepIn();this.log("_stepIn :: 1 :: "+JSON.stringify(t),"debug");let s=await this._getDebugEvents();await this.processDebugEventsData(s,"stepIn","stepIn"),this.sendEvent("stopOnStep")}async stepOut(){var e=await this._stepOut();this.log("_stepOut :: 1 :: "+JSON.stringify(e),"debug");let t=await this._getDebugEvents();await this.processDebugEventsData(t,"stepOut","stepOut"),this.sendEvent("stopOnStep")}getStepInTargets(e){const t=this._sourceLines[this._currentLine].trim(),s=t.split(/\s+/);if(e<0||e>=s.length)return[];const r=s[e],n=t.indexOf(r);return r.split("").map(((e,t)=>({id:n+t,label:`target: ${e}`})))}stack(e,t){const s=this._sourceLines[this._currentLine].trim().split(/\s+/),r=new Array;for(let n=e;n<Math.min(t,s.length);n++){const e={index:n,name:`${s[n]}(${n})`,file:this._sourceFile,line:this._currentLine};"number"==typeof this._currentColumn&&(e.column=this._currentColumn),r.push(e)}return{frames:r,count:s.length}}getBreakpoints(e,t){const s=this._sourceLines[t];let r=!0;const n=[];for(let e=0;e<s.length;e++)" "!==s[e]?r&&(n.push(e),r=!1):r=!0;return n}async getGlobalVariables(e,t=""){let s;return Object.keys(t).forEach((async e=>{"REQUEST"==e&&(s=this.parseData(t[e]),this.log("key"+JSON.stringify(s),"debug"))})),s}parseData(e){try{if(Array.isArray(e)){let t=[];for(let s=0;s<e.length;s++){let r=e[s];t="object"==typeof r?[...t,{name:"["+s+"]",value:this.parseData(r)}]:[...t,{name:"["+s+"]",value:r}]}return t}if("object"==typeof e){let t=[];return Object.keys(e).forEach((async s=>{t="object"==typeof e[s]?[...t,{name:s,value:this.parseData(e[s])}]:[...t,{name:s,value:e[s]}]})),t}}catch(e){this.log("440 :: "+JSON.stringify(e),"error")}}getLocalVariables(){return Array.from(this.variables,(([e,t])=>t))}async addBreakPoint(e,t,s){const r={verified:!0,line:s,id:this._breakpointId++};let n=this._breakPoints.get(e);return n||(n=new Array),n.push(r),this._breakPoints.set(e,n),""!=this._sessionId&&await this.setBreakPointOnServer(t,s+1),r}async invalidateBreakpoint(e,t,s){let r=this._breakPoints.get((0,c.trueCasePathSync)(e));await r.forEach((async e=>{e.line==s&&(e.verified=!1,e.line=-1,await this.sendEvent("breakpointValidated",e))}))}async clearBreakPoint(e,t,s){const r=this._breakPoints.get(e);if(r){const e=r.findIndex((e=>e.line===s));if(e>=0){const n=r[e];await this._unsetBreakPointOnServer(t,s),r.splice(e,1),Promise.resolve(n)}}Promise.resolve(null)}async clearBreakpoints(e,t){let s=this._breakPoints.get(e);this.log("clearBreakpoints :: "+e,"debug"),this.log("clearBreakpoints :: "+JSON.stringify(s),"debug"),s&&Array.isArray(s)&&(await s.forEach((async s=>{await this.clearBreakPoint(e,t,s.line)})),this._breakPoints.delete(e))}setDataBreakpoint(e){return!!e&&(this._breakAddresses.add(e),!0)}setExceptionsFilters(e,t){this._namedException=e,this._otherExceptions=t}clearAllDataBreakpoints(){this._breakAddresses.clear()}async quit(e=!1){""!==this._sessionId&&""!==this._threadName&&(await this._unsetAllBreakPoints(),await this.continue(!1,!0));let t={event:"error",body:"Debugger Stopped"};e&&(t={event:"restart",body:""}),this.sendEvent("end",t)}log(e,t="error"){-1!=m.indexOf(t)&&this.sendEvent("console",e)}async loadSource(e){this._sourceFile!==e&&(this._sourceFile=e,this.initializeContents(await this._fileAccessor.readFile(e)))}run(e=!1,t){if(e){for(let e=this._currentLine-1;e>=0;e--)if(this.fireEventsForLine(e,t))return this._currentLine=e,void(this._currentColumn=void 0);this._currentLine=0,this._currentColumn=void 0,this.sendEvent("stopOnEntry")}else{for(let e=this._currentLine+1;e<this._sourceLines.length;e++)if(this.fireEventsForLine(e,t))return this._currentLine=e,this._currentColumn=void 0,!0;this.sendEvent("end")}}fireEventsForLine(e,t){if(this._noDebug)return!1;const s=this._sourceLines[e].trim(),r=/log\((.*)\)/.exec(s);r&&2===r.length&&(this.log("event triggered :: output","debug"),this.sendEvent("output",r[1],this._sourceFile,e,r.index));const n=s.split(" ");for(const e of n)if(this._breakAddresses.has(e))return this.log("event triggered :: stopOnDataBreakpoint","debug"),this.sendEvent("stopOnDataBreakpoint"),!0;const i=/exception\((.*)\)/.exec(s);if(i&&2===i.length){const e=i[1].trim();if(this._namedException===e)return this.log("event triggered :: stopOnException","debug"),this.sendEvent("stopOnException",e),!0;if(this._otherExceptions)return this.log("event triggered :: stopOnException","debug"),this.sendEvent("stopOnException",void 0),!0}else if(s.indexOf("exception")>=0&&this._otherExceptions)return this.log("event triggered :: stopOnException","debug"),this.sendEvent("stopOnException",void 0),!0;const a=this._breakPoints.get(this._sourceFile);if(a){const t=a.filter((t=>t.line===e));if(t.length>0)return this.log("event triggered :: stopOnBreakpoint","debug"),this.sendEvent("stopOnBreakpoint"),t[0].verified||(t[0].verified=!0,this.log("event triggered :: breakpointValidated","debug"),this.sendEvent("breakpointValidated",t[0])),!0}return!!(t&&s.length>0)&&(this.sendEvent(t),!0)}sendEvent(e,...t){setImmediate((s=>{this.emit(e,...t)}))}async _setDebugPort(){return new Promise((async e=>{try{let e,t=new i.RDSRequest(this);if(t.setOptions({host:this._server.host,port:this._server.port,contextRoot:this._server.contextRoot,useSSL:this._server.enableSSL,action:"DBGREQUEST"}),t.setData(["DBG_GET_DEBUG_SERVER_INFO",this._server.RDSUsername,n.decryptWithCipher(this._server.id,this._server.RDSPassword)]),this.log("_setDebugPort1 :: "+JSON.stringify(t.getData()),"debug"),e=await t.send(),this.log("_setDebugPort2 :: "+JSON.stringify(e),"debug"),200==e.statusCode)e=this.parseResponse(e.data,"xmlData"),e=u.xml2js(e.xmlData,{compact:!0}),e=t.parseXMLJSON(e.wddxPacket.data)[0],this._debugPort=parseInt(e.DEBUG_SERVER_PORT),n.setGlobalDebuggerData("port",this._debugPort),this._debugURL="http://",this._server.enableSSL&&(this._debugURL="https://"),this._debugURL+=`${this._server.host}:${this._debugPort}`,""!=this._server.contextRoot&&(this._debugURL+=`/${this._server.contextRoot}`),this._debugURL+="/CFIDE/main/ide.cfm?CFSRV=IDE&ACTION=DBGREQUEST";else{this.log("812 :: _setDebugPort","error");let t=e.data;t=t.split(":")[1],t=t.split("\n")[0],t="Error on getting debug port :: "+t,this.sendEvent("end",{event:"error",body:t})}}catch(e){this.log("821 :: "+JSON.stringify(e),"error"),this.sendEvent("end",{event:"error",body:e})}e(null)}))}async openInBrowser(){try{let e=this.getPrivateProps(),t=this._server;if(this.isVirtualServer&&(t=this._virtualServer),this.log("_globalConfig :: "+JSON.stringify(e.projectInfo),"debug"),this.log("this.sourceFile :: "+this.sourceFile,"debug"),!this.getBrowserOpened()){let e=n.getFolderRelativePath(t,this.sourceFile);-1==e.baseURL.indexOf("http://")&&-1==e.baseURL.indexOf("https://")&&(e.baseURL="http://"+e.baseURL);let s=new l.URL(e.relativeUrl,e.baseURL).toString();this.log("openInBrowser :: resourceURL :: "+s,"debug"),this.setBrowserOpened(!0),await n.openBrowser(s),this.log("openInBrowser :: done","debug")}}catch(e){this.log("855 :: "+JSON.stringify(e),"error"),this.sendEvent("end",{event:"error",body:e})}}async setBreakPointOnException(){this.log("setBreakPointOnException :: 8","debug");let e=this.getPrivateProps().globalConfig.debugConfigurations.breakOnException,t=new i.RDSRequest(this),s="",r="<wddxPacket version='1.0'><header/><data><array length='1'><struct type='java.util.HashMap'><var name='BREAK_ON_EXCEPTION'><boolean value='"+e+"'/></var><var name='COMMAND'><string>SESSION_BREAK_ON_EXCEPTION</string></var></struct></array></data></wddxPacket>";t.setOptions({host:this._server.host,port:this._debugPort,contextRoot:"",useSSL:this._server.enableSSL,action:"DBGREQUEST"}),t.setData(["DBG_REQUEST",this._sessionId,r,this._server.RDSUsername,n.decryptWithCipher(this._server.id,this._server.RDSPassword)]),this.log("setBreakPointOnException1 :: "+JSON.stringify(t.getData()),"debug"),s=await t.send(),this.log("setBreakPointOnException2 :: "+JSON.stringify(s),"debug"),200===s.statusCode||(this.log("887 :: "+JSON.stringify(s),"error"),this.sendEvent("end",{event:"error",body:s.data.split(":")[1]}))}async setBreakPointOnServer(e,t){let s=new i.RDSRequest(this),r="",a="<wddxPacket version='1.0'><header/><data><array length='1'><struct><var name='Y'><number>"+t+"</number></var><var name='COMMAND'><string>SET_BREAKPOINT</string></var><var name='FILE'><string>"+e+"</string></var><var name='SEQ'><number>1.0</number></var></struct></array></data></wddxPacket>";if(s.setOptions({host:this._server.host,port:this._debugPort,contextRoot:"",useSSL:this._server.enableSSL,action:"DBGREQUEST"}),s.setData(["DBG_REQUEST",this._sessionId,a,this._server.RDSUsername,n.decryptWithCipher(this._server.id,this._server.RDSPassword)]),this.log("setBreakPointOnServer1 :: "+JSON.stringify(s.getData()),"debug"),r=await s.send(),this.log("setBreakPointOnServer2 :: "+JSON.stringify(r),"debug"),200===r.statusCode);else{this.log("910 :: "+JSON.stringify(r),"error");let e=r.data.split(":");e.shift(),this.sendEvent("end",{event:"error",body:"Error on setting breakpoints on server\n"+e.join(":")})}}async _unsetBreakPointOnServer(e,t){let s=new i.RDSRequest(this),r="",a="<wddxPacket version='1.0'><header/><data><array length='1'><struct><var name='Y'><number>"+t+"</number></var><var name='COMMAND'><string>UNSET_BREAKPOINT</string></var><var name='FILE'><string>"+e+"</string></var><var name='SEQ'><number>1.0</number></var></struct></array></data></wddxPacket>";s.setOptions({host:this._server.host,port:this._debugPort,contextRoot:"",useSSL:this._server.enableSSL,action:"DBGREQUEST"}),s.setData(["DBG_REQUEST",this._sessionId,a,this._server.RDSUsername,n.decryptWithCipher(this._server.id,this._server.RDSPassword)]),r=await s.send(),200===r.statusCode?this.log("_unsetBreakPointOnServer :: "+JSON.stringify(r.data),"debug"):(this.log("934 :: "+JSON.stringify(r),"error"),this.sendEvent("end",{event:"error",body:r.data.split(":")[1]}))}async _unsetAllBreakPoints(){let e=new i.RDSRequest(this),t="";e.setOptions({host:this._server.host,port:this._debugPort,contextRoot:"",useSSL:this._server.enableSSL,action:"DBGREQUEST"}),e.setData(["DBG_REQUEST",this._sessionId,"<wddxPacket version='1.0'><header/><data><array length='1'><struct><var name='COMMAND'><string>UNSET_ALL_BREAKPOINTS</string></var></struct></array></data></wddxPacket>",this._server.RDSUsername,n.decryptWithCipher(this._server.id,this._server.RDSPassword)]),t=await e.send(),200===t.statusCode||(this.log("877 :: "+JSON.stringify(t),"error"),this.sendEvent("end",{event:"error",body:t.data.split(":")[1]}))}async _stepIn(){let e=new i.RDSRequest(this),t="",s="<wddxPacket version='1.0'><header/><data><array length='1'><struct><var name='COMMAND'><string>STEP_IN</string></var><var name='THREAD'><string>"+this._threadName+"</string></var></struct></array></data></wddxPacket>";e.setOptions({host:this._server.host,port:this._debugPort,contextRoot:"",useSSL:this._server.enableSSL,action:"DBGREQUEST"}),e.setData(["DBG_REQUEST",this._sessionId,s,this._server.RDSUsername,n.decryptWithCipher(this._server.id,this._server.RDSPassword)]),this.log("_stepIn :: "+JSON.stringify(e.getData()),"debug"),t=await e.send(),200===t.statusCode?this.log("_stepIn :: "+JSON.stringify(t.data),"debug"):(this.log("902 :: "+JSON.stringify(t),"error"),this.sendEvent("end",{event:"error",body:t.data.split(":")[1]}))}async _stepOver(){let e=new i.RDSRequest(this),t="",s="<wddxPacket version='1.0'><header/><data><array length='1'><struct><var name='COMMAND'><string>STEP_OVER</string></var><var name='THREAD'><string>"+this._threadName+"</string></var></struct></array></data></wddxPacket>";e.setOptions({host:this._server.host,port:this._debugPort,contextRoot:"",useSSL:this._server.enableSSL,action:"DBGREQUEST"}),e.setData(["DBG_REQUEST",this._sessionId,s,this._server.RDSUsername,n.decryptWithCipher(this._server.id,this._server.RDSPassword)]),t=await e.send(),200===t.statusCode?this.log("_stepOver :: "+JSON.stringify(t.data),"debug"):(this.log("919 :: "+JSON.stringify(t),"error"),this.sendEvent("end",{event:"error",body:t.data.split(":")[1]}))}async _stepOut(){let e=new i.RDSRequest(this),t="",s="<wddxPacket version='1.0'><header/><data><array length='1'><struct><var name='COMMAND'><string>STEP_OUT</string></var><var name='THREAD'><string>"+this._threadName+"</string></var></struct></array></data></wddxPacket>";e.setOptions({host:this._server.host,port:this._debugPort,contextRoot:"",useSSL:this._server.enableSSL,action:"DBGREQUEST"}),e.setData(["DBG_REQUEST",this._sessionId,s,this._server.RDSUsername,n.decryptWithCipher(this._server.id,this._server.RDSPassword)]),t=await e.send(),200===t.statusCode?this.log("_stepOut :: "+JSON.stringify(t.data),"debug"):(this.log("939 :: "+JSON.stringify(t),"error"),this.sendEvent("end",{event:"error",body:t.data.split(":")[1]}))}async _continue(){let e=new i.RDSRequest(this),t="",s="<wddxPacket version='1.0'><header/><data><array length='1'><struct><var name='COMMAND'><string>CONTINUE</string></var><var name='THREAD'><string>"+this._threadName+"</string></var></struct></array></data></wddxPacket>";e.setOptions({host:this._server.host,port:this._debugPort,contextRoot:"",useSSL:this._server.enableSSL,action:"DBGREQUEST"}),e.setData(["DBG_REQUEST",this._sessionId,s,this._server.RDSUsername,n.decryptWithCipher(this._server.id,this._server.RDSPassword)]),t=await e.send(),200===t.statusCode||(this.log("959 :: _continue :: "+JSON.stringify(t),"error"),this.sendEvent("end",{event:"error",body:t.data.split(":")[1]}))}async _watchExpression(e=""){return new Promise((async t=>{try{let s=new i.RDSRequest(this),r="",a="<wddxPacket version='1.0'><header/><data><array length='1'><struct><var name='VARIABLE_NAME'><string>"+e+"</string></var><var name='COMMAND'><string>GET_SINGLE_CF_VARIABLE</string></var><var name='THREAD'><string>"+this._threadName+"</string></var></struct></array></data></wddxPacket>";s.setOptions({host:this._server.host,port:this._debugPort,contextRoot:"",useSSL:this._server.enableSSL,action:"DBGREQUEST"}),s.setData(["DBG_REQUEST",this._sessionId,a,this._server.RDSUsername,n.decryptWithCipher(this._server.id,this._server.RDSPassword)]),r=await s.send(),200===r.statusCode?(this.log("\nwatchResult :: "+JSON.stringify(r),"debug"),t(JSON.stringify(r))):(this.log("944 :: "+JSON.stringify(r),"error"),t(JSON.stringify(r)))}catch(e){this.log("1015 :: "+JSON.stringify(e),"error"),t(JSON.stringify(e))}}))}async setVariable(e){let t=new i.RDSRequest(this),s="",r="<wddxPacket version='1.0'><header/><data><array length='1'><struct><var name='VARIABLE_VALUE'><string>'5'</string></var><var name='VARIABLE_NAME'><string>"+e+"</string></var><var name='COMMAND'><string>SET_VARIABLE_VALUE</string></var><var name='THREAD'><string>"+this._threadName+"</string></var></struct></array></data></wddxPacket>";t.setOptions({host:this._server.host,port:this._debugPort,contextRoot:"",useSSL:this._server.enableSSL,action:"DBGREQUEST"}),t.setData(["DBG_REQUEST",this._sessionId,r,this._server.RDSUsername,n.decryptWithCipher(this._server.id,this._server.RDSPassword)]),s=await t.send(),200===s.statusCode?this.log("_setVariable :: "+JSON.stringify(s.data),"debug"):this.log("1006 :: "+JSON.stringify(s),"error")}async setWatchVariable(e=""){let t=new i.RDSRequest(this),s="",r="<wddxPacket version='1.0'><header/><data><array length='1'><struct><var name='COMMAND'><string>SET_WATCH_VARIABLES</string></var><var name='WATCH'><array length='1'><string>"+e+"</string></array></var></struct></array></data></wddxPacket>";t.setOptions({host:this._server.host,port:this._debugPort,contextRoot:"",useSSL:this._server.enableSSL,action:"DBGREQUEST"}),t.setData(["DBG_REQUEST",this._sessionId,r,this._server.RDSUsername,n.decryptWithCipher(this._server.id,this._server.RDSPassword)]),s=await t.send(),200===s.statusCode||this.log("1027 :: "+JSON.stringify(s),"error")}async _getDebugEvents(){return new Promise((async e=>{try{let t=new i.RDSRequest(this),s="";t.setOptions({host:this._server.host,port:this._debugPort,contextRoot:"",useSSL:this._server.enableSSL,action:"DBGREQUEST"}),t.setData(["DBG_EVENTS",this._sessionId,this._server.RDSUsername,n.decryptWithCipher(this._server.id,this._server.RDSPassword)]),s=await t.send(),200===s.statusCode?e(JSON.stringify(s)):(e(JSON.stringify(s)),this.sendEvent("end",{event:"error",body:s.data.split(":")[1]}))}catch(t){this.log("1051 :: "+JSON.stringify(t),"error"),e(JSON.stringify(t)),this.sendEvent("end",{event:"error",body:t})}}))}async allFetchFlagsEnabled(){return new Promise((async e=>{try{let t=new i.RDSRequest(this),s="",r="<wddxPacket version='1.0'><header/><data><struct type='java.util.HashMap'><var name='THREADS'><boolean value='true'/></var><var name='WATCH'><boolean value='true'/></var><var name='SCOPES'><boolean value='true'/></var><var name='CF_TRACE'><boolean value='true'/></var><var name='JAVA_TRACE'><boolean value='true'/></var></struct></data></wddxPacket>";t.setOptions({host:this._server.host,port:this._debugPort,contextRoot:"",useSSL:this._server.enableSSL,action:"DBGREQUEST"}),t.setData(["DBG_EVENTS",this._sessionId,r,this._server.RDSUsername,n.decryptWithCipher(this._server.id,this._server.RDSPassword)]),s=await t.send(),200===s.statusCode?(this.log("_allFetchFlagsEnabled :: ","debug"),e(JSON.stringify(s))):(this.log("1078 :: _allFetchFlagsEnabled :: "+JSON.stringify(s),"error"),e(JSON.stringify(s)),this.sendEvent("end",{event:"error",body:s.data.split(":")[1]}))}catch(t){this.log("1084 :: "+JSON.stringify(t),"error"),e(JSON.stringify(t)),this.sendEvent("end",{event:"error",body:t})}}))}async _getOutput(){let e=new i.RDSRequest(this),t="",s="<wddxPacket version='1.0'><header/><data><array length='1'><struct><var name='BODY_ONLY'><boolean value='true'/></var><var name='COMMAND'><string>GET_OUTPUT</string></var><var name='THREAD'><string>"+this._threadName+"</string></var></struct></array></data></wddxPacket>";e.setOptions({host:this._server.host,port:this._debugPort,contextRoot:"",useSSL:this._server.enableSSL,action:"DBGREQUEST"}),e.setData(["DBG_REQUEST",this._sessionId,s,this._server.RDSUsername,n.decryptWithCipher(this._server.id,this._server.RDSPassword)]),t=await e.send(),200===t.statusCode?this.log("_getOutput :: "+JSON.stringify(t.data),"debug"):(this.log("1106 :: "+JSON.stringify(t),"error"),this.sendEvent("end",{event:"error",body:t.data.split(":")[1]}))}getCallStackTraceData(){return this._frames}async setScopeFilter(e){let t="",s=new i.RDSRequest(this),r=await this.getPrivateProps(),a=`<wddxPacket version='1.0'><header/><data><array length='1'><struct type='java.util.HashMap'><var name='FILTER'><string>${e.join(",").toUpperCase()}</string></var><var name='COMMAND'><string>SET_SCOPE_FILTER</string></var></struct></array></data></wddxPacket>`;s.setOptions({host:r.server.host,port:r.debugPort,contextRoot:"",useSSL:r.server.enableSSL,action:"DBGREQUEST"}),s.setData(["DBG_REQUEST",r.sessionId,a,r.server.RDSUsername,n.decryptWithCipher(r.server.id,r.server.RDSPassword)]),t=await s.send(),200===t.statusCode||(this.log("1238 :: "+JSON.stringify(t),"error"),this.sendEvent("end"))}initializeContents(e){this._sourceLines=(new h.TextDecoder).decode(e).split(/\r?\n/),this.instructions=[],this.starts=[],this.instructions=[],this.ends=[];for(let e=0;e<this._sourceLines.length;e++){this.starts.push(this.instructions.length);const t=this.getWords(e,this._sourceLines[e]);for(let e of t)this.instructions.push(e);this.ends.push(this.instructions.length)}}getWords(e,t){const s=/[a-z]+/gi,r=[];let n;for(;n=s.exec(t);)r.push({name:n[0],line:e,index:n.index});return r}}t.Runtime=v},9014:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateServerKeys=t.stringToHash=t.getServerIncludingVirtualHostsFromConfigPath=t.getServersIncludingVirtualHostsFromConfigPath=t.getServerStatus=t.getGlobalDebuggerData=t.setGlobalDebuggerData=t.addErrorLog=t.debugLog=t.createUUID=t.decryptWithCipher=t.encryptWithCipher=t.createCipherForDecryption=t.createCipherForEncryption=t.isEmptyObject=t.filterData=t.isJson=t.getWorkspaceFilePath=t.readdirSync=t.removeFileSync=t.existsSync=t.writeFileSync=t.readFileSync=t.getFolderRelativePath=t.extractRelativePath=t.getResourceURL=t.openBrowser=t.getURIFromSource=t.getServerBaseURLFromServer=t.getServerBaseURLFromConfigPath=t.getServerForProjectFromConfigPath=t.getProjectInfoFromConfigPath=t.getProjectInfoFromProjPath=t.prepareProjectFilePath=t.getProjectsFromConfigPath=t.getServerFromConfigPath=t.getServersFromConfigPath=t.getGlobalConfigFromPath=t.convertPathForOS=t.isMac=t.isLinux=t.isWindows=t.getOS=t.cfProjectFileExt=void 0;const r=s(1017),n=s(7282),i=s(7147),a=s(8318),o=s(2475),u=s(7310),c=s(3685),l=s(5687);let h={port:void 0,sessionId:void 0,threadName:void 0};function d(e){let s;if("\\"==e)return;const r=(0,t.readFileSync)(e);return r.toString()&&(s=JSON.parse(r.toString())),s}function p(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var s=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?s:3&s|8).toString(16)}))}t.cfProjectFileExt=".cfproject",t.getOS=function(){let e="";return(0,t.isWindows)()?e="windows":(0,t.isLinux)()?e="linux":(0,t.isMac)()&&(e="mac"),e},t.isWindows=function(){return"win32"===n.platform},t.isLinux=function(){return"linux"===n.platform},t.isMac=function(){return"darwin"===n.platform},t.convertPathForOS=function(e){let s=e;return(0,t.isWindows)(),s},t.getGlobalConfigFromPath=d,t.getServersFromConfigPath=e=>{const t=d(e);return void 0===typeof t.servers?[]:t.servers},t.getServerFromConfigPath=(e,s)=>{let r,n=(0,t.getServersFromConfigPath)(e);return n&&n.length&&(r=n.filter((e=>e.id==s))[0]),r},t.getProjectsFromConfigPath=e=>{const t=d(e);return void 0===typeof t.projects?[]:t.projects},t.prepareProjectFilePath=(e,s)=>{let n=r.join(e,".vscode",s.toUpperCase()+t.cfProjectFileExt);return(0,t.existsSync)(n)||(n=void 0),n},t.getProjectInfoFromProjPath=e=>{let s;if("\\"==e)return;const r=(0,t.readFileSync)(e);return(0,t.isJson)(r.toString())&&(s=JSON.parse(r.toString())),s},t.getProjectInfoFromConfigPath=(e,s)=>{let r,n,i=(0,t.getProjectsFromConfigPath)(e);if(i&&i.length&&(r=i.filter((e=>e.id==s))[0],void 0!==r)){let e=(0,t.prepareProjectFilePath)(r.path,r.label);n=(0,t.getProjectInfoFromProjPath)(e)}return n},t.getServerForProjectFromConfigPath=(e,s)=>{let r,n=(0,t.getServersFromConfigPath)(e),i=(0,t.getProjectInfoFromConfigPath)(e,s);return i.hasOwnProperty("id")&&(r=(0,t.filterData)(n,"id",i.server)),r.hasOwnProperty("id")||(r=void 0),r},t.getServerBaseURLFromConfigPath=(e,s)=>{let r=(0,t.getServerFromConfigPath)(e,s),n="";return r.hasOwnProperty("id")&&(r.enableSSL?n+="https://":n+="http://",n+=`${r.host}:${r.port}`,""!=r.contextRoot.trim()&&(n+=`/${r.contextRoot}`)),n},t.getServerBaseURLFromServer=e=>{let t="";return e.hasOwnProperty("id")&&(e.enableSSL?t+="https://":t+="http://",t+=`${e.host}:${e.port}`,""!=e.contextRoot.trim()&&(t+=`/${e.contextRoot}/`)),t},t.getURIFromSource=(e,t)=>{let s="",n=r.parse(e),i=r.parse(t);return""!=e&&(s=e.split(i.toString())[1],null==s&&(s="")),n},t.openBrowser=async e=>{(0,t.isMac)()?await o(e):await a(e,{wait:!0})},t.getResourceURL=(e,s,r)=>{let n=(0,t.extractRelativePath)(s,r);if(null!=n)return new u.URL(n,e).toString()},t.extractRelativePath=(e,t)=>{let s,n=r.normalize(e),i=r.normalize(t),a=r.relative(n,i),o=!/^(\/)?[a-zA-Z]([a-zA-Z0-9])*(\/[a-zA-Z]([a-zA-Z0-9])*)*\/$/.test(e),u=!/^(\/)?[a-zA-Z]([a-zA-Z0-9])*(\/[a-zA-Z]([a-zA-Z0-9])*)*\/$/.test(t);o&&u&&(n=r.win32.normalize(e),i=r.win32.normalize(t),a=r.win32.relative(n,i));const c=a&&!a.startsWith("..")&&!r.isAbsolute(a),l=i.toLowerCase()==n.toLowerCase();return(c||l)&&(s=a),s},t.getFolderRelativePath=(e,s,r=!1,n=!1)=>{let i={baseDir:"",baseDirRemote:"",baseURL:"",relativeUrl:""},a=e.type,o=(0,t.getServerBaseURLFromServer)(e),c=e.isVirtualServer?e.documentRoot:e.realDocumentRoot,l=e.mappings||[],h="";if(l.map((e=>{h=(0,t.extractRelativePath)(e.local,s);let n=e.remote;if(r&&""!=n&&(h=(0,t.extractRelativePath)(n,s)),null==h);else{if(i.relativeUrl=h,i.baseDir=e.local,i.baseURL=e.prefix,"remote"==a)if(""!=n&&""!=e.prefix)i.baseDirRemote=n;else if(""!=n){i.baseDirRemote=n;let e=(0,t.extractRelativePath)(c,n);i.baseURL=new u.URL(e,o).toString()}else if(""==n&&""!=e.prefix){let s=(0,t.extractRelativePath)(c,e.local);null!=s&&(i.baseURL=new u.URL(s,o).toString())}"/"!=i.baseURL.slice(-1)&&(i.baseURL+="/")}})),e.isVirtualServer&&e.virtualDirectoryDatas.length){let r;e.virtualDirectoryDatas.forEach((e=>{r=(0,t.extractRelativePath)(e.physicalRootPath,s),null!=r&&(i.baseURL=new u.URL(e.aliasName+"/",o).toString(),i.baseDir=e.physicalRootPath,i.relativeUrl=r)}))}return null!=i.relativeUrl&&""!=i.relativeUrl||(h=(0,t.extractRelativePath)(c,s),n||null==h||(i.baseDir=c,i.baseURL=o,i.relativeUrl=h)),i},t.readFileSync=e=>i.readFileSync(e,{encoding:"utf-8"}),t.writeFileSync=(e,t)=>{i.writeFileSync(e,t,{encoding:"utf-8",flag:"w"})},t.existsSync=e=>i.existsSync(e),t.removeFileSync=e=>i.unlinkSync(e),t.readdirSync=e=>i.readdirSync(e),t.getWorkspaceFilePath=(e,s)=>r.join(e,".vscode",s.toString().toUpperCase()+t.cfProjectFileExt),t.isJson=e=>{try{JSON.parse(e)}catch(e){return!1}return!0},t.filterData=(e,t,s,r)=>{let n={},i=[];if("string"==typeof t)i=e.filter((e=>e[t]==s));else{let r;for(let n=0;n<e.length&&!i.length;n++){r=e[n];for(let a=0;a<t.length;a++)if(r=r[t[a]],a==t.length-1&&r==s){i.push(e[n]);break}}}return i.length&&(n=i[0]),n},t.isEmptyObject=e=>0===Object.keys(e).length,t.createCipherForEncryption=e=>{const t=e=>e.split("").map((e=>e.charCodeAt(0))),s=e=>("0"+Number(e).toString(16)).substr(-2),r=s=>t(e).reduce(((e,t)=>e^t),s);return e=>e.split("").map(t).map(r).map(s).join("")},t.createCipherForDecryption=(e="")=>{const t=t=>{return(s=e,s.split("").map((e=>e.charCodeAt(0)))).reduce(((e,t)=>e^t),t);var s};return e=>e.match(/.{1,2}/g)?e.match(/.{1,2}/g).map((e=>parseInt(e,16))).map(t).map((e=>String.fromCharCode(e))).join(""):""},t.encryptWithCipher=(e,s)=>{let r=(0,t.createCipherForEncryption)(e);return""==s.toString().trim()?s:r(s.toString())},t.decryptWithCipher=(e,s)=>{let r=(0,t.createCipherForDecryption)(e);return""==s.toString().trim()?s:r(s.toString())},t.createUUID=p,t.debugLog=async function(e,t){JSON.parse(this.readFileSync(e).toString());let s=e.lastIndexOf("\\");e=e.substring(0,s),t="\n"+t},t.addErrorLog=async function(e,t,s){i.existsSync(r.join(t,"log",e))?i.appendFile(r.join(t,"log",e),s,(function(e){if(e)return console.log(e)})):i.writeFileSync(r.join(t,"log",e),s)},t.setGlobalDebuggerData=async function(e,t){h[e]=t},t.getGlobalDebuggerData=function(){return h},t.getServerStatus=(e,t)=>new Promise((function(t){try{let s=c;e.includes("https:")&&(s=l);let r=s.get(e,{rejectUnauthorized:!1},(function(e){e.setEncoding("utf8");let s="";e.on("data",(function(e){e&&(s+=e)})),e.on("end",(function(){let r={statusCode:e.statusCode,data:s};t(r)}))}));r.on("error",(function(e){t({statusCode:503,data:""})})),r.end()}catch(e){t({statusCode:404,data:""})}})),t.getServersIncludingVirtualHostsFromConfigPath=e=>{let s=(0,t.getServersFromConfigPath)(e),r=[];var n=0;for(let e=0;e<s.length;e++)r.push(s[e]),r[n].isVirtualServer=!1,r[n].realDocumentRoot=s[e].documentRoot,"remote"==s[e].type&&(r[n].realDocumentRoot=s[e].ServerDocRoot),"Other"==s[e].appServer&&(r[n].realDocumentRoot=s[e].otherServerDocumentRoot),r[n].realPort=s[e].port,Array.isArray(s[e].virtualDatas)&&s[e].virtualDatas.length&&s[e].virtualDatas.forEach((i=>{var a={};a.id=i.virtualHostId,a.appServer=i.appServer,a.isVirtualServer=!0,a.serverId=s[e].id,a.realServerHome=s[e].serverHome,a.realDocumentRoot=s[e].documentRoot,a.realPort=i.virtualPort,a.RDSPassword=s[e].RDSPassword,a.name=s[e].name+"-"+i.virtualName,a.serverHome=s[e].serverHome,a.documentRoot=i.virtualHostDocumentRoot,a.type=s[e].type,a.host=i.virtualHostName,a.port=i.virtualPort,a.mappings=s[e].mappings,a.debugMappings=s[e].debugMappings,a.virtualDirectoryDatas=i.virtualDirectoryDatas,r.push((0,t.updateServerKeys)(a)),n+=1})),n+=1;return r},t.getServerIncludingVirtualHostsFromConfigPath=(e,s)=>{let r={},n=(0,t.getServersIncludingVirtualHostsFromConfigPath)(e);return r=(0,t.filterData)(n,"id",s),r},t.stringToHash=e=>{var t=0;if(0==e.length)return t;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s),t&=t;return t},t.updateServerKeys=e=>{let t={id:p(),name:"",description:"",appServer:"CF+Tomcat Bundle",host:"",port:"",contextRoot:"",appServerName:"",version:"9.0.X",serverHome:"",documentRoot:"",RDSUsername:"",RDSPassword:"",enableSSL:"",useServiceMethod:!1,serviceMethodVersion:"",autoStart:!1,autoStop:!1,type:"local",adminPort:8995,userName:"",password:"",AdminSrvName:"cfusion",AdminSrvCtxRoot:"AdminServlet",ServerDocRoot:"",mappings:[],debugMappings:[],virtualDatas:[],localPath:"",virtualName:"",virtualHostName:"",virtualPort:"",virtualType:"",virtualHostDocumentRoot:"",aliasName:"",physicalPathRoot:"",vDirectoryData:"",serverId:"",otherServerDocumentRoot:"",RDSShow:!0,RDSOnly:!1};for(let s in t)e.hasOwnProperty(s)&&void 0!==e[s]?"debugMappings"===s&&"remote"===e.type&&e.mappings.length&&e.mappings.map((t=>{let r=!1;if(e.hasOwnProperty(s)&&e[s].map((e=>{r=t.local==e.client&&t.remote==e.server})),""!=t.remote&&!r){let r={};r.mappingId=p(),r.client=t.local,r.server=t.remote,e[s].push(r)}})):e[s]=t[s];return e}},7379:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RDSRequest=void 0;const r=s(3685),n=s(5687);t.RDSRequest=class{constructor(e){this._runtime=void 0,this._action="DBFUNCS",this._options={},this._data="",this._useSSL=!1,this._contextRoot="",this.setOptions=e=>{let t={host:"localhost",method:"POST",port:"8500",path:"/CFIDE/main/ide.cfm?CFSRV=IDE&ACTION=",headers:{charset:"utf-8","Content-Type":"text/plain","Access-Control-Allow-Origin":"*"},protocol:"http:",rejectUnauthorized:!1},s=Object.keys(t);for(let r in s){let n=s[r];this._options[n]=t[n],e.hasOwnProperty(n)&&(this._options[n]=e[n])}e.action&&(this._action=e.action),e.useSSL&&(this._useSSL=e.useSSL,this._options.protocol="https:"),this._options.path=t.path+this._action,e.contextRoot&&""!=e.contextRoot&&(this._options.path="/"+e.contextRoot+this._options.path,this._contextRoot=e.contextRoot)},this.getData=()=>this._data,this.setData=e=>{let t="";try{for(var s in t=`${e.length}:`,e)t+=`STR:${e[s].length}:${e[s]}`}catch(e){}this._data=t},this.send=async(e=!0)=>{let t=this;return new Promise((async function(s,i){try{let i=r;t._useSSL&&(i=n);let a=i.request(t._options,(r=>{let n="";r.setEncoding("utf-8"),r.on("data",(e=>{e&&(n+=e)})),r.on("end",(()=>{let i={statusCode:r.statusCode,data:n};"-"===n.charAt(0)&&(i.statusCode=500,i.errMsg="Error on RDS call :: "+n.split("\n")[0].split(":").slice(1).join(":"),e&&t._log("showError :: "+JSON.stringify(i.errMsg))),200!=r.statusCode&&null!=t._contextRoot&&t._contextRoot,s(i)}))}));a.on("error",(e=>{t._log("Error on RDS request :: "+JSON.stringify(e)),s({statusCode:500,data:[],error:e})})),a.write(t.getData()),a.end()}catch(e){t._log("Error on RDS request :: "+JSON.stringify(e)),s({statusCode:500,data:[],error:e})}}))},this._runtime=e}getOptions(){let e=this._options;return delete e.action,delete e.useSSL,delete e.contextRoot,e}parseXMLJSON(e){let t,s=e;return s.hasOwnProperty("array")?t=this._parseArray(s.array):s.hasOwnProperty("struct")?t=this._parseStruct(s.struct):s.hasOwnProperty("string")?t=this._parseString(s.string):s.hasOwnProperty("number")&&(t=this._parseNumber(s.number)),t}_parseArray(e){let t=[];if(1==e._attributes.length)return t.push(this.parseXMLJSON(e)),t;for(let t=0;t<e._attributes.length;t++);return t}_parseStruct(e){let t={},s=e.var;for(let e in s){let r=s[e];t[r._attributes.name]=this.parseXMLJSON(r)}return t}_parseString(e){return e._text}_parseNumber(e){return e._text}_log(e){this._runtime?this._runtime.log(e):console.log(e)}}},9881:e=>{e.exports={isArray:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}}},7888:(e,t,s)=>{var r=s(1229),n=s(1388),i=s(6501),a=s(4673);e.exports={xml2js:r,xml2json:n,js2xml:i,json2xml:a}},6501:(e,t,s)=>{var r,n,i=s(4740),a=s(9881).isArray;function o(e,t,s){return(!s&&e.spaces?"\n":"")+Array(t+1).join(e.spaces)}function u(e,t,s){if(t.ignoreAttributes)return"";"attributesFn"in t&&(e=t.attributesFn(e,n,r));var i,a,u,c,l=[];for(i in e)e.hasOwnProperty(i)&&null!==e[i]&&void 0!==e[i]&&(c=t.noQuotesForNativeAttributes&&"string"!=typeof e[i]?"":'"',a=(a=""+e[i]).replace(/"/g,"&quot;"),u="attributeNameFn"in t?t.attributeNameFn(i,a,n,r):i,l.push(t.spaces&&t.indentAttributes?o(t,s+1,!1):" "),l.push(u+"="+c+("attributeValueFn"in t?t.attributeValueFn(a,i,n,r):a)+c));return e&&Object.keys(e).length&&t.spaces&&t.indentAttributes&&l.push(o(t,s,!1)),l.join("")}function c(e,t,s){return r=e,n="xml",t.ignoreDeclaration?"":"<?xml"+u(e[t.attributesKey],t,s)+"?>"}function l(e,t,s){if(t.ignoreInstruction)return"";var i;for(i in e)if(e.hasOwnProperty(i))break;var a="instructionNameFn"in t?t.instructionNameFn(i,e[i],n,r):i;if("object"==typeof e[i])return r=e,n=a,"<?"+a+u(e[i][t.attributesKey],t,s)+"?>";var o=e[i]?e[i]:"";return"instructionFn"in t&&(o=t.instructionFn(o,i,n,r)),"<?"+a+(o?" "+o:"")+"?>"}function h(e,t){return t.ignoreComment?"":"\x3c!--"+("commentFn"in t?t.commentFn(e,n,r):e)+"--\x3e"}function d(e,t){return t.ignoreCdata?"":"<![CDATA["+("cdataFn"in t?t.cdataFn(e,n,r):e.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function p(e,t){return t.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in t?t.doctypeFn(e,n,r):e)+">"}function g(e,t){return t.ignoreText?"":(e=(e=(e=""+e).replace(/&amp;/g,"&")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in t?t.textFn(e,n,r):e)}function m(e,t,s,i){return e.reduce((function(e,a){var c=o(t,s,i&&!e);switch(a.type){case"element":return e+c+function(e,t,s){r=e,n=e.name;var i=[],a="elementNameFn"in t?t.elementNameFn(e.name,e):e.name;i.push("<"+a),e[t.attributesKey]&&i.push(u(e[t.attributesKey],t,s));var o=e[t.elementsKey]&&e[t.elementsKey].length||e[t.attributesKey]&&"preserve"===e[t.attributesKey]["xml:space"];return o||(o="fullTagEmptyElementFn"in t?t.fullTagEmptyElementFn(e.name,e):t.fullTagEmptyElement),o?(i.push(">"),e[t.elementsKey]&&e[t.elementsKey].length&&(i.push(m(e[t.elementsKey],t,s+1)),r=e,n=e.name),i.push(t.spaces&&function(e,t){var s;if(e.elements&&e.elements.length)for(s=0;s<e.elements.length;++s)switch(e.elements[s][t.typeKey]){case"text":if(t.indentText)return!0;break;case"cdata":if(t.indentCdata)return!0;break;case"instruction":if(t.indentInstruction)return!0;break;default:return!0}return!1}(e,t)?"\n"+Array(s+1).join(t.spaces):""),i.push("</"+a+">")):i.push("/>"),i.join("")}(a,t,s);case"comment":return e+c+h(a[t.commentKey],t);case"doctype":return e+c+p(a[t.doctypeKey],t);case"cdata":return e+(t.indentCdata?c:"")+d(a[t.cdataKey],t);case"text":return e+(t.indentText?c:"")+g(a[t.textKey],t);case"instruction":var v={};return v[a[t.nameKey]]=a[t.attributesKey]?a:a[t.instructionKey],e+(t.indentInstruction?c:"")+l(v,t,s)}}),"")}function v(e,t,s){var r;for(r in e)if(e.hasOwnProperty(r))switch(r){case t.parentKey:case t.attributesKey:break;case t.textKey:if(t.indentText||s)return!0;break;case t.cdataKey:if(t.indentCdata||s)return!0;break;case t.instructionKey:if(t.indentInstruction||s)return!0;break;case t.doctypeKey:case t.commentKey:default:return!0}return!1}function _(e,t,s,i,a){r=e,n=t;var c="elementNameFn"in s?s.elementNameFn(t,e):t;if(null==e||""===e)return"fullTagEmptyElementFn"in s&&s.fullTagEmptyElementFn(t,e)||s.fullTagEmptyElement?"<"+c+"></"+c+">":"<"+c+"/>";var l=[];if(t){if(l.push("<"+c),"object"!=typeof e)return l.push(">"+g(e,s)+"</"+c+">"),l.join("");e[s.attributesKey]&&l.push(u(e[s.attributesKey],s,i));var h=v(e,s,!0)||e[s.attributesKey]&&"preserve"===e[s.attributesKey]["xml:space"];if(h||(h="fullTagEmptyElementFn"in s?s.fullTagEmptyElementFn(t,e):s.fullTagEmptyElement),!h)return l.push("/>"),l.join("");l.push(">")}return l.push(b(e,s,i+1,!1)),r=e,n=t,t&&l.push((a?o(s,i,!1):"")+"</"+c+">"),l.join("")}function b(e,t,s,r){var n,i,u,m=[];for(i in e)if(e.hasOwnProperty(i))for(u=a(e[i])?e[i]:[e[i]],n=0;n<u.length;++n){switch(i){case t.declarationKey:m.push(c(u[n],t,s));break;case t.instructionKey:m.push((t.indentInstruction?o(t,s,r):"")+l(u[n],t,s));break;case t.attributesKey:case t.parentKey:break;case t.textKey:m.push((t.indentText?o(t,s,r):"")+g(u[n],t));break;case t.cdataKey:m.push((t.indentCdata?o(t,s,r):"")+d(u[n],t));break;case t.doctypeKey:m.push(o(t,s,r)+p(u[n],t));break;case t.commentKey:m.push(o(t,s,r)+h(u[n],t));break;default:m.push(o(t,s,r)+_(u[n],i,t,s,v(u[n],t)))}r=r&&!m.length}return m.join("")}e.exports=function(e,t){t=function(e){var t=i.copyOptions(e);return i.ensureFlagExists("ignoreDeclaration",t),i.ensureFlagExists("ignoreInstruction",t),i.ensureFlagExists("ignoreAttributes",t),i.ensureFlagExists("ignoreText",t),i.ensureFlagExists("ignoreComment",t),i.ensureFlagExists("ignoreCdata",t),i.ensureFlagExists("ignoreDoctype",t),i.ensureFlagExists("compact",t),i.ensureFlagExists("indentText",t),i.ensureFlagExists("indentCdata",t),i.ensureFlagExists("indentAttributes",t),i.ensureFlagExists("indentInstruction",t),i.ensureFlagExists("fullTagEmptyElement",t),i.ensureFlagExists("noQuotesForNativeAttributes",t),i.ensureSpacesExists(t),"number"==typeof t.spaces&&(t.spaces=Array(t.spaces+1).join(" ")),i.ensureKeyExists("declaration",t),i.ensureKeyExists("instruction",t),i.ensureKeyExists("attributes",t),i.ensureKeyExists("text",t),i.ensureKeyExists("comment",t),i.ensureKeyExists("cdata",t),i.ensureKeyExists("doctype",t),i.ensureKeyExists("type",t),i.ensureKeyExists("name",t),i.ensureKeyExists("elements",t),i.checkFnExists("doctype",t),i.checkFnExists("instruction",t),i.checkFnExists("cdata",t),i.checkFnExists("comment",t),i.checkFnExists("text",t),i.checkFnExists("instructionName",t),i.checkFnExists("elementName",t),i.checkFnExists("attributeName",t),i.checkFnExists("attributeValue",t),i.checkFnExists("attributes",t),i.checkFnExists("fullTagEmptyElement",t),t}(t);var s=[];return r=e,n="_root_",t.compact?s.push(b(e,t,0,!0)):(e[t.declarationKey]&&s.push(c(e[t.declarationKey],t,0)),e[t.elementsKey]&&e[t.elementsKey].length&&s.push(m(e[t.elementsKey],t,0,!s.length))),s.join("")}},4673:(e,t,s)=>{var r=s(6501);e.exports=function(e,t){e instanceof Buffer&&(e=e.toString());var s=null;if("string"==typeof e)try{s=JSON.parse(e)}catch(e){throw new Error("The JSON structure is invalid")}else s=e;return r(s,t)}},4740:(e,t,s)=>{var r=s(9881).isArray;e.exports={copyOptions:function(e){var t,s={};for(t in e)e.hasOwnProperty(t)&&(s[t]=e[t]);return s},ensureFlagExists:function(e,t){e in t&&"boolean"==typeof t[e]||(t[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||"number"!=typeof e.spaces&&"string"!=typeof e.spaces)&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){"alwaysArray"in e&&("boolean"==typeof e.alwaysArray||r(e.alwaysArray))||(e.alwaysArray=!1)},ensureKeyExists:function(e,t){e+"Key"in t&&"string"==typeof t[e+"Key"]||(t[e+"Key"]=t.compact?"_"+e:e)},checkFnExists:function(e,t){return e+"Fn"in t}}},1229:(e,t,s)=>{var r,n,i=s(6099),a=s(4740),o=s(9881).isArray;function u(e){var t=Number(e);if(!isNaN(t))return t;var s=e.toLowerCase();return"true"===s||"false"!==s&&e}function c(e,t){var s;if(r.compact){if(!n[r[e+"Key"]]&&(o(r.alwaysArray)?-1!==r.alwaysArray.indexOf(r[e+"Key"]):r.alwaysArray)&&(n[r[e+"Key"]]=[]),n[r[e+"Key"]]&&!o(n[r[e+"Key"]])&&(n[r[e+"Key"]]=[n[r[e+"Key"]]]),e+"Fn"in r&&"string"==typeof t&&(t=r[e+"Fn"](t,n)),"instruction"===e&&("instructionFn"in r||"instructionNameFn"in r))for(s in t)if(t.hasOwnProperty(s))if("instructionFn"in r)t[s]=r.instructionFn(t[s],s,n);else{var i=t[s];delete t[s],t[r.instructionNameFn(s,i,n)]=i}o(n[r[e+"Key"]])?n[r[e+"Key"]].push(t):n[r[e+"Key"]]=t}else{n[r.elementsKey]||(n[r.elementsKey]=[]);var a={};if(a[r.typeKey]=e,"instruction"===e){for(s in t)if(t.hasOwnProperty(s))break;a[r.nameKey]="instructionNameFn"in r?r.instructionNameFn(s,t,n):s,r.instructionHasAttributes?(a[r.attributesKey]=t[s][r.attributesKey],"instructionFn"in r&&(a[r.attributesKey]=r.instructionFn(a[r.attributesKey],s,n))):("instructionFn"in r&&(t[s]=r.instructionFn(t[s],s,n)),a[r.instructionKey]=t[s])}else e+"Fn"in r&&(t=r[e+"Fn"](t,n)),a[r[e+"Key"]]=t;r.addParent&&(a[r.parentKey]=n),n[r.elementsKey].push(a)}}function l(e){var t;if("attributesFn"in r&&e&&(e=r.attributesFn(e,n)),(r.trim||"attributeValueFn"in r||"attributeNameFn"in r||r.nativeTypeAttributes)&&e)for(t in e)if(e.hasOwnProperty(t)&&(r.trim&&(e[t]=e[t].trim()),r.nativeTypeAttributes&&(e[t]=u(e[t])),"attributeValueFn"in r&&(e[t]=r.attributeValueFn(e[t],t,n)),"attributeNameFn"in r)){var s=e[t];delete e[t],e[r.attributeNameFn(t,e[t],n)]=s}return e}function h(e){var t={};if(e.body&&("xml"===e.name.toLowerCase()||r.instructionHasAttributes)){for(var s,i=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g;null!==(s=i.exec(e.body));)t[s[1]]=s[2]||s[3]||s[4];t=l(t)}if("xml"===e.name.toLowerCase()){if(r.ignoreDeclaration)return;n[r.declarationKey]={},Object.keys(t).length&&(n[r.declarationKey][r.attributesKey]=t),r.addParent&&(n[r.declarationKey][r.parentKey]=n)}else{if(r.ignoreInstruction)return;r.trim&&(e.body=e.body.trim());var a={};r.instructionHasAttributes&&Object.keys(t).length?(a[e.name]={},a[e.name][r.attributesKey]=t):a[e.name]=e.body,c("instruction",a)}}function d(e,t){var s;if("object"==typeof e&&(t=e.attributes,e=e.name),t=l(t),"elementNameFn"in r&&(e=r.elementNameFn(e,n)),r.compact){var i;if(s={},!r.ignoreAttributes&&t&&Object.keys(t).length)for(i in s[r.attributesKey]={},t)t.hasOwnProperty(i)&&(s[r.attributesKey][i]=t[i]);!(e in n)&&(o(r.alwaysArray)?-1!==r.alwaysArray.indexOf(e):r.alwaysArray)&&(n[e]=[]),n[e]&&!o(n[e])&&(n[e]=[n[e]]),o(n[e])?n[e].push(s):n[e]=s}else n[r.elementsKey]||(n[r.elementsKey]=[]),(s={})[r.typeKey]="element",s[r.nameKey]=e,!r.ignoreAttributes&&t&&Object.keys(t).length&&(s[r.attributesKey]=t),r.alwaysChildren&&(s[r.elementsKey]=[]),n[r.elementsKey].push(s);s[r.parentKey]=n,n=s}function p(e){r.ignoreText||(e.trim()||r.captureSpacesBetweenElements)&&(r.trim&&(e=e.trim()),r.nativeType&&(e=u(e)),r.sanitize&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),c("text",e))}function g(e){r.ignoreComment||(r.trim&&(e=e.trim()),c("comment",e))}function m(e){var t=n[r.parentKey];r.addParent||delete n[r.parentKey],n=t}function v(e){r.ignoreCdata||(r.trim&&(e=e.trim()),c("cdata",e))}function _(e){r.ignoreDoctype||(e=e.replace(/^ /,""),r.trim&&(e=e.trim()),c("doctype",e))}function b(e){e.note=e}e.exports=function(e,t){var s=i.parser(!0,{}),o={};if(n=o,r=function(e){return r=a.copyOptions(e),a.ensureFlagExists("ignoreDeclaration",r),a.ensureFlagExists("ignoreInstruction",r),a.ensureFlagExists("ignoreAttributes",r),a.ensureFlagExists("ignoreText",r),a.ensureFlagExists("ignoreComment",r),a.ensureFlagExists("ignoreCdata",r),a.ensureFlagExists("ignoreDoctype",r),a.ensureFlagExists("compact",r),a.ensureFlagExists("alwaysChildren",r),a.ensureFlagExists("addParent",r),a.ensureFlagExists("trim",r),a.ensureFlagExists("nativeType",r),a.ensureFlagExists("nativeTypeAttributes",r),a.ensureFlagExists("sanitize",r),a.ensureFlagExists("instructionHasAttributes",r),a.ensureFlagExists("captureSpacesBetweenElements",r),a.ensureAlwaysArrayExists(r),a.ensureKeyExists("declaration",r),a.ensureKeyExists("instruction",r),a.ensureKeyExists("attributes",r),a.ensureKeyExists("text",r),a.ensureKeyExists("comment",r),a.ensureKeyExists("cdata",r),a.ensureKeyExists("doctype",r),a.ensureKeyExists("type",r),a.ensureKeyExists("name",r),a.ensureKeyExists("elements",r),a.ensureKeyExists("parent",r),a.checkFnExists("doctype",r),a.checkFnExists("instruction",r),a.checkFnExists("cdata",r),a.checkFnExists("comment",r),a.checkFnExists("text",r),a.checkFnExists("instructionName",r),a.checkFnExists("elementName",r),a.checkFnExists("attributeName",r),a.checkFnExists("attributeValue",r),a.checkFnExists("attributes",r),r}(t),s.opt={strictEntities:!0},s.onopentag=d,s.ontext=p,s.oncomment=g,s.onclosetag=m,s.onerror=b,s.oncdata=v,s.ondoctype=_,s.onprocessinginstruction=h,s.write(e).close(),o[r.elementsKey]){var u=o[r.elementsKey];delete o[r.elementsKey],o[r.elementsKey]=u,delete o.text}return o}},1388:(e,t,s)=>{var r=s(4740),n=s(1229);e.exports=function(e,t){var s,i,a;return s=function(e){var t=r.copyOptions(e);return r.ensureSpacesExists(t),t}(t),i=n(e,s),a="compact"in s&&s.compact?"_parent":"parent",("addParent"in s&&s.addParent?JSON.stringify(i,(function(e,t){return e===a?"_":t}),s.spaces):JSON.stringify(i,null,s.spaces)).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}},2081:e=>{"use strict";e.exports=require("child_process")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},7282:e=>{"use strict";e.exports=require("process")},2781:e=>{"use strict";e.exports=require("stream")},1576:e=>{"use strict";e.exports=require("string_decoder")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")}},t={};function s(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,s),i.exports}var r={};(()=>{"use strict";var e=r;Object.defineProperty(e,"__esModule",{value:!0});const t=s(6986),n=s(7147),i={readFile:e=>n.promises.readFile(e),writeFile:(e,t)=>n.promises.writeFile(e,t)},a=new t.debugSession(i);process.on("SIGTERM",(()=>{a.shutdown()})),process.on("SIGINT",(()=>{a.shutdown()})),a.start(process.stdin,process.stdout)})();var n=exports;for(var i in r)n[i]=r[i];r.__esModule&&Object.defineProperty(n,"__esModule",{value:!0})})();
//# sourceMappingURL=adapter.js.map
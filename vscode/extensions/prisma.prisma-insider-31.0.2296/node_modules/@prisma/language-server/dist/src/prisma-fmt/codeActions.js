"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const wasm_1 = require("../wasm");
const util_1 = require("./util");
function codeActions(schema, params, onError) {
    try {
        if (process.env.FORCE_PANIC_PRISMA_FMT) {
            (0, util_1.handleFormatPanic)(() => {
                console.debug('Triggering a Rust panic...');
                wasm_1.prismaFmt.debug_panic();
            });
        }
        const result = wasm_1.prismaFmt.code_actions(schema, params);
        return JSON.parse(result);
    }
    catch (e) {
        const err = e;
        (0, util_1.handleWasmError)(err, 'code_actions', onError);
        return [];
    }
}
exports.default = codeActions;
//# sourceMappingURL=codeActions.js.map
var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};void 0!==t&&Object.defineProperty(t,"p",{get:function(){try{if("string"!=typeof webpackResourceBasePath)throw new Error("WebpackRequireFrom: 'webpackResourceBasePath' is not a string or not available at runtime. See https://github.com/agoldis/webpack-require-from#troubleshooting");return webpackResourceBasePath}catch(t){return"#{root}/dist/webviews/"}},set:function(t){}});var e={};t.d(e,{$:()=>pt});class n{constructor(t,e=!1){this.method=t,this.reset=e}}class r extends n{}class i extends n{}function s(t,e,n){t.method===e.method&&n(e.params,t)}const o=new r("webview/ready"),a=new r("webview/focus"),l=(new r("command/execute"),new r("configuration/preview")),u=new r("configuration/update"),c=new i("configuration/didChange"),d=new i("configuration/didPreview"),h=new i("webview/didOpenAnchor");function g(t,e){let n,r,i,s,o;function a(t){const n=t-(r??0);return null==r||n>=e||n<0}function l(){const t=Date.now();if(a(t))u();else{o=setTimeout(l,e-(t-(r??0)))}}function u(){return o=void 0,n?function(){const e=n,r=i;return n=i=void 0,s=t.apply(r,e),s}():(n=i=void 0,s)}function c(...t){const u=Date.now(),c=a(u);return n=t,i=this,r=u,c&&null==o?(o=setTimeout(l,e),s):(null==o&&(o=setTimeout(l,e)),s)}return c.cancel=function(){null!=o&&clearTimeout(o),n=r=i=o=void 0},c.flush=function(){return null!=o?u():s},c.pending=function(){return null!=o},c}var p=(t=>(t.Off="off",t.Error="error",t.Warn="warn",t.Info="info",t.Debug="debug",t))(p||{});const f="";const m=new class{constructor(){this._isDebugging=!1,this.level=0,this._logLevel=p.Off}configure(t,e,n=!1){this.provider=t,this._isDebugging=n,this.logLevel=e}enabled(t){return this.level>=b(t)}get isDebugging(){return this._isDebugging}get logLevel(){return this._logLevel}set logLevel(t){this._logLevel=t,this.level=b(this._logLevel),t===p.Off?(this.output?.dispose?.(),this.output=void 0):this.output=this.output??this.provider.createChannel(this.provider.name)}get timestamp(){return`[${(new Date).toISOString().replace(/T/," ").slice(0,-1)}]`}debug(t,...e){if(this.level<4&&!this.isDebugging)return;let n;"string"==typeof t?n=t:(n=e.shift(),null!=t&&(n=`${t.prefix} ${n??f}`)),this.isDebugging,null==this.output||this.level<4||this.output.appendLine(`${this.timestamp} ${n??f}${this.toLoggableParams(!0,e)}`)}error(t,e,...n){if(this.level<1&&!this.isDebugging)return;let r;if(r=null==e||"string"==typeof e?e:`${e.prefix} ${n.shift()??f}`,null==r){const e=t instanceof Error?t.stack:void 0;if(e){const t=/.*\s*?at\s(.+?)\s/.exec(e);null!=t&&(r=t[1])}}this.isDebugging,null==this.output||this.level<1||this.output.appendLine(`${this.timestamp} ${r??f}${this.toLoggableParams(!1,n)}\n${String(t)}`)}log(t,...e){if(this.level<3&&!this.isDebugging)return;let n;"string"==typeof t?n=t:(n=e.shift(),null!=t&&(n=`${t.prefix} ${n??f}`)),this.isDebugging,null==this.output||this.level<3||this.output.appendLine(`${this.timestamp} ${n??f}${this.toLoggableParams(!1,e)}`)}warn(t,...e){if(this.level<2&&!this.isDebugging)return;let n;"string"==typeof t?n=t:(n=e.shift(),null!=t&&(n=`${t.prefix} ${n??f}`)),this.isDebugging,null==this.output||this.level<2||this.output.appendLine(`${this.timestamp} ${n??f}${this.toLoggableParams(!1,e)}`)}showOutputChannel(t){this.output?.show?.(t)}toLoggable(t,e){if("object"!=typeof t)return String(t);if(Array.isArray(t))return`[${t.map((t=>this.toLoggable(t,e))).join(", ")}]`;const n=this.provider.toLoggable?.(t);if(null!=n)return n;try{return JSON.stringify(t,e)}catch{return"<error>"}}toLoggableParams(t,e){if(0===e.length||t&&this.level<4&&!this.isDebugging)return f;const n=e.map((t=>this.toLoggable(t))).join(", ");return 0!==n.length?` â€” ${n}`:f}};function b(t){switch(t){case p.Off:return 0;case p.Error:return 1;case p.Warn:return 2;case p.Info:return 3;case p.Debug:return 4;default:return 0}}var v,y;(y=v||(v={})).on=function(t,e,n,r){let i=!1;if("string"==typeof t){const s=function(e){const r=e?.target?.closest(t);null!=r&&n(e,r)};return document.addEventListener(e,s,r??!0),{dispose:()=>{i||(i=!0,document.removeEventListener(e,s,r??!0))}}}const s=function(t){n(t,this)};return t.addEventListener(e,s,r??!1),{dispose:()=>{i||(i=!0,t.removeEventListener(e,s,r??!1))}}},y.insertTemplate=function(t,e,n){const r=document.getElementById(t);if(e.replaceChildren(r?.content.cloneNode(!0)),e.className=r.className,null!=n?.visible){const t=e.querySelectorAll("[data-visible]");for(const e of t){const t=e.dataset.visible;t&&(n.visible[t]?e.style.display="initial":e.style.display="none")}}if(null!=n?.bindings){const t=e.querySelectorAll("[data-bind]");for(const e of t){const t=e.dataset.bind;if(!t)continue;const r=n.bindings[t];null!=r&&(e.textContent=String(r))}}},y.resetSlot=function(t){t.replaceChildren(),t.className=""};var w=(t=>(t[t.Hash=35]="Hash",t[t.Slash=47]="Slash",t[t.Digit0=48]="Digit0",t[t.Digit1=49]="Digit1",t[t.Digit2=50]="Digit2",t[t.Digit3=51]="Digit3",t[t.Digit4=52]="Digit4",t[t.Digit5=53]="Digit5",t[t.Digit6=54]="Digit6",t[t.Digit7=55]="Digit7",t[t.Digit8=56]="Digit8",t[t.Digit9=57]="Digit9",t[t.Backslash=92]="Backslash",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.Z=90]="Z",t[t.a=97]="a",t[t.b=98]="b",t[t.c=99]="c",t[t.d=100]="d",t[t.e=101]="e",t[t.f=102]="f",t[t.z=122]="z",t))(w||{});function k(t,e){const n=t+e,r=e<0?n<0?0:n:n>255?255:n;return Math.round(r)}function _(t,e){return P(t,-e)}function P(t,e){const n=function(t){const e=I(t);return null==e?null:[e.rgba.r,e.rgba.g,e.rgba.b,e.rgba.a]}(t);if(null==n)return t;const[r,i,s,o]=n,a=255*e/100;return`rgba(${k(r,a)}, ${k(i,a)}, ${k(s,a)}, ${o})`}function S(t,e){const n=A.from(t);return null==n?t:n.transparent(e/100).toString()}function D(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}class C{constructor(t,e,n,r=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,t)),this.g=0|Math.min(255,Math.max(0,e)),this.b=0|Math.min(255,Math.max(0,n)),this.a=D(Math.max(Math.min(1,r),0),3)}static equals(t,e){return t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a}}class ${constructor(t,e,n,r){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,t),0),this.s=D(Math.max(Math.min(1,e),0),3),this.l=D(Math.max(Math.min(1,n),0),3),this.a=D(Math.max(Math.min(1,r),0),3)}static equals(t,e){return t.h===e.h&&t.s===e.s&&t.l===e.l&&t.a===e.a}static fromRGBA(t){const e=t.r/255,n=t.g/255,r=t.b/255,i=t.a,s=Math.max(e,n,r),o=Math.min(e,n,r);let a=0,l=0;const u=(o+s)/2,c=s-o;if(c>0){switch(l=Math.min(u<=.5?c/(2*u):c/(2-2*u),1),s){case e:a=(n-r)/c+(n<r?6:0);break;case n:a=(r-e)/c+2;break;case r:a=(e-n)/c+4}a*=60,a=Math.round(a)}return new $(a,l,u,i)}static _hue2rgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}static toRGBA(t){const e=t.h/360,{s:n,l:r,a:i}=t;let s,o,a;if(0===n)s=o=a=r;else{const t=r<.5?r*(1+n):r+n-r*n,i=2*r-t;s=$._hue2rgb(i,t,e+1/3),o=$._hue2rgb(i,t,e),a=$._hue2rgb(i,t,e-1/3)}return new C(Math.round(255*s),Math.round(255*o),Math.round(255*a),i)}}class M{constructor(t,e,n,r){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,t),0),this.s=D(Math.max(Math.min(1,e),0),3),this.v=D(Math.max(Math.min(1,n),0),3),this.a=D(Math.max(Math.min(1,r),0),3)}static equals(t,e){return t.h===e.h&&t.s===e.s&&t.v===e.v&&t.a===e.a}static fromRGBA(t){const e=t.r/255,n=t.g/255,r=t.b/255,i=Math.max(e,n,r),s=i-Math.min(e,n,r),o=0===i?0:s/i;let a;return a=0===s?0:i===e?((n-r)/s%6+6)%6:i===n?(r-e)/s+2:(e-n)/s+4,new M(Math.round(60*a),o,i,t.a)}static toRGBA(t){const{h:e,s:n,v:r,a:i}=t,s=r*n,o=s*(1-Math.abs(e/60%2-1)),a=r-s;let[l,u,c]=[0,0,0];return e<60?(l=s,u=o):e<120?(l=o,u=s):e<180?(u=s,c=o):e<240?(u=o,c=s):e<300?(l=o,c=s):e<=360&&(l=s,c=o),l=Math.round(255*(l+a)),u=Math.round(255*(u+a)),c=Math.round(255*(c+a)),new C(l,u,c,i)}}const x=class{static from(t){return t instanceof x?t:I(t)||x.red}static fromCssVariable(t,e){return I(e.getPropertyValue(t).trim())||x.red}static fromHex(t){return O(t)||x.red}static equals(t,e){return!t&&!e||!(!t||!e)&&t.equals(e)}get hsla(){return this._hsla?this._hsla:$.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:M.fromRGBA(this.rgba)}constructor(t){if(!t)throw new Error("Color needs a value");if(t instanceof C)this.rgba=t;else if(t instanceof $)this._hsla=t,this.rgba=$.toRGBA(t);else{if(!(t instanceof M))throw new Error("Invalid color ctor argument");this._hsva=t,this.rgba=M.toRGBA(t)}}equals(t){return null!=t&&(Boolean(t)&&C.equals(this.rgba,t.rgba)&&$.equals(this.hsla,t.hsla)&&M.equals(this.hsva,t.hsva))}getRelativeLuminance(){return D(.2126*x._relativeLuminanceForComponent(this.rgba.r)+.7152*x._relativeLuminanceForComponent(this.rgba.g)+.0722*x._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(t){const e=t/255;return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}luminance(t){return function(t,e){if(0===e)return new A(new C(0,0,0,t.rgba.a));if(1===e)return new A(new C(255,255,255,t.rgba.a));const n=t.getRelativeLuminance();let r=20;const i=(t,n)=>{const s=t.mix(n,.5),o=s.getRelativeLuminance();return Math.abs(e-o)<1e-7||!r--?s:o>e?i(t,s):i(s,n)},s=(n>e?i(A.black,t):i(t,A.white)).rgba;return new A(new C(s.r,s.g,s.b,t.rgba.a))}(this,t)}getContrastRatio(t){const e=this.getRelativeLuminance(),n=t.getRelativeLuminance();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)}isDarker(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3<128}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(t){return this.getRelativeLuminance()>t.getRelativeLuminance()}isDarkerThan(t){return this.getRelativeLuminance()<t.getRelativeLuminance()}lighten(t){return new x(new $(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*t,this.hsla.a))}darken(t){return new x(new $(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*t,this.hsla.a))}transparent(t){const{r:e,g:n,b:r,a:i}=this.rgba;return new x(new C(e,n,r,i*t))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new x(new C(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}blend(t){const e=t.rgba,n=this.rgba.a,r=e.a,i=n+r*(1-n);if(i<1e-6)return x.transparent;const s=this.rgba.r*n/i+e.r*r*(1-n)/i,o=this.rgba.g*n/i+e.g*r*(1-n)/i,a=this.rgba.b*n/i+e.b*r*(1-n)/i;return new x(new C(s,o,a,i))}mix(t,e){return function(t,e,n){const r=t.rgba,i=e.rgba;return new A(new C(r.r+n*(i.r-r.r),r.g+n*(i.g-r.g),r.b+n*(i.b-r.b),r.a+n*(i.a-r.a)))}(this,t,e)}makeOpaque(t){if(this.isOpaque()||1!==t.rgba.a)return this;const{r:e,g:n,b:r,a:i}=this.rgba;return new x(new C(t.rgba.r-i*(t.rgba.r-e),t.rgba.g-i*(t.rgba.g-n),t.rgba.b-i*(t.rgba.b-r),1))}flatten(...t){const e=t.reduceRight(((t,e)=>x._flatten(e,t)));return x._flatten(this,e)}static _flatten(t,e){const n=1-t.rgba.a;return new x(new C(n*e.rgba.r+t.rgba.a*t.rgba.r,n*e.rgba.g+t.rgba.a*t.rgba.g,n*e.rgba.b+t.rgba.a*t.rgba.b))}toString(){return this._toString||(this._toString=function(t){if(t.isOpaque())return V(t);return B(t)}(this)),this._toString}static getLighterColor(t,e,n){if(t.isLighterThan(e))return t;n=n||.5;const r=t.getRelativeLuminance(),i=e.getRelativeLuminance();return n=n*(i-r)/i,t.lighten(n)}static getDarkerColor(t,e,n){if(t.isDarkerThan(e))return t;n=n||.5;const r=t.getRelativeLuminance();return n=n*(r-e.getRelativeLuminance())/r,t.darken(n)}};let A=x;function B(t){return`rgba(${t.rgba.r}, ${t.rgba.g}, ${t.rgba.b}, ${Number(t.rgba.a.toFixed(2))})`}function L(t){const e=t.toString(16);return 2!==e.length?`0${e}`:e}function V(t){return`#${L(t.rgba.r)}${L(t.rgba.g)}${L(t.rgba.b)}`}A.white=new x(new C(255,255,255,1)),A.black=new x(new C(0,0,0,1)),A.red=new x(new C(255,0,0,1)),A.blue=new x(new C(0,0,255,1)),A.green=new x(new C(0,255,0,1)),A.cyan=new x(new C(0,255,255,1)),A.lightgrey=new x(new C(211,211,211,1)),A.transparent=new x(new C(0,0,0,0));const T=/^((?:rgb|hsl)a?)\((-?\d+%?)[,\s]+(-?\d+%?)[,\s]+(-?\d+%?)[,\s]*(-?[\d.]+%?)?\)$/i;function I(t){if(0===t.length)return null;if(t.charCodeAt(0)===w.Hash)return O(t);const e=T.exec(t);if(null==e)return null;const n=e[1];let r;switch(n){case"rgb":case"hsl":r=[parseInt(e[2],10),parseInt(e[3],10),parseInt(e[4],10),1];break;case"rgba":case"hsla":r=[parseInt(e[2],10),parseInt(e[3],10),parseInt(e[4],10),parseFloat(e[5])];break;default:return null}switch(n){case"rgb":case"rgba":return new A(new C(r[0],r[1],r[2],r[3]));case"hsl":case"hsla":return new A(new $(r[0],r[1],r[2],r[3]))}return A.red}function O(t){const e=(t=t.trim()).length;if(0===e)return null;if(t.charCodeAt(0)!==w.Hash)return null;if(7===e){const e=16*R(t.charCodeAt(1))+R(t.charCodeAt(2)),n=16*R(t.charCodeAt(3))+R(t.charCodeAt(4)),r=16*R(t.charCodeAt(5))+R(t.charCodeAt(6));return new A(new C(e,n,r,1))}if(9===e){const e=16*R(t.charCodeAt(1))+R(t.charCodeAt(2)),n=16*R(t.charCodeAt(3))+R(t.charCodeAt(4)),r=16*R(t.charCodeAt(5))+R(t.charCodeAt(6)),i=16*R(t.charCodeAt(7))+R(t.charCodeAt(8));return new A(new C(e,n,r,i/255))}if(4===e){const e=R(t.charCodeAt(1)),n=R(t.charCodeAt(2)),r=R(t.charCodeAt(3));return new A(new C(16*e+e,16*n+n,16*r+r))}if(5===e){const e=R(t.charCodeAt(1)),n=R(t.charCodeAt(2)),r=R(t.charCodeAt(3)),i=R(t.charCodeAt(4));return new A(new C(16*e+e,16*n+n,16*r+r,(16*i+i)/255))}return null}function R(t){switch(t){case w.Digit0:return 0;case w.Digit1:return 1;case w.Digit2:return 2;case w.Digit3:return 3;case w.Digit4:return 4;case w.Digit5:return 5;case w.Digit6:return 6;case w.Digit7:return 7;case w.Digit8:return 8;case w.Digit9:return 9;case w.a:case w.A:return 10;case w.b:case w.B:return 11;case w.c:case w.C:return 12;case w.d:case w.D:return 13;case w.e:case w.E:return 14;case w.f:case w.F:return 15}return 0}const E=class{constructor(){this._disposed=!1}get event(){return null==this._event&&(this._event=(t,e,n)=>{null==this.listeners&&(this.listeners=new z);const r=this.listeners.push(null==e?t:[t,e]),i={dispose:()=>{i.dispose=E._noop,this._disposed||r()}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(t){if(null!=this.listeners){null==this._deliveryQueue&&(this._deliveryQueue=new z);for(let e=this.listeners.iterator(),n=e.next();!n.done;n=e.next())this._deliveryQueue.push([n.value,t]);for(;this._deliveryQueue.size>0;){const[t,e]=this._deliveryQueue.shift();try{"function"==typeof t?t(e):t[0].call(t[1],e)}catch(t){}}}}dispose(){this.listeners?.clear(),this._deliveryQueue?.clear(),this._disposed=!0}};let q=E;q._noop=function(){};const U={done:!0,value:void 0},j=class{constructor(t){this.element=t,this.next=j.Undefined,this.prev=j.Undefined}};let F=j;F.Undefined=new j(void 0);class z{constructor(){this._first=F.Undefined,this._last=F.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===F.Undefined}clear(){this._first=F.Undefined,this._last=F.Undefined,this._size=0}unshift(t){return this._insert(t,!1)}push(t){return this._insert(t,!0)}_insert(t,e){const n=new F(t);if(this._first===F.Undefined)this._first=n,this._last=n;else if(e){const t=this._last;this._last=n,n.prev=t,t.next=n}else{const t=this._first;this._first=n,n.next=t,t.prev=n}this._size+=1;let r=!1;return()=>{r||(r=!0,this._remove(n))}}shift(){if(this._first===F.Undefined)return;const t=this._first.element;return this._remove(this._first),t}pop(){if(this._last===F.Undefined)return;const t=this._last.element;return this._remove(this._last),t}_remove(t){if(t.prev!==F.Undefined&&t.next!==F.Undefined){const e=t.prev;e.next=t.next,t.next.prev=e}else t.prev===F.Undefined&&t.next===F.Undefined?(this._first=F.Undefined,this._last=F.Undefined):t.next===F.Undefined?(this._last=this._last.prev,this._last.next=F.Undefined):t.prev===F.Undefined&&(this._first=this._first.next,this._first.prev=F.Undefined);this._size-=1}iterator(){let t,e=this._first;return{next:function(){return e===F.Undefined?U:(null==t?t={done:!1,value:e.element}:t.value=e.element,e=e.next,t)}}}toArray(){const t=[];for(let e=this._first;e!==F.Undefined;e=e.next)t.push(e.element);return t}}const H=new q,N=H.event;let W=0;function Y(){return 1073741824===W?W=1:W++,`webview:${W}`}class G{constructor(t){this.appName=t,this.state=window.bootstrap,window.bootstrap=void 0,m.configure({name:t,createChannel:function(t){return{name:t,appendLine:function(t){}}}},p.Off),this.log("ctor()"),this._api=acquireVsCodeApi();const e=[];null!=this.onThemeUpdated&&e.push(N(this.onThemeUpdated,this)),e.push(function(){const t=t=>{const e=document.body,n=window.getComputedStyle(e),r=e.classList.contains("vscode-light")||e.classList.contains("vscode-high-contrast-light"),i=e.classList.contains("vscode-high-contrast")||e.classList.contains("vscode-high-contrast-light"),s=e.style;s.setProperty("--font-family",n.getPropertyValue("--vscode-font-family").trim()),s.setProperty("--font-size",n.getPropertyValue("--vscode-font-size").trim()),s.setProperty("--font-weight",n.getPropertyValue("--vscode-font-weight").trim()),s.setProperty("--editor-font-family",n.getPropertyValue("--vscode-editor-font-family").trim()),s.setProperty("--editor-font-size",n.getPropertyValue("--vscode-editor-font-size").trim()),s.setProperty("--editor-font-weight",n.getPropertyValue("--vscode-editor-font-weight").trim());const o=n.getPropertyValue("--vscode-editor-background").trim();let a=n.getPropertyValue("--vscode-editor-foreground").trim();a||(a=n.getPropertyValue("--vscode-foreground").trim());let l=o;s.setProperty("--color-background",l),s.setProperty("--color-background--lighten-05",P(l,5)),s.setProperty("--color-background--darken-05",_(l,5)),s.setProperty("--color-background--lighten-075",P(l,7.5)),s.setProperty("--color-background--darken-075",_(l,7.5)),s.setProperty("--color-background--lighten-10",P(l,10)),s.setProperty("--color-background--darken-10",_(l,10)),s.setProperty("--color-background--lighten-15",P(l,15)),s.setProperty("--color-background--darken-15",_(l,15)),s.setProperty("--color-background--lighten-30",P(l,30)),s.setProperty("--color-background--darken-30",_(l,30)),s.setProperty("--color-background--lighten-50",P(l,50)),s.setProperty("--color-background--darken-50",_(l,50)),l=n.getPropertyValue("--vscode-button-background").trim(),s.setProperty("--color-button-background",l),s.setProperty("--color-button-background--darken-30",_(l,30)),s.setProperty("--color-highlight",l),s.setProperty("--color-highlight--75",S(l,75)),s.setProperty("--color-highlight--50",S(l,50)),s.setProperty("--color-highlight--25",S(l,25)),l=n.getPropertyValue("--vscode-button-secondaryBackground").trim(),s.setProperty("--color-button-secondary-background",l),s.setProperty("--color-button-secondary-background--darken-30",_(l,30)),l=n.getPropertyValue("--vscode-button-foreground").trim(),s.setProperty("--color-button-foreground",l),s.setProperty("--color-foreground",a),s.setProperty("--color-foreground--85",S(a,85)),s.setProperty("--color-foreground--75",S(a,75)),s.setProperty("--color-foreground--65",S(a,65)),s.setProperty("--color-foreground--50",S(a,50)),l=n.getPropertyValue("--vscode-focusBorder").trim(),s.setProperty("--color-focus-border",l),l=n.getPropertyValue("--vscode-textLink-foreground").trim(),s.setProperty("--color-link-foreground",l),s.setProperty("--color-link-foreground--darken-20",_(l,20)),s.setProperty("--color-link-foreground--lighten-20",P(l,20)),l=n.getPropertyValue("--vscode-sideBar-background").trim(),s.setProperty("--color-view-background",l||o),l=n.getPropertyValue("--vscode-sideBar-foreground").trim(),s.setProperty("--color-view-foreground",l||a),s.setProperty("--color-view-header-foreground",n.getPropertyValue("--vscode-sideBarSectionHeader-foreground").trim()||l||a),l=n.getPropertyValue("--vscode-editorHoverWidget-background").trim(),s.setProperty("--color-hover-background",l),l=n.getPropertyValue("--vscode-editorHoverWidget-border").trim(),s.setProperty("--color-hover-border",l),l=n.getPropertyValue("--vscode-editorHoverWidget-foreground").trim(),s.setProperty("--color-hover-foreground",l),l=n.getPropertyValue("--vscode-editorHoverWidget-statusBarBackground").trim(),s.setProperty("--color-hover-statusBarBackground",l),l=n.getPropertyValue("--vscode-inputValidation-infoBackground").trim(),s.setProperty("--color-alert-infoHoverBackground",r?_(l,5):P(l,5)),s.setProperty("--color-alert-infoBackground",l),l=n.getPropertyValue("--vscode-inputValidation-warningBackground").trim(),s.setProperty("--color-alert-warningHoverBackground",r?_(l,5):P(l,5)),s.setProperty("--color-alert-warningBackground",l),l=n.getPropertyValue("--vscode-inputValidation-errorBackground").trim(),s.setProperty("--color-alert-errorHoverBackground",r?_(l,5):P(l,5)),s.setProperty("--color-alert-errorBackground",l),l=r?_(o,5):P(o,5),s.setProperty("--color-alert-neutralHoverBackground",r?_(l,5):P(l,5)),s.setProperty("--color-alert-neutralBackground",l),s.setProperty("--color-alert-infoBorder","var(--vscode-inputValidation-infoBorder)"),s.setProperty("--color-alert-warningBorder","var(--vscode-inputValidation-warningBorder)"),s.setProperty("--color-alert-errorBorder","var(--vscode-inputValidation-errorBorder)"),s.setProperty("--color-alert-neutralBorder","var(--vscode-input-foreground)"),s.setProperty("--color-alert-foreground","var(--vscode-input-foreground)"),H.fire({colors:{background:o,foreground:a},computedStyle:n,isLightTheme:r,isHighContrastTheme:i,isInitializing:null==t})};t();const e=new MutationObserver(t);return e.observe(document.body,{attributeFilter:["class"]}),{dispose:()=>e.disconnect()}}()),requestAnimationFrame((()=>{this.log("ctor(): initializing...");try{this.onInitialize?.(),this.bind(),null!=this.onMessageReceived&&e.push(v.on(window,"message",this.onMessageReceived.bind(this))),this.sendCommand(o,void 0),this.onInitialized?.()}finally{document.body.classList.contains("preload")&&setTimeout((()=>{document.body.classList.remove("preload")}),500)}})),e.push(v.on(window,"pagehide",(()=>{e?.forEach((t=>t.dispose())),this.bindDisposables?.forEach((t=>t.dispose())),this.bindDisposables=void 0})))}bind(){this.bindDisposables?.forEach((t=>t.dispose())),this.bindDisposables=this.onBind?.(),null==this.bindDisposables&&(this.bindDisposables=[]);const t=g((t=>{this.sendCommand(a,t)}),150);this.bindDisposables.push(v.on(document,"focusin",(e=>{const n=e.composedPath().some((t=>"INPUT"===t.tagName));!0===this._focused&&this._inputFocused===n||(this._focused=!0,this._inputFocused=n,t({focused:!0,inputFocused:n}))})),v.on(document,"focusout",(()=>{!1===this._focused&&!1===this._inputFocused||(this._focused=!1,this._inputFocused=!1,t({focused:!1,inputFocused:!1}))})))}log(t,...e){m.log(t,...e)}getState(){return this._api.getState()}sendCommand(t,e){const n=Y();this.log(`sendCommand(${n}): name=${t.method}`),this.postMessage({id:n,method:t.method,params:e})}async sendCommandWithCompletion(t,e,n){const r=Y();this.log(`sendCommandWithCompletion(${r}): name=${t.method}`);const i=new Promise(((t,e)=>{let i;const o=[v.on(window,"message",(e=>{s(n,e.data,(n=>{e.data.completionId===r&&(o.forEach((t=>t.dispose())),queueMicrotask((()=>t(n))))}))})),{dispose:function(){null!=i&&(clearTimeout(i),i=void 0)}}];i=setTimeout((()=>{i=void 0,o.forEach((t=>t.dispose())),e(new Error(`Timed out waiting for completion of ${n.method}`))}),6e4)}));return this.postMessage({id:r,method:t.method,params:e,completionId:r}),i}setState(t){this.state=t,null!=t&&this._api.setState(t)}postMessage(t){this._api.postMessage(t)}}const Z=/(?<literal>\[.*?\])|(?<year>YYYY|YY)|(?<month>M{1,4})|(?<day>Do|DD?)|(?<weekday>d{2,4})|(?<hour>HH?|hh?)|(?<minute>mm?)|(?<second>ss?)|(?<fractionalSecond>SSS)|(?<dayPeriod>A|a)|(?<timeZoneName>ZZ?)/g,Q=/(?<dateStyle>full|long|medium|short)(?:\+(?<timeStyle>full|long|medium|short))?/;let J;const K=new Map;let X,tt,et;const nt=new Map;function rt(t,e,n,r=!0){const i=`${n??""}:${e=e??void 0}`;let s=K.get(i);if(null==s){const t=function(t){if(null==t)return{localeMatcher:"best fit",dateStyle:"full",timeStyle:"short"};const e=Q.exec(t);if(null!=e?.groups){const{dateStyle:t,timeStyle:n}=e.groups;return{localeMatcher:"best fit",dateStyle:t||"full",timeStyle:n||void 0}}const n={localeMatcher:"best fit"};for(const{groups:e}of t.matchAll(Z))if(null!=e)for(const t in e){const r=e[t];if(null!=r)switch(t){case"year":n.year=4===r.length?"numeric":"2-digit";break;case"month":switch(r.length){case 4:n.month="long";break;case 3:n.month="short";break;case 2:n.month="2-digit";break;case 1:n.month="numeric"}break;case"day":n.day="DD"===r?"2-digit":"numeric";break;case"weekday":switch(r.length){case 4:n.weekday="long";break;case 3:n.weekday="short";break;case 2:n.weekday="narrow"}break;case"hour":n.hour=2===r.length?"2-digit":"numeric",n.hour12="hh"===r||"h"===r;break;case"minute":n.minute=2===r.length?"2-digit":"numeric";break;case"second":n.second=2===r.length?"2-digit":"numeric";break;case"fractionalSecond":n.fractionalSecondDigits=3;break;case"dayPeriod":n.dayPeriod="narrow",n.hour12=!0,n.hourCycle="h12";break;case"timeZoneName":n.timeZoneName=2===r.length?"long":"short"}}return n}(e);let o;o=null==n?X:"system"===n?void 0:[n],s=new Intl.DateTimeFormat(o,t),r&&K.set(i,s)}if(null==e||Q.test(e))return s.format(t);function o(t){const e=`${n??""}:time:${t}`;let i=K.get(e);if(null==i){const s={localeMatcher:"best fit",timeStyle:t};let o;o=null==n?X:"system"===n?void 0:[n],i=new Intl.DateTimeFormat(o,s),r&&K.set(e,i)}return i}const a=s.formatToParts(t);return e.replace(Z,((e,n,r,i,s,l,u,c,d,h,g,p,f,m,b)=>{if(null!=n)return n.substring(1,n.length-1);for(const e in b){const n=b[e];if(null==n)continue;const r=a.find((t=>t.type===e));if("Do"===n&&"day"===r?.type)return st(Number(r.value));if("a"===n&&"dayPeriod"===r?.type){const e=o("short").formatToParts(t).find((t=>"dayPeriod"===t.type));return` ${(e??r)?.value??""}`}return r?.value??""}return""}))}const it=["th","st","nd","rd"];function st(t){const e=t%100;return`${t}${it[(e-20)%10]??it[e]??it[0]}`}const ot=(new Date).getTimezoneOffset()/60*100,at=new Date(`Wed Jul 25 2018 19:18:00 GMT${ot>=0?"-":"+"}${String(Math.abs(ot)).padStart(4,"0")}`);class lt extends G{constructor(){super(...arguments),this._changes=Object.create(null),this._updating=!1}onInitialized(){this.updateState()}onBind(){const t=super.onBind?.()??[];return t.push(v.on("input[type=checkbox][data-setting]","change",((t,e)=>this.onInputChecked(e))),v.on("input[type=text][data-setting], input[type=number][data-setting], input:not([type])[data-setting]","blur",((t,e)=>this.onInputBlurred(e))),v.on("input[type=text][data-setting], input[type=number][data-setting], input:not([type])[data-setting]","focus",((t,e)=>this.onInputFocused(e))),v.on("input[type=text][data-setting][data-setting-preview], input[type=number][data-setting][data-setting-preview]","input",((t,e)=>this.onInputChanged(e))),v.on("button[data-setting-clear]","click",((t,e)=>this.onButtonClicked(e))),v.on("select[data-setting]","change",((t,e)=>this.onInputSelected(e))),v.on(".token[data-token]","mousedown",((t,e)=>this.onTokenMouseDown(e,t)))),t}onMessageReceived(t){const e=t.data;switch(this.log(`onMessageReceived(${e.id}): name=${e.method}`),e.method){case h.method:s(h,e,(t=>{this.scrollToAnchor(t.anchor,t.scrollBehavior)}));break;case c.method:s(c,e,(t=>{this.state.config=t.config,this.state.customSettings=t.customSettings,this.updateState()}));break;default:super.onMessageReceived?.(t)}}applyChanges(){this.sendCommand(u,{changes:{...this._changes},removes:Object.keys(this._changes).filter((t=>void 0===this._changes[t])),scope:this.getSettingsScope()}),this._changes=Object.create(null)}getSettingsScope(){return"user"}onInputBlurred(t){this.log(`onInputBlurred(${t.name}): value=${t.value})`);const e=document.getElementById(`${t.name}.popup`);null!=e&&e.classList.add("hidden");let n=t.value;if(null!=n&&0!==n.length||(n=t.dataset.defaultValue,void 0===n&&(n=null)),"arrayObject"===t.dataset.settingType){const e=t.name.split("."),r=e[0],i=parseInt(e[1],10),s=e.slice(2);let o=this.getSettingValue(r);if(null!=n||void 0!==o&&0!==o?.length){o=o??[];let e=o[i];(null!=n||null==n&&void 0!==e)&&(void 0===e&&(e=Object.create(null),o[i]=e),ct(e,s.join("."),"number"===t.type&&null!=n?Number(n):n),this._changes[r]=o)}else void 0!==o&&(this._changes[r]=void 0)}else this._changes[t.name]="number"===t.type&&null!=n?Number(n):n;this.applyChanges()}onButtonClicked(t){if("arrayObject"===t.dataset.settingType){const e=t.name.split("."),n=e[0],r=this.getSettingValue(n);if(void 0===r)return;const i=parseInt(e[1],10);if(null==r[i])return;r.splice(i,1),this._changes[n]=r.length?r:void 0,this.applyChanges()}}onInputChanged(t){if(!this._updating)for(const e of document.querySelectorAll(`span[data-setting-preview="${t.name}"]`))this.updatePreview(e,t.value)}onInputChecked(t){if(!this._updating){switch(this.log(`onInputChecked(${t.name}): checked=${t.checked}, value=${t.value})`),t.dataset.settingType){case"object":{const e=t.name.split("."),n=e.splice(0,1)[0],r=this.getSettingValue(n)??Object.create(null);t.checked?ct(r,e.join("."),gt(t.value)):ct(r,e.join("."),!1),this._changes[n]=r;break}case"array":{const e=this.getSettingValue(t.name)??[];if(Array.isArray(e)){if(t.checked)e.includes(t.value)||e.push(t.value);else{const n=e.indexOf(t.value);-1!==n&&e.splice(n,1)}this._changes[t.name]=e}break}case"arrayObject":{const e=t.name.split("."),n=e[0],r=parseInt(e[1],10),i=e.slice(2),s=this.getSettingValue(n)??[],o=s[r]??Object.create(null);void 0===s[r]&&(s[r]=o),t.checked?ct(s[r],i.join("."),gt(t.value)):ct(s[r],i.join("."),!1),this._changes[n]=s;break}case"custom":this._changes[t.name]=t.checked;break;default:t.checked?this._changes[t.name]=gt(t.value):this._changes[t.name]=null!=t.dataset.valueOff&&t.dataset.valueOff}this.setAdditionalSettings(t.checked?t.dataset.addSettingsOn:t.dataset.addSettingsOff),this.applyChanges()}}onInputFocused(t){this.log(`onInputFocused(${t.name}): value=${t.value}`);const e=document.getElementById(`${t.name}.popup`);if(null!=e){if(0===e.childElementCount){const t=document.querySelector("#token-popup")?.content.cloneNode(!0);null!=t&&e.appendChild(t)}e.classList.remove("hidden")}}onInputSelected(t){if(this._updating)return;const e=t.options[t.selectedIndex].value;this.log(`onInputSelected(${t.name}): value=${e}`),this._changes[t.name]=ut(e),this.applyChanges()}onTokenMouseDown(t,e){if(this._updating)return;this.log(`onTokenMouseDown(${t.id})`);const n=t.closest(".setting");if(null==n)return;const r=n.querySelector("input[type=text], input:not([type])");if(null==r)return;const i=`\${${t.dataset.token}}`;let s=r.selectionStart;null!=s?(r.value=`${r.value.substring(0,s)}${i}${r.value.substr(r.selectionEnd??s)}`,s+=i.length):s=r.value.length,r.focus(),r.setSelectionRange(s,s),s===r.value.length&&(r.scrollLeft=r.scrollWidth),setTimeout((()=>this.onInputChanged(r)),0),setTimeout((()=>r.focus()),250),e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault()}scrollToAnchor(t,e,n){const r=document.getElementById(t);null!=r&&this.scrollTo(r,e,n)}scrollTo(t,e,n){const r=t.getBoundingClientRect().top-document.body.getBoundingClientRect().top-(n??0);window.scrollTo({top:r,behavior:e??"smooth"});const i=()=>{null!=this._scrollTimer&&clearTimeout(this._scrollTimer),this._scrollTimer=setTimeout((()=>{window.removeEventListener("scroll",i);const s=t.getBoundingClientRect().top-document.body.getBoundingClientRect().top-(n??0);Math.abs(r-s)<2||this.scrollTo(t,e,n)}),50)};window.addEventListener("scroll",i,!1)}evaluateStateExpression(t,e){let n=!1;for(const r of t.trim().split("&")){const[t,i,s]=dt(r);switch(i){case"=":{let r=e[t];void 0===r&&(r=this.getSettingValue(t)??!1),n=void 0!==s?s===String(r):Boolean(r);break}case"!":{let r=e[t];void 0===r&&(r=this.getSettingValue(t)??!1),n=void 0!==s?s!==String(r):!r;break}case"+":if(void 0!==s){const e=this.getSettingValue(t);n=void 0!==e&&e.includes(s.toString())}}if(!n)break}return n}getCustomSettingValue(t){return this.state.customSettings?.[t]}getSettingValue(t){const e=this.getCustomSettingValue(t);return null!=e?e:function(t,e){return e.split(".").reduce(((t={},e)=>null==t?void 0:t[e]),t)}(this.state.config,t)}updateState(){var t;this.beforeUpdateState?.(),this._updating=!0,t=this.state.config.defaultDateLocale,X="string"==typeof t?"system"===t?void 0:[t]:t??void 0,tt=void 0,et=void 0,K.clear(),nt.clear(),J=void 0;try{for(const t of document.querySelectorAll("input[type=checkbox][data-setting]"))if("custom"===t.dataset.settingType)t.checked=this.getCustomSettingValue(t.name)??!1;else if("array"===t.dataset.settingType)t.checked=(this.getSettingValue(t.name)??[]).includes(t.value);else if(null!=t.dataset.valueOff){const e=this.getSettingValue(t.name);t.checked=t.dataset.valueOff!==e}else t.checked=this.getSettingValue(t.name)??!1;for(const t of document.querySelectorAll("input[type=text][data-setting], input[type=number][data-setting], input:not([type])[data-setting]"))t.value=this.getSettingValue(t.name)??"";for(const t of document.querySelectorAll("select[data-setting]")){const e=this.getSettingValue(t.name),n=t.querySelector(`option[value='${e}']`);null!=n&&(n.selected=!0)}for(const t of document.querySelectorAll("span[data-setting-preview]"))this.updatePreview(t)}finally{this._updating=!1}const e=ht(this.state.config);if(null!=this.state.customSettings)for(const[t,n]of Object.entries(this.state.customSettings))e[t]=n;this.setVisibility(e),this.setEnablement(e)}setAdditionalSettings(t){if(!t)return;const e=function(t){const e=t.trim().split(",");return e.map((t=>{const[e,n]=t.split("=");return[e,ut(n)]}))}(t);for(const[t,n]of e)this._changes[t]=n}setEnablement(t){for(const e of document.querySelectorAll("[data-enablement]")){const n=!this.evaluateStateExpression(e.dataset.enablement,t);if(n?e.setAttribute("disabled",""):e.removeAttribute("disabled"),e.matches("input,select"))e.disabled=n;else{const t=e.querySelector("input,select");if(null==t)continue;t.disabled=n}}}setVisibility(t){for(const e of document.querySelectorAll("[data-visibility]"))e.classList.toggle("hidden",!this.evaluateStateExpression(e.dataset.visibility,t))}updatePreview(t,e){const n=t.dataset.settingPreviewType;switch(n){case"date":if(void 0===e&&(e=this.getSettingValue(t.dataset.settingPreview)),!e&&null==(e=t.dataset.settingPreviewDefault)){const n=t.dataset.settingPreviewDefaultLookup;null!=n&&(e=this.getSettingValue(n))}t.innerText=null==e?"":rt(at,e,void 0,!1);break;case"date-locale":{void 0===e&&(e=this.getSettingValue(t.dataset.settingPreview)),e||(e=void 0);const n=this.getSettingValue(t.dataset.settingPreviewDefault)??"MMMM Do, YYYY h:mma";try{t.innerText=rt(at,n,e,!1)}catch(e){t.innerText=e.message}break}case"commit":case"commit-uncommitted":if(void 0===e&&(e=this.getSettingValue(t.dataset.settingPreview)),!e&&null==(e=t.dataset.settingPreviewDefault)){const n=t.dataset.settingPreviewDefaultLookup;null!=n&&(e=this.getSettingValue(n))}if(null==e)return void(t.innerText="");this.sendCommandWithCompletion(l,{key:t.dataset.settingPreview,type:n,format:e},d).then((e=>{t.innerText=e.preview??""}))}}}function ut(t){return"true"===t||"false"!==t&&("null"===t?null:t)}function ct(t,e,n){const r=e.split("."),i=r.length,s=i-1;let o=-1,a=t;for(;null!=a&&++o<i;){const t=r[o];let e=n;if(o!==s){const n=a[t];e="object"==typeof n?n:{}}a[t]=e,a=a[t]}return t}function dt(t){const[e,n,r]=t.trim().split(/([=+!])/);return[e.trim(),void 0!==n?n.trim():"=",void 0!==r?r.trim():r]}function ht(t,e){const n={};for(const r in t){const i=t[r];Array.isArray(i)||("object"==typeof i?Object.assign(n,ht(i,void 0===e?r:`${e}.${r}`)):n[void 0===e?r:`${e}.${r}`]=i)}return n}function gt(t){switch(t){case"on":return!0;case"null":return null;case"undefined":return;default:return t}}class pt extends lt{constructor(){super("WelcomeApp")}}new pt;var ft=e.$;export{ft as WelcomeApp};